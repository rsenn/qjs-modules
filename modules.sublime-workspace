{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"JS_VALUE_",
				"JS_VALUE_GET_OBJ"
			],
			[
				"js_io_Read",
				"js_io_readhandler_fn"
			],
			[
				"JS_NewS",
				"JS_NewStringLen"
			],
			[
				"target_link",
				"target_link_directories"
			],
			[
				"JS_Free",
				"JS_FreeCString"
			],
			[
				"brea",
				"breakLength"
			],
			[
				"JS_Get",
				"JS_GetArrayBuffer"
			],
			[
				"JS_",
				"JS_ThrowTypeError"
			],
			[
				"WIF",
				"WIFSIGNALED"
			],
			[
				"JS_VALUE",
				"JS_VALUE_GET_PTR"
			],
			[
				"JS_NewObj",
				"JS_NewObjectProtoClass"
			],
			[
				"JS_Throw",
				"JS_ThrowOutOfMemory"
			],
			[
				"JS_Set",
				"JS_SetPropertyStr"
			],
			[
				"module_",
				"module_func"
			],
			[
				"initiali",
				"initialization"
			],
			[
				"qjsm_sock",
				"qjsm_socklen_t_size"
			],
			[
				"getCas",
				"getClassConstructor"
			],
			[
				"JS_GetP",
				"JS_GetPropertyUint32"
			],
			[
				"js_syscall",
				"js_syscallerror_proto_funcs"
			],
			[
				"syscal",
				"syscallerror_proto"
			],
			[
				"JS_SetProper",
				"JS_SetPropertyStr"
			],
			[
				"JS_SetP",
				"JS_SetPropertyUint32"
			],
			[
				"JS_CGET",
				"JS_CGETSET_ENUMERABLE_DEF"
			],
			[
				"sys",
				"syscallerror_ctor"
			],
			[
				"js_sys",
				"js_syscallerror_get"
			],
			[
				"JS_Th",
				"JS_ThrowOutOfMemory"
			],
			[
				"Sys",
				"SyscallError"
			],
			[
				"JS_CGETSET",
				"JS_CGETSET_MAGIC_DEF"
			],
			[
				"JS_T",
				"JS_ThrowTypeError"
			],
			[
				"JS_Thro",
				"JS_ThrowOutOfMemory"
			],
			[
				"js_",
				"js_sockaddr_class_id"
			],
			[
				"STRING",
				"STRINGDECODER_ENCODING"
			],
			[
				"STRINGDECODER_EN",
				"STRINGDECODER_ENCODING"
			],
			[
				"STRINGDE",
				"STRINGDECODER_END"
			],
			[
				"JS_New",
				"JS_NewStringLen"
			],
			[
				"ringbuffer_",
				"ringbuffer_continuous_length"
			],
			[
				"string",
				"stringdecoder_proto"
			],
			[
				"get",
				"getOwnPropertyNames"
			],
			[
				"JS_Thr",
				"JS_ThrowInternalError"
			],
			[
				"ringbuffer_res",
				"ringbuffer_resize"
			],
			[
				"ringb",
				"ringbuffer_normalize"
			],
			[
				"ringbuffer",
				"ringbuffer_length"
			],
			[
				"ring",
				"ringbuffer_full"
			],
			[
				"STRINGDEC",
				"STRINGDECODER_END"
			],
			[
				"Ar",
				"ArchiveEntryRef"
			],
			[
				"js_archive",
				"js_archiveentry_data"
			],
			[
				"ARC",
				"ARCHIVE_METHOD_READ"
			],
			[
				"CMAKE_CURREN",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"getCommand",
				"getCommandExecutable"
			],
			[
				"SYS",
				"SYSCALLERROR_ERRNO"
			],
			[
				"SYSCALL",
				"SYSCALLERROR_SYSCALL"
			],
			[
				"FUNC_",
				"FUNC_GETUID"
			],
			[
				"predi",
				"predicates"
			],
			[
				"int64_t",
				"uint64_t"
			],
			[
				"PRECEDENCE_LOG",
				"PRECEDENCE_LOGICAL_NOT"
			],
			[
				"js_is",
				"js_is_null_or_undefined"
			],
			[
				"js_set_to",
				"js_set_tostringtag_value"
			],
			[
				"Predicate",
				"PredicateOperatorSet"
			],
			[
				"Predi",
				"PredicateOperatorSet"
			],
			[
				"JS_P",
				"JS_PROP_CONFIGURABLE"
			],
			[
				"operat",
				"operators_set"
			],
			[
				"JS_SetProp",
				"JS_SetPropertyUint32"
			],
			[
				"break",
				"stringBreakNewline"
			],
			[
				"define",
				"defineProperty"
			],
			[
				"Event",
				"EventEmitter"
			],
			[
				"sy",
				"syntaxerror_ctor"
			],
			[
				"child_pr",
				"child_process_proto"
			],
			[
				"targtet_",
				"target_compile_definitions"
			],
			[
				"jsm_module",
				"jsm_module_loader_so"
			],
			[
				"base",
				"base_name"
			],
			[
				"ATOM",
				"ATOM_TO_VALUE"
			],
			[
				"prop",
				"propenum_tab"
			],
			[
				"js_loca",
				"js_location_data"
			],
			[
				"loca",
				"location_proto"
			],
			[
				"HAVE_QUI",
				"HAVE_QUICKJS_LIBRARY"
			],
			[
				"jsm_load",
				"jsm_load_packages_json"
			],
			[
				"js_sy",
				"js_syntaxerror_class_id"
			],
			[
				"synta",
				"syntaxerror_proto"
			],
			[
				"property_",
				"property_enumeration_key"
			],
			[
				"jsm_mo",
				"jsm_module_loader_path"
			],
			[
				"inspe",
				"inspect_custom_node"
			],
			[
				"inspect",
				"inspect_custom_node"
			],
			[
				"property",
				"property_enumeration_circular"
			],
			[
				"Reg",
				"RegExpCompare"
			],
			[
				"property_enum",
				"property_enumeration_length"
			],
			[
				"Opera",
				"OperatorsObjects"
			],
			[
				"else",
				"elseif"
			],
			[
				"ABC",
				"ABCDEF"
			]
		]
	},
	"buffers":
	[
		{
			"contents": "  â’¡  inet_pton ( ) ; â€” function declaration\n  â’¡  inet_ntop ( ) ; â€” function declaration\n  â’¡  socketpair ( ) ; â€” function declaration\n  â’¡  js_sockets_init ( ) ; â€” function declaration\n  â’¡  js_socket_async_wait ( ) ; â€” function declaration\nâ€”â“‚â€“ JS_SOCKETCALL ( ) â€¦ â€” macro function\nâ€”â“‚â€“ JS_SOCKETCALL_FAIL ( ) â€¦ â€” macro function\nâ€”â“‚â€“ JS_SOCKETCALL_RETURN ( ) â€¦ â€” macro function\nâ€”â’»â€“ syscall_return ( ) { â€¦ } â€” function\nâ€”â’»â€“ sockaddr_new ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_free_buffer ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_wrap ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_new ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_init ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_constructor ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_method ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_get ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_set ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_inspect ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockaddr_finalizer ( ) { â€¦ } â€” function\nâ€”â’»â€“ timeval_read ( ) { â€¦ } â€” function\nâ€”â’»â€“ timeval_write ( ) { â€¦ } â€” function\nâ€”â’»â€“ fdset_read ( ) { â€¦ } â€” function\nâ€”â’»â€“ fdset_write ( ) { â€¦ } â€” function\nâ€”â’»â€“ fdset_toarray ( ) { â€¦ } â€” function\nâ€”â’»â€“ pollfd_read ( ) { â€¦ } â€” function\nâ€”â’»â€“ pollfd_write ( ) { â€¦ } â€” function\nâ€”â’»â€“ optval_buf ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socketpair ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_select ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_poll ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_new_proto ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_new ( ) { â€¦ } â€” function\nâ€”â’¸â€“ SocketProperties { â€¦ } ; â€” type\nâ€”â’»â€“ js_socket_get ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_set ( ) { â€¦ } â€” function\nâ€”â’¸â€“ SocketMethods { â€¦ } ; â€” type\nâ€”â’»â€“ js_socket_method ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_constructor ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_inspect ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_valueof ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_async_resolve ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_async_wait ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_adopt ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_socket_finalizer ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockopt ( ) { â€¦ } â€” function\nâ€”â’»â€“ js_sockets_init ( ) { â€¦ } â€” function\n  â“‚  JS_INIT_MODULE â€¦ â€” macro object\n  â“‚  JS_INIT_MODULE â€¦ â€” macro object",
			"settings":
			{
				"buffer_size": 2071,
				"line_ending": "Unix",
				"name": "ğŒ† Outline",
				"scratch": true
			},
			"undo_stack":
			[
				[
					37,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								7040,
								7065
							],
							[
								8631,
								8645
							],
							[
								9753,
								9769
							],
							[
								10839,
								10868
							],
							[
								11107,
								11123
							],
							[
								12004,
								12020
							],
							[
								13123,
								13148
							],
							[
								13592,
								13606
							],
							[
								14740,
								14755
							],
							[
								15241,
								15254
							],
							[
								15855,
								15867
							],
							[
								16273,
								16285
							],
							[
								16700,
								16715
							],
							[
								17796,
								17816
							],
							[
								18155,
								18174
							],
							[
								18393,
								18405
							],
							[
								20531,
								20548
							],
							[
								21146,
								21164
							],
							[
								22376,
								22396
							],
							[
								22857,
								22878
							],
							[
								23352,
								23367
							],
							[
								23860,
								23880
							],
							[
								24339,
								24351
							],
							[
								25070,
								25085
							],
							[
								26584,
								26609
							],
							[
								27148,
								27173
							],
							[
								28425,
								28439
							],
							[
								29352,
								29366
							],
							[
								29725,
								29738
							],
							[
								32117,
								32130
							],
							[
								33037,
								33047
							],
							[
								41617,
								41629
							],
							[
								42159,
								42173
							],
							[
								42203,
								42217
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAABkCAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					38,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					39,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								7061,
								7086
							],
							[
								8652,
								8666
							],
							[
								9774,
								9790
							],
							[
								10860,
								10889
							],
							[
								11128,
								11144
							],
							[
								12025,
								12041
							],
							[
								13144,
								13169
							],
							[
								13613,
								13627
							],
							[
								14761,
								14776
							],
							[
								15262,
								15275
							],
							[
								15876,
								15888
							],
							[
								16294,
								16306
							],
							[
								16721,
								16736
							],
							[
								17817,
								17837
							],
							[
								18176,
								18195
							],
							[
								18414,
								18426
							],
							[
								20552,
								20569
							],
							[
								21167,
								21185
							],
							[
								22397,
								22417
							],
							[
								22878,
								22899
							],
							[
								23373,
								23388
							],
							[
								23881,
								23901
							],
							[
								24360,
								24372
							],
							[
								25091,
								25106
							],
							[
								26605,
								26630
							],
							[
								27169,
								27194
							],
							[
								28446,
								28460
							],
							[
								29373,
								29387
							],
							[
								29746,
								29759
							],
							[
								32138,
								32151
							],
							[
								33058,
								33068
							],
							[
								41638,
								41650
							],
							[
								42180,
								42194
							],
							[
								42224,
								42238
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAZAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					40,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					41,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								7061,
								7086
							],
							[
								8652,
								8666
							],
							[
								9774,
								9790
							],
							[
								10860,
								10889
							],
							[
								11128,
								11144
							],
							[
								12025,
								12041
							],
							[
								13144,
								13169
							],
							[
								13613,
								13627
							],
							[
								14761,
								14776
							],
							[
								15262,
								15275
							],
							[
								15876,
								15888
							],
							[
								16294,
								16306
							],
							[
								16721,
								16736
							],
							[
								17817,
								17837
							],
							[
								18176,
								18195
							],
							[
								18414,
								18426
							],
							[
								20552,
								20569
							],
							[
								21167,
								21185
							],
							[
								22397,
								22417
							],
							[
								22878,
								22899
							],
							[
								23373,
								23388
							],
							[
								23881,
								23901
							],
							[
								24360,
								24372
							],
							[
								25091,
								25106
							],
							[
								26605,
								26630
							],
							[
								27169,
								27194
							],
							[
								28446,
								28460
							],
							[
								29373,
								29387
							],
							[
								29746,
								29759
							],
							[
								32138,
								32151
							],
							[
								33058,
								33068
							],
							[
								41638,
								41650
							],
							[
								42180,
								42194
							],
							[
								42224,
								42238
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAZAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					42,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					43,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								7061,
								7086
							],
							[
								8652,
								8666
							],
							[
								9774,
								9790
							],
							[
								10860,
								10889
							],
							[
								11128,
								11144
							],
							[
								12025,
								12041
							],
							[
								13144,
								13169
							],
							[
								13613,
								13627
							],
							[
								14761,
								14776
							],
							[
								15262,
								15275
							],
							[
								15876,
								15888
							],
							[
								16294,
								16306
							],
							[
								16721,
								16736
							],
							[
								17817,
								17837
							],
							[
								18176,
								18195
							],
							[
								18414,
								18426
							],
							[
								20552,
								20569
							],
							[
								21167,
								21185
							],
							[
								22397,
								22417
							],
							[
								22878,
								22899
							],
							[
								23373,
								23388
							],
							[
								23881,
								23901
							],
							[
								24360,
								24372
							],
							[
								25091,
								25106
							],
							[
								26605,
								26630
							],
							[
								27169,
								27194
							],
							[
								28446,
								28460
							],
							[
								29373,
								29387
							],
							[
								29746,
								29759
							],
							[
								32138,
								32151
							],
							[
								33058,
								33068
							],
							[
								41638,
								41650
							],
							[
								42180,
								42194
							],
							[
								42224,
								42238
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AwAAAAAAAAAAAAAAZAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQKAAAgIOKSoSAgbWVtbWVtICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgrigJTikrjigJMgcGNnX3N0YXRlX3NldHNlcV82NCB7IOKApiB9IDsg4oCUIHR5cGUKICDik4kgIHBjZzMyX3JhbmRvbV90IDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHBjZzMyX3JhbmRvbV9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGNnMzJfcmFuZG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGNnMzJfaW5pdF9zdGF0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbV9ib3VuZGVkX2RpdmlzaW9ubGVzcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2J5dGVjb2RlX2ZyZWVfZnVuYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3N0cmluZ19mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19hcnJheWJ1ZmZlcl9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3BvaW50ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3RvYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3NsaWNlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yZXNpemVhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY29uY2F0YXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3NlYXJjaGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19tZW1jcHkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZtZW1vcGVuICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXRwZXJmb3JtYW5jZWNvdW50ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Byb2NsaW5rICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cHJvdG90eXBlY2hhaW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2hydGltZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZm5tYXRjaCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdW5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2J0b2EgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2F0b2IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbXBpbGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3dyaXRlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVhZF9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3ZhbHVldHlwZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXZhbGJpbmFyeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX2FycmF5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19vcGNvZGVfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19vcGNvZGVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXRfYnl0ZWNvZGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2F0b20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NsYXNzaWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2JpdGZpZWxkX3RvX2FycmF5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hcnJheV90b19iaXRmaWVsZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmFuZG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19lc2NhcGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3F1b3RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19lcnJvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QAAAAAAAAAAGQIAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					44,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/buffer-utils.c",
						"symkeys":
						[
							[
								77,
								88
							],
							[
								313,
								322
							],
							[
								629,
								642
							],
							[
								928,
								940
							],
							[
								1170,
								1180
							],
							[
								1333,
								1344
							],
							[
								1500,
								1510
							],
							[
								1814,
								1824
							],
							[
								1947,
								1957
							],
							[
								2040,
								2049
							],
							[
								2354,
								2368
							],
							[
								2573,
								2585
							],
							[
								2737,
								2754
							],
							[
								2949,
								2970
							],
							[
								3592,
								3614
							],
							[
								4255,
								4278
							],
							[
								4679,
								4695
							],
							[
								6230,
								6244
							],
							[
								6436,
								6454
							],
							[
								6696,
								6710
							],
							[
								7043,
								7058
							],
							[
								7276,
								7294
							],
							[
								7461,
								7470
							],
							[
								7824,
								7839
							],
							[
								9110,
								9124
							],
							[
								9560,
								9578
							],
							[
								9656,
								9674
							],
							[
								9860,
								9877
							],
							[
								10049,
								10066
							],
							[
								10277,
								10294
							],
							[
								10420,
								10436
							],
							[
								10621,
								10645
							],
							[
								10865,
								10884
							],
							[
								11039,
								11055
							]
						],
						"symlist":
						[
							"â€”â’»â€“â€ƒansi_lengthâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒansi_skipâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒansi_truncateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒarray_searchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒstr_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒbyte_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒbyte_findbâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒbyte_findsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒbyte_equalâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_at_nâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_last_lineâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_prependâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_put_colorstrâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_put_escaped_predâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_put_escaped_tableâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_put_unescaped_predâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_put_escapedâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_put_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_reserve_startâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_token_popâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_token_pushâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_tostring_freeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_loadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_input_bufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_input_charsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_validâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_cloneâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_freeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_peekâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_currentlineâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_columnâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_offset_lengthâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAABwBQAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					45,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								7061,
								7086
							],
							[
								8652,
								8666
							],
							[
								9774,
								9790
							],
							[
								10860,
								10889
							],
							[
								11128,
								11144
							],
							[
								12025,
								12041
							],
							[
								13144,
								13169
							],
							[
								13613,
								13627
							],
							[
								14761,
								14776
							],
							[
								15262,
								15275
							],
							[
								15876,
								15888
							],
							[
								16294,
								16306
							],
							[
								16721,
								16736
							],
							[
								17817,
								17837
							],
							[
								18176,
								18195
							],
							[
								18414,
								18426
							],
							[
								20552,
								20569
							],
							[
								21167,
								21185
							],
							[
								22397,
								22417
							],
							[
								22878,
								22899
							],
							[
								23373,
								23388
							],
							[
								23881,
								23901
							],
							[
								24360,
								24372
							],
							[
								25091,
								25106
							],
							[
								26605,
								26630
							],
							[
								27169,
								27194
							],
							[
								28446,
								28460
							],
							[
								29373,
								29387
							],
							[
								29746,
								29759
							],
							[
								32138,
								32151
							],
							[
								33058,
								33068
							],
							[
								41638,
								41650
							],
							[
								42180,
								42194
							],
							[
								42224,
								42238
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADEBgAA4oCU4pK74oCTIGFuc2lfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYW5zaV9za2lwICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYW5zaV90cnVuY2F0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGFycmF5X3NlYXJjaCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHN0cl9lc2NhcGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBieXRlX2VzY2FwZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJ5dGVfZmluZGIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBieXRlX2ZpbmRzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYnl0ZV9lcXVhbCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRidWZfYXRfbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRidWZfbGFzdF9saW5lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGJ1Zl9wcmVwZW5kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGJ1Zl9wdXRfY29sb3JzdHIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX3B1dF9lc2NhcGVkX3ByZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX3B1dF9lc2NhcGVkX3RhYmxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGJ1Zl9wdXRfdW5lc2NhcGVkX3ByZWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX3B1dF9lc2NhcGVkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgZGJ1Zl9wdXRfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX3Jlc2VydmVfc3RhcnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX3Rva2VuX3BvcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRidWZfdG9rZW5fcHVzaCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRidWZfdG9zdHJpbmdfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGRidWZfbG9hZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2lucHV0X2J1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2lucHV0X2NoYXJzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaW5wdXRfYnVmZmVyX3ZhbGlkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaW5wdXRfYnVmZmVyX2Nsb25lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaW5wdXRfYnVmZmVyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBpbnB1dF9idWZmZXJfZnJlZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9wZWVrICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaW5wdXRfYnVmZmVyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9jdXJyZW50bGluZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9jb2x1bW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19vZmZzZXRfbGVuZ3RoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgAAAAAAAAAAZAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					46,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								7060,
								7085
							],
							[
								8651,
								8665
							],
							[
								9773,
								9789
							],
							[
								10859,
								10888
							],
							[
								11127,
								11143
							],
							[
								12024,
								12040
							],
							[
								13143,
								13168
							],
							[
								13612,
								13626
							],
							[
								14760,
								14775
							],
							[
								15261,
								15274
							],
							[
								15875,
								15887
							],
							[
								16293,
								16305
							],
							[
								16720,
								16735
							],
							[
								17816,
								17836
							],
							[
								18175,
								18194
							],
							[
								18413,
								18425
							],
							[
								20551,
								20568
							],
							[
								21166,
								21184
							],
							[
								22396,
								22416
							],
							[
								22877,
								22898
							],
							[
								23372,
								23387
							],
							[
								23880,
								23900
							],
							[
								24359,
								24371
							],
							[
								25090,
								25105
							],
							[
								26604,
								26629
							],
							[
								27168,
								27193
							],
							[
								28445,
								28459
							],
							[
								29372,
								29386
							],
							[
								29745,
								29758
							],
							[
								32137,
								32150
							],
							[
								33057,
								33067
							],
							[
								41637,
								41649
							],
							[
								42179,
								42193
							],
							[
								42223,
								42237
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAABkCAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					47,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								7053,
								7078
							],
							[
								8644,
								8658
							],
							[
								9766,
								9782
							],
							[
								10852,
								10881
							],
							[
								11120,
								11136
							],
							[
								12017,
								12033
							],
							[
								13136,
								13161
							],
							[
								13605,
								13619
							],
							[
								14753,
								14768
							],
							[
								15254,
								15267
							],
							[
								15868,
								15880
							],
							[
								16286,
								16298
							],
							[
								16713,
								16728
							],
							[
								17809,
								17829
							],
							[
								18168,
								18187
							],
							[
								18406,
								18418
							],
							[
								20544,
								20561
							],
							[
								21159,
								21177
							],
							[
								22389,
								22409
							],
							[
								22870,
								22891
							],
							[
								23365,
								23380
							],
							[
								23873,
								23893
							],
							[
								24352,
								24364
							],
							[
								25083,
								25098
							],
							[
								26597,
								26622
							],
							[
								27161,
								27186
							],
							[
								28438,
								28452
							],
							[
								29365,
								29379
							],
							[
								29738,
								29751
							],
							[
								32130,
								32143
							],
							[
								33050,
								33060
							],
							[
								41630,
								41642
							],
							[
								42172,
								42186
							],
							[
								42216,
								42230
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAABkCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAoAACAg4pKhICBtZW1tZW0gKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCuKAlOKSuOKAkyBwY2dfc3RhdGVfc2V0c2VxXzY0IHsg4oCmIH0gOyDigJQgdHlwZQogIOKTiSAgcGNnMzJfcmFuZG9tX3QgOyDigJQgdHlwZWRlZgrigJTikrvigJMgcGNnMzJfcmFuZG9tX3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9pbml0X3N0YXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGNnMzJfcmFuZG9tX2JvdW5kZWRfZGl2aXNpb25sZXNzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYnl0ZWNvZGVfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfc3RyaW5nX2ZyZWVfZnVuYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2FycmF5YnVmZmVyX2ZyZWVfZnVuYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3RvcG9pbnRlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9hcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfc2xpY2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Jlc2l6ZWFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb25jYXRhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfc2VhcmNoYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX21lbWNweSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZm1lbW9wZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHBlcmZvcm1hbmNlY291bnRlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY2xpbmsgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Byb2NyZWFkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXRwcm90b3R5cGVjaGFpbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaHJ0aW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbm1hdGNoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY191bmFtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYnRvYSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY29tcGlsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfd3JpdGVfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yZWFkX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0eCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdmFsdWV0eXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ldmFsYmluYXJ5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19vcGNvZGVfYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldF9ieXRlY29kZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY2xhc3NpZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYml0ZmllbGRfdG9fYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2FycmF5X3RvX2JpdGZpZWxkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yYW5kb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2VzY2FwZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcXVvdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2Vycm9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAZAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					48,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6156
							],
							[
								6997,
								7022
							],
							[
								8588,
								8602
							],
							[
								9710,
								9726
							],
							[
								10796,
								10825
							],
							[
								11064,
								11080
							],
							[
								11961,
								11977
							],
							[
								13080,
								13105
							],
							[
								13549,
								13563
							],
							[
								14697,
								14712
							],
							[
								15198,
								15211
							],
							[
								15812,
								15824
							],
							[
								16230,
								16242
							],
							[
								16657,
								16672
							],
							[
								17753,
								17773
							],
							[
								18112,
								18131
							],
							[
								18350,
								18362
							],
							[
								20488,
								20505
							],
							[
								21103,
								21121
							],
							[
								22333,
								22353
							],
							[
								22814,
								22835
							],
							[
								23309,
								23324
							],
							[
								23817,
								23837
							],
							[
								24296,
								24308
							],
							[
								25027,
								25042
							],
							[
								26541,
								26566
							],
							[
								27105,
								27130
							],
							[
								28382,
								28396
							],
							[
								29309,
								29323
							],
							[
								29682,
								29695
							],
							[
								32074,
								32087
							],
							[
								32994,
								33004
							],
							[
								41574,
								41586
							],
							[
								42116,
								42130
							],
							[
								42160,
								42174
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAABkCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAoAACAg4pKhICBtZW1tZW0gKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCuKAlOKSuOKAkyBwY2dfc3RhdGVfc2V0c2VxXzY0IHsg4oCmIH0gOyDigJQgdHlwZQogIOKTiSAgcGNnMzJfcmFuZG9tX3QgOyDigJQgdHlwZWRlZgrigJTikrvigJMgcGNnMzJfcmFuZG9tX3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9pbml0X3N0YXRlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGNnMzJfcmFuZG9tX2JvdW5kZWRfZGl2aXNpb25sZXNzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYnl0ZWNvZGVfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfc3RyaW5nX2ZyZWVfZnVuYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX2FycmF5YnVmZmVyX2ZyZWVfZnVuYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3RvcG9pbnRlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9hcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfc2xpY2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Jlc2l6ZWFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb25jYXRhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfc2VhcmNoYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX21lbWNweSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZm1lbW9wZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHBlcmZvcm1hbmNlY291bnRlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY2xpbmsgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Byb2NyZWFkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXRwcm90b3R5cGVjaGFpbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaHJ0aW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbm1hdGNoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY191bmFtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYnRvYSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY29tcGlsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfd3JpdGVfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yZWFkX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0eCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdmFsdWV0eXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ldmFsYmluYXJ5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19vcGNvZGVfYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldF9ieXRlY29kZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY2xhc3NpZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYml0ZmllbGRfdG9fYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2FycmF5X3RvX2JpdGZpZWxkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yYW5kb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2VzY2FwZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcXVvdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2Vycm9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAZAgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					49,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABECgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdGFycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfbWVtY3B5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbWVtb3BlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19wcm9jbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY3JlYWQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHByb3RvdHlwZWNoYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ocnRpbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3VuYW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19idG9hICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9iICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jb21waWxlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY193cml0ZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JlYWRfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXR4ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY192YWx1ZXR5cGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2V2YWxiaW5hcnkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfb3Bjb2RlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0X2J5dGVjb2RlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19hdG9tICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19jbGFzc2lkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19iaXRmaWVsZF90b19hcnJheSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXNjYXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19xdW90ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZXJyb3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2lzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					50,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6145
							],
							[
								6987,
								7012
							],
							[
								8578,
								8592
							],
							[
								9700,
								9716
							],
							[
								10786,
								10815
							],
							[
								11054,
								11070
							],
							[
								11951,
								11967
							],
							[
								13070,
								13095
							],
							[
								13539,
								13553
							],
							[
								14687,
								14702
							],
							[
								15188,
								15201
							],
							[
								15802,
								15814
							],
							[
								16220,
								16232
							],
							[
								16647,
								16662
							],
							[
								17743,
								17763
							],
							[
								18102,
								18121
							],
							[
								18340,
								18352
							],
							[
								20478,
								20495
							],
							[
								21093,
								21111
							],
							[
								22323,
								22343
							],
							[
								22804,
								22825
							],
							[
								23299,
								23314
							],
							[
								23807,
								23827
							],
							[
								24286,
								24298
							],
							[
								25017,
								25032
							],
							[
								26531,
								26556
							],
							[
								27095,
								27120
							],
							[
								28372,
								28386
							],
							[
								29299,
								29313
							],
							[
								29672,
								29685
							],
							[
								32064,
								32077
							],
							[
								32984,
								32994
							],
							[
								41553,
								41565
							],
							[
								42095,
								42109
							],
							[
								42139,
								42153
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAWQgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					51,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/buffer-utils.h",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								158,
								165
							],
							[
								227,
								234
							],
							[
								281,
								293
							],
							[
								349,
								363
							],
							[
								441,
								452
							],
							[
								482,
								491
							],
							[
								521,
								534
							],
							[
								579,
								591
							],
							[
								641,
								651
							],
							[
								672,
								683
							],
							[
								713,
								723
							],
							[
								784,
								794
							],
							[
								842,
								852
							],
							[
								900,
								909
							],
							[
								967,
								981
							],
							[
								1005,
								1017
							],
							[
								1061,
								1078
							],
							[
								1142,
								1163
							],
							[
								1222,
								1244
							],
							[
								1308,
								1331
							],
							[
								1390,
								1406
							],
							[
								1447,
								1461
							],
							[
								1503,
								1521
							],
							[
								1547,
								1561
							],
							[
								1585,
								1600
							],
							[
								1656,
								1674
							],
							[
								1705,
								1714
							],
							[
								1757,
								1766
							],
							[
								1960,
								1971
							],
							[
								2043,
								2053
							],
							[
								2142,
								2148
							],
							[
								2222,
								2231
							],
							[
								2294,
								2309
							],
							[
								2484,
								2497
							],
							[
								2829,
								2841
							],
							[
								2850,
								2863
							],
							[
								2872,
								2885
							],
							[
								2903,
								2915
							],
							[
								2952,
								2963
							],
							[
								2985,
								2995
							],
							[
								3070,
								3080
							],
							[
								3143,
								3155
							],
							[
								3216,
								3233
							],
							[
								3380,
								3393
							],
							[
								3422,
								3434
							],
							[
								3456,
								3466
							],
							[
								3544,
								3554
							],
							[
								3654,
								3667
							],
							[
								3698,
								3710
							],
							[
								3732,
								3743
							],
							[
								3830,
								3847
							],
							[
								3953,
								3964
							],
							[
								4065,
								4076
							],
							[
								4188,
								4200
							],
							[
								4346,
								4358
							],
							[
								4509,
								4521
							],
							[
								4867,
								4880
							],
							[
								5095,
								5106
							],
							[
								5314,
								5325
							],
							[
								5456,
								5467
							],
							[
								5489,
								5514
							],
							[
								5687,
								5702
							],
							[
								5752,
								5766
							],
							[
								5816,
								5834
							],
							[
								5880,
								5898
							],
							[
								5928,
								5945
							],
							[
								5987,
								6004
							],
							[
								6063,
								6080
							],
							[
								6168,
								6187
							],
							[
								6288,
								6306
							],
							[
								6427,
								6446
							],
							[
								6649,
								6665
							],
							[
								6713,
								6730
							],
							[
								6775,
								6799
							],
							[
								6835,
								6854
							],
							[
								6895,
								6913
							],
							[
								7209,
								7226
							],
							[
								7361,
								7379
							],
							[
								7462,
								7478
							],
							[
								7583,
								7599
							],
							[
								7693,
								7712
							],
							[
								7789,
								7805
							]
						],
						"symlist":
						[
							"â€ƒâ“‚â€‚â€ƒBUFFER_UTILS_Hâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€”â“‚â€“â€ƒMAX_NUMâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒMIN_NUMâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€ƒâ’¡â€‚â€ƒarray_searchâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â“‚â€“â€ƒarray_containsâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€ƒâ’¡â€‚â€ƒansi_lengthâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒansi_skipâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒansi_truncateâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒarray_searchâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒstr_escapeâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒbyte_escapeâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒbyte_findbâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒbyte_findsâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒbyte_equalâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_at_nâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_last_lineâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_prependâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_put_colorstrâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_put_escaped_predâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_put_escaped_tableâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_put_unescaped_predâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_put_escapedâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_put_valueâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_reserve_startâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_token_popâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_token_pushâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_tostring_freeâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒdbuf_loadâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’»â€“â€ƒdbuf_putmâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒdbuf_appendâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒdbuf_countâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_0â€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_zeroâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_get_columnâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒdbuf_bitflagsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ’â€‚â€ƒmemory_blockâ€‰;â€ƒâ€”â€ƒtype declaration",
							"â€ƒâ’â€‚â€ƒpointer_rangeâ€‰;â€ƒâ€”â€ƒtype declaration",
							"â€ƒâ’â€‚â€ƒoffset_lengthâ€‰;â€ƒâ€”â€ƒtype declaration",
							"â€”â’¸â€“â€ƒmemory_blockâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒMemoryBlockâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒblock_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒblock_dataâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒblock_lengthâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒblock_arraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’¸â€“â€ƒpointer_rangeâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒPointerRangeâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒrange_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒrange_fromâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’¸â€“â€ƒoffset_lengthâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒOffsetLengthâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒoffset_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoffset_is_defaultâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoffset_dataâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoffset_sizeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoffset_blockâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoffset_rangeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoffset_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoffset_offsetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒblock_rangeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’¸â€“â€ƒInputBufferâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒInputBufferâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒinput_buffer_free_defaultâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ’¡â€‚â€ƒjs_input_bufferâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒjs_input_charsâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_cloneâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_validâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_dumpâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_freeâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’»â€“â€ƒinput_buffer_dataâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_lengthâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_blockâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_offsetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_getâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_peekâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_currentlineâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinput_buffer_columnâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’»â€“â€ƒinput_buffer_peekcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_getcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_beginâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_endâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_eofâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒinput_buffer_remainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ’¡â€‚â€ƒjs_offset_lengthâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA5CgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfc2VhcmNoYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX21lbWNweSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZm1lbW9wZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHBlcmZvcm1hbmNlY291bnRlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY2xpbmsgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Byb2NyZWFkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXRwcm90b3R5cGVjaGFpbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaHJ0aW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbm1hdGNoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY191bmFtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYnRvYSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY29tcGlsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfd3JpdGVfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yZWFkX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0eCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdmFsdWV0eXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ldmFsYmluYXJ5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19vcGNvZGVfYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldF9ieXRlY29kZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY2xhc3NpZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYml0ZmllbGRfdG9fYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2FycmF5X3RvX2JpdGZpZWxkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yYW5kb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2VzY2FwZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcXVvdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2Vycm9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAA9g0AAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					52,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
						"symkeys":
						[
							[
								341,
								347
							],
							[
								750,
								769
							],
							[
								797,
								811
							],
							[
								923,
								937
							],
							[
								1246,
								1258
							],
							[
								1322,
								1338
							],
							[
								1435,
								1468
							],
							[
								1947,
								1968
							],
							[
								2049,
								2068
							],
							[
								2200,
								2224
							],
							[
								2366,
								2382
							],
							[
								3142,
								3159
							],
							[
								3691,
								3712
							],
							[
								4569,
								4582
							],
							[
								5345,
								5370
							],
							[
								6131,
								6145
							],
							[
								6987,
								7012
							],
							[
								8578,
								8592
							],
							[
								9700,
								9716
							],
							[
								10786,
								10815
							],
							[
								11054,
								11070
							],
							[
								11951,
								11967
							],
							[
								13070,
								13095
							],
							[
								13539,
								13553
							],
							[
								14687,
								14702
							],
							[
								15188,
								15201
							],
							[
								15802,
								15814
							],
							[
								16220,
								16232
							],
							[
								16647,
								16662
							],
							[
								17743,
								17763
							],
							[
								18102,
								18121
							],
							[
								18340,
								18352
							],
							[
								20478,
								20495
							],
							[
								21093,
								21111
							],
							[
								22323,
								22343
							],
							[
								22804,
								22825
							],
							[
								23299,
								23314
							],
							[
								23807,
								23827
							],
							[
								24286,
								24298
							],
							[
								25017,
								25032
							],
							[
								26531,
								26556
							],
							[
								27095,
								27120
							],
							[
								28372,
								28386
							],
							[
								29299,
								29313
							],
							[
								29672,
								29685
							],
							[
								32064,
								32077
							],
							[
								32984,
								32994
							],
							[
								41542,
								41554
							],
							[
								42084,
								42098
							],
							[
								42128,
								42142
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒmemmemâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â’¸â€“â€ƒpcg_state_setseq_64â€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒpcg32_random_tâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒpcg32_random_râ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_init_stateâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpcg32_random_bounded_divisionlessâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_bytecode_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_string_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_arraybuffer_free_funcâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_topointerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_toarraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_sliceâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_resizearraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_concatâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_searcharraybufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_memcpyâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fmemopenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getperformancecounterâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_proclinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_procreadâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getprototypechainâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_hrtimeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_unameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_btoaâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atobâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_compileâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_write_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_read_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_getxâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_valuetypeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_evalbinaryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcode_objectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_opcodesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_get_bytecodeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_atomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_classidâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_bitfield_to_arrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_array_to_bitfieldâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_randomâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_escapeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_quoteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_errorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_isâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_misc_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA0EAAAICDik4IgIEJVRkZFUl9VVElMU19IIOKApiDigJQgbWFjcm8gb2JqZWN0CuKAlOKTguKAkyBNQVhfTlVNICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBNSU5fTlVNICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCiAg4pKhICBhcnJheV9zZWFyY2ggKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCuKAlOKTguKAkyBhcnJheV9jb250YWlucyAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgogIOKSoSAgYW5zaV9sZW5ndGggKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBhbnNpX3NraXAgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBhbnNpX3RydW5jYXRlICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgYXJyYXlfc2VhcmNoICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgc3RyX2VzY2FwZSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGJ5dGVfZXNjYXBlICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgYnl0ZV9maW5kYiAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGJ5dGVfZmluZHMgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBieXRlX2VxdWFsICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgZGJ1Zl9hdF9uICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgZGJ1Zl9sYXN0X2xpbmUgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBkYnVmX3ByZXBlbmQgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBkYnVmX3B1dF9jb2xvcnN0ciAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGRidWZfcHV0X2VzY2FwZWRfcHJlZCAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGRidWZfcHV0X2VzY2FwZWRfdGFibGUgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBkYnVmX3B1dF91bmVzY2FwZWRfcHJlZCAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGRidWZfcHV0X2VzY2FwZWQgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBkYnVmX3B1dF92YWx1ZSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGRidWZfcmVzZXJ2ZV9zdGFydCAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGRidWZfdG9rZW5fcG9wICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgZGJ1Zl90b2tlbl9wdXNoICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgZGJ1Zl90b3N0cmluZ19mcmVlICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgZGJ1Zl9sb2FkICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgrigJTikrvigJMgZGJ1Zl9wdXRtICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgZGJ1Zl9hcHBlbmQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pK74oCTIGRidWZfY291bnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmXzAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX3plcm8gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX2dldF9jb2x1bW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBkYnVmX2JpdGZsYWdzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKSniAgbWVtb3J5X2Jsb2NrIDsg4oCUIHR5cGUgZGVjbGFyYXRpb24KICDikp4gIHBvaW50ZXJfcmFuZ2UgOyDigJQgdHlwZSBkZWNsYXJhdGlvbgogIOKSniAgb2Zmc2V0X2xlbmd0aCA7IOKAlCB0eXBlIGRlY2xhcmF0aW9uCuKAlOKSuOKAkyBtZW1vcnlfYmxvY2sgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBNZW1vcnlCbG9jayA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBibG9ja19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYmxvY2tfZGF0YSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJsb2NrX2xlbmd0aCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGJsb2NrX2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrjigJMgcG9pbnRlcl9yYW5nZSB7IOKApiB9IDsg4oCUIHR5cGUKICDik4kgIFBvaW50ZXJSYW5nZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyByYW5nZV9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcmFuZ2VfZnJvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK44oCTIG9mZnNldF9sZW5ndGggeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBPZmZzZXRMZW5ndGggOyDigJQgdHlwZWRlZgrigJTikrvigJMgb2Zmc2V0X2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvZmZzZXRfaXNfZGVmYXVsdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIG9mZnNldF9kYXRhICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgb2Zmc2V0X3NpemUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvZmZzZXRfYmxvY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvZmZzZXRfcmFuZ2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvZmZzZXRfc2xpY2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBvZmZzZXRfb2Zmc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgYmxvY2tfcmFuZ2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSuOKAkyBJbnB1dEJ1ZmZlciB7IOKApiB9IDsg4oCUIHR5cGUKICDik4kgIElucHV0QnVmZmVyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9mcmVlX2RlZmF1bHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pKhICBqc19pbnB1dF9idWZmZXIgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pKhICBqc19pbnB1dF9jaGFycyAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGlucHV0X2J1ZmZlcl9jbG9uZSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGlucHV0X2J1ZmZlcl92YWxpZCAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGlucHV0X2J1ZmZlcl9kdW1wICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgaW5wdXRfYnVmZmVyX2ZyZWUgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCuKAlOKSu+KAkyBpbnB1dF9idWZmZXJfZGF0YSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9sZW5ndGggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBpbnB1dF9idWZmZXJfYmxvY2sgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBpbnB1dF9idWZmZXJfb2Zmc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKSoSAgaW5wdXRfYnVmZmVyX2dldCAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDikqEgIGlucHV0X2J1ZmZlcl9wZWVrICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgaW5wdXRfYnVmZmVyX2N1cnJlbnRsaW5lICggKSA7IOKAlCBmdW5jdGlvbiBkZWNsYXJhdGlvbgogIOKSoSAgaW5wdXRfYnVmZmVyX2NvbHVtbiAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9wZWVrYyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9nZXRjICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaW5wdXRfYnVmZmVyX2JlZ2luICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgaW5wdXRfYnVmZmVyX2VuZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGlucHV0X2J1ZmZlcl9lb2YgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBpbnB1dF9idWZmZXJfcmVtYWluICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKSoSAganNfb2Zmc2V0X2xlbmd0aCAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24AAAAAAAAAAFkIAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					53,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/util.js",
						"symkeys":
						[
							[
								1046,
								1066
							],
							[
								1211,
								1227
							],
							[
								1281,
								1300
							],
							[
								1335,
								1351
							],
							[
								1407,
								1423
							],
							[
								1486,
								1520
							],
							[
								1543,
								1575
							],
							[
								1598,
								1641
							],
							[
								1882,
								1894
							],
							[
								3717,
								3736
							],
							[
								3834,
								3850
							],
							[
								3912,
								3930
							],
							[
								3994,
								4013
							],
							[
								4078,
								4087
							],
							[
								4142,
								4159
							],
							[
								4222,
								4239
							],
							[
								4302,
								4316
							],
							[
								4376,
								4391
							],
							[
								4452,
								4467
							],
							[
								4528,
								4536
							],
							[
								4590,
								4602
							],
							[
								4660,
								4670
							],
							[
								4726,
								4737
							],
							[
								4794,
								4802
							],
							[
								4856,
								4878
							],
							[
								4946,
								4961
							],
							[
								5022,
								5044
							],
							[
								5112,
								5128
							],
							[
								5190,
								5206
							],
							[
								5268,
								5280
							],
							[
								5338,
								5350
							],
							[
								5408,
								5421
							],
							[
								5480,
								5498
							],
							[
								5556,
								5574
							],
							[
								5638,
								5660
							],
							[
								5728,
								5755
							],
							[
								5828,
								5845
							],
							[
								5902,
								5919
							],
							[
								5976,
								5993
							],
							[
								6040,
								6056
							],
							[
								6139,
								6155
							],
							[
								6227,
								6243
							],
							[
								6315,
								6332
							],
							[
								6389,
								6409
							],
							[
								6468,
								6488
							],
							[
								6647,
								6666
							],
							[
								6742,
								6749
							],
							[
								6778,
								6798
							],
							[
								6868,
								6883
							],
							[
								6944,
								6970
							],
							[
								7048,
								7069
							],
							[
								7147,
								7173
							],
							[
								7219,
								7244
							],
							[
								7329,
								7371
							],
							[
								7505,
								7545
							],
							[
								10689,
								10732
							],
							[
								11113,
								11148
							],
							[
								11304,
								11322
							],
							[
								11352,
								11357
							],
							[
								11447,
								11474
							],
							[
								11593,
								11614
							],
							[
								11643,
								11659
							],
							[
								11752,
								11787
							],
							[
								11827,
								11845
							],
							[
								12032,
								12053
							],
							[
								12077,
								12087
							],
							[
								12126,
								12156
							],
							[
								12482,
								12516
							],
							[
								12817,
								12851
							],
							[
								13071,
								13105
							],
							[
								13171,
								13207
							],
							[
								13282,
								13299
							],
							[
								13458,
								13495
							],
							[
								13496,
								13510
							],
							[
								13516,
								13520
							],
							[
								13595,
								13627
							],
							[
								13655,
								13681
							],
							[
								14006,
								14028
							],
							[
								14066,
								14082
							],
							[
								14097,
								14104
							],
							[
								14126,
								14142
							],
							[
								14222,
								14239
							],
							[
								14240,
								14249
							],
							[
								14301,
								14318
							],
							[
								14319,
								14328
							],
							[
								14388,
								14405
							],
							[
								14406,
								14429
							],
							[
								14485,
								14509
							],
							[
								17136,
								17164
							],
							[
								17595,
								17599
							],
							[
								17727,
								17740
							],
							[
								18056,
								18068
							],
							[
								18331,
								18344
							],
							[
								18449,
								18463
							],
							[
								19356,
								19384
							],
							[
								19500,
								19513
							],
							[
								19625,
								19651
							],
							[
								20364,
								20426
							],
							[
								20460,
								20529
							]
						],
						"symlist":
						[
							"slice = (x, s, e) =>",
							"stringify = v =>",
							"formatNumber = n =>",
							"isNative = fn =>",
							" function util()",
							"AsyncFunction = async function x()",
							"GeneratorFunction = function* ()",
							"AsyncGeneratorFunction = async function* ()",
							"function* ()",
							"isAnyArrayBuffer(v)",
							"isArrayBuffer(v)",
							"isBigInt64Array(v)",
							"isBigUint64Array(v)",
							"isDate(v)",
							"isFloat32Array(v)",
							"isFloat64Array(v)",
							"isInt8Array(v)",
							"isInt16Array(v)",
							"isInt32Array(v)",
							"isMap(v)",
							"isPromise(v)",
							"isProxy(v)",
							"isRegExp(v)",
							"isSet(v)",
							"isSharedArrayBuffer(v)",
							"isUint8Array(v)",
							"isUint8ClampedArray(v)",
							"isUint16Array(v)",
							"isUint32Array(v)",
							"isWeakMap(v)",
							"isWeakSet(v)",
							"isDataView(v)",
							"isBooleanObject(v)",
							"isAsyncFunction(v)",
							"isGeneratorFunction(v)",
							"isAsyncGeneratorFunction(v)",
							"isNumberObject(v)",
							"isBigIntObject(v)",
							"isSymbolObject(v)",
							"isNativeError(v)",
							"isMapIterator(v)",
							"isSetIterator(v)",
							"isStringObject(v)",
							"isArrayBufferView(v)",
							"isArgumentsObject(v)",
							"isBoxedPrimitive(v)",
							"ctor =>",
							"isGeneratorObject(v)",
							"isTypedArray(v)",
							"isModuleNamespaceObject(v)",
							" function isObject(v)",
							" function hasBuiltIn(o, m)",
							" function format(...args)",
							" function formatWithOptions(opts, ...args)",
							"function formatWithOptionsInternal(o, v)",
							" function assert(actual, expected, message)",
							" function setInterval(callback, ms)",
							" function start()",
							"() =>",
							" function clearInterval(id)",
							" function memoize(fn)",
							" (n, ...rest) =>",
							" function once(fn, thisArg, memoFn)",
							" function(...args)",
							" function waitFor(ms)",
							"resolve =>",
							" function define(obj, ...args)",
							" function weakAssign(obj, ...args)",
							" function getConstructorChain(obj)",
							" function hasPrototype(obj, proto)",
							" function filter(seq, pred, thisArg)",
							"pred = (el, i) =>",
							" (f, arr = [], length = f.length) =>",
							" (...args) =>",
							"a =>",
							" function* split(buf, ...points)",
							"splitAt = (b, pos, len) =>",
							"unique = (arr, cmp) =>",
							" (el, i, arr) =>",
							"item =>",
							" (el, i, arr) =>",
							" (offset = 0) =>",
							" code =>",
							" (offset = 0) =>",
							" code =>",
							" (offset = 0) =>",
							" (red, green, blue) =>",
							"function getAnsiStyles()",
							"value: (red, green, blue) =>",
							"c =>",
							"value: hex =>",
							"character =>",
							"value: hex =>",
							"value: code =>",
							"value: (red, green, blue) =>",
							"value: hex =>",
							" function randInt(...args)",
							".extendArray = (proto = Array.prototype, def = util.define) =>",
							".extendGenerator = (proto = GeneratorPrototype, def = util.define) =>"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA5CgAAICDikqEgIG1lbW1lbSAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24K4oCU4pK44oCTIHBjZ19zdGF0ZV9zZXRzZXFfNjQgeyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBwY2czMl9yYW5kb21fdCA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX3JhbmRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBjZzMyX2luaXRfc3RhdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19ieXRlY29kZV9mcmVlX2Z1bmMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19zdHJpbmdfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b3N0cmluZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdG9wb2ludGVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY190b2FycmF5YnVmZmVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19zbGljZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2NvbmNhdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfc2VhcmNoYXJyYXlidWZmZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX21lbWNweSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZm1lbW9wZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldHBlcmZvcm1hbmNlY291bnRlciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcHJvY2xpbmsgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX3Byb2NyZWFkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19nZXRwcm90b3R5cGVjaGFpbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaHJ0aW1lICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19mbm1hdGNoICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY191bmFtZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYnRvYSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY29tcGlsZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2Nfd3JpdGVfb2JqZWN0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yZWFkX29iamVjdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfZ2V0eCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfdmFsdWV0eXBlICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19ldmFsYmluYXJ5ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19vcGNvZGVfYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZV9vYmplY3QgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX29wY29kZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2dldF9ieXRlY29kZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYXRvbSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfY2xhc3NpZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfYml0ZmllbGRfdG9fYXJyYXkgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2FycmF5X3RvX2JpdGZpZWxkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19yYW5kb20gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2VzY2FwZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfcXVvdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc19taXNjX2Vycm9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfbWlzY19pcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX21pc2NfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAbgUAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					54,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.c",
						"symkeys":
						[
							[
								148,
								157
							],
							[
								196,
								205
							],
							[
								247,
								257
							],
							[
								647,
								662
							],
							[
								705,
								725
							],
							[
								788,
								801
							],
							[
								934,
								952
							],
							[
								1073,
								1093
							],
							[
								1965,
								1979
							],
							[
								2233,
								2245
							],
							[
								2367,
								2390
							],
							[
								2521,
								2537
							],
							[
								2778,
								2793
							],
							[
								2967,
								2983
							],
							[
								4117,
								4140
							],
							[
								4950,
								4968
							],
							[
								6021,
								6036
							],
							[
								6992,
								7007
							],
							[
								7867,
								7886
							],
							[
								8599,
								8620
							],
							[
								9910,
								9922
							],
							[
								10869,
								10882
							],
							[
								11506,
								11516
							],
							[
								12119,
								12130
							],
							[
								12666,
								12679
							],
							[
								12958,
								12969
							],
							[
								13831,
								13843
							],
							[
								14781,
								14791
							],
							[
								15413,
								15422
							],
							[
								15844,
								15857
							],
							[
								16455,
								16464
							],
							[
								17451,
								17458
							],
							[
								19712,
								19731
							],
							[
								20172,
								20185
							],
							[
								20337,
								20353
							],
							[
								20539,
								20552
							],
							[
								22809,
								22822
							],
							[
								23411,
								23424
							],
							[
								23749,
								23765
							],
							[
								29500,
								29521
							],
							[
								30186,
								30203
							],
							[
								31108,
								31125
							],
							[
								31561,
								31584
							],
							[
								32072,
								32092
							],
							[
								33699,
								33714
							],
							[
								33909,
								33928
							],
							[
								34223,
								34233
							],
							[
								49510,
								49525
							],
							[
								52065,
								52079
							],
							[
								52109,
								52123
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒinet_ptonâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒinet_ntopâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒsocketpairâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒjs_sockets_initâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ’¡â€‚â€ƒjs_socket_async_waitâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€”â“‚â€“â€ƒJS_SOCKETCALLâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒJS_SOCKETCALL_FAILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒJS_SOCKETCALL_RETURNâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒsyscall_returnâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒsockaddr_newâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_free_bufferâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_wrapâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_newâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_inspectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockaddr_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtimeval_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtimeval_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒfdset_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒfdset_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒfdset_toarrayâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpollfd_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpollfd_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒoptval_bufâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socketâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socketpairâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_selectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_pollâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_new_protoâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_newâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’¸â€“â€ƒSocketPropertiesâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’»â€“â€ƒjs_socket_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’¸â€“â€ƒSocketMethodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’»â€“â€ƒjs_socket_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_inspectâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_valueofâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_async_resolveâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_async_waitâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_adoptâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_socket_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockoptâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_sockets_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABuBQAAICB1dGlsKCkKQXN5bmNGdW5jdGlvbiA9IGZ1bmN0aW9uIHgoKQpHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKigpCkFzeW5jR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiooKQogIGZ1bmN0aW9uKigpCiAgaXNBbnlBcnJheUJ1ZmZlcih2KQogIGlzQXJyYXlCdWZmZXIodikKICBpc0JpZ0ludDY0QXJyYXkodikKICBpc0JpZ1VpbnQ2NEFycmF5KHYpCiAgaXNEYXRlKHYpCiAgaXNGbG9hdDMyQXJyYXkodikKICBpc0Zsb2F0NjRBcnJheSh2KQogIGlzSW50OEFycmF5KHYpCiAgaXNJbnQxNkFycmF5KHYpCiAgaXNJbnQzMkFycmF5KHYpCiAgaXNNYXAodikKICBpc1Byb21pc2UodikKICBpc1Byb3h5KHYpCiAgaXNSZWdFeHAodikKICBpc1NldCh2KQogIGlzU2hhcmVkQXJyYXlCdWZmZXIodikKICBpc1VpbnQ4QXJyYXkodikKICBpc1VpbnQ4Q2xhbXBlZEFycmF5KHYpCiAgaXNVaW50MTZBcnJheSh2KQogIGlzVWludDMyQXJyYXkodikKICBpc1dlYWtNYXAodikKICBpc1dlYWtTZXQodikKICBpc0RhdGFWaWV3KHYpCiAgaXNCb29sZWFuT2JqZWN0KHYpCiAgaXNBc3luY0Z1bmN0aW9uKHYpCiAgaXNHZW5lcmF0b3JGdW5jdGlvbih2KQogIGlzQXN5bmNHZW5lcmF0b3JGdW5jdGlvbih2KQogIGlzTnVtYmVyT2JqZWN0KHYpCiAgaXNCaWdJbnRPYmplY3QodikKICBpc1N5bWJvbE9iamVjdCh2KQogIGlzTmF0aXZlRXJyb3IodikKICBpc01hcEl0ZXJhdG9yKHYpCiAgaXNTZXRJdGVyYXRvcih2KQogIGlzU3RyaW5nT2JqZWN0KHYpCiAgaXNBcnJheUJ1ZmZlclZpZXcodikKICBpc0FyZ3VtZW50c09iamVjdCh2KQogIGlzQm94ZWRQcmltaXRpdmUodikKICBpc0dlbmVyYXRvck9iamVjdCh2KQogIGlzVHlwZWRBcnJheSh2KQogIGlzTW9kdWxlTmFtZXNwYWNlT2JqZWN0KHYpCiAgaXNPYmplY3QodikKICBoYXNCdWlsdEluKG8sIG0pCiAgZm9ybWF0KC4uLmFyZ3MpCiAgZm9ybWF0V2l0aE9wdGlvbnMob3B0cywgLi4uYXJncykKICBmb3JtYXRXaXRoT3B0aW9uc0ludGVybmFsKG8sIHYpCiAgYXNzZXJ0KGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpCiAgc2V0SW50ZXJ2YWwoY2FsbGJhY2ssIG1zKQogIHN0YXJ0KCkKICBjbGVhckludGVydmFsKGlkKQogIG1lbW9pemUoZm4pCiAgb25jZShmbiwgdGhpc0FyZywgbWVtb0ZuKQogIGZ1bmN0aW9uKC4uLmFyZ3MpCiAgd2FpdEZvcihtcykKICBkZWZpbmUob2JqLCAuLi5hcmdzKQogIHdlYWtBc3NpZ24ob2JqLCAuLi5hcmdzKQogIGdldENvbnN0cnVjdG9yQ2hhaW4ob2JqKQogIGhhc1Byb3RvdHlwZShvYmosIHByb3RvKQogIGZpbHRlcihzZXEsIHByZWQsIHRoaXNBcmcpCiAgZnVuY3Rpb24qc3BsaXQoYnVmLCAuLi5wb2ludHMpCiAgZ2V0QW5zaVN0eWxlcygpCiAgcmFuZEludCguLi5hcmdzKQAAAAAAAAAAFwgAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "quickjs-sockets.c",
			"settings":
			{
				"buffer_size": 52950,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADWzgAAI2luY2x1ZGUgInF1aWNranMtc29ja2V0cy5oIgojaW5jbHVkZSAicXVpY2tqcy1zeXNjYWxsZXJyb3IuaCIKI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2lmZGVmIF9XSU4zMgojaW5jbHVkZSA8d2luc29jazIuaD4KaW50IGluZXRfcHRvbihpbnQsIGNvbnN0IGNoYXIqLCB2b2lkKik7CmNvbnN0IGNoYXIqIGluZXRfbnRvcChpbnQsIGNvbnN0IHZvaWQqLCBjaGFyKiwgc29ja2xlbl90KTsKaW50IHNvY2tldHBhaXIoaW50LCBpbnQsIGludCwgU09DS0VUWzJdKTsKI2Vsc2UKI2luY2x1ZGUgPHN5cy9zZWxlY3QuaD4KI2luY2x1ZGUgPHN5cy9zeXNjYWxsLmg+CiNpbmNsdWRlIDxhcnBhL2luZXQuaD4KI2luY2x1ZGUgPHBvbGwuaD4KI2luY2x1ZGUgPHVuaXN0ZC5oPgojZW5kaWYKI2luY2x1ZGUgPGZjbnRsLmg+CiNpbmNsdWRlIDxlcnJuby5oPgovLyNpbmNsdWRlIDxhbGxvY2EuaD4KCmV4dGVybiBjb25zdCB1aW50MzJfdCBxanNtX2ZkX3NldF9zaXplOwpleHRlcm4gY29uc3QgdWludDhfdCBxanNtX2ZkX3NldFsxMDMwXTsKZXh0ZXJuIGNvbnN0IHVpbnQzMl90IHFqc21fc29ja2xlbl90X3NpemU7CmV4dGVybiBjb25zdCB1aW50OF90IHFqc21fc29ja2xlbl90WzEwMzBdOwoKc3RhdGljIGludCBqc19zb2NrZXRzX2luaXQoSlNDb250ZXh0KiwgSlNNb2R1bGVEZWYqKTsKc3RhdGljIEpTVmFsdWUganNfc29ja2V0X2FzeW5jX3dhaXQoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQsIEpTVmFsdWVDb25zdFtdLCBpbnQpOwoKI2RlZmluZSBKU19TT0NLRVRDQUxMKHN5c2NhbGxfbm8sIHNvY2ssIHJlc3VsdCkgSlNfU09DS0VUQ0FMTF9SRVRVUk4oc3lzY2FsbF9ubywgc29jaywgcmVzdWx0LCBKU19OZXdJbnQzMihjdHgsIHNvY2sucmV0KSwgSlNfTmV3SW50MzIoY3R4LCAtMSkpCgojZGVmaW5lIEpTX1NPQ0tFVENBTExfRkFJTChzeXNjYWxsX25vLCBzb2NrLCBvbl9mYWlsKSBKU19TT0NLRVRDQUxMX1JFVFVSTihzeXNjYWxsX25vLCBzb2NrLCByZXN1bHQsIEpTX05ld0ludDMyKGN0eCwgc29jay5yZXQpLCBvbl9mYWlsKQoKI2RlZmluZSBKU19TT0NLRVRDQUxMX1JFVFVSTihzeXNjYWxsX25vLCBzb2NrLCByZXN1bHQsIG9uX3N1Y2Nlc3MsIG9uX2ZhaWwpIFwKICBkbyB7IFwKICAgIHN5c2NhbGxfcmV0dXJuKCYoc29jayksIChzeXNjYWxsX25vKSwgKHJlc3VsdCkpOyBcCiAgICByZXQgPSAoc29jaykucmV0IDwgMCA/IChvbl9mYWlsKSA6IChvbl9zdWNjZXNzKTsgXAogICAgSlNfU2V0T3BhcXVlKHRoaXNfdmFsLCAoc29jaykucHRyKTsgXAogIH0gd2hpbGUoMCkKCnRocmVhZF9sb2NhbCBWSVNJQkxFIEpTQ2xhc3NJRCBqc19zb2NrYWRkcl9jbGFzc19pZCA9IDAsIGpzX3NvY2tldF9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHNvY2thZGRyX3Byb3RvID0ge3tKU19UQUdfVU5ERUZJTkVEfX0sIHNvY2thZGRyX2N0b3IgPSB7e0pTX1RBR19VTkRFRklORUR9fSwgc29ja2V0X3Byb3RvID0ge3tKU19UQUdfVU5ERUZJTkVEfX0sCiAgICAgICAgICAgICAgICAgICAgIHNvY2tldF9jdG9yID0ge3tKU19UQUdfVU5ERUZJTkVEfX07CgpzdGF0aWMgY29uc3QgY2hhciogc29ja2V0X3N5c2NhbGxzW10gPSB7CiAgICAwLAogICAgInNvY2tldCIsCiAgICAiZ2V0c29ja25hbWUiLAogICAgImdldHBlZXJuYW1lIiwKICAgICJmY250bCIsCiAgICAiYmluZCIsCiAgICAiYWNjZXB0IiwKICAgICJjb25uZWN0IiwKICAgICJsaXN0ZW4iLAogICAgInJlY3YiLAogICAgInJlY3Zmcm9tIiwKICAgICJzZW5kIiwKICAgICJzZW5kdG8iLAogICAgInNodXRkb3duIiwKICAgICJjbG9zZSIsCiAgICAiZ2V0c29ja29wdCIsCiAgICAic2V0c29ja29wdCIsCgp9OwpzdGF0aWMgY29uc3Qgc2l6ZV90IHNvY2tldF9zeXNjYWxsc19zaXplID0gY291bnRvZihzb2NrZXRfc3lzY2FsbHMpOwoKc3RhdGljIHZvaWQKc3lzY2FsbF9yZXR1cm4oU29ja2V0KiBzb2NrLCBpbnQgc3lzY2FsbCwgaW50IHJldHZhbCkgewogIHNvY2stPnN5c2NhbGwgPSBzeXNjYWxsOwogIHNvY2stPnJldCA9IHJldHZhbDsKICBzb2NrLT5lcnJvciA9IHJldHZhbCA8IDAgPyBlcnJubyA6IDA7CgogIC8vIHByaW50Zigic3lzY2FsbCAlcyByZXR1cm5lZCAlZCAoJWQpXG4iLCBzb2NrZXRfc3lzY2FsbHNbc29jay0+c3lzY2FsbF0sIHNvY2stPnJldCwgc29jay0+ZXJyb3IpOwp9CgpzdGF0aWMgU29ja0FkZHIqCnNvY2thZGRyX25ldyhKU0NvbnRleHQqIGN0eCkgewogIFNvY2tBZGRyKiBhOwogIGlmKCEoYSA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU29ja0FkZHIpKSkpCiAgICByZXR1cm4gMDsKICByZXR1cm4gYTsKfQoKc3RhdGljIHZvaWQKanNfc29ja2FkZHJfZnJlZV9idWZmZXIoSlNSdW50aW1lKiBydCwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU1ZhbHVlKiB2ID0gb3BhcXVlOwogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCAqdik7CiAganNfZnJlZV9ydChydCwgdik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2thZGRyX3dyYXAoSlNDb250ZXh0KiBjdHgsIFNvY2tBZGRyKiBhKSB7CiAgSlNWYWx1ZSBvYmo7CgogIGlmKGpzX3NvY2thZGRyX2NsYXNzX2lkID09IDApCiAgICBqc19zb2NrZXRzX2luaXQoY3R4LCAwKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHNvY2thZGRyX3Byb3RvLCBqc19zb2NrYWRkcl9jbGFzc19pZCk7CiAgSlNfU2V0T3BhcXVlKG9iaiwgYSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfc29ja2FkZHJfbmV3KEpTQ29udGV4dCogY3R4LCBpbnQgZmFtaWx5KSB7CiAgU29ja0FkZHIqIGE7CiAgaWYoIShhID0gc29ja2FkZHJfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBhLT5mYW1pbHkgPSBmYW1pbHk7CiAgcmV0dXJuIGpzX3NvY2thZGRyX3dyYXAoY3R4LCBhKTsKfQoKc3RhdGljIEJPT0wKanNfc29ja2FkZHJfaW5pdChKU0NvbnRleHQqIGN0eCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIFNvY2tBZGRyKiBhKSB7CiAgc2l6ZV90IHNpemUgPSAwOwogIGlmKGFyZ2MgPT0gMSAmJiBqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKSB7CiAgICB1aW50OF90KiBkYXRhOwogICAgc2l6ZV90IGxlbjsKICAgIGlmKChkYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmd2WzBdKSkpIHsKICAgICAgaWYobGVuID4gMCkKICAgICAgICBtZW1jcHkoc29ja2FkZHJfYWRkcihhKSwgZGF0YSwgTUlOX05VTShsZW4sIHNpemVvZihTb2NrQWRkcikpKTsKICAgIH0KICAgIHJldHVybiBUUlVFOwogIH0KCiAgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBpbnQzMl90IGZhbWlseTsKICAgIEpTX1RvSW50MzIoY3R4LCAmZmFtaWx5LCBhcmd2WzBdKTsKICAgIGEtPmZhbWlseSA9IGZhbWlseTsKICAgIHNpemUgPSBzb2NrYWRkcl9zaXplKGEpOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgaWYoYXJnYyA+PSAyKSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIHVpbnQzMl90IHBvcnQ7CiAgICBpZihhLT5mYW1pbHkgPT0gMCkgewogICAgICBpZihpbmV0X3B0b24oQUZfSU5FVCwgc3RyLCAmYS0+c2FpLnNpbl9hZGRyKSA+IDApCiAgICAgICAgYS0+ZmFtaWx5ID0gQUZfSU5FVDsKICAgICAgZWxzZSBpZihpbmV0X3B0b24oQUZfSU5FVDYsIHN0ciwgJmEtPnNhaTYuc2luNl9hZGRyKSA+IDApCiAgICAgICAgYS0+ZmFtaWx5ID0gQUZfSU5FVDsKICAgIH0gZWxzZSB7CiAgICAgIGluZXRfcHRvbihhLT5mYW1pbHksIHN0ciwgc29ja2FkZHJfYWRkcihhKSk7CiAgICB9CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CgogICAgSlNfVG9VaW50MzIoY3R4LCAmcG9ydCwgYXJndlsxXSk7CiAgICBpZihhLT5mYW1pbHkgPT0gQUZfSU5FVCkKICAgICAgYS0+c2FpLnNpbl9wb3J0ID0gaHRvbnMocG9ydCk7CiAgICBlbHNlIGlmKGEtPmZhbWlseSA9PSBBRl9JTkVUNikKICAgICAgYS0+c2FpNi5zaW42X3BvcnQgPSBodG9ucyhwb3J0KTsKICB9CiAgcmV0dXJuIFRSVUU7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2thZGRyX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHByb3RvLCBvYmogPSBKU19VTkRFRklORUQ7CiAgU29ja0FkZHIqIGE7CgogIGlmKGpzX3NvY2thZGRyX2NsYXNzX2lkID09IDApCiAgICBqc19zb2NrZXRzX2luaXQoY3R4LCAwKTsKCiAgaWYoIShhID0gc29ja2FkZHJfbmV3KGN0eCkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBpZighSlNfSXNPYmplY3QocHJvdG8pKQogICAgcHJvdG8gPSBzb2NrYWRkcl9wcm90bzsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3NvY2thZGRyX2NsYXNzX2lkKTsKICBpZighanNfc29ja2FkZHJfaW5pdChjdHgsIGFyZ2MsIGFyZ3YsIGEpKSB7CiAgICBqc19mcmVlKGN0eCwgYSk7CiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIlNvY2tBZGRyIGluaXQoKSBmYWlsZWQiKTsKICB9CiAgSlNfU2V0T3BhcXVlKG9iaiwgYSk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19mcmVlKGN0eCwgYSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgplbnVtIHsKICBTT0NLQUREUl9NRVRIT0RfQ0xPTkUsCiAgU09DS0FERFJfTUVUSE9EX1RPU1RSSU5HLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfc29ja2FkZHJfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTb2NrQWRkciogYTsKCiAgaWYoIShhID0ganNfc29ja2FkZHJfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNPQ0tBRERSX01FVEhPRF9DTE9ORTogewogICAgICBTb2NrQWRkciogb3RoZXIgPSBzb2NrYWRkcl9uZXcoY3R4KTsKICAgICAgbWVtY3B5KG90aGVyLCBhLCBzaXplb2YoU29ja0FkZHIpKTsKICAgICAgcmV0ID0ganNfc29ja2FkZHJfd3JhcChjdHgsIG90aGVyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tBRERSX01FVEhPRF9UT1NUUklORzogewogICAgICBjaGFyIHBvcnRbRk1UX1VMT05HXTsKICAgICAgRHluQnVmIGRidWY7CiAgICAgIGpzX2RidWZfaW5pdChjdHgsICZkYnVmKTsKICAgICAgZGJ1Zl9yZWFsbG9jKCZkYnVmLCBJTkVUNl9BRERSU1RSTEVOKTsKICAgICAgaW5ldF9udG9wKGEtPmZhbWlseSwgc29ja2FkZHJfYWRkcihhKSwgKGNoYXIqKWRidWYuYnVmLCBJTkVUNl9BRERSU1RSTEVOKTsKICAgICAgZGJ1Zi5zaXplID0gc3RybGVuKChjb25zdCBjaGFyKilkYnVmLmJ1Zik7CiAgICAgIGRidWZfcHV0YygmZGJ1ZiwgJzonKTsKICAgICAgZGJ1Zl9wdXQoJmRidWYsIChjb25zdCB1aW50OF90Kilwb3J0LCBmbXRfdWxvbmcocG9ydCwgc29ja2FkZHJfcG9ydChhKSkpOwogICAgICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopZGJ1Zi5idWYsIGRidWYuc2l6ZSk7CiAgICAgIGRidWZfZnJlZSgmZGJ1Zik7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBTT0NLQUREUl9GQU1JTFksCiAgU09DS0FERFJfQUREUiwKICBTT0NLQUREUl9QT1JULAogIFNPQ0tBRERSX0JZVEVMRU5HVEgsCiAgU09DS0FERFJfQlVGRkVSLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfc29ja2FkZHJfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIFNvY2tBZGRyKiBhID0ganNfc29ja2FkZHJfZGF0YSh0aGlzX3ZhbCk7CgogIGlmKGEpCiAgICBzd2l0Y2gobWFnaWMpIHsKICAgICAgY2FzZSBTT0NLQUREUl9GQU1JTFk6IHsKICAgICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCBhLT5mYW1pbHkpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgU09DS0FERFJfQUREUjogewogICAgICAgIGNoYXIgYnVmW0lORVQ2X0FERFJTVFJMRU5dID0gezB9OwogICAgICAgIGluZXRfbnRvcChhLT5mYW1pbHksIHNvY2thZGRyX2FkZHIoYSksIGJ1Ziwgc2l6ZW9mKGJ1ZikpOwogICAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIGJ1Zik7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSBTT0NLQUREUl9QT1JUOiB7CiAgICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgc29ja2FkZHJfcG9ydChhKSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSBTT0NLQUREUl9CWVRFTEVOR1RIOiB7CiAgICAgICAgc2l6ZV90IGxlbjsKICAgICAgICBpZigobGVuID0gc29ja2FkZHJfc2l6ZShhKSkpCiAgICAgICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCBsZW4pOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgU09DS0FERFJfQlVGRkVSOiB7CiAgICAgICAgSlNWYWx1ZSogdiA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoSlNWYWx1ZSkpOwogICAgICAgIHJldCA9IEpTX05ld0FycmF5QnVmZmVyKGN0eCwgKHVpbnQ4X3QqKWEsIHNpemVvZihTb2NrQWRkciksIGpzX3NvY2thZGRyX2ZyZWVfYnVmZmVyLCB2LCBGQUxTRSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zb2NrYWRkcl9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBTb2NrQWRkciogYTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShhID0ganNfc29ja2FkZHJfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYSkKICAgIHN3aXRjaChtYWdpYykgewogICAgICBjYXNlIFNPQ0tBRERSX0ZBTUlMWTogewogICAgICAgIGludDMyX3QgYWY7CiAgICAgICAgSlNfVG9JbnQzMihjdHgsICZhZiwgdmFsdWUpOwogICAgICAgIGEtPmZhbWlseSA9IGFmOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGNhc2UgU09DS0FERFJfQUREUjogewogICAgICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgICBpbmV0X3B0b24oYS0+ZmFtaWx5LCBzdHIsIHNvY2thZGRyX2FkZHIoYSkpOwogICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlIFNPQ0tBRERSX1BPUlQ6IHsKICAgICAgICB1aW50MzJfdCBwb3J0OwogICAgICAgIEpTX1RvVWludDMyKGN0eCwgJnBvcnQsIHZhbHVlKTsKICAgICAgICBzd2l0Y2goYS0+ZmFtaWx5KSB7CiAgICAgICAgICBjYXNlIEFGX0lORVQ6IGEtPnNhaS5zaW5fcG9ydCA9IGh0b25zKHBvcnQpOyBicmVhazsKICAgICAgICAgIGNhc2UgQUZfSU5FVDY6IGEtPnNhaTYuc2luNl9wb3J0ID0gaHRvbnMocG9ydCk7IGJyZWFrOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2thZGRyX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBTb2NrQWRkciogYTsKICB1aW50MTZfdCBwb3J0OwogIGNoYXIgYnVmW0lORVQ2X0FERFJTVFJMRU5dID0gezB9OwoKICBpZighKGEgPSBqc19zb2NrYWRkcl9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU1ZhbHVlIG9iaiA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgc29ja2FkZHJfcHJvdG8pOwoKICBpZihhLT5mYW1pbHkpCiAgICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiZmFtaWx5IiwgSlNfTmV3VWludDMyKGN0eCwgYS0+ZmFtaWx5KSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKCiAgaW5ldF9udG9wKGEtPmZhbWlseSwgc29ja2FkZHJfYWRkcihhKSwgYnVmLCBzaXplb2YoYnVmKSk7CgogIGlmKGJ1ZlswXSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJhZGRyIiwgSlNfTmV3U3RyaW5nKGN0eCwgYnVmKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKCiAgaWYoKHBvcnQgPSBzb2NrYWRkcl9wb3J0KGEpKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJwb3J0IiwgSlNfTmV3VWludDMyKGN0eCwgcG9ydCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCnN0YXRpYyB2b2lkCmpzX3NvY2thZGRyX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIFNvY2tBZGRyKiBhOwogIGlmKChhID0ganNfc29ja2FkZHJfZGF0YSh2YWwpKSkgewogICAganNfZnJlZV9ydChydCwgYSk7CiAgfQogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc29ja2FkZHJfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJmYW1pbHkiLCBqc19zb2NrYWRkcl9nZXQsIGpzX3NvY2thZGRyX3NldCwgU09DS0FERFJfRkFNSUxZKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJhZGRyIiwganNfc29ja2FkZHJfZ2V0LCBqc19zb2NrYWRkcl9zZXQsIFNPQ0tBRERSX0FERFIpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInBvcnQiLCBqc19zb2NrYWRkcl9nZXQsIGpzX3NvY2thZGRyX3NldCwgU09DS0FERFJfUE9SVCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiYnVmZmVyIiwganNfc29ja2FkZHJfZ2V0LCAwLCBTT0NLQUREUl9CVUZGRVIpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImJ5dGVMZW5ndGgiLCBqc19zb2NrYWRkcl9nZXQsIDAsIFNPQ0tBRERSX0JZVEVMRU5HVEgpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJjbG9uZSIsIDAsIGpzX3NvY2thZGRyX21ldGhvZCwgU09DS0FERFJfTUVUSE9EX0NMT05FKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBqc19zb2NrYWRkcl9tZXRob2QsIFNPQ0tBRERSX01FVEhPRF9UT1NUUklORyksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIlNvY2tBZGRyIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX1dSSVRBQkxFKSwKfTsKCnN0YXRpYyBKU0NsYXNzRGVmIGpzX3NvY2thZGRyX2NsYXNzID0gey5jbGFzc19uYW1lID0gIlNvY2tBZGRyIiwgLmZpbmFsaXplciA9IGpzX3NvY2thZGRyX2ZpbmFsaXplcn07CgovKnN0YXRpYyBpbmxpbmUgc3NpemVfdApzb2NrZXRfc2VuZChpbnQgc29jaywgY29uc3Qgdm9pZCogYnVmLCBzaXplX3QgbGVuLCBpbnQgZmxhZ3MpIHsKICByZXR1cm4gc3lzY2FsbChTWVNfc2VuZHRvLCBzb2NrLCBidWYsIGxlbiwgZmxhZ3MsIDAsIDApOwp9CgpzdGF0aWMgaW5saW5lIHNzaXplX3QKc29ja2V0X3JlY3YoaW50IHNvY2ssIHZvaWQqIGJ1Ziwgc2l6ZV90IGxlbiwgaW50IGZsYWdzKSB7CiAgcmV0dXJuIHN5c2NhbGwoU1lTX3JlY3Zmcm9tLCBzb2NrLCBidWYsIGxlbiwgZmxhZ3MsIDAsIDApOwp9Ki8KCnN0YXRpYyBCT09MCnRpbWV2YWxfcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyZywgc3RydWN0IHRpbWV2YWwqIHR2KSB7CiAgaWYoSlNfSXNOdW1iZXIoYXJnKSkgewogICAgZG91YmxlIG1zZWNzID0gMDsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZtc2VjcywgYXJnKTsKICAgIHR2LT50dl9zZWMgPSBtc2VjcyAvIDEwMDA7CiAgICBtc2VjcyAtPSB0di0+dHZfc2VjICogMTAwMDsKICAgIHR2LT50dl91c2VjID0gbXNlY3MgKiAxMDAwOwogICAgcmV0dXJuIFRSVUU7CiAgfSBlbHNlIGlmKGpzX2lzX2FycmF5KGN0eCwgYXJnKSAmJiBqc19hcnJheV9sZW5ndGgoY3R4LCBhcmcpID49IDIpIHsKICAgIGludDY0X3Qgc2VjID0gMCwgdXNlYyA9IDA7CiAgICBKU1ZhbHVlIG1lbWJlciA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJnLCAwKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmc2VjLCBtZW1iZXIpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgbWVtYmVyKTsKICAgIG1lbWJlciA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJnLCAxKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmdXNlYywgbWVtYmVyKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1lbWJlcik7CiAgICB0di0+dHZfc2VjID0gc2VjOwogICAgdHYtPnR2X3VzZWMgPSB1c2VjOwogICAgcmV0dXJuIFRSVUU7CiAgfSBlbHNlIGlmKGpzX2lzX2FycmF5YnVmZmVyKGN0eCwgYXJnKSkgewogICAgdWludDhfdCogZGF0YTsKICAgIHNpemVfdCBsZW47CiAgICBpZigoZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJnKSkpIHsKICAgICAgaWYobGVuID49IHNpemVvZihzdHJ1Y3QgdGltZXZhbCkpIHsKICAgICAgICBtZW1jcHkodHYsIGRhdGEsIHNpemVvZihzdHJ1Y3QgdGltZXZhbCkpOwogICAgICAgIHJldHVybiBUUlVFOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiBGQUxTRTsKfQoKc3RhdGljIEJPT0wKdGltZXZhbF93cml0ZShKU0NvbnRleHQqIGN0eCwgY29uc3Qgc3RydWN0IHRpbWV2YWwqIHR2LCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgaWYoSlNfSXNOdW1iZXIoYXJnKSkgewogICAgcmV0dXJuIEZBTFNFOwogIH0gZWxzZSBpZihqc19pc19hcnJheShjdHgsIGFyZykpIHsKICAgIGpzX2FycmF5X2NsZWFyKGN0eCwgYXJnKTsKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJnLCAwLCBKU19OZXdVaW50MzIoY3R4LCB0di0+dHZfc2VjKSk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZywgMSwgSlNfTmV3VWludDMyKGN0eCwgdHYtPnR2X3VzZWMpKTsKICAgIHJldHVybiBUUlVFOwogIH0gZWxzZSBpZihqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZykpIHsKICAgIHVpbnQ4X3QqIGRhdGE7CiAgICBzaXplX3QgbGVuOwogICAgaWYoKGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZykpKSB7CiAgICAgIGlmKGxlbiA+PSBzaXplb2Yoc3RydWN0IHRpbWV2YWwpKSB7CiAgICAgICAgbWVtY3B5KGRhdGEsIHR2LCBzaXplb2Yoc3RydWN0IHRpbWV2YWwpKTsKICAgICAgICByZXR1cm4gVFJVRTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gRkFMU0U7Cn0KCnN0YXRpYyBCT09MCmZkc2V0X3JlYWQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcmcsIGZkX3NldCogc2V0KSB7CiAgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmcpKSB7CiAgICBzaXplX3QgaSwgbGVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJnKTsKICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIHVpbnQzMl90IGZkOwogICAgICBKU1ZhbHVlIG1lbWJlciA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJnLCBpKTsKICAgICAgaWYoIUpTX1RvVWludDMyKGN0eCwgJmZkLCBtZW1iZXIpKQogICAgICAgIEZEX1NFVChmZCwgc2V0KTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgbWVtYmVyKTsKICAgIH0KICAgIHJldHVybiBUUlVFOwogIH0gZWxzZSBpZihqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZykpIHsKICAgIHVpbnQ4X3QqIGRhdGE7CiAgICBzaXplX3QgbGVuOwogICAgaWYoKGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZykpKSB7CiAgICAgIG1lbWNweShzZXQsIGRhdGEsIE1JTl9OVU0obGVuLCBzaXplb2YoZmRfc2V0KSkpOwogICAgICByZXR1cm4gVFJVRTsKICAgIH0KICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpzdGF0aWMgQk9PTApmZHNldF93cml0ZShKU0NvbnRleHQqIGN0eCwgY29uc3QgZmRfc2V0KiBzZXQsIEpTVmFsdWVDb25zdCBhcmcpIHsKICBpZihqc19pc19hcnJheShjdHgsIGFyZykpIHsKICAgIGludCBmZCwgaSA9IDA7CiAgICBqc19hcnJheV9jbGVhcihjdHgsIGFyZyk7CiAgICBmb3IoZmQgPSAwOyBmZCA8IEZEX1NFVFNJWkU7IGZkKyspCiAgICAgIGlmKEZEX0lTU0VUKGZkLCBzZXQpKQogICAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJnLCBpKyssIEpTX05ld1VpbnQzMihjdHgsIGZkKSk7CiAgICByZXR1cm4gVFJVRTsKICB9IGVsc2UgaWYoanNfaXNfYXJyYXlidWZmZXIoY3R4LCBhcmcpKSB7CiAgICB1aW50OF90KiBkYXRhOwogICAgc2l6ZV90IGxlbjsKICAgIGlmKChkYXRhID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmcpKSkgewogICAgICBtZW1jcHkoZGF0YSwgc2V0LCBNSU5fTlVNKGxlbiwgc2l6ZW9mKGZkX3NldCkpKTsKICAgICAgcmV0dXJuIFRSVUU7CiAgICB9CiAgfQogIHJldHVybiBGQUxTRTsKfQoKc3RhdGljIEpTVmFsdWUKZmRzZXRfdG9hcnJheShKU0NvbnRleHQqIGN0eCwgY29uc3QgZmRfc2V0KiBzZXQpIHsKICB1aW50MzJfdCBpID0gMDsKICBpbnQgZmQ7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBmb3IoZmQgPSAwOyBmZCA8IEZEX1NFVFNJWkU7IGZkKyspIHsKICAgIGlmKEZEX0lTU0VUKGZkLCBzZXQpKQogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSsrLCBKU19OZXdJbnQ2NChjdHgsIGZkKSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCiNpZm5kZWYgX1dJTjMyCnN0YXRpYyBCT09MCnBvbGxmZF9yZWFkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJnLCBzdHJ1Y3QgcG9sbGZkKiBwZmQpIHsKICBpZihqc19pc19hcnJheShjdHgsIGFyZykgJiYganNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJnKSA+PSAyKSB7CiAgICBwZmQtPmZkID0ganNfZ2V0X3Byb3BlcnR5aW50X2ludDMyKGN0eCwgYXJnLCAwKTsKICAgIHBmZC0+ZXZlbnRzID0ganNfZ2V0X3Byb3BlcnR5aW50X2ludDMyKGN0eCwgYXJnLCAxKTsKICAgIHBmZC0+cmV2ZW50cyA9IGpzX2dldF9wcm9wZXJ0eWludF9pbnQzMihjdHgsIGFyZywgMik7CiAgICByZXR1cm4gVFJVRTsKICB9CgogIGlmKEpTX0lzT2JqZWN0KGFyZykgJiYgIUpTX0lzTnVsbChhcmcpKSB7CiAgICBwZmQtPmZkID0ganNfZ2V0X3Byb3BlcnR5c3RyX2ludDMyKGN0eCwgYXJnLCAiZmQiKTsKICAgIHBmZC0+ZXZlbnRzID0ganNfZ2V0X3Byb3BlcnR5c3RyX2ludDMyKGN0eCwgYXJnLCAiZXZlbnRzIik7CiAgICBwZmQtPnJldmVudHMgPSBqc19nZXRfcHJvcGVydHlzdHJfaW50MzIoY3R4LCBhcmcsICJyZXZlbnRzIik7CiAgICByZXR1cm4gVFJVRTsKICB9CgogIGlmKGpzX2lzX2FycmF5YnVmZmVyKGN0eCwgYXJnKSkgewogICAgdWludDhfdCogZGF0YTsKICAgIHNpemVfdCBsZW47CiAgICBpZigoZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJnKSkpIHsKICAgICAgaWYobGVuID49IHNpemVvZihzdHJ1Y3QgcG9sbGZkKSkgewogICAgICAgIG1lbWNweShwZmQsIGRhdGEsIE1JTl9OVU0obGVuLCBzaXplb2Yoc3RydWN0IHBvbGxmZCkpKTsKICAgICAgICByZXR1cm4gVFJVRTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gRkFMU0U7Cn0KCnN0YXRpYyBCT09MCnBvbGxmZF93cml0ZShKU0NvbnRleHQqIGN0eCwgY29uc3Qgc3RydWN0IHBvbGxmZCogcGZkLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmcpKSB7CiAgICBqc19hcnJheV9jbGVhcihjdHgsIGFyZyk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZywgMCwgSlNfTmV3SW50MzIoY3R4LCBwZmQtPmZkKSk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZywgMSwgSlNfTmV3SW50MzIoY3R4LCBwZmQtPmV2ZW50cykpOwogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmcsIDIsIEpTX05ld0ludDMyKGN0eCwgcGZkLT5yZXZlbnRzKSk7CiAgICByZXR1cm4gVFJVRTsKICB9IGVsc2UgaWYoSlNfSXNPYmplY3QoYXJnKSAmJiAhSlNfSXNOdWxsKGFyZykpIHsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnLCAiZmQiLCBKU19OZXdJbnQzMihjdHgsIHBmZC0+ZmQpKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgYXJnLCAiZXZlbnRzIiwgSlNfTmV3SW50MzIoY3R4LCBwZmQtPmV2ZW50cykpOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBhcmcsICJyZXZlbnRzIiwgSlNfTmV3SW50MzIoY3R4LCBwZmQtPnJldmVudHMpKTsKICAgIHJldHVybiBUUlVFOwogIH0gZWxzZSBpZihqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZykpIHsKICAgIHVpbnQ4X3QqIGRhdGE7CiAgICBzaXplX3QgbGVuOwogICAgaWYoKGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZykpKSB7CiAgICAgIGlmKGxlbiA+PSBzaXplb2Yoc3RydWN0IHBvbGxmZCkpIHsKICAgICAgICBtZW1jcHkoZGF0YSwgcGZkLCBNSU5fTlVNKGxlbiwgc2l6ZW9mKHN0cnVjdCBwb2xsZmQpKSk7CiAgICAgICAgcmV0dXJuIFRSVUU7CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIEZBTFNFOwp9CiNlbmRpZgoKdm9pZCoKb3B0dmFsX2J1ZihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyZywgaW50MzJfdCoqIHRtcF9wdHIsIHNvY2tsZW5fdCogbGVucCkgewogIHVpbnQzMl90IGxlbjsKICB1aW50OF90KiBidWY7CgogIGlmKEpTX0lzQXJyYXkoY3R4LCBhcmcpKSB7CiAgICBpbnQgaSwgbiA9IE1BWF9OVU0oMSwgTUlOX05VTShqc19hcnJheV9sZW5ndGgoY3R4LCBhcmcpLCAxKSk7CiAgICBsZW4gPSBuICogc2l6ZW9mKGludDMyX3QpOwogICAgKnRtcF9wdHIgPSAoaW50MzJfdCopKGJ1ZiA9IGpzX21hbGxvY3ooY3R4LCBsZW4pKTsKICAgIGZvcihpID0gMDsgaSA8IG47IGkrKykgewogICAgICBKU1ZhbHVlIGVsID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmcsIGkpOwogICAgICBKU19Ub0ludDMyKGN0eCwgJigqdG1wX3B0cilbaV0sIGVsKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgZWwpOwogICAgfQogIH0gZWxzZSB7CiAgICBJbnB1dEJ1ZmZlciBvcHR2YWwgPSBqc19pbnB1dF9idWZmZXIoY3R4LCBhcmcpOwogICAgYnVmID0gb3B0dmFsLmRhdGE7CiAgICBsZW4gPSBvcHR2YWwuc2l6ZTsKICB9CgogIGlmKGxlbnApCiAgICAqbGVucCA9IGxlbjsKICByZXR1cm4gYnVmOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zb2NrZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBpbnQzMl90IGFmLCB0eXBlID0gU09DS19TVFJFQU0sIHByb3RvID0gSVBQUk9UT19JUDsKICBTb2NrZXQgc29jazsKCiAgSlNfVG9JbnQzMihjdHgsICZhZiwgYXJndlswXSk7CiAgaWYoYXJnYyA+PSAyKQogICAgSlNfVG9JbnQzMihjdHgsICZ0eXBlLCBhcmd2WzFdKTsKCiAgaWYoYXJnYyA+PSAzKQogICAgSlNfVG9JbnQzMihjdHgsICZwcm90bywgYXJndlsyXSk7CgogIEpTX1NPQ0tFVENBTEwoU1lTQ0FMTF9TT0NLRVQsIHNvY2ssIHNvY2suZmQgPSBzb2NrZXQoYWYsIHR5cGUsIHByb3RvKSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2tldHBhaXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBpbnQzMl90IGFmLCB0eXBlID0gU09DS19TVFJFQU0sIHByb3RvID0gSVBQUk9UT19JUDsKICBpbnQgcmVzdWx0LCBzWzJdOwoKICBKU19Ub0ludDMyKGN0eCwgJmFmLCBhcmd2WzBdKTsKICBKU19Ub0ludDMyKGN0eCwgJnR5cGUsIGFyZ3ZbMV0pOwoKICBKU19Ub0ludDMyKGN0eCwgJnByb3RvLCBhcmd2WzJdKTsKCiAgaWYoIUpTX0lzQXJyYXkoY3R4LCBhcmd2WzNdKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCA0IG11c3QgYmUgYXJyYXkiKTsKCiAgaWYoKHJlc3VsdCA9IHNvY2tldHBhaXIoYWYsIHR5cGUsIHByb3RvLCBzKSkgIT0gLTEpIHsKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlszXSwgMCwgSlNfTmV3SW50NjQoY3R4LCBzWzBdKSk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbM10sIDEsIEpTX05ld0ludDY0KGN0eCwgc1sxXSkpOwogIH0KCiAgcmV0dXJuIEpTX05ld0ludDY0KGN0eCwgcmVzdWx0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2VsZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgdWludDY0X3QgbjsKICBmZF9zZXQgcmZkcywgd2ZkcywgZWZkczsKICBmZF9zZXQgKnJzZXQgPSAwLCAqd3NldCA9IDAsICplc2V0ID0gMDsKICBpbnQgcmV0OwogIHN0cnVjdCB0aW1ldmFsIHR2ID0gezAsIDB9LCAqdGltZW91dCA9IDA7CiAgSlNfVG9JbmRleChjdHgsICZuLCBhcmd2WzBdKTsKICBGRF9aRVJPKCZyZmRzKTsKICBGRF9aRVJPKCZ3ZmRzKTsKICBGRF9aRVJPKCZlZmRzKTsKCiAgaWYoYXJnYyA+PSAyKQogICAgaWYoZmRzZXRfcmVhZChjdHgsIGFyZ3ZbMV0sICZyZmRzKSkKICAgICAgcnNldCA9ICZyZmRzOwogIGlmKGFyZ2MgPj0gMykKICAgIGlmKGZkc2V0X3JlYWQoY3R4LCBhcmd2WzJdLCAmd2ZkcykpCiAgICAgIHdzZXQgPSAmd2ZkczsKICBpZihhcmdjID49IDQpCiAgICBpZihmZHNldF9yZWFkKGN0eCwgYXJndlszXSwgJmVmZHMpKQogICAgICBlc2V0ID0gJmVmZHM7CiAgaWYoYXJnYyA+PSA1KQogICAgaWYodGltZXZhbF9yZWFkKGN0eCwgYXJndls0XSwgJnR2KSkKICAgICAgdGltZW91dCA9ICZ0djsKCiAgcmV0ID0gc2VsZWN0KG4sIHJzZXQsIHdzZXQsIGVzZXQsIHRpbWVvdXQpOwoKICAvLyBpZihyZXQgPT0gLTEpIHJldHVybiBqc19zeXNjYWxsZXJyb3JfbmV3KGN0eCwgInNlbGVjdCIsIGVycm5vKTsKCiAgaWYocnNldCkKICAgIGZkc2V0X3dyaXRlKGN0eCwgcnNldCwgYXJndlsxXSk7CiAgaWYod3NldCkKICAgIGZkc2V0X3dyaXRlKGN0eCwgd3NldCwgYXJndlsyXSk7CiAgaWYoZXNldCkKICAgIGZkc2V0X3dyaXRlKGN0eCwgZXNldCwgYXJndlszXSk7CiAgaWYodGltZW91dCkKICAgIHRpbWV2YWxfd3JpdGUoY3R4LCB0aW1lb3V0LCBhcmd2WzRdKTsKCiAgcmV0dXJuIEpTX05ld0ludDY0KGN0eCwgcmV0KTsKfQoKI2lmbmRlZiBfV0lOMzIKc3RhdGljIEpTVmFsdWUKanNfcG9sbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGludCByZXN1bHQ7CiAgdWludDMyX3QgbmZkcyA9IDA7CiAgaW50MzJfdCB0aW1lb3V0ID0gLTE7CiAgc3RydWN0IHBvbGxmZCogcGZkczsKICBCT09MIGlzX2FycmF5ID0ganNfaXNfYXJyYXkoY3R4LCBhcmd2WzBdKSwgaXNfYXJyYXlidWZmZXIgPSBqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pOwoKICBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpCiAgICBKU19Ub1VpbnQzMihjdHgsICZuZmRzLCBhcmd2WzFdKTsKICBpZihhcmdjID49IDMgJiYgSlNfSXNOdW1iZXIoYXJndlsyXSkpCiAgICBKU19Ub0ludDMyKGN0eCwgJnRpbWVvdXQsIGFyZ3ZbMl0pOwogIGlmKG5mZHMgPT0gMCkgewogICAgaWYoaXNfYXJyYXkpCiAgICAgIG5mZHMgPSBqc19hcnJheV9sZW5ndGgoY3R4LCBhcmd2WzBdKTsKICAgIGVsc2UgaWYoaXNfYXJyYXlidWZmZXIpCiAgICAgIG5mZHMgPSBqc19hcnJheWJ1ZmZlcl9ieXRlbGVuZ3RoKGN0eCwgYXJndlswXSkgLyBzaXplb2Yoc3RydWN0IHBvbGxmZCk7CiAgfQogIGFzc2VydChuZmRzKTsKICBwZmRzID0gY2FsbG9jKHNpemVvZihzdHJ1Y3QgcG9sbGZkKSwgbmZkcyk7CgogIGlmKGlzX2FycmF5KSB7CiAgICB1aW50MzJfdCBpOwogICAgZm9yKGkgPSAwOyBpIDwgbmZkczsgaSsrKSB7CiAgICAgIEpTVmFsdWUgbWVtYmVyID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzBdLCBpKTsKICAgICAgaWYoIXBvbGxmZF9yZWFkKGN0eCwgbWVtYmVyLCAmcGZkc1tpXSkpIHsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBtZW1iZXIpOwogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJwZmRzWyVpXSBub3QgdmFsaWQiLCBpKTsKICAgICAgICBnb3RvIGVuZDsKICAgICAgfQogICAgICBKU19GcmVlVmFsdWUoY3R4LCBtZW1iZXIpOwogICAgfQogIH0gZWxzZSBpZihpc19hcnJheWJ1ZmZlcikgewogICAgdWludDhfdCogZGF0YTsKICAgIHNpemVfdCBsZW47CiAgICBpZigoZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSkpKSB7CiAgICAgIGlmKGxlbiA+IDAgJiYgKGxlbiAlIHNpemVvZihzdHJ1Y3QgcG9sbGZkKSkgPT0gMCkgewogICAgICAgIG1lbWNweShwZmRzLCBkYXRhLCBNSU5fTlVNKGxlbiwgc2l6ZW9mKHN0cnVjdCBwb2xsZmQpICogbmZkcykpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJwZmRzW10gbGVuZ3RoID0gJXp1IiwgbGVuKTsKICAgICAgICBnb3RvIGVuZDsKICAgICAgfQogICAgfQogIH0KCiAgcmVzdWx0ID0gcG9sbChwZmRzLCBuZmRzLCB0aW1lb3V0KTsKCiAgaWYoaXNfYXJyYXkpIHsKICAgIHVpbnQzMl90IGk7CiAgICBmb3IoaSA9IDA7IGkgPCBuZmRzOyBpKyspIHsKICAgICAgSlNWYWx1ZSBtZW1iZXIgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbMF0sIGkpOwogICAgICBpZighcG9sbGZkX3dyaXRlKGN0eCwgJnBmZHNbaV0sIG1lbWJlcikpIHsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBtZW1iZXIpOwogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJ3cml0aW5nIHBmZHNbJWldIiwgaSk7CiAgICAgICAgZ290byBlbmQ7CiAgICAgIH0KICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgbWVtYmVyKTsKICAgIH0KICB9IGVsc2UgaWYoaXNfYXJyYXlidWZmZXIpIHsKICAgIHVpbnQ4X3QqIGRhdGE7CiAgICBzaXplX3QgbGVuOwogICAgaWYoKGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkgewogICAgICBpZihsZW4gPiAwICYmIChsZW4gJSBzaXplb2Yoc3RydWN0IHBvbGxmZCkpID09IDApIHsKICAgICAgICBtZW1jcHkoZGF0YSwgcGZkcywgTUlOX05VTShsZW4sIHNpemVvZihzdHJ1Y3QgcG9sbGZkKSAqIG5mZHMpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAicGZkc1tdIGxlbmd0aCA9ICV6dSIsIGxlbik7CiAgICAgICAgZ290byBlbmQ7CiAgICAgIH0KICAgIH0KICB9CgogIHJldCA9IEpTX05ld0ludDMyKGN0eCwgcmVzdWx0KTsKCmVuZDoKICBmcmVlKHBmZHMpOwogIHJldHVybiByZXQ7Cn0KI2VuZGlmCgpzdGF0aWMgSlNWYWx1ZQpqc19zb2NrZXRfbmV3X3Byb3RvKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgcHJvdG8sIGludCBmZCkgewogIEpTVmFsdWUgb2JqOwogIFNvY2tldCBzb2NrID0ge3tmZCwgMCwgMCwgLTF9fTsKCiAgaWYoanNfc29ja2V0X2NsYXNzX2lkID09IDApCiAgICBqc19zb2NrZXRzX2luaXQoY3R4LCAwKTsKCiAgaWYoanNfaXNfbnVsbGlzaChjdHgsIHByb3RvKSkKICAgIHByb3RvID0gc29ja2V0X3Byb3RvOwoKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3NvY2tldF9jbGFzc19pZCk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKCiAgSlNfU2V0T3BhcXVlKG9iaiwgc29jay5wdHIpOwoKICByZXR1cm4gb2JqOwpmYWlsOgogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKanNfc29ja2V0X25ldyhKU0NvbnRleHQqIGN0eCwgaW50IHNvY2spIHsKICBpZihqc19zb2NrZXRfY2xhc3NfaWQgPT0gMCkKICAgIGpzX3NvY2tldHNfaW5pdChjdHgsIDApOwoKICByZXR1cm4ganNfc29ja2V0X25ld19wcm90byhjdHgsIHNvY2tldF9wcm90bywgc29jayk7Cn0KCmVudW0gU29ja2V0UHJvcGVydGllcyB7CiAgU09DS0VUU19GRCwKICBTT0NLRVRTX09QRU4sCiAgU09DS0VUU19FT0YsCiAgU09DS0VUU19SRVQsCiAgU09DS0VUU19NT0RFLAogIFNPQ0tFVFNfU1lTQ0FMTCwKICBTT0NLRVRTX0VSUk5PLAogIFNPQ0tFVFNfRVJST1IsCiAgU09DS0VUU19MT0NBTCwKICBTT0NLRVRTX1JFTU9URSwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2tldF9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgU29ja2V0IHNvY2sgPSBqc19zb2NrZXRfZGF0YSh0aGlzX3ZhbCk7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBTT0NLRVRTX0ZEOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgKGludDE2X3Qpc29jay5mZCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTT0NLRVRTX09QRU46IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHNvY2tldF9vcGVuKHNvY2spKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tFVFNfRU9GOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBzb2NrZXRfZW9mKHNvY2spKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tFVFNfUkVUOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgc29jay5yZXQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU09DS0VUU19NT0RFOiB7CiNpZmRlZiBfV0lOMzIKI2Vsc2UKICAgICAgaW50IGZsID0gZmNudGwoc29jay5mZCwgRl9HRVRGTCk7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgZmwpOwojZW5kaWYKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tFVFNfU1lTQ0FMTDogewogICAgICBjb25zdCBjaGFyKiBzeXNjYWxsOwogICAgICBhc3NlcnQoc29jay5zeXNjYWxsID4gMCk7CiAgICAgIGFzc2VydChzb2NrLnN5c2NhbGwgPCBzb2NrZXRfc3lzY2FsbHNfc2l6ZSk7CiAgICAgIGlmKChzeXNjYWxsID0gc29ja2V0X3N5c2NhbGwoc29jaykpKQogICAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHN5c2NhbGwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU09DS0VUU19FUlJOTzogewogICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCBzb2NrZXRfZXJyb3Ioc29jaykpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU09DS0VUU19FUlJPUjogewogICAgICBjb25zdCBjaGFyKiBzeXNjYWxsOwogICAgICBpZihzb2NrLmVycm9yKSB7CiAgICAgICAgYXNzZXJ0KHNvY2suc3lzY2FsbCA+IDApOwogICAgICAgIGFzc2VydChzb2NrLnN5c2NhbGwgPCBzb2NrZXRfc3lzY2FsbHNfc2l6ZSk7CgogICAgICAgIHN5c2NhbGwgPSBzb2NrZXRfc3lzY2FsbChzb2NrKTsKICAgICAgICBhc3NlcnQoc3lzY2FsbCk7CgogICAgICAgIHJldCA9IEpTX05ld09iamVjdChjdHgpOwogICAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAiZXJybm8iLCBKU19OZXdVaW50MzIoY3R4LCBzb2NrLmVycm9yKSk7CiAgICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJzeXNjYWxsIiwgSlNfTmV3U3RyaW5nKGN0eCwgc3lzY2FsbCkpOwogICAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibWVzc2FnZSIsIEpTX05ld1N0cmluZyhjdHgsIHN0cmVycm9yKHNvY2suZXJyb3IpKSk7CgogICAgICAgIC8qaWYoSlNfSXNPYmplY3Qoc3lzY2FsbGVycm9yX3Byb3RvKSkKICAgICAgICAgIEpTX1NldFByb3RvdHlwZShjdHgsIHJldCwgc3lzY2FsbGVycm9yX3Byb3RvKTsqLwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tFVFNfTE9DQUw6IHsKICAgICAgU29ja0FkZHIqIGEgPSBzb2NrYWRkcl9uZXcoY3R4KTsKICAgICAgc29ja2xlbl90IGxlbiA9IHNpemVvZihTb2NrQWRkcik7CiAgICAgIEpTX1NPQ0tFVENBTExfUkVUVVJOKFNZU0NBTExfR0VUU09DS05BTUUsIHNvY2ssIGdldHNvY2tuYW1lKHNvY2suZmQsIChzdHJ1Y3Qgc29ja2FkZHIqKWEsICZsZW4pLCBqc19zb2NrYWRkcl93cmFwKGN0eCwgYSksIEpTX05VTEwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU09DS0VUU19SRU1PVEU6IHsKICAgICAgU29ja0FkZHIqIGEgPSBzb2NrYWRkcl9uZXcoY3R4KTsKICAgICAgc29ja2xlbl90IGxlbiA9IHNpemVvZihTb2NrQWRkcik7CiAgICAgIEpTX1NPQ0tFVENBTExfUkVUVVJOKFNZU0NBTExfR0VUUEVFUk5BTUUsIHNvY2ssIGdldHBlZXJuYW1lKHNvY2suZmQsIChzdHJ1Y3Qgc29ja2FkZHIqKWEsICZsZW4pLCBqc19zb2NrYWRkcl93cmFwKGN0eCwgYSksIEpTX05VTEwpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgSlNfU2V0T3BhcXVlKHRoaXNfdmFsLCBzb2NrLnB0cik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc29ja2V0X3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIFNvY2tldCBzb2NrID0ganNfc29ja2V0X2RhdGEodGhpc192YWwpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgU09DS0VUU19NT0RFOiB7CiNpZiBfV0lOMzIKICAgICAgVUxPTkcgbW9kZSA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBpb2N0bHNvY2tldChzb2NrLmZkLCBGSU9OQklPLCAmbW9kZSkpOwojZWxzZQogICAgICB1aW50MzJfdCBtb2RlID0gMDsKICAgICAgSlNfVG9VaW50MzIoY3R4LCAmbW9kZSwgdmFsdWUpOwogICAgICBKU19TT0NLRVRDQUxMX1JFVFVSTihTWVNDQUxMX0ZDTlRMLCBzb2NrLCBmY250bChzb2NrLmZkLCBGX1NFVEZMLCBtb2RlKSwgSlNfTmV3SW50MzIoY3R4LCBzb2NrLnJldCksIEpTX1VOREVGSU5FRCk7CiNlbmRpZgogICAgICBicmVhazsKICAgIH0KICB9CiAgSlNfU2V0T3BhcXVlKHRoaXNfdmFsLCBzb2NrLnB0cik7CiAgcmV0dXJuIHJldDsKfQoKZW51bSBTb2NrZXRNZXRob2RzIHsKICBTT0NLRVRTX05ERUxBWSA9IDB4MDAsCiAgU09DS0VUU19CSU5EID0gMHgwMSwKICBTT0NLRVRTX0FDQ0VQVCA9IDB4MDIsCiAgU09DS0VUU19DT05ORUNUID0gMHgwMywKICBTT0NLRVRTX0xJU1RFTiA9IDB4MDQsCiAgU09DS0VUU19SRUNWID0gMHgwOCwKICBTT0NLRVRTX1NFTkQgPSAweDA5LAogIFNPQ0tFVFNfUkVDVkZST00gPSAweDBhLAogIFNPQ0tFVFNfU0VORFRPID0gMHgwYiwKICBTT0NLRVRTX0dFVFNPQ0tPUFQsCiAgU09DS0VUU19TRVRTT0NLT1BULAogIFNPQ0tFVFNfU0hVVERPV04sCiAgU09DS0VUU19DTE9TRSwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2tldF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIFNvY2tldCBzb2NrID0ganNfc29ja2V0X2RhdGEyKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIFNvY2tBZGRyKiBhID0gMDsKICBzb2NrbGVuX3QgYWxlbiA9IDA7CgogIGlmKG1hZ2ljID49IFNPQ0tFVFNfQklORCAmJiBtYWdpYyA8PSBTT0NLRVRTX0NPTk5FQ1QpIHsKICAgIGlmKCEoYSA9IGpzX3NvY2thZGRyX2RhdGEoYXJndlswXSkpKQogICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIG9mIHR5cGUgU29ja0FkZHIiKTsKICB9CgogIGlmKHNvY2tldF9jbG9zZWQoc29jaykpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIlNvY2tldCAjJWQgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQiLCBzb2NrLmZkKTsKCiAgaWYoIXNvY2tldF9vcGVuKHNvY2spKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJTb2NrZXQgIyVkIGlzIG5vdCBvcGVuIiwgc29jay5mZCk7CgogIC8qaWYoc29ja2V0X2VvZihzb2NrKSkKICAgIGlmKG1hZ2ljIDwgU09DS0VUU19TSFVURE9XTikKICAgICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJTb2NrZXQgIyVkIEVPRiIsIHNvY2suZmQpOyovCgogIGlmKHNvY2subm9uYmxvY2spIHsKICAgIHN3aXRjaChtYWdpYykgewogICAgICBjYXNlIFNPQ0tFVFNfUkVDVjoKICAgICAgY2FzZSBTT0NLRVRTX1NFTkQ6CiAgICAgIGNhc2UgU09DS0VUU19SRUNWRlJPTToKICAgICAgY2FzZSBTT0NLRVRTX1NFTkRUTzogewogICAgICAgIHJldHVybiBqc19zb2NrZXRfYXN5bmNfd2FpdChjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2LCBtYWdpYyB8IDB4MTAwMDApOwogICAgICB9CiAgICB9CiAgfQoKICBzd2l0Y2gobWFnaWMgJiAweGZmZmYpIHsKICAgIGNhc2UgU09DS0VUU19OREVMQVk6IHsKICAgICAgQk9PTCBub25ibG9jayA9IFRSVUU7CiAgICAgIGlmKGFyZ2MgPj0gMSkKICAgICAgICBub25ibG9jayA9IEpTX1RvQm9vbChjdHgsIGFyZ3ZbMF0pOwojaWZkZWYgX1dJTjMyCiAgICAgIFVMT05HIG1vZGUgPSBub25ibG9jazsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBpb2N0bHNvY2tldChzb2NrLmZkLCBGSU9OQklPLCAmbW9kZSkpOwojZWxzZQogICAgICBpbnQgb2xkZmxhZ3MsIG5ld2ZsYWdzOwogICAgICBvbGRmbGFncyA9IGZjbnRsKHNvY2suZmQsIEZfR0VURkwpOwogICAgICBuZXdmbGFncyA9IG5vbmJsb2NrID8gb2xkZmxhZ3MgfCBPX05PTkJMT0NLIDogb2xkZmxhZ3MgJiAofk9fTk9OQkxPQ0spOwogICAgICBpZihvbGRmbGFncyAhPSBuZXdmbGFncykKICAgICAgICBKU19TT0NLRVRDQUxMKFNZU0NBTExfRkNOVEwsIHNvY2ssIGZjbnRsKHNvY2suZmQsIEZfU0VURkwsIG5ld2ZsYWdzKSk7CiNlbmRpZgogICAgICBzb2NrLm5vbmJsb2NrID0gbm9uYmxvY2s7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTT0NLRVRTX0JJTkQ6IHsKICAgICAgSlNfU09DS0VUQ0FMTChTWVNDQUxMX0JJTkQsIHNvY2ssIGJpbmQoc29jay5mZCwgKHN0cnVjdCBzb2NrYWRkciopYSwgc29ja2FkZHJfc2l6ZShhKSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU09DS0VUU19BQ0NFUFQ6IHsKICAgICAgc29ja2xlbl90IGFkZHJsZW4gPSBzaXplb2YoU29ja0FkZHIpOwogICAgICBKU19TT0NLRVRDQUxMKFNZU0NBTExfQUNDRVBULCBzb2NrLCBhY2NlcHQoc29jay5mZCwgKHN0cnVjdCBzb2NrYWRkciopYSwgJmFkZHJsZW4pKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tFVFNfQ09OTkVDVDogewogICAgICBKU19TT0NLRVRDQUxMKFNZU0NBTExfQ09OTkVDVCwgc29jaywgY29ubmVjdChzb2NrLmZkLCAoc3RydWN0IHNvY2thZGRyKilhLCBzb2NrYWRkcl9zaXplKGEpKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTT0NLRVRTX0xJU1RFTjogewogICAgICBpbnQzMl90IGJhY2tsb2cgPSA1OwogICAgICBpZihhcmdjID49IDEpCiAgICAgICAgSlNfVG9JbnQzMihjdHgsICZiYWNrbG9nLCBhcmd2WzBdKTsKICAgICAgSlNfU09DS0VUQ0FMTChTWVNDQUxMX0xJU1RFTiwgc29jaywgbGlzdGVuKHNvY2suZmQsIGJhY2tsb2cpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tFVFNfUkVDVjoKICAgIGNhc2UgU09DS0VUU19SRUNWRlJPTTogewogICAgICBpbnQzMl90IGZsYWdzID0gMDsKICAgICAgSW5wdXRCdWZmZXIgYnVmID0ganNfaW5wdXRfYnVmZmVyKGN0eCwgYXJndlswXSk7CiAgICAgIE9mZnNldExlbmd0aCBvZmY7CiAgICAgIGpzX29mZnNldF9sZW5ndGgoY3R4LCBidWYuc2l6ZSwgYXJnYyAtIDEsIGFyZ3YgKyAxLCAmb2ZmKTsKCiAgICAgIGlmKGFyZ2MgPj0gNCkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzNdKTsKCiAgICAgIGlmKG1hZ2ljID09IFNPQ0tFVFNfUkVDVkZST00pIHsKICAgICAgICBpZigoYSA9IGFyZ2MgPj0gNSA/IGpzX3NvY2thZGRyX2RhdGEoYXJndls0XSkgOiAwKSkKICAgICAgICAgIGFsZW4gPSBzaXplb2YoU29ja0FkZHIpOwoKICAgICAgICBKU19TT0NLRVRDQUxMKFNZU0NBTExfUkVDVkZST00sIHNvY2ssIHJlY3Zmcm9tKHNvY2suZmQsIGJ1Zi5kYXRhICsgb2ZmLm9mZnNldCwgb2Zmc2V0X3NpemUoJm9mZiwgYnVmLnNpemUpLCBmbGFncywgJmEtPnMsICZhbGVuKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgSlNfU09DS0VUQ0FMTChTWVNDQUxMX1JFQ1YsIHNvY2ssIHJlY3Yoc29jay5mZCwgYnVmLmRhdGEgKyBvZmYub2Zmc2V0LCBvZmZzZXRfc2l6ZSgmb2ZmLCBidWYuc2l6ZSksIGZsYWdzKSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNPQ0tFVFNfU0VORDoKICAgIGNhc2UgU09DS0VUU19TRU5EVE86IHsKICAgICAgaW50MzJfdCBmbGFncyA9IDA7CiAgICAgIElucHV0QnVmZmVyIGJ1ZiA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAgICAgIE9mZnNldExlbmd0aCBvZmY7CgogICAgICBqc19vZmZzZXRfbGVuZ3RoKGN0eCwgYnVmLnNpemUsIGFyZ2MgLSAxLCBhcmd2ICsgMSwgJm9mZik7CgogICAgICBpZihhcmdjID49IDQpCiAgICAgICAgSlNfVG9JbnQzMihjdHgsICZmbGFncywgYXJndlszXSk7CgogICAgICBpZihtYWdpYyA9PSBTT0NLRVRTX1NFTkRUTykgewogICAgICAgIGlmKChhID0gYXJnYyA+PSA1ID8ganNfc29ja2FkZHJfZGF0YShhcmd2WzRdKSA6IDApKQogICAgICAgICAgYWxlbiA9IHNvY2thZGRyX3NpemUoYSk7CiAgICAgICAgSlNfU09DS0VUQ0FMTChTWVNDQUxMX1NFTkRUTywgc29jaywgc2VuZHRvKHNvY2suZmQsIGJ1Zi5kYXRhICsgb2ZmLm9mZnNldCwgb2Zmc2V0X3NpemUoJm9mZiwgYnVmLnNpemUpLCBmbGFncywgJmEtPnMsIGFsZW4pKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBKU19TT0NLRVRDQUxMKFNZU0NBTExfU0VORCwgc29jaywgc2VuZChzb2NrLmZkLCBidWYuZGF0YSArIG9mZi5vZmZzZXQsIG9mZnNldF9zaXplKCZvZmYsIGJ1Zi5zaXplKSwgZmxhZ3MpKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIFNPQ0tFVFNfR0VUU09DS09QVDogewogICAgICBpbnQzMl90IGxldmVsLCBvcHRuYW1lOwogICAgICB1aW50MzJfdCBvcHRsZW4gPSBzaXplb2YoaW50KTsKICAgICAgdWludDhfdCogYnVmOwogICAgICBpbnQzMl90ICp2YWwsICp0bXAgPSAwOwogICAgICBzb2NrbGVuX3QgbGVuOwogICAgICBKU19Ub0ludDMyKGN0eCwgJmxldmVsLCBhcmd2WzBdKTsKICAgICAgSlNfVG9JbnQzMihjdHgsICZvcHRuYW1lLCBhcmd2WzFdKTsKICAgICAgaWYoYXJnYyA+PSA0KQogICAgICAgIEpTX1RvVWludDMyKGN0eCwgJm9wdGxlbiwgYXJndlszXSk7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmb3B0bmFtZSwgYXJndlsxXSk7CgogICAgICBidWYgPSBvcHR2YWxfYnVmKGN0eCwgYXJndlsyXSwgJnRtcCwgJmxlbik7CgogICAgICBKU19TT0NLRVRDQUxMKFNZU0NBTExfR0VUU09DS09QVCwgc29jaywgZ2V0c29ja29wdChzb2NrLmZkLCBsZXZlbCwgb3B0bmFtZSwgYnVmLCAmbGVuKSk7CiAgICAgIGlmKHRtcCkgewogICAgICAgIGpzX2FycmF5X2NsZWFyKGN0eCwgYXJndlsyXSk7CiAgICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzJdLCAwLCBKU19OZXdJbnQzMihjdHgsICooaW50MzJfdCopYnVmKSk7CiAgICAgIH0KICAgICAgdmFsID0gKHZvaWQqKWJ1ZjsKICAgICAgaWYodG1wKQogICAgICAgIGpzX2ZyZWUoY3R4LCB0bXApOwogICAgICAvKnByaW50ZigiU1lTQ0FMTF9HRVRTT0NLT1BUKCVkLCAlZCwgJWQsICVwICglcCksICV6dSkgPSAlZFxuIiwgc29jay5mZCwgbGV2ZWwsIG9wdG5hbWUsICgocHRyZGlmZl90Kil2YWwpWzBdLCB2YWwsIGxlbiwgc29jay5yZXQpOyovCiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTT0NLRVRTX1NFVFNPQ0tPUFQ6IHsKICAgICAgaW50MzJfdCBsZXZlbCwgb3B0bmFtZSwgbnVtID0gMCwgKnRtcCA9IDA7CiAgICAgIHNvY2tsZW5fdCBsZW4gPSAwOwogICAgICB1aW50OF90KiBidWYgPSAwOwogICAgICBpZihhcmdjID49IDMpCiAgICAgICAgYnVmID0gb3B0dmFsX2J1ZihjdHgsIGFyZ3ZbMl0sICZ0bXAsICZsZW4pOwogICAgICBpZighYnVmKSB7CiAgICAgICAgYnVmID0gKHVpbnQ4X3QqKSZudW07CiAgICAgICAgbGVuID0gc2l6ZW9mKG51bSk7CiAgICAgIH0KICAgICAgSlNfVG9JbnQzMihjdHgsICZsZXZlbCwgYXJndlswXSk7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmb3B0bmFtZSwgYXJndlsxXSk7CiAgICAgIGlmKGFyZ2MgPj0gNCkgewogICAgICAgIHVpbnQzMl90IG5ld2xlbiA9IDA7CiAgICAgICAgaWYoIUpTX1RvVWludDMyKGN0eCwgJm5ld2xlbiwgYXJndlszXSkpIHsKICAgICAgICAgIG5ld2xlbiA9IE1JTl9OVU0obmV3bGVuLCBsZW4pOwogICAgICAgICAgaWYobmV3bGVuKQogICAgICAgICAgICBsZW4gPSBuZXdsZW47CiAgICAgICAgfQogICAgICB9CiAgICAgIEpTX1NPQ0tFVENBTEwoU1lTQ0FMTF9TRVRTT0NLT1BULCBzb2NrLCBzZXRzb2Nrb3B0KHNvY2suZmQsIGxldmVsLCBvcHRuYW1lLCBidWYsIGxlbikpOwogICAgICAvKnByaW50ZigiU1lTQ0FMTF9TRVRTT0NLT1BUKCVkLCAlZCwgJWQsICVpICglcCksICV6dSkgPSAlZFxuIiwgc29jay5mZCwgbGV2ZWwsIG9wdG5hbWUsICooaW50KilidWYsIGJ1ZiwgbGVuLCBzb2NrLnJldCk7Ki8KCiAgICAgIGlmKHRtcCkKICAgICAgICBqc19mcmVlKGN0eCwgdG1wKTsKCiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTT0NLRVRTX1NIVVRET1dOOiB7CiAgICAgIGludDMyX3QgaG93OwogICAgICBKU19Ub0ludDMyKGN0eCwgJmhvdywgYXJndlswXSk7CiAgICAgIEpTX1NPQ0tFVENBTEwoU1lTQ0FMTF9TSFVURE9XTiwgc29jaywgc2h1dGRvd24oc29jay5mZCwgaG93KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTT0NLRVRTX0NMT1NFOiB7CiAgICAgIEpTX1NPQ0tFVENBTEwoU1lTQ0FMTF9DTE9TRSwgc29jaywgY2xvc2Uoc29jay5mZCkpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgSlNfU2V0T3BhcXVlKHRoaXNfdmFsLCBzb2NrLnB0cik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2tldF9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBvYmogPSBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSBwcm90bzsKICBpbnQzMl90IGFmLCB0eXBlID0gU09DS19TVFJFQU0sIHByb3RvY29sID0gSVBQUk9UT19JUDsKICBpbnQgc29jayA9IC0xOwoKICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBpZighSlNfSXNPYmplY3QocHJvdG8pKQogICAgcHJvdG8gPSBzb2NrZXRfcHJvdG87CgogIEpTX1RvSW50MzIoY3R4LCAmYWYsIGFyZ3ZbMF0pOwogIGlmKGFyZ2MgPj0gMikgewogICAgSlNfVG9JbnQzMihjdHgsICZ0eXBlLCBhcmd2WzFdKTsKICAgIGlmKGFyZ2MgPj0gMykKICAgICAgSlNfVG9JbnQzMihjdHgsICZwcm90b2NvbCwgYXJndlsyXSk7CiAgfQogIHNvY2sgPSBzb2NrZXQoYWYsIHR5cGUsIHByb3RvY29sKTsKCiAgcmV0dXJuIGpzX3NvY2tldF9uZXdfcHJvdG8oY3R4LCBwcm90bywgc29jayk7CgpmYWlsOgogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKanNfc29ja2V0X2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBTb2NrZXQgc29jayA9IGpzX3NvY2tldF9kYXRhMihjdHgsIHRoaXNfdmFsKTsKCiAgSlNWYWx1ZSBvYmogPSAvKkpTX05ld09iamVjdChjdHgpOyAvLyovIEpTX05ld09iamVjdFByb3RvKGN0eCwgc29ja2V0X3Byb3RvKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiZmQiLCBKU19OZXdJbnQzMihjdHgsIChpbnQxNl90KXNvY2suZmQpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIGlmKHNvY2sucmV0ID49IDApIHsKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJyZXQiLCBKU19OZXdVaW50MzIoY3R4LCBzb2NrLnJldCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgfSBlbHNlIHsKICAgIGNvbnN0IGNoYXIqIHN5c2NhbGwgPSBzb2NrZXRfc3lzY2FsbChzb2NrKTsKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJlcnJubyIsIEpTX05ld1VpbnQzMihjdHgsIHNvY2suZXJyb3IpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImVycm9yIiwgSlNfTmV3U3RyaW5nKGN0eCwgc3RyZXJyb3Ioc29jay5lcnJvcikpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIH0KICBpZihzb2NrLnN5c2NhbGwgPiAwICYmIHNvY2suc3lzY2FsbCA8IHNvY2tldF9zeXNjYWxsc19zaXplKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN5c2NhbGwiLCBKU19OZXdTdHJpbmcoY3R4LCBzb2NrZXRfc3lzY2FsbChzb2NrKSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2tldF92YWx1ZW9mKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50MzJfdCBmZCA9IC0xLCBpZCA9IEpTX0dldENsYXNzSUQodGhpc192YWwpOwogIEpTVmFsdWUgdmFsdWU7CiAgaWYoaWQgPT0ganNfc29ja2V0X2NsYXNzX2lkKSB7CiAgICBTb2NrZXQgc29jayA9IGpzX3NvY2tldF9kYXRhKHRoaXNfdmFsKTsKICAgIGZkID0gKGludDE2X3Qpc29jay5mZDsKICB9IGVsc2UgaWYoSlNfSXNOdW1iZXIoKHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgImZkIikpKSkgewogICAgSlNfVG9JbnQzMihjdHgsICZmZCwgdmFsdWUpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KICByZXR1cm4gSlNfTmV3SW50MzIoY3R4LCBmZCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NvY2tldF9hc3luY19yZXNvbHZlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWUgZGF0YVtdKSB7CiAgSlNWYWx1ZUNvbnN0IGFyZ3NbMl0gPSB7ZGF0YVswXSwgSlNfTlVMTH07CiAgSlNWYWx1ZUNvbnN0IHZhbHVlID0gZGF0YVswXTsKICBKU19DYWxsKGN0eCwgZGF0YVsyXSwgSlNfVU5ERUZJTkVELCAyLCBhcmdzKTsKCiAgaWYobWFnaWMgJiAweDBhKQogICAgdmFsdWUgPSBqc19zb2NrZXRfbWV0aG9kKGN0eCwgZGF0YVswXSwgKG1hZ2ljICYgMHgwMikgPyA1IDogNCwgJmRhdGFbM10sIG1hZ2ljIHwgMHgxMDAwMCk7CgogIEpTX0NhbGwoY3R4LCBkYXRhWzFdLCBKU19VTkRFRklORUQsIDEsICZ2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZGF0YVsxXSk7CiAgZGF0YVsxXSA9IEpTX1VOREVGSU5FRDsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zb2NrZXRfYXN5bmNfd2FpdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgU29ja2V0IHNvY2sgPSBqc19zb2NrZXRfZGF0YTIoY3R4LCB0aGlzX3ZhbCk7CiAgSlNNb2R1bGVEZWYqIG9zOwogIGNvbnN0IGNoYXIqIGhhbmRsZXIgPSAobWFnaWMgJiAxKSA/ICJzZXRXcml0ZUhhbmRsZXIiIDogInNldFJlYWRIYW5kbGVyIjsKICBKU0F0b20gZnVuY19uYW1lOwogIGludCBkYXRhX2xlbjsKICBKU1ZhbHVlIHJldCwgc2V0X2hhbmRsZXIsIGFyZ3NbMl0sIGRhdGFbN10sIHByb21pc2UsIHJlc29sdmluZ19mdW5jc1syXTsKCiAgaWYoIShvcyA9IGpzX21vZHVsZV9maW5kKGN0eCwgIm9zIikpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICInb3MnIG1vZHVsZSByZXF1aXJlZCIpOwoKICBmdW5jX25hbWUgPSBKU19OZXdBdG9tKGN0eCwgaGFuZGxlcik7CiAgc2V0X2hhbmRsZXIgPSBtb2R1bGVfZXhwb3J0c19maW5kKGN0eCwgb3MsIGZ1bmNfbmFtZSk7CiAgSlNfRnJlZUF0b20oY3R4LCBmdW5jX25hbWUpOwoKICBpZighSlNfSXNGdW5jdGlvbihjdHgsIHNldF9oYW5kbGVyKSkgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgc2V0X2hhbmRsZXIpOwogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJubyBvcy4lcyBmdW5jdGlvbiIsIGhhbmRsZXIpOwogIH0KCiAgaWYoanNfdmFsdWVfaXNjbGFzcyhjdHgsIHNldF9oYW5kbGVyLCBKU19DTEFTU19DX0ZVTkNUSU9OKSkgewogICAgSlNPYmplY3QqIG9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooc2V0X2hhbmRsZXIpOwogICAgcHJpbnRmKCJjZnVuYzolcFxuIiwgb2JqLT51LmNmdW5jLmNfZnVuY3Rpb24uZ2VuZXJpYyk7CiAgfQoKICBwcm9taXNlID0gSlNfTmV3UHJvbWlzZUNhcGFiaWxpdHkoY3R4LCByZXNvbHZpbmdfZnVuY3MpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb21pc2UpKQogICAgcmV0dXJuIHByb21pc2U7CgogIGRhdGFbMF0gPSB0aGlzX3ZhbDsKICBkYXRhWzFdID0gcmVzb2x2aW5nX2Z1bmNzWzBdOwogIGRhdGFbMl0gPSBzZXRfaGFuZGxlcjsKICBkYXRhX2xlbiA9IDM7CgogIGlmKG1hZ2ljID49IDIpIHsKICAgIGludCBpLCBuID0gKG1hZ2ljICYgMHgwMikgPyA1IDogNDsKCiAgICBmb3IoaSA9IDA7IGkgPCBuOyBpKyspIGRhdGFbZGF0YV9sZW4rK10gPSBpIDwgYXJnYyA/IGFyZ3ZbaV0gOiBKU19VTkRFRklORUQ7CiAgfQoKICBhcmdzWzBdID0gdGhpc192YWw7CiAgYXJnc1sxXSA9IEpTX05ld0NGdW5jdGlvbkRhdGEoY3R4LCBqc19zb2NrZXRfYXN5bmNfcmVzb2x2ZSwgMCwgbWFnaWMsIGRhdGFfbGVuLCBkYXRhKTsKCiAgcmV0ID0gSlNfQ2FsbChjdHgsIHNldF9oYW5kbGVyLCBKU19VTkRFRklORUQsIDIsIGFyZ3MpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBhcmdzWzFdKTsKICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfaGFuZGxlcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcmVzb2x2aW5nX2Z1bmNzWzBdKTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXNvbHZpbmdfZnVuY3NbMV0pOwoKICByZXR1cm4gcHJvbWlzZTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc29ja2V0X2Fkb3B0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50MzJfdCBmZCA9IC0xOwoKICBKU19Ub0ludDMyKGN0eCwgJmZkLCBhcmd2WzBdKTsKCiAgcmV0dXJuIGpzX3NvY2tldF9uZXdfcHJvdG8oY3R4LCBzb2NrZXRfcHJvdG8sIGZkKTsKfQoKc3RhdGljIHZvaWQKanNfc29ja2V0X2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIFNvY2tldCBzb2NrID0ganNfc29ja2V0X2RhdGEodmFsKTsKCiAgaWYoc29jay5mZCA+PSAwKSB7CiAgICBpZihzb2NrZXRfb3Blbihzb2NrKSkKICAgICAgY2xvc2Uoc29jay5mZCk7CiAgfQogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19zb2NrZXRfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTb2NrZXQiLAogICAgLmZpbmFsaXplciA9IGpzX3NvY2tldF9maW5hbGl6ZXIsCn07CgpzdGF0aWMgSlNWYWx1ZQpqc19zb2Nrb3B0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICByZXR1cm4ganNfc29ja2V0X21ldGhvZChjdHgsIGFyZ3ZbMF0sIGFyZ2MgLSAxLCBhcmd2ICsgMSwgbWFnaWMpOwp9CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc29ja2V0c19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJzb2NrZXQiLCAxLCBqc19zb2NrZXQpLAogICAgSlNfQ0ZVTkNfREVGKCJzb2NrZXRwYWlyIiwgNCwganNfc29ja2V0cGFpciksCiAgICBKU19DRlVOQ19ERUYoInNlbGVjdCIsIDEsIGpzX3NlbGVjdCksCiNpZm5kZWYgX1dJTjMyCiAgICBKU19DRlVOQ19ERUYoInBvbGwiLCAxLCBqc19wb2xsKSwKI2VuZGlmCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldHNvY2tvcHQiLCA0LCBqc19zb2Nrb3B0LCBTT0NLRVRTX0dFVFNPQ0tPUFQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZXRzb2Nrb3B0IiwgNCwganNfc29ja29wdCwgU09DS0VUU19TRVRTT0NLT1BUKSwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zb2NrZXRfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKCJmZCIsIGpzX3NvY2tldF9nZXQsIDAsIFNPQ0tFVFNfRkQsIEpTX1BST1BfQ19XX0UpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImVycm5vIiwganNfc29ja2V0X2dldCwgMCwgU09DS0VUU19FUlJOTyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3lzY2FsbCIsIGpzX3NvY2tldF9nZXQsIDAsIFNPQ0tFVFNfU1lTQ0FMTCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZXJyb3IiLCBqc19zb2NrZXRfZ2V0LCAwLCBTT0NLRVRTX0VSUk9SKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJlcnJubyIsIGpzX3NvY2tldF9nZXQsIDAsIFNPQ0tFVFNfRVJSTk8pLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxvY2FsIiwganNfc29ja2V0X2dldCwgMCwgU09DS0VUU19MT0NBTCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicmVtb3RlIiwganNfc29ja2V0X2dldCwgMCwgU09DS0VUU19SRU1PVEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm9wZW4iLCBqc19zb2NrZXRfZ2V0LCAwLCBTT0NLRVRTX09QRU4pLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImVvZiIsIGpzX3NvY2tldF9nZXQsIDAsIFNPQ0tFVFNfRU9GKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJtb2RlIiwganNfc29ja2V0X2dldCwganNfc29ja2V0X3NldCwgU09DS0VUU19NT0RFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJyZXQiLCBqc19zb2NrZXRfZ2V0LCBqc19zb2NrZXRfc2V0LCBTT0NLRVRTX1JFVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoIm5kZWxheSIsIDAsIGpzX3NvY2tldF9tZXRob2QsIFNPQ0tFVFNfTkRFTEFZKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYmluZCIsIDEsIGpzX3NvY2tldF9tZXRob2QsIFNPQ0tFVFNfQklORCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImNvbm5lY3QiLCAxLCBqc19zb2NrZXRfbWV0aG9kLCBTT0NLRVRTX0NPTk5FQ1QpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJsaXN0ZW4iLCAwLCBqc19zb2NrZXRfbWV0aG9kLCBTT0NLRVRTX0xJU1RFTiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNlbmQiLCAxLCBqc19zb2NrZXRfbWV0aG9kLCBTT0NLRVRTX1NFTkQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZW5kdG8iLCAyLCBqc19zb2NrZXRfbWV0aG9kLCBTT0NLRVRTX1NFTkRUTyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJlY3YiLCAxLCBqc19zb2NrZXRfbWV0aG9kLCBTT0NLRVRTX1JFQ1YpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyZWN2ZnJvbSIsIDIsIGpzX3NvY2tldF9tZXRob2QsIFNPQ0tFVFNfUkVDVkZST00pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaHV0ZG93biIsIDEsIGpzX3NvY2tldF9tZXRob2QsIFNPQ0tFVFNfU0hVVERPV04pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJjbG9zZSIsIDAsIGpzX3NvY2tldF9tZXRob2QsIFNPQ0tFVFNfQ0xPU0UpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRzb2Nrb3B0IiwgMywganNfc29ja2V0X21ldGhvZCwgU09DS0VUU19HRVRTT0NLT1BUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic2V0c29ja29wdCIsIDMsIGpzX3NvY2tldF9tZXRob2QsIFNPQ0tFVFNfU0VUU09DS09QVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoIndhaXRSZWFkIiwgMCwganNfc29ja2V0X2FzeW5jX3dhaXQsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ3YWl0V3JpdGUiLCAwLCBqc19zb2NrZXRfYXN5bmNfd2FpdCwgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImFzeW5jUmVhZCIsIDEsIGpzX3NvY2tldF9hc3luY193YWl0LCAyKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXN5bmNXcml0ZSIsIDEsIGpzX3NvY2tldF9hc3luY193YWl0LCAzKSwKICAgIEpTX0NGVU5DX0RFRigidmFsdWVPZiIsIDAsIGpzX3NvY2tldF92YWx1ZW9mKSwKICAgIEpTX0FMSUFTX0RFRigiW1N5bWJvbC50b1ByaW1pdGl2ZV0iLCAidmFsdWVPZiIpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJTb2NrZXQiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc29ja2V0X3N0YXRpY19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJhZG9wdCIsIDEsIGpzX3NvY2tldF9hZG9wdCksCn07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc29ja2V0c19kZWZpbmVzW10gPSB7CiNpZmRlZiBBRl9VTlNQRUMKICAgIEpTX0NPTlNUQU5UKEFGX1VOU1BFQyksCiNlbmRpZgojaWZkZWYgQUZfTE9DQUwKICAgIEpTX0NPTlNUQU5UKEFGX0xPQ0FMKSwKI2VuZGlmCiNpZmRlZiBBRl9VTklYCiAgICBKU19DT05TVEFOVChBRl9VTklYKSwKI2VuZGlmCiNpZmRlZiBBRl9JTkVUCiAgICBKU19DT05TVEFOVChBRl9JTkVUKSwKI2VuZGlmCiNpZmRlZiBBRl9BWDI1CiAgICBKU19DT05TVEFOVChBRl9BWDI1KSwKI2VuZGlmCiNpZmRlZiBBRl9JUFgKICAgIEpTX0NPTlNUQU5UKEFGX0lQWCksCiNlbmRpZgojaWZkZWYgQUZfQVBQTEVUQUxLCiAgICBKU19DT05TVEFOVChBRl9BUFBMRVRBTEspLAojZW5kaWYKI2lmZGVmIEFGX05FVFJPTQogICAgSlNfQ09OU1RBTlQoQUZfTkVUUk9NKSwKI2VuZGlmCiNpZmRlZiBBRl9CUklER0UKICAgIEpTX0NPTlNUQU5UKEFGX0JSSURHRSksCiNlbmRpZgojaWZkZWYgQUZfQVRNUFZDCiAgICBKU19DT05TVEFOVChBRl9BVE1QVkMpLAojZW5kaWYKI2lmZGVmIEFGX1gyNQogICAgSlNfQ09OU1RBTlQoQUZfWDI1KSwKI2VuZGlmCiNpZmRlZiBBRl9JTkVUNgogICAgSlNfQ09OU1RBTlQoQUZfSU5FVDYpLAojZW5kaWYKI2lmZGVmIEFGX1JPU0UKICAgIEpTX0NPTlNUQU5UKEFGX1JPU0UpLAojZW5kaWYKI2lmZGVmIEFGX0RFQ25ldAogICAgSlNfQ09OU1RBTlQoQUZfREVDbmV0KSwKI2VuZGlmCiNpZmRlZiBBRl9ORVRCRVVJCiAgICBKU19DT05TVEFOVChBRl9ORVRCRVVJKSwKI2VuZGlmCiNpZmRlZiBBRl9TRUNVUklUWQogICAgSlNfQ09OU1RBTlQoQUZfU0VDVVJJVFkpLAojZW5kaWYKI2lmZGVmIEFGX0tFWQogICAgSlNfQ09OU1RBTlQoQUZfS0VZKSwKI2VuZGlmCiNpZmRlZiBBRl9ORVRMSU5LCiAgICBKU19DT05TVEFOVChBRl9ORVRMSU5LKSwKI2VuZGlmCiNpZmRlZiBBRl9ST1VURQogICAgSlNfQ09OU1RBTlQoQUZfUk9VVEUpLAojZW5kaWYKI2lmZGVmIEFGX1BBQ0tFVAogICAgSlNfQ09OU1RBTlQoQUZfUEFDS0VUKSwKI2VuZGlmCiNpZmRlZiBBRl9BU0gKICAgIEpTX0NPTlNUQU5UKEFGX0FTSCksCiNlbmRpZgojaWZkZWYgQUZfRUNPTkVUCiAgICBKU19DT05TVEFOVChBRl9FQ09ORVQpLAojZW5kaWYKI2lmZGVmIEFGX0FUTVNWQwogICAgSlNfQ09OU1RBTlQoQUZfQVRNU1ZDKSwKI2VuZGlmCiNpZmRlZiBBRl9TTkEKICAgIEpTX0NPTlNUQU5UKEFGX1NOQSksCiNlbmRpZgojaWZkZWYgQUZfSVJEQQogICAgSlNfQ09OU1RBTlQoQUZfSVJEQSksCiNlbmRpZgojaWZkZWYgQUZfUFBQT1gKICAgIEpTX0NPTlNUQU5UKEFGX1BQUE9YKSwKI2VuZGlmCiNpZmRlZiBBRl9XQU5QSVBFCiAgICBKU19DT05TVEFOVChBRl9XQU5QSVBFKSwKI2VuZGlmCiNpZmRlZiBBRl9MTEMKICAgIEpTX0NPTlNUQU5UKEFGX0xMQyksCiNlbmRpZgojaWZkZWYgQUZfSUIKICAgIEpTX0NPTlNUQU5UKEFGX0lCKSwKI2VuZGlmCiNpZmRlZiBBRl9NUExTCiAgICBKU19DT05TVEFOVChBRl9NUExTKSwKI2VuZGlmCiNpZmRlZiBBRl9DQU4KICAgIEpTX0NPTlNUQU5UKEFGX0NBTiksCiNlbmRpZgojaWZkZWYgQUZfVElQQwogICAgSlNfQ09OU1RBTlQoQUZfVElQQyksCiNlbmRpZgojaWZkZWYgQUZfQkxVRVRPT1RICiAgICBKU19DT05TVEFOVChBRl9CTFVFVE9PVEgpLAojZW5kaWYKI2lmZGVmIEFGX0lVQ1YKICAgIEpTX0NPTlNUQU5UKEFGX0lVQ1YpLAojZW5kaWYKI2lmZGVmIEFGX1JYUlBDCiAgICBKU19DT05TVEFOVChBRl9SWFJQQyksCiNlbmRpZgojaWZkZWYgQUZfSVNETgogICAgSlNfQ09OU1RBTlQoQUZfSVNETiksCiNlbmRpZgojaWZkZWYgQUZfUEhPTkVUCiAgICBKU19DT05TVEFOVChBRl9QSE9ORVQpLAojZW5kaWYKI2lmZGVmIEFGX0lFRUU4MDIxNTQKICAgIEpTX0NPTlNUQU5UKEFGX0lFRUU4MDIxNTQpLAojZW5kaWYKI2lmZGVmIEFGX0NBSUYKICAgIEpTX0NPTlNUQU5UKEFGX0NBSUYpLAojZW5kaWYKI2lmZGVmIEFGX0FMRwogICAgSlNfQ09OU1RBTlQoQUZfQUxHKSwKI2VuZGlmCiNpZmRlZiBBRl9ORkMKICAgIEpTX0NPTlNUQU5UKEFGX05GQyksCiNlbmRpZgojaWZkZWYgQUZfVlNPQ0sKICAgIEpTX0NPTlNUQU5UKEFGX1ZTT0NLKSwKI2VuZGlmCiNpZmRlZiBBRl9NQVgKICAgIEpTX0NPTlNUQU5UKEFGX01BWCksCiNlbmRpZgojaWZkZWYgRVBFUk0KICAgIEpTX0NPTlNUQU5UKEVQRVJNKSwKI2VuZGlmCiNpZmRlZiBFTk9FTlQKICAgIEpTX0NPTlNUQU5UKEVOT0VOVCksCiNlbmRpZgojaWZkZWYgRUlOVFIKICAgIEpTX0NPTlNUQU5UKEVJTlRSKSwKI2VuZGlmCiNpZmRlZiBFQkFERgogICAgSlNfQ09OU1RBTlQoRUJBREYpLAojZW5kaWYKI2lmZGVmIEVBR0FJTgogICAgSlNfQ09OU1RBTlQoRUFHQUlOKSwKI2VuZGlmCiNpZmRlZiBFV09VTERCTE9DSwogICAgSlNfQ09OU1RBTlQoRVdPVUxEQkxPQ0spLAojZW5kaWYKI2lmZGVmIEVOT01FTQogICAgSlNfQ09OU1RBTlQoRU5PTUVNKSwKI2VuZGlmCiNpZmRlZiBFQUNDRVMKICAgIEpTX0NPTlNUQU5UKEVBQ0NFUyksCiNlbmRpZgojaWZkZWYgRUZBVUxUCiAgICBKU19DT05TVEFOVChFRkFVTFQpLAojZW5kaWYKI2lmZGVmIEVOT1RESVIKICAgIEpTX0NPTlNUQU5UKEVOT1RESVIpLAojZW5kaWYKI2lmZGVmIEVJTlZBTAogICAgSlNfQ09OU1RBTlQoRUlOVkFMKSwKI2VuZGlmCiNpZmRlZiBFTkZJTEUKICAgIEpTX0NPTlNUQU5UKEVORklMRSksCiNlbmRpZgojaWZkZWYgRU1GSUxFCiAgICBKU19DT05TVEFOVChFTUZJTEUpLAojZW5kaWYKI2lmZGVmIEVST0ZTCiAgICBKU19DT05TVEFOVChFUk9GUyksCiNlbmRpZgojaWZkZWYgRVBJUEUKICAgIEpTX0NPTlNUQU5UKEVQSVBFKSwKI2VuZGlmCiNpZmRlZiBFTkFNRVRPT0xPTkcKICAgIEpTX0NPTlNUQU5UKEVOQU1FVE9PTE9ORyksCiNlbmRpZgojaWZkZWYgRVBST1RPCiAgICBKU19DT05TVEFOVChFUFJPVE8pLAojZW5kaWYKI2lmZGVmIEVOT1RTT0NLCiAgICBKU19DT05TVEFOVChFTk9UU09DSyksCiNlbmRpZgojaWZkZWYgRURFU1RBRERSUkVRCiAgICBKU19DT05TVEFOVChFREVTVEFERFJSRVEpLAojZW5kaWYKI2lmZGVmIEVNU0dTSVpFCiAgICBKU19DT05TVEFOVChFTVNHU0laRSksCiNlbmRpZgojaWZkZWYgRVBST1RPVFlQRQogICAgSlNfQ09OU1RBTlQoRVBST1RPVFlQRSksCiNlbmRpZgojaWZkZWYgRU5PUFJPVE9PUFQKICAgIEpTX0NPTlNUQU5UKEVOT1BST1RPT1BUKSwKI2VuZGlmCiNpZmRlZiBFUFJPVE9OT1NVUFBPUlQKICAgIEpTX0NPTlNUQU5UKEVQUk9UT05PU1VQUE9SVCksCiNlbmRpZgojaWZkZWYgRU9QTk9UU1VQUAogICAgSlNfQ09OU1RBTlQoRU9QTk9UU1VQUCksCiNlbmRpZgojaWZkZWYgRUFGTk9TVVBQT1JUCiAgICBKU19DT05TVEFOVChFQUZOT1NVUFBPUlQpLAojZW5kaWYKI2lmZGVmIEVBRERSSU5VU0UKICAgIEpTX0NPTlNUQU5UKEVBRERSSU5VU0UpLAojZW5kaWYKI2lmZGVmIEVBRERSTk9UQVZBSUwKICAgIEpTX0NPTlNUQU5UKEVBRERSTk9UQVZBSUwpLAojZW5kaWYKI2lmZGVmIEVORVRET1dOCiAgICBKU19DT05TVEFOVChFTkVURE9XTiksCiNlbmRpZgojaWZkZWYgRU5FVFVOUkVBQ0gKICAgIEpTX0NPTlNUQU5UKEVORVRVTlJFQUNIKSwKI2VuZGlmCiNpZmRlZiBFQ09OTkFCT1JURUQKICAgIEpTX0NPTlNUQU5UKEVDT05OQUJPUlRFRCksCiNlbmRpZgojaWZkZWYgRUNPTk5SRVNFVAogICAgSlNfQ09OU1RBTlQoRUNPTk5SRVNFVCksCiNlbmRpZgojaWZkZWYgRU5PQlVGUwogICAgSlNfQ09OU1RBTlQoRU5PQlVGUyksCiNlbmRpZgojaWZkZWYgRUlTQ09OTgogICAgSlNfQ09OU1RBTlQoRUlTQ09OTiksCiNlbmRpZgojaWZkZWYgRU5PVENPTk4KICAgIEpTX0NPTlNUQU5UKEVOT1RDT05OKSwKI2VuZGlmCiNpZmRlZiBFVElNRURPVVQKICAgIEpTX0NPTlNUQU5UKEVUSU1FRE9VVCksCiNlbmRpZgojaWZkZWYgRUNPTk5SRUZVU0VECiAgICBKU19DT05TVEFOVChFQ09OTlJFRlVTRUQpLAojZW5kaWYKI2lmZGVmIEVIT1NUVU5SRUFDSAogICAgSlNfQ09OU1RBTlQoRUhPU1RVTlJFQUNIKSwKI2VuZGlmCiNpZmRlZiBFQUxSRUFEWQogICAgSlNfQ09OU1RBTlQoRUFMUkVBRFkpLAojZW5kaWYKI2lmZGVmIEVJTlBST0dSRVNTCiAgICBKU19DT05TVEFOVChFSU5QUk9HUkVTUyksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19IT1BPUFRTCiAgICBKU19DT05TVEFOVChJUFBST1RPX0hPUE9QVFMpLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fSVAKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fSVApLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fSUNNUAogICAgSlNfQ09OU1RBTlQoSVBQUk9UT19JQ01QKSwKI2VuZGlmCiNpZmRlZiBJUFBST1RPX0lHTVAKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fSUdNUCksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19JUElQCiAgICBKU19DT05TVEFOVChJUFBST1RPX0lQSVApLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fVENQCiAgICBKU19DT05TVEFOVChJUFBST1RPX1RDUCksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19FR1AKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fRUdQKSwKI2VuZGlmCiNpZmRlZiBJUFBST1RPX1BVUAogICAgSlNfQ09OU1RBTlQoSVBQUk9UT19QVVApLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fVURQCiAgICBKU19DT05TVEFOVChJUFBST1RPX1VEUCksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19JRFAKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fSURQKSwKI2VuZGlmCiNpZmRlZiBJUFBST1RPX0lQVjYKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fSVBWNiksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19ST1VUSU5HCiAgICBKU19DT05TVEFOVChJUFBST1RPX1JPVVRJTkcpLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fRlJBR01FTlQKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fRlJBR01FTlQpLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fUlNWUAogICAgSlNfQ09OU1RBTlQoSVBQUk9UT19SU1ZQKSwKI2VuZGlmCiNpZmRlZiBJUFBST1RPX0dSRQogICAgSlNfQ09OU1RBTlQoSVBQUk9UT19HUkUpLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fRVNQCiAgICBKU19DT05TVEFOVChJUFBST1RPX0VTUCksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19BSAogICAgSlNfQ09OU1RBTlQoSVBQUk9UT19BSCksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19JQ01QVjYKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fSUNNUFY2KSwKI2VuZGlmCiNpZmRlZiBJUFBST1RPX05PTkUKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fTk9ORSksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19EU1RPUFRTCiAgICBKU19DT05TVEFOVChJUFBST1RPX0RTVE9QVFMpLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fUElNCiAgICBKU19DT05TVEFOVChJUFBST1RPX1BJTSksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19DT01QCiAgICBKU19DT05TVEFOVChJUFBST1RPX0NPTVApLAojZW5kaWYKI2lmZGVmIElQUFJPVE9fU0NUUAogICAgSlNfQ09OU1RBTlQoSVBQUk9UT19TQ1RQKSwKI2VuZGlmCiNpZmRlZiBJUFBST1RPX1VEUExJVEUKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fVURQTElURSksCiNlbmRpZgojaWZkZWYgSVBQUk9UT19SQVcKICAgIEpTX0NPTlNUQU5UKElQUFJPVE9fUkFXKSwKI2VuZGlmCiNpZmRlZiBPX05PTkJMT0NLCiAgICBKU19DT05TVEFOVChPX05PTkJMT0NLKSwKI2VuZGlmCiNpZmRlZiBPX0FTWU5DCiAgICBKU19DT05TVEFOVChPX0FTWU5DKSwKI2VuZGlmCiNpZmRlZiBQRl9VTlNQRUMKICAgIEpTX0NPTlNUQU5UKFBGX1VOU1BFQyksCiNlbmRpZgojaWZkZWYgUEZfTE9DQUwKICAgIEpTX0NPTlNUQU5UKFBGX0xPQ0FMKSwKI2VuZGlmCiNpZmRlZiBQRl9VTklYCiAgICBKU19DT05TVEFOVChQRl9VTklYKSwKI2VuZGlmCiNpZmRlZiBQRl9JTkVUCiAgICBKU19DT05TVEFOVChQRl9JTkVUKSwKI2VuZGlmCiNpZmRlZiBQRl9BWDI1CiAgICBKU19DT05TVEFOVChQRl9BWDI1KSwKI2VuZGlmCiNpZmRlZiBQRl9JUFgKICAgIEpTX0NPTlNUQU5UKFBGX0lQWCksCiNlbmRpZgojaWZkZWYgUEZfQVBQTEVUQUxLCiAgICBKU19DT05TVEFOVChQRl9BUFBMRVRBTEspLAojZW5kaWYKI2lmZGVmIFBGX05FVFJPTQogICAgSlNfQ09OU1RBTlQoUEZfTkVUUk9NKSwKI2VuZGlmCiNpZmRlZiBQRl9CUklER0UKICAgIEpTX0NPTlNUQU5UKFBGX0JSSURHRSksCiNlbmRpZgojaWZkZWYgUEZfQVRNUFZDCiAgICBKU19DT05TVEFOVChQRl9BVE1QVkMpLAojZW5kaWYKI2lmZGVmIFBGX1gyNQogICAgSlNfQ09OU1RBTlQoUEZfWDI1KSwKI2VuZGlmCiNpZmRlZiBQRl9JTkVUNgogICAgSlNfQ09OU1RBTlQoUEZfSU5FVDYpLAojZW5kaWYKI2lmZGVmIFBGX1JPU0UKICAgIEpTX0NPTlNUQU5UKFBGX1JPU0UpLAojZW5kaWYKI2lmZGVmIFBGX0RFQ25ldAogICAgSlNfQ09OU1RBTlQoUEZfREVDbmV0KSwKI2VuZGlmCiNpZmRlZiBQRl9ORVRCRVVJCiAgICBKU19DT05TVEFOVChQRl9ORVRCRVVJKSwKI2VuZGlmCiNpZmRlZiBQRl9TRUNVUklUWQogICAgSlNfQ09OU1RBTlQoUEZfU0VDVVJJVFkpLAojZW5kaWYKI2lmZGVmIFBGX0tFWQogICAgSlNfQ09OU1RBTlQoUEZfS0VZKSwKI2VuZGlmCiNpZmRlZiBQRl9ORVRMSU5LCiAgICBKU19DT05TVEFOVChQRl9ORVRMSU5LKSwKI2VuZGlmCiNpZmRlZiBQRl9ST1VURQogICAgSlNfQ09OU1RBTlQoUEZfUk9VVEUpLAojZW5kaWYKI2lmZGVmIFBGX1BBQ0tFVAogICAgSlNfQ09OU1RBTlQoUEZfUEFDS0VUKSwKI2VuZGlmCiNpZmRlZiBQRl9BU0gKICAgIEpTX0NPTlNUQU5UKFBGX0FTSCksCiNlbmRpZgojaWZkZWYgUEZfRUNPTkVUCiAgICBKU19DT05TVEFOVChQRl9FQ09ORVQpLAojZW5kaWYKI2lmZGVmIFBGX0FUTVNWQwogICAgSlNfQ09OU1RBTlQoUEZfQVRNU1ZDKSwKI2VuZGlmCiNpZmRlZiBQRl9TTkEKICAgIEpTX0NPTlNUQU5UKFBGX1NOQSksCiNlbmRpZgojaWZkZWYgUEZfSVJEQQogICAgSlNfQ09OU1RBTlQoUEZfSVJEQSksCiNlbmRpZgojaWZkZWYgUEZfUFBQT1gKICAgIEpTX0NPTlNUQU5UKFBGX1BQUE9YKSwKI2VuZGlmCiNpZmRlZiBQRl9XQU5QSVBFCiAgICBKU19DT05TVEFOVChQRl9XQU5QSVBFKSwKI2VuZGlmCiNpZmRlZiBQRl9MTEMKICAgIEpTX0NPTlNUQU5UKFBGX0xMQyksCiNlbmRpZgojaWZkZWYgUEZfSUIKICAgIEpTX0NPTlNUQU5UKFBGX0lCKSwKI2VuZGlmCiNpZmRlZiBQRl9NUExTCiAgICBKU19DT05TVEFOVChQRl9NUExTKSwKI2VuZGlmCiNpZmRlZiBQRl9DQU4KICAgIEpTX0NPTlNUQU5UKFBGX0NBTiksCiNlbmRpZgojaWZkZWYgUEZfVElQQwogICAgSlNfQ09OU1RBTlQoUEZfVElQQyksCiNlbmRpZgojaWZkZWYgUEZfQkxVRVRPT1RICiAgICBKU19DT05TVEFOVChQRl9CTFVFVE9PVEgpLAojZW5kaWYKI2lmZGVmIFBGX0lVQ1YKICAgIEpTX0NPTlNUQU5UKFBGX0lVQ1YpLAojZW5kaWYKI2lmZGVmIFBGX1JYUlBDCiAgICBKU19DT05TVEFOVChQRl9SWFJQQyksCiNlbmRpZgojaWZkZWYgUEZfSVNETgogICAgSlNfQ09OU1RBTlQoUEZfSVNETiksCiNlbmRpZgojaWZkZWYgUEZfUEhPTkVUCiAgICBKU19DT05TVEFOVChQRl9QSE9ORVQpLAojZW5kaWYKI2lmZGVmIFBGX0lFRUU4MDIxNTQKICAgIEpTX0NPTlNUQU5UKFBGX0lFRUU4MDIxNTQpLAojZW5kaWYKI2lmZGVmIFBGX0NBSUYKICAgIEpTX0NPTlNUQU5UKFBGX0NBSUYpLAojZW5kaWYKI2lmZGVmIFBGX0FMRwogICAgSlNfQ09OU1RBTlQoUEZfQUxHKSwKI2VuZGlmCiNpZmRlZiBQRl9ORkMKICAgIEpTX0NPTlNUQU5UKFBGX05GQyksCiNlbmRpZgojaWZkZWYgUEZfVlNPQ0sKICAgIEpTX0NPTlNUQU5UKFBGX1ZTT0NLKSwKI2VuZGlmCiNpZmRlZiBQRl9NQVgKICAgIEpTX0NPTlNUQU5UKFBGX01BWCksCiNlbmRpZgojaWZkZWYgUE9MTElOCiAgICBKU19DT05TVEFOVChQT0xMSU4pLAojZW5kaWYKI2lmZGVmIFBPTExQUkkKICAgIEpTX0NPTlNUQU5UKFBPTExQUkkpLAojZW5kaWYKI2lmZGVmIFBPTExPVVQKICAgIEpTX0NPTlNUQU5UKFBPTExPVVQpLAojZW5kaWYKI2lmZGVmIFBPTExFUlIKICAgIEpTX0NPTlNUQU5UKFBPTExFUlIpLAojZW5kaWYKI2lmZGVmIFBPTExIVVAKICAgIEpTX0NPTlNUQU5UKFBPTExIVVApLAojZW5kaWYKI2lmZGVmIFBPTExOVkFMCiAgICBKU19DT05TVEFOVChQT0xMTlZBTCksCiNlbmRpZgojaWZkZWYgUE9MTFJETk9STQogICAgSlNfQ09OU1RBTlQoUE9MTFJETk9STSksCiNlbmRpZgojaWZkZWYgUE9MTFJEQkFORAogICAgSlNfQ09OU1RBTlQoUE9MTFJEQkFORCksCiNlbmRpZgojaWZkZWYgUE9MTFdSTk9STQogICAgSlNfQ09OU1RBTlQoUE9MTFdSTk9STSksCiNlbmRpZgojaWZkZWYgUE9MTFdSQkFORAogICAgSlNfQ09OU1RBTlQoUE9MTFdSQkFORCksCiNlbmRpZgojaWZkZWYgU0hVVF9XUgogICAgSlNfQ09OU1RBTlQoU0hVVF9XUiksCiNlbmRpZgojaWZkZWYgU0hVVF9SRFdSCiAgICBKU19DT05TVEFOVChTSFVUX1JEV1IpLAojZW5kaWYKI2lmZGVmIFNPX0RFQlVHCiAgICBKU19DT05TVEFOVChTT19ERUJVRyksCiNlbmRpZgojaWZkZWYgU09fUkVVU0VBRERSCiAgICBKU19DT05TVEFOVChTT19SRVVTRUFERFIpLAojZW5kaWYKI2lmZGVmIFNPX0VSUk9SCiAgICBKU19DT05TVEFOVChTT19FUlJPUiksCiNlbmRpZgojaWZkZWYgU09fRE9OVFJPVVRFCiAgICBKU19DT05TVEFOVChTT19ET05UUk9VVEUpLAojZW5kaWYKI2lmZGVmIFNPX0JST0FEQ0FTVAogICAgSlNfQ09OU1RBTlQoU09fQlJPQURDQVNUKSwKI2VuZGlmCiNpZmRlZiBTT19TTkRCVUYKICAgIEpTX0NPTlNUQU5UKFNPX1NOREJVRiksCiNlbmRpZgojaWZkZWYgU09fUkNWQlVGCiAgICBKU19DT05TVEFOVChTT19SQ1ZCVUYpLAojZW5kaWYKI2lmZGVmIFNPX0tFRVBBTElWRQogICAgSlNfQ09OU1RBTlQoU09fS0VFUEFMSVZFKSwKI2VuZGlmCiNpZmRlZiBTT19PT0JJTkxJTkUKICAgIEpTX0NPTlNUQU5UKFNPX09PQklOTElORSksCiNlbmRpZgojaWZkZWYgU09fTk9fQ0hFQ0sKICAgIEpTX0NPTlNUQU5UKFNPX05PX0NIRUNLKSwKI2VuZGlmCiNpZmRlZiBTT19QUklPUklUWQogICAgSlNfQ09OU1RBTlQoU09fUFJJT1JJVFkpLAojZW5kaWYKI2lmZGVmIFNPX0JTRENPTVBBVAogICAgSlNfQ09OU1RBTlQoU09fQlNEQ09NUEFUKSwKI2VuZGlmCiNpZmRlZiBTT19SRVVTRVBPUlQKICAgIEpTX0NPTlNUQU5UKFNPX1JFVVNFUE9SVCksCiNlbmRpZgojaWZkZWYgU09fUEFTU0NSRUQKICAgIEpTX0NPTlNUQU5UKFNPX1BBU1NDUkVEKSwKI2VuZGlmCiNpZmRlZiBTT19QRUVSQ1JFRAogICAgSlNfQ09OU1RBTlQoU09fUEVFUkNSRUQpLAojZW5kaWYKI2lmZGVmIFNPX1JDVkxPV0FUCiAgICBKU19DT05TVEFOVChTT19SQ1ZMT1dBVCksCiNlbmRpZgojaWZkZWYgU09fU05ETE9XQVQKICAgIEpTX0NPTlNUQU5UKFNPX1NORExPV0FUKSwKI2VuZGlmCiNpZmRlZiBTT19SQ1ZUSU1FTwogICAgSlNfQ09OU1RBTlQoU09fUkNWVElNRU8pLAojZW5kaWYKI2lmZGVmIFNPX1NORFRJTUVPCiAgICBKU19DT05TVEFOVChTT19TTkRUSU1FTyksCiNlbmRpZgojaWZkZWYgU09fU0VDVVJJVFlfQVVUSEVOVElDQVRJT04KICAgIEpTX0NPTlNUQU5UKFNPX1NFQ1VSSVRZX0FVVEhFTlRJQ0FUSU9OKSwKI2VuZGlmCiNpZmRlZiBTT19TRUNVUklUWV9FTkNSWVBUSU9OX1RSQU5TUE9SVAogICAgSlNfQ09OU1RBTlQoU09fU0VDVVJJVFlfRU5DUllQVElPTl9UUkFOU1BPUlQpLAojZW5kaWYKI2lmZGVmIFNPX1NFQ1VSSVRZX0VOQ1JZUFRJT05fTkVUV09SSwogICAgSlNfQ09OU1RBTlQoU09fU0VDVVJJVFlfRU5DUllQVElPTl9ORVRXT1JLKSwKI2VuZGlmCiNpZmRlZiBTT19CSU5EVE9ERVZJQ0UKICAgIEpTX0NPTlNUQU5UKFNPX0JJTkRUT0RFVklDRSksCiNlbmRpZgojaWZkZWYgU09fQVRUQUNIX0ZJTFRFUgogICAgSlNfQ09OU1RBTlQoU09fQVRUQUNIX0ZJTFRFUiksCiNlbmRpZgojaWZkZWYgU09fR0VUX0ZJTFRFUgogICAgSlNfQ09OU1RBTlQoU09fR0VUX0ZJTFRFUiksCiNlbmRpZgojaWZkZWYgU09fREVUQUNIX0JQRgogICAgSlNfQ09OU1RBTlQoU09fREVUQUNIX0JQRiksCiNlbmRpZgojaWZkZWYgU09fREVUQUNIX0ZJTFRFUgogICAgSlNfQ09OU1RBTlQoU09fREVUQUNIX0ZJTFRFUiksCiNlbmRpZgojaWZkZWYgU09fUEVFUk5BTUUKICAgIEpTX0NPTlNUQU5UKFNPX1BFRVJOQU1FKSwKI2VuZGlmCiNpZmRlZiBTT19USU1FU1RBTVAKICAgIEpTX0NPTlNUQU5UKFNPX1RJTUVTVEFNUCksCiNlbmRpZgojaWZkZWYgU09fQUNDRVBUQ09OTgogICAgSlNfQ09OU1RBTlQoU09fQUNDRVBUQ09OTiksCiNlbmRpZgojaWZkZWYgU09fUEVFUlNFQwogICAgSlNfQ09OU1RBTlQoU09fUEVFUlNFQyksCiNlbmRpZgojaWZkZWYgU09fU05EQlVGRk9SQ0UKICAgIEpTX0NPTlNUQU5UKFNPX1NOREJVRkZPUkNFKSwKI2VuZGlmCiNpZmRlZiBTT19SQ1ZCVUZGT1JDRQogICAgSlNfQ09OU1RBTlQoU09fUkNWQlVGRk9SQ0UpLAojZW5kaWYKI2lmZGVmIFNPX1BBU1NTRUMKICAgIEpTX0NPTlNUQU5UKFNPX1BBU1NTRUMpLAojZW5kaWYKI2lmZGVmIFNPX1RJTUVTVEFNUE5TCiAgICBKU19DT05TVEFOVChTT19USU1FU1RBTVBOUyksCiNlbmRpZgojaWZkZWYgU09fTUFSSwogICAgSlNfQ09OU1RBTlQoU09fTUFSSyksCiNlbmRpZgojaWZkZWYgU09fVElNRVNUQU1QSU5HCiAgICBKU19DT05TVEFOVChTT19USU1FU1RBTVBJTkcpLAojZW5kaWYKI2lmZGVmIFNPX1BST1RPQ09MCiAgICBKU19DT05TVEFOVChTT19QUk9UT0NPTCksCiNlbmRpZgojaWZkZWYgU09fRE9NQUlOCiAgICBKU19DT05TVEFOVChTT19ET01BSU4pLAojZW5kaWYKI2lmZGVmIFNPX1JYUV9PVkZMCiAgICBKU19DT05TVEFOVChTT19SWFFfT1ZGTCksCiNlbmRpZgojaWZkZWYgU09fV0lGSV9TVEFUVVMKICAgIEpTX0NPTlNUQU5UKFNPX1dJRklfU1RBVFVTKSwKI2VuZGlmCiNpZmRlZiBTT19QRUVLX09GRgogICAgSlNfQ09OU1RBTlQoU09fUEVFS19PRkYpLAojZW5kaWYKI2lmZGVmIFNPX05PRkNTCiAgICBKU19DT05TVEFOVChTT19OT0ZDUyksCiNlbmRpZgojaWZkZWYgU09fTE9DS19GSUxURVIKICAgIEpTX0NPTlNUQU5UKFNPX0xPQ0tfRklMVEVSKSwKI2VuZGlmCiNpZmRlZiBTT19TRUxFQ1RfRVJSX1FVRVVFCiAgICBKU19DT05TVEFOVChTT19TRUxFQ1RfRVJSX1FVRVVFKSwKI2VuZGlmCiNpZmRlZiBTT19CVVNZX1BPTEwKICAgIEpTX0NPTlNUQU5UKFNPX0JVU1lfUE9MTCksCiNlbmRpZgojaWZkZWYgU09fTUFYX1BBQ0lOR19SQVRFCiAgICBKU19DT05TVEFOVChTT19NQVhfUEFDSU5HX1JBVEUpLAojZW5kaWYKI2lmZGVmIFNPX0JQRl9FWFRFTlNJT05TCiAgICBKU19DT05TVEFOVChTT19CUEZfRVhURU5TSU9OUyksCiNlbmRpZgojaWZkZWYgU09fSU5DT01JTkdfQ1BVCiAgICBKU19DT05TVEFOVChTT19JTkNPTUlOR19DUFUpLAojZW5kaWYKI2lmZGVmIFNPX0FUVEFDSF9CUEYKICAgIEpTX0NPTlNUQU5UKFNPX0FUVEFDSF9CUEYpLAojZW5kaWYKI2lmZGVmIFNPQ0tfU1RSRUFNCiAgICBKU19DT05TVEFOVChTT0NLX1NUUkVBTSksCiNlbmRpZgojaWZkZWYgU09DS19ER1JBTQogICAgSlNfQ09OU1RBTlQoU09DS19ER1JBTSksCiNlbmRpZgojaWZkZWYgU09DS19SQVcKICAgIEpTX0NPTlNUQU5UKFNPQ0tfUkFXKSwKI2VuZGlmCiNpZmRlZiBTT0NLX1JETQogICAgSlNfQ09OU1RBTlQoU09DS19SRE0pLAojZW5kaWYKI2lmZGVmIFNPQ0tfU0VRUEFDS0VUCiAgICBKU19DT05TVEFOVChTT0NLX1NFUVBBQ0tFVCksCiNlbmRpZgojaWZkZWYgU09DS19EQ0NQCiAgICBKU19DT05TVEFOVChTT0NLX0RDQ1ApLAojZW5kaWYKI2lmZGVmIFNPQ0tfUEFDS0VUCiAgICBKU19DT05TVEFOVChTT0NLX1BBQ0tFVCksCiNlbmRpZgojaWZkZWYgU09DS19OT05CTE9DSwogICAgSlNfQ09OU1RBTlQoU09DS19OT05CTE9DSyksCiNlbmRpZgojaWZkZWYgU09DS19DTE9FWEVDCiAgICBKU19DT05TVEFOVChTT0NLX0NMT0VYRUMpLAojZW5kaWYKI2lmZGVmIFNPTF9TT0NLRVQKICAgIEpTX0NPTlNUQU5UKFNPTF9TT0NLRVQpLAojZW5kaWYKI2lmZGVmIFNPTF9JUFY2CiAgICBKU19DT05TVEFOVChTT0xfSVBWNiksCiNlbmRpZgojaWZkZWYgU09MX0lDTVBWNgogICAgSlNfQ09OU1RBTlQoU09MX0lDTVBWNiksCiNlbmRpZgojaWZkZWYgU09MX1JBVwogICAgSlNfQ09OU1RBTlQoU09MX1JBVyksCiNlbmRpZgojaWZkZWYgU09MX0RFQ05FVAogICAgSlNfQ09OU1RBTlQoU09MX0RFQ05FVCksCiNlbmRpZgojaWZkZWYgU09MX1BBQ0tFVAogICAgSlNfQ09OU1RBTlQoU09MX1BBQ0tFVCksCiNlbmRpZgojaWZkZWYgU09MX0FUTQogICAgSlNfQ09OU1RBTlQoU09MX0FUTSksCiNlbmRpZgojaWZkZWYgU09MX0lSREEKICAgIEpTX0NPTlNUQU5UKFNPTF9JUkRBKSwKI2VuZGlmCn07CgpzdGF0aWMgaW50CmpzX3NvY2tldHNfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICAvKiBpZihqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQgPT0gMCkKICAgICBqc19zeXNjYWxsZXJyb3JfaW5pdChjdHgsIDApOyovCiAgSlNWYWx1ZSBmZHNldF9tb2R1bGUsIGZkc2V0X25zLCBmZHNldF9jdG9yID0gSlNfVU5ERUZJTkVELCBzb2NrbGVuX21vZHVsZSwgc29ja2xlbl9ucywgc29ja2xlbl9jdG9yID0gSlNfVU5ERUZJTkVEOwoKICAvKmlmKGpzX3NvY2tldF9jbGFzc19pZCA9PSAwKSovIHsKCiAgICBKU19OZXdDbGFzc0lEKCZqc19zb2NrYWRkcl9jbGFzc19pZCk7CiAgICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX3NvY2thZGRyX2NsYXNzX2lkLCAmanNfc29ja2FkZHJfY2xhc3MpOwoKICAgIHNvY2thZGRyX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc29ja2FkZHJfY29uc3RydWN0b3IsICJTb2NrQWRkciIsIDEsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIHNvY2thZGRyX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzb2NrYWRkcl9wcm90bywganNfc29ja2FkZHJfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc29ja2FkZHJfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19zb2NrYWRkcl9jbGFzc19pZCwgc29ja2FkZHJfcHJvdG8pOwoKICAgIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHNvY2thZGRyX3Byb3RvLCBqc19zb2NrYWRkcl9pbnNwZWN0KTsKCiAgICBKU19OZXdDbGFzc0lEKCZqc19zb2NrZXRfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19zb2NrZXRfY2xhc3NfaWQsICZqc19zb2NrZXRfY2xhc3MpOwoKICAgIHNvY2tldF9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3NvY2tldF9jb25zdHJ1Y3RvciwgIlNvY2tldCIsIDEsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIHNvY2tldF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwoKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc29ja2V0X3Byb3RvLCBqc19zb2NrZXRfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc29ja2V0X3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHNvY2tldF9jdG9yLCBqc19zb2NrZXRfc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3NvY2tldF9zdGF0aWNfZnVuY3MpKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc29ja2V0X2N0b3IsIGpzX3NvY2tldHNfZGVmaW5lcywgY291bnRvZihqc19zb2NrZXRzX2RlZmluZXMpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19zb2NrZXRfY2xhc3NfaWQsIHNvY2tldF9wcm90byk7CgogICAganNfc2V0X2luc3BlY3RfbWV0aG9kKGN0eCwgc29ja2V0X3Byb3RvLCBqc19zb2NrZXRfaW5zcGVjdCk7CgogICAgLyogIGZkc2V0X21vZHVsZSA9IGpzX2V2YWxfYmluYXJ5KGN0eCwgcWpzbV9mZF9zZXQsIHFqc21fZmRfc2V0X3NpemUsCiAgICAgIEZBTFNFKTsgZmRzZXRfbnMgPSBqc19tb2R1bGVfbnMoY3R4LCBmZHNldF9tb2R1bGUpOyBmZHNldF9jdG9yID0KICAgICAganNfbW9kdWxlX2Z1bmMoY3R4LCBmZHNldF9tb2R1bGUpOwoKICAgICAgc29ja2xlbl9tb2R1bGUgPSBqc19ldmFsX2JpbmFyeShjdHgsIHFqc21fc29ja2xlbl90LCBxanNtX3NvY2tsZW5fdF9zaXplLAogICAgICBGQUxTRSk7IHNvY2tsZW5fbnMgPSBqc19tb2R1bGVfbnMoY3R4LCBzb2NrbGVuX21vZHVsZSk7IHNvY2tsZW5fY3RvciA9CiAgICAgIGpzX21vZHVsZV9mdW5jKGN0eCwgc29ja2xlbl9tb2R1bGUpOyovCiAgfQoKICBpZihtKSB7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU29ja0FkZHIiLCBzb2NrYWRkcl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJTb2NrZXQiLCBzb2NrZXRfY3Rvcik7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiZmRfc2V0IiwgZmRzZXRfY3Rvcik7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAic29ja2xlbl90Iiwgc29ja2xlbl9jdG9yKTsKCiAgICBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBtLT5tb2R1bGVfbmFtZSk7CgogICAgaWYoIXN0cmNtcChtb2R1bGVfbmFtZSwgInNvY2tldCIpKQogICAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiZGVmYXVsdCIsIHNvY2tldF9jdG9yKTsKCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG1vZHVsZV9uYW1lKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19zb2NrZXRzX2Z1bmNzLCBjb3VudG9mKGpzX3NvY2tldHNfZnVuY3MpKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19zb2NrZXRzX2RlZmluZXMsIGNvdW50b2YoanNfc29ja2V0c19kZWZpbmVzKSk7CiAgfQoKICByZXR1cm4gMDsKfQoKI2lmZGVmIEpTX1NPQ0tFVFNfTU9EVUxFCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9zb2NrZXRzCiNlbmRpZgoKVklTSUJMRSBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgaWYoIShtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfc29ja2V0c19pbml0KSkpCiAgICByZXR1cm4gbTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU29ja0FkZHIiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU29ja2V0Iik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgImZkX3NldCIpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJzb2NrbGVuX3QiKTsKCiAgc2l6ZV90IGxlbiwgbiA9IHN0cl9yY2hyKG1vZHVsZV9uYW1lLCAnLycpOwogIGlmKG1vZHVsZV9uYW1lW25dKQogICAgKytuOwogIGxlbiA9IHN0cl9yY2hyKCZtb2R1bGVfbmFtZVtuXSwgJy4nKTsKCiAgLy8gcHJpbnRmKCJKU19JTklUX01PRFVMRSAlLipzXG4iLCBsZW4sIG1vZHVsZV9uYW1lICsgbik7CgogIGlmKCFzdHJuY21wKCZtb2R1bGVfbmFtZVtuXSwgInNvY2tldHMiLCBsZW4pKSB7CiAgICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiZGVmYXVsdCIpOwogICAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX3NvY2tldHNfZnVuY3MsIGNvdW50b2YoanNfc29ja2V0c19mdW5jcykpOwogICAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX3NvY2tldHNfZGVmaW5lcywgY291bnRvZihqc19zb2NrZXRzX2RlZmluZXMpKTsKICB9CiAgcmV0dXJuIG07Cn0KAAAAAAAAAADWzgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOH0AAAAAAAAtgAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "utils.c",
			"settings":
			{
				"buffer_size": 58492,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB85AAAI3VuZGVmIF9JU09DOTlfU09VUkNFCiNkZWZpbmUgX0lTT0M5OV9TT1VSQ0UgMQoKI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlIDxsaXN0Lmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgInZlY3Rvci5oIgojaW5jbHVkZSA8bGlicmVnZXhwLmg+CiNpbmNsdWRlICJxdWlja2pzLWludGVybmFsLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2luY2x1ZGUgPHRpbWUuaD4KI2luY2x1ZGUgPG1hdGguaD4KI2luY2x1ZGUgPGVycm5vLmg+CiNpbmNsdWRlIDxzaWduYWwuaD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CiNpbmNsdWRlIDxzeXMvdGltZS5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+Cgp2b2lkIHF1aWNrc29ydF9yKHZvaWQqLCBzaXplX3QsIHNpemVfdCwgaW50ICgqKShjb25zdCB2b2lkKiwgY29uc3Qgdm9pZCosIHZvaWQqKSwgdm9pZCopOwppbnQgc3RydmVyc2NtcChjb25zdCBjaGFyKiwgY29uc3QgY2hhciopOwoKI2lmbmRlZiBJTkZJTklUWQojZGVmaW5lIElORklOSVRZIF9fYnVpbHRpbl9pbmYoKQojZW5kaWYKCiNpZmRlZiBVU0VfV09SS0VSCiNpbmNsdWRlIDxwdGhyZWFkLmg+CiNpbmNsdWRlIDxzdGRhdG9taWMuaD4KCnN0YXRpYyBpbnQKYXRvbWljX2FkZF9pbnQoaW50KiBwdHIsIGludCB2KSB7CiAgcmV0dXJuIGF0b21pY19mZXRjaF9hZGQoKF9BdG9taWModWludDMyX3QpKilwdHIsIHYpICsgdjsKfQojZW5kaWYKCiNpZiBkZWZpbmVkKF9fbGludXhfXykgfHwgZGVmaW5lZChfX0FQUExFX18pCnVpbnQ2NF90CnRpbWVfdXModm9pZCkgewogIHN0cnVjdCB0aW1lc3BlYyB0czsKICBjbG9ja19nZXR0aW1lKENMT0NLX01PTk9UT05JQywgJnRzKTsKICByZXR1cm4gKHVpbnQ2NF90KXRzLnR2X3NlYyAqIDEwMDAwMDAgKyAodHMudHZfbnNlYyAvIDEwMDApOwp9CiNlbHNlCi8qIG1vcmUgcG9ydGFibGUsIGJ1dCBkb2VzIG5vdCB3b3JrIGlmIHRoZSBkYXRlIGlzIHVwZGF0ZWQgKi8KdWludDY0X3QKdGltZV91cyh2b2lkKSB7CiAgc3RydWN0IHRpbWV2YWwgdHY7CiAgZ2V0dGltZW9mZGF5KCZ0diwgMCk7CiAgcmV0dXJuIChpbnQ2NF90KXR2LnR2X3NlYyAqIDEwMDAwMDAgKyB0di50dl91c2VjOwp9CiNlbmRpZgoKaW50CnJlZ2V4cF9mbGFnc19mcm9tc3RyaW5nKGNvbnN0IGNoYXIqIHMpIHsKICBpbnQgZmxhZ3MgPSAwOwoKICBpZihzdHJfY29udGFpbnMocywgJ2cnKSkKICAgIGZsYWdzIHw9IExSRV9GTEFHX0dMT0JBTDsKICBpZihzdHJfY29udGFpbnMocywgJ2knKSkKICAgIGZsYWdzIHw9IExSRV9GTEFHX0lHTk9SRUNBU0U7CiAgaWYoc3RyX2NvbnRhaW5zKHMsICdtJykpCiAgICBmbGFncyB8PSBMUkVfRkxBR19NVUxUSUxJTkU7CiAgaWYoc3RyX2NvbnRhaW5zKHMsICdzJykpCiAgICBmbGFncyB8PSBMUkVfRkxBR19ET1RBTEw7CiAgaWYoc3RyX2NvbnRhaW5zKHMsICd1JykpCiAgICBmbGFncyB8PSBMUkVfRkxBR19VVEYxNjsKICBpZihzdHJfY29udGFpbnMocywgJ3knKSkKICAgIGZsYWdzIHw9IExSRV9GTEFHX1NUSUNLWTsKCiAgcmV0dXJuIGZsYWdzOwp9CgppbnQKcmVnZXhwX2ZsYWdzX3Rvc3RyaW5nKGludCBmbGFncywgY2hhciogYnVmKSB7CiAgY2hhciogb3V0ID0gYnVmOwoKICBpZihmbGFncyAmIExSRV9GTEFHX0dMT0JBTCkKICAgICpvdXQrKyA9ICdnJzsKICBpZihmbGFncyAmIExSRV9GTEFHX0lHTk9SRUNBU0UpCiAgICAqb3V0KysgPSAnaSc7CiAgaWYoZmxhZ3MgJiBMUkVfRkxBR19NVUxUSUxJTkUpCiAgICAqb3V0KysgPSAnbSc7CiAgaWYoZmxhZ3MgJiBMUkVfRkxBR19ET1RBTEwpCiAgICAqb3V0KysgPSAncyc7CiAgaWYoZmxhZ3MgJiBMUkVfRkxBR19VVEYxNikKICAgICpvdXQrKyA9ICd1JzsKICBpZihmbGFncyAmIExSRV9GTEFHX1NUSUNLWSkKICAgICpvdXQrKyA9ICd5JzsKCiAgKm91dCA9ICdcMCc7CiAgcmV0dXJuIG91dCAtIGJ1ZjsKfQoKUmVnRXhwCnJlZ2V4cF9mcm9tX2FyZ3YoaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEpTQ29udGV4dCogY3R4KSB7CiAgUmVnRXhwIHJlID0gezAsIDAsIDB9OwogIGNvbnN0IGNoYXIqIGZsYWdzdHI7CiAgYXNzZXJ0KGFyZ2MgPiAwKTsKICBpZihqc19pc19yZWdleHAoY3R4LCBhcmd2WzBdKSkgewogICAgcmUuc291cmNlID0ganNfZ2V0X3Byb3BlcnR5c3RyX3N0cmluZ2xlbihjdHgsIGFyZ3ZbMF0sICJzb3VyY2UiLCAmcmUubGVuKTsKICAgIHJlLmZsYWdzID0gcmVnZXhwX2ZsYWdzX2Zyb21zdHJpbmcoKGZsYWdzdHIgPSBqc19nZXRfcHJvcGVydHlzdHJfY3N0cmluZyhjdHgsIGFyZ3ZbMF0sICJmbGFncyIpKSk7CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBmbGFnc3RyKTsKICB9IGVsc2UgewogICAgcmUuc291cmNlID0ganNfdG9zdHJpbmdsZW4oY3R4LCAmcmUubGVuLCBhcmd2WzBdKTsKICAgIGlmKGFyZ2MgPiAxICYmIEpTX0lzU3RyaW5nKGFyZ3ZbMV0pKSB7CiAgICAgIHJlLmZsYWdzID0gcmVnZXhwX2ZsYWdzX2Zyb21zdHJpbmcoKGZsYWdzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKSkpOwogICAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBmbGFnc3RyKTsKICAgIH0KICB9CiAgcmV0dXJuIHJlOwp9CgpSZWdFeHAKcmVnZXhwX2Zyb21fZGJ1ZihEeW5CdWYqIGRidWYsIGludCBmbGFncykgewogIFJlZ0V4cCByZSA9IHsoY2hhciopZGJ1Zi0+YnVmLCBkYnVmLT5zaXplLCBmbGFnc307CiAgZGJ1Zi0+YnVmID0gMDsKICBkYnVmLT5hbGxvY2F0ZWRfc2l6ZSA9IDA7CiAgZGJ1Zi0+c2l6ZSA9IDA7CiAgcmV0dXJuIHJlOwp9Cgp1aW50OF90KgpyZWdleHBfY29tcGlsZShSZWdFeHAgcmUsIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciBlcnJvcl9tc2dbNjRdOwogIGludCBsZW4gPSAwOwogIHVpbnQ4X3QqIGJ5dGVjb2RlOwogIGlmKCEoYnl0ZWNvZGUgPSBscmVfY29tcGlsZSgmbGVuLCBlcnJvcl9tc2csIHNpemVvZihlcnJvcl9tc2cpLCByZS5zb3VyY2UsIHJlLmxlbiwgcmUuZmxhZ3MsIGN0eCkpKQogICAgSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIkVycm9yIGNvbXBpbGluZyByZWdleCAvJS4qcy86ICVzIiwgKGludClyZS5sZW4sIHJlLnNvdXJjZSwgZXJyb3JfbXNnKTsKCiAgcmV0dXJuIGJ5dGVjb2RlOwp9CgpKU1ZhbHVlCnJlZ2V4cF90b192YWx1ZShSZWdFeHAgcmUsIEpTQ29udGV4dCogY3R4KSB7CiAgY2hhciBmbGFnc3RyWzMyXSA9IHswfTsKICBzaXplX3QgZmxhZ2xlbiA9IHJlZ2V4cF9mbGFnc190b3N0cmluZyhyZS5mbGFncywgZmxhZ3N0cik7CiAgSlNWYWx1ZUNvbnN0IGFyZ3NbMl0gPSB7SlNfTmV3U3RyaW5nTGVuKGN0eCwgcmUuc291cmNlLCByZS5sZW4pLCBKU19OZXdTdHJpbmdMZW4oY3R4LCBmbGFnc3RyLCBmbGFnbGVuKX07CiAgSlNWYWx1ZSByZWdleCwgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIlJlZ0V4cCIpOwogIHJlZ2V4ID0gSlNfQ2FsbENvbnN0cnVjdG9yKGN0eCwgY3RvciwgMiwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CiAgcmV0dXJuIHJlZ2V4Owp9CgppbnQ2NF90CmpzX2FycmF5X2xlbmd0aChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFycmF5KSB7CiAgaW50NjRfdCBsZW4gPSAtMTsKICBpZihKU19Jc0FycmF5KGN0eCwgYXJyYXkpIHx8IGpzX2lzX3R5cGVkYXJyYXkoYXJyYXkpKSB7CiAgICBKU1ZhbHVlIGxlbmd0aCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJyYXksICJsZW5ndGgiKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmbGVuLCBsZW5ndGgpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgbGVuZ3RoKTsKICB9CiAgcmV0dXJuIGxlbjsKfQoKdm9pZApqc19hcnJheV9jbGVhcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFycmF5KSB7CiAgaW50NjRfdCBsZW4gPSBqc19hcnJheV9sZW5ndGgoY3R4LCBhcnJheSk7CiAgSlNWYWx1ZSByZXQ7CiAgSlNBdG9tIHNwbGljZSA9IEpTX05ld0F0b20oY3R4LCAic3BsaWNlIik7CiAgSlNWYWx1ZUNvbnN0IGFyZ3NbMl0gPSB7SlNfTmV3SW50NjQoY3R4LCAwKSwgSlNfTmV3SW50NjQoY3R4LCBsZW4pfTsKCiAgcmV0ID0gSlNfSW52b2tlKGN0eCwgYXJyYXksIHNwbGljZSwgMiwgYXJncyk7CiAgSlNfRnJlZUF0b20oY3R4LCBzcGxpY2UpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CgogIGFzc2VydChqc19hcnJheV9sZW5ndGgoY3R4LCBhcnJheSkgPT0gMCk7Cn0KCmNoYXIqKgpqc19hcnJheV90b19hcmd2KEpTQ29udGV4dCogY3R4LCBpbnQqIGFyZ2NwLCBKU1ZhbHVlQ29uc3QgYXJyYXkpIHsKICBpbnQgaSwgbGVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJyYXkpOwogIGNoYXIqKiByZXQgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKGNoYXIqKSAqIChsZW4gKyAxKSk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyYXksIGkpOwogICAgcmV0W2ldID0ganNfdG9zdHJpbmcoY3R4LCBpdGVtKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0pOwogIH0KICBpZihhcmdjcCkKICAgICphcmdjcCA9IGxlbjsKICByZXR1cm4gcmV0Owp9CgppbnQKanNfYXJyYXlfY29weXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSwgaW50IG4sIGNoYXIqKiBzdHJhKSB7CiAgaW50IGksIGxlbiA9IE1JTl9OVU0obiwganNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJyYXkpKTsKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgSlNWYWx1ZSBpdGVtID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnJheSwgaSk7CiAgICBpZihzdHJhW2ldKQogICAgICBqc19mcmVlKGN0eCwgc3RyYVtpXSk7CiAgICBzdHJhW2ldID0ganNfdG9zdHJpbmcoY3R4LCBpdGVtKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0pOwogIH0KICByZXR1cm4gaTsKfQoKaW50CmpzX3N0cnZfY29weXMoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbiwgY2hhcioqIHN0cmEpIHsKICBpbnQgaSwgbGVuID0gTUlOX05VTShuLCBhcmdjKTsKICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgaWYoIUpTX0lzTnVsbChhcmd2W2ldKSAmJiAhSlNfSXNVbmRlZmluZWQoYXJndltpXSkpCiAgICAgIHN0cmFbaV0gPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbaV0pOwogICAgZWxzZQogICAgICBzdHJhW2ldID0gMDsKICB9CiAgZm9yKDsgaSA8IG47IGkrKykgc3RyYVtpXSA9IDA7CgogIHJldHVybiBpOwp9CgpKU0F0b20KanNfYXRvbV9mcm9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzdHIpIHsKICBpZihzdHJbMF0gPT0gJ1snKSB7CiAgICBKU1ZhbHVlIG9iaiwgdmFsID0gSlNfVU5ERUZJTkVEOwogICAgSlNBdG9tIHByb3AsIHJldDsKICAgIHNpemVfdCBvYmpsZW4sIHByb3BsZW47CiAgICBvYmpsZW4gPSBzdHJfY2hyKCZzdHJbMV0sICcuJyk7CiAgICBvYmogPSBqc19nbG9iYWxfZ2V0X3N0cl9uKGN0eCwgJnN0clsxXSwgb2JqbGVuKTsKICAgIHByb3BsZW4gPSBzdHJfY2hyKCZzdHJbMSArIG9iamxlbiArIDFdLCAnXScpOwogICAgcHJvcCA9IEpTX05ld0F0b21MZW4oY3R4LCAmc3RyWzEgKyBvYmpsZW4gKyAxXSwgcHJvcGxlbik7CiAgICB2YWwgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgcHJvcCk7CiAgICBKU19GcmVlQXRvbShjdHgsIHByb3ApOwogICAgcmV0ID0gSlNfVmFsdWVUb0F0b20oY3R4LCB2YWwpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsKTsKICAgIHJldHVybiByZXQ7CiAgfQoKICByZXR1cm4gSlNfTmV3QXRvbShjdHgsIHN0cik7Cn0KCnZvaWQKanNfYXRvbV9kdW1wKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSwgRHluQnVmKiBkYiwgQk9PTCBjb2xvcikgewogIGNvbnN0IGNoYXIqIHN0cjsKICBCT09MIGlzX2ludDsKICBzdHIgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgYXRvbSk7CiAgaXNfaW50ID0ganNfYXRvbV9pc2ludChhdG9tKSB8fCBpc19pbnRlZ2VyKHN0cik7CiAgaWYoY29sb3IpCiAgICBkYnVmX3B1dHN0cihkYiwgaXNfaW50ID8gIlx4MWJbMzNtIiA6ICJceDFiWzE7MzBtIik7CgogIGRidWZfcHV0c3RyKGRiLCBzdHIpOwogIGlmKGNvbG9yKQogICAgZGJ1Zl9wdXRzdHIoZGIsICJceDFiWzE7MzZtIik7CgogIGlmKCFpc19pbnQpCiAgICBkYnVmX3ByaW50ZihkYiwgIigweCV4KSIsIGpzX2F0b21fdG9iaW5hcnkoYXRvbSkpOwoKICBpZihjb2xvcikKICAgIGRidWZfcHV0c3RyKGRiLCAiXHgxYlttIik7Cn0KCnVuc2lnbmVkIGludApqc19hdG9tX3RvYmluYXJ5KEpTQXRvbSBhdG9tKSB7CiAgc3NpemVfdCByZXQ7CiAgaWYoanNfYXRvbV9pc2ludChhdG9tKSkgewogICAgcmV0ID0ganNfYXRvbV90b2ludChhdG9tKTsKICAgIHJldCA9IC1yZXQ7CiAgfSBlbHNlIHsKICAgIHJldCA9IGF0b207CiAgfQogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmpzX2F0b21fdG9fY3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW4sIEpTQXRvbSBhdG9tKSB7CiAgSlNWYWx1ZSB2OwogIGNvbnN0IGNoYXIqIHM7CiAgdiA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgcyA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsIGxlbiwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdik7CiAgcmV0dXJuIHM7Cn0KCmludDMyX3QKanNfYXRvbV90b2ludDMyKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSkgewogIGlmKCFqc19hdG9tX2lzaW50KGF0b20pKSB7CiAgICBpbnQ2NF90IGkgPSBJTlQ2NF9NSU47CiAgICBqc19hdG9tX3RvaW50NjQoY3R4LCAmaSwgYXRvbSk7CiAgICByZXR1cm4gaTsKICB9CiAgcmV0dXJuIC1hdG9tOwp9CgppbnQKanNfYXRvbV90b2ludDY0KEpTQ29udGV4dCogY3R4LCBpbnQ2NF90KiBpLCBKU0F0b20gYXRvbSkgewogIGludCByZXQ7CiAgSlNWYWx1ZSB2YWx1ZTsKICAqaSA9IElOVDY0X01BWDsKICB2YWx1ZSA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgcmV0ID0gIUpTX1RvSW50NjQoY3R4LCBpLCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCkJPT0wKanNfYXRvbV9pc19pbmRleChKU0NvbnRleHQqIGN0eCwgaW50NjRfdCogcHZhbCwgSlNBdG9tIGF0b20pIHsKICBKU1ZhbHVlIHZhbHVlOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgaW50NjRfdCBpbmRleDsKCiAgaWYoYXRvbSAmICgxVSA8PCAzMSkpIHsKICAgICpwdmFsID0gYXRvbSAmICh+KDFVIDw8IDMxKSk7CiAgICByZXR1cm4gVFJVRTsKICB9CgogIHZhbHVlID0gSlNfQXRvbVRvVmFsdWUoY3R4LCBhdG9tKTsKCiAgaWYoSlNfSXNOdW1iZXIodmFsdWUpKSB7CiAgICBKU19Ub0ludDY0KGN0eCwgJmluZGV4LCB2YWx1ZSk7CiAgICByZXQgPSBUUlVFOwogIH0gZWxzZSBpZihKU19Jc1N0cmluZyh2YWx1ZSkpIHsKICAgIGNvbnN0IGNoYXIqIHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICBpZihzWzBdID09ICctJyAmJiBpc19kaWdpdF9jaGFyKHNbc1swXSA9PSAnLSddKSkgewogICAgICBpbmRleCA9IGF0b2kocyk7CiAgICAgIHJldCA9IFRSVUU7CiAgICB9CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KCiAgaWYocmV0ID09IFRSVUUpCiAgICAqcHZhbCA9IGluZGV4OwoKICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2F0b21faXNfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSkgewogIGNvbnN0IGNoYXIqIHN0ciA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBhdG9tKTsKICBCT09MIHJldCA9ICFzdHJjbXAoc3RyLCAibGVuZ3RoIik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmpzX2Z1bmN0aW9uX25hbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgc3RyLCBuYW1lLCBhcmdzWzJdLCBpZHg7CiAgY29uc3QgY2hhciogcyA9IDA7CiAgaW50MzJfdCBpID0gLTE7CiAgc3RyID0ganNfdmFsdWVfdG9zdHJpbmcoY3R4LCAiRnVuY3Rpb24iLCB2YWx1ZSk7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCAiaW5kZXhPZiIpOwogIGFyZ3NbMF0gPSBKU19OZXdTdHJpbmcoY3R4LCAiZnVuY3Rpb24gIik7CiAgaWR4ID0gSlNfSW52b2tlKGN0eCwgc3RyLCBhdG9tLCAxLCBhcmdzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBhcmdzWzBdKTsKICBKU19Ub0ludDMyKGN0eCwgJmksIGlkeCk7CiAgaWYoaSAhPSAwKSB7CiAgICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgc3RyKTsKICAgIHJldHVybiAwOwogIH0KICBhcmdzWzBdID0gSlNfTmV3U3RyaW5nKGN0eCwgIigiKTsKICBpZHggPSBKU19JbnZva2UoY3R4LCBzdHIsIGF0b20sIDEsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMF0pOwogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCAic3Vic3RyaW5nIik7CiAgYXJnc1swXSA9IEpTX05ld1VpbnQzMihjdHgsIDkpOwogIGFyZ3NbMV0gPSBpZHg7CiAgbmFtZSA9IEpTX0ludm9rZShjdHgsIHN0ciwgYXRvbSwgMiwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3RyKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHMgPSBKU19Ub0NTdHJpbmcoY3R4LCBuYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCBuYW1lKTsKICByZXR1cm4gczsKfQoKaW50CmpzX2Z1bmN0aW9uX2FyZ2MoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc19nZXRfcHJvcGVydHlzdHJfaW50MzIoY3R4LCB2YWx1ZSwgImxlbmd0aCIpOwp9CgpKU0NGdW5jdGlvbioKanNfZnVuY3Rpb25fY2Z1bmMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfQ19GVU5DVElPTikpIHsKICAgIEpTT2JqZWN0KiBvYmogPSBKU19WQUxVRV9HRVRfT0JKKHZhbHVlKTsKICAgIHJldHVybiBvYmotPnUuY2Z1bmMuY19mdW5jdGlvbi5nZW5lcmljOwogIH0KICByZXR1cm4gMDsKfQoKSlNWYWx1ZQpqc19nbG9iYWxfZ2V0X3N0cihKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbF9vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGdsb2JhbF9vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX2dldF9zdHJfbihKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCwgc2l6ZV90IGxlbikgewogIEpTVmFsdWUgcmV0OwogIEpTQXRvbSBhdG9tID0gSlNfTmV3QXRvbUxlbihjdHgsIHByb3AsIGxlbik7CiAgcmV0ID0ganNfZ2xvYmFsX2dldF9hdG9tKGN0eCwgYXRvbSk7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2dsb2JhbF9nZXRfYXRvbShKU0NvbnRleHQqIGN0eCwgSlNBdG9tIHByb3ApIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIHJldDsKICBnbG9iYWxfb2JqID0gSlNfR2V0R2xvYmFsT2JqZWN0KGN0eCk7CiAgcmV0ID0gSlNfR2V0UHJvcGVydHkoY3R4LCBnbG9iYWxfb2JqLCBwcm9wKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2dsb2JhbF9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUpIHsKICBKU1ZhbHVlIGN0b3IsIHJldDsKICBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCBjbGFzc19uYW1lKTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGN0b3IsICJwcm90b3R5cGUiKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2l0ZXJhdG9yX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGF0b20gPSBqc19zeW1ib2xfc3RhdGljX2F0b20oY3R4LCAiaXRlcmF0b3IiKTsKICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICByZXQgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSk7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCByZXQpKSB7CiAgICBhdG9tID0ganNfc3ltYm9sX3N0YXRpY19hdG9tKGN0eCwgImFzeW5jSXRlcmF0b3IiKTsKICAgIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgICAgcmV0ID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIGF0b20pOwoKICAgIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgSlNWYWx1ZSBmbiwgcmV0OwogIGZuID0ganNfaXRlcmF0b3JfbWV0aG9kKGN0eCwgb2JqKTsKICByZXQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgMCwgMCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgQk9PTCogZG9uZV9wKSB7CiAgSlNWYWx1ZSBmbiwgcmVzdWx0LCBkb25lLCB2YWx1ZTsKICBmbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibmV4dCIpOwogIHJlc3VsdCA9IEpTX0NhbGwoY3R4LCBmbiwgb2JqLCAwLCAwKTsKICBKU19GcmVlVmFsdWUoY3R4LCBmbik7CiAgZG9uZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAiZG9uZSIpOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCByZXN1bHQsICJ2YWx1ZSIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc3VsdCk7CiAgKmRvbmVfcCA9IEpTX1RvQm9vbChjdHgsIGRvbmUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRvbmUpOwogIHJldHVybiB2YWx1ZTsKfQoKSlNWYWx1ZQpqc19vYmplY3RfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTVmFsdWUgY3RvciA9IEpTX1VOREVGSU5FRDsKICBpZihKU19Jc09iamVjdCh2YWx1ZSkpCiAgICBjdG9yID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB2YWx1ZSwgImNvbnN0cnVjdG9yIik7CiAgcmV0dXJuIGN0b3I7Cn0KCmNoYXIqCmpzX29iamVjdF9jbGFzc25hbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTVmFsdWUgcHJvdG8sIGN0b3I7CiAgY29uc3QgY2hhciogc3RyOwogIGNoYXIqIG5hbWUgPSAwOwogIGludCBuYW1lbGVuOwogIGN0b3IgPSBqc19vYmplY3RfY29uc3RydWN0b3IoY3R4LCB2YWx1ZSk7CiAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCBjdG9yKSkgewogICAgcHJvdG8gPSBKU19HZXRQcm90b3R5cGUoY3R4LCB2YWx1ZSk7CiAgICBjdG9yID0ganNfb2JqZWN0X2NvbnN0cnVjdG9yKGN0eCwgcHJvdG8pOwogIH0KICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgY3RvcikpKSB7CiAgICBpZighc3RybmNtcChzdHIsICJmdW5jdGlvbiAiLCA5KSkgewogICAgICBuYW1lbGVuID0gYnl0ZV9jaHIoc3RyICsgOSwgc3RybGVuKHN0cikgLSA5LCAnKCcpOwogICAgICBuYW1lID0ganNfc3RybmR1cChjdHgsIHN0ciArIDksIG5hbWVsZW4pOwogICAgfQogIH0KICBpZighbmFtZSkgewogICAgaWYoc3RyKQogICAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHIpOwogICAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIEpTX0dldFByb3BlcnR5U3RyKGN0eCwgY3RvciwgIm5hbWUiKSkpKQogICAgICBuYW1lID0ganNfc3RyZHVwKGN0eCwgc3RyKTsKICB9CiAgaWYoc3RyKQogICAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKICByZXR1cm4gbmFtZTsKfQoKQk9PTApqc19vYmplY3RfZXF1YWxzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYSwgSlNWYWx1ZUNvbnN0IGIpIHsKICBKU1Byb3BlcnR5RW51bSAqYXRvbXNfYSwgKmF0b21zX2I7CiAgdWludDMyX3QgaSwgbmF0b21zX2EsIG5hdG9tc19iOwogIGludDMyX3QgdGEsIHRiOwogIHRhID0ganNfdmFsdWVfdHlwZShjdHgsIGEpOwogIHRiID0ganNfdmFsdWVfdHlwZShjdHgsIGIpOwogIGFzc2VydCh0YSA9PSBUWVBFX09CSkVDVCk7CiAgYXNzZXJ0KHRiID09IFRZUEVfT0JKRUNUKTsKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJmF0b21zX2EsICZuYXRvbXNfYSwgYSwgSlNfR1BOX1NUUklOR19NQVNLIHwgSlNfR1BOX1NZTUJPTF9NQVNLIHwgSlNfR1BOX0VOVU1fT05MWSkpCiAgICByZXR1cm4gRkFMU0U7CgogIGlmKEpTX0dldE93blByb3BlcnR5TmFtZXMoY3R4LCAmYXRvbXNfYiwgJm5hdG9tc19iLCBiLCBKU19HUE5fU1RSSU5HX01BU0sgfCBKU19HUE5fU1lNQk9MX01BU0sgfCBKU19HUE5fRU5VTV9PTkxZKSkKICAgIHJldHVybiBGQUxTRTsKCiAgaWYobmF0b21zX2EgIT0gbmF0b21zX2IpCiAgICByZXR1cm4gRkFMU0U7CgogIHF1aWNrc29ydF9yKCZhdG9tc19hLCBuYXRvbXNfYSwgc2l6ZW9mKEpTUHJvcGVydHlFbnVtKSwgJmpzX3Byb3BlbnVtX2NtcCwgY3R4KTsKICBxdWlja3NvcnRfcigmYXRvbXNfYiwgbmF0b21zX2IsIHNpemVvZihKU1Byb3BlcnR5RW51bSksICZqc19wcm9wZW51bV9jbXAsIGN0eCk7CiAgZm9yKGkgPSAwOyBpIDwgbmF0b21zX2E7IGkrKykKICAgIGlmKGF0b21zX2FbaV0uYXRvbSAhPSBhdG9tc19iW2ldLmF0b20pCiAgICAgIHJldHVybiBGQUxTRTsKICByZXR1cm4gVFJVRTsKfQoKaW50CmpzX29iamVjdF9pcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBjb25zdCBjaGFyKiBjbXApIHsKICBpbnQgcmV0OwogIGNvbnN0IGNoYXIqIHN0cjsKICBzdHIgPSBqc19vYmplY3RfdG9zdHJpbmcoY3R4LCB2YWx1ZSk7CiAgcmV0ID0gc3RyY21wKHN0ciwgY21wKSA9PSAwOwogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19vYmplY3RfY29uc3RydWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgY3RvcikgewogIEpTVmFsdWVDb25zdCBhcmdzW10gPSB7SlNfVU5ERUZJTkVEfTsKICByZXR1cm4gSlNfQ2FsbENvbnN0cnVjdG9yKGN0eCwgY3RvciwgMCwgYXJncyk7Cn0KCkpTVmFsdWUKanNfb2JqZWN0X2Vycm9yKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtZXNzYWdlKSB7CiAgSlNWYWx1ZUNvbnN0IGFyZ3NbXSA9IHtKU19OZXdTdHJpbmcoY3R4LCBtZXNzYWdlKX07CiAgSlNWYWx1ZSByZXQgPSBqc19vYmplY3RfbmV3KGN0eCwgIkVycm9yIiwgMSwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19vYmplY3Rfc3RhY2soSlNDb250ZXh0KiBjdHgpIHsKICBKU1ZhbHVlIGVycm9yID0ganNfb2JqZWN0X2Vycm9yKGN0eCwgIiIpOwogIEpTVmFsdWUgc3RhY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVycm9yLCAic3RhY2siKTsKICBKU19GcmVlVmFsdWUoY3R4LCBlcnJvcik7CiAgcmV0dXJuIHN0YWNrOwp9CgpKU1ZhbHVlCmpzX29iamVjdF9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCBjbGFzc19uYW1lKTsKICBKU1ZhbHVlIG9iaiA9IEpTX0NhbGxDb25zdHJ1Y3RvcihjdHgsIGN0b3IsIGFyZ2MsIGFyZ3YpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIHJldHVybiBvYmo7Cn0KCkJPT0wKanNfaGFzX3Byb3BlcnR5c3RyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBzdHIpIHsKICBKU0F0b20gYXRvbTsKICBCT09MIHJldCA9IEZBTFNFOwogIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgc3RyKTsKICByZXQgPSBKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSk7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2dldF9wcm9wZXJ0eXN0cl9ib29sKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBzdHIpIHsKICBCT09MIHJldCA9IEZBTFNFOwogIEpTVmFsdWUgdmFsdWU7CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgc3RyKTsKICBpZighSlNfSXNFeGNlcHRpb24odmFsdWUpKQogICAgcmV0ID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwoKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKY29uc3QgY2hhcioKanNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIHZhbHVlOwogIGNvbnN0IGNoYXIqIHJldDsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBwcm9wKTsKICBpZihKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgSlNfSXNFeGNlcHRpb24odmFsdWUpKQogICAgcmV0dXJuIDA7CgogIHJldCA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKY29uc3QgY2hhcioKanNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIHNpemVfdCogbGVucCkgewogIEpTVmFsdWUgdmFsdWU7CiAgY29uc3QgY2hhciogcmV0OwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHByb3ApOwogIGlmKEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICByZXR1cm4gMDsKCiAgcmV0ID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgbGVucCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9Cgpjb25zdCBjaGFyKgpqc19nZXRfcHJvcGVydHlpbnRfY3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgdWludDMyX3QgcHJvcCkgewogIEpTVmFsdWUgdmFsdWU7CiAgY2hhciogcmV0OwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBvYmosIHByb3ApOwogIC8qIGlmKEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICAgcmV0dXJuIDA7Ki8KCiAgcmV0ID0ganNfdG9zdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCmludDMyX3QKanNfZ2V0X3Byb3BlcnR5aW50X2ludDMyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCB1aW50MzJfdCBwcm9wKSB7CiAgaW50MzJfdCByZXQ7CiAgSlNWYWx1ZSB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCBwcm9wKTsKICBKU19Ub0ludDMyKGN0eCwgJnJldCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9CgpjaGFyKgpqc19nZXRfcHJvcGVydHlzdHJfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjaGFyKiByZXQ7CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgcHJvcCk7CiAgaWYoSlNfSXNVbmRlZmluZWQodmFsdWUpIHx8IEpTX0lzRXhjZXB0aW9uKHZhbHVlKSkKICAgIHJldHVybiAwOwoKICByZXQgPSBqc190b3N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKY2hhcioKanNfZ2V0X3Byb3BlcnR5c3RyX3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCwgc2l6ZV90KiBsZW5wKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjaGFyKiByZXQ7CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgcHJvcCk7CiAgaWYoSlNfSXNVbmRlZmluZWQodmFsdWUpIHx8IEpTX0lzRXhjZXB0aW9uKHZhbHVlKSkKICAgIHJldHVybiAwOwoKICByZXQgPSBqc190b3N0cmluZ2xlbihjdHgsIGxlbnAsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKaW50MzJfdApqc19nZXRfcHJvcGVydHlzdHJfaW50MzIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApIHsKICBKU1ZhbHVlIHZhbHVlOwogIGludDMyX3QgcmV0OwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHByb3ApOwogIGlmKEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICByZXR1cm4gMDsKICBKU19Ub0ludDMyKGN0eCwgJnJldCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9Cgp1aW50NjRfdApqc19nZXRfcHJvcGVydHlzdHJfdWludDY0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICB1aW50NjRfdCByZXQ7CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgcHJvcCk7CiAgaWYoSlNfSXNVbmRlZmluZWQodmFsdWUpIHx8IEpTX0lzRXhjZXB0aW9uKHZhbHVlKSkKICAgIHJldHVybiAwOwogIEpTX1RvSW5kZXgoY3R4LCAmcmV0LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfc2V0X3Byb3BlcnR5aW50X3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgdWludDMyX3QgaSwgY29uc3QgY2hhciogc3RyKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICB2YWx1ZSA9IEpTX05ld1N0cmluZyhjdHgsIHN0cik7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBvYmosIGksIHZhbHVlKTsKfQoKdm9pZApqc19zZXRfcHJvcGVydHlpbnRfaW50KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCB1aW50MzJfdCBpLCBpbnQzMl90IHZhbHVlKSB7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBvYmosIGksIEpTX05ld0ludDMyKGN0eCwgdmFsdWUpKTsKfQoKdm9pZApqc19zZXRfcHJvcGVydHlzdHJfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wLCBjb25zdCBjaGFyKiBzdHIpIHsKICBKU1ZhbHVlIHZhbHVlOwogIHZhbHVlID0gSlNfTmV3U3RyaW5nKGN0eCwgc3RyKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgcHJvcCwgdmFsdWUpOwp9Cgp2b2lkCmpzX3NldF9wcm9wZXJ0eXN0cl9zdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbikgewogIEpTVmFsdWUgdmFsdWU7CiAgdmFsdWUgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBzdHIsIGxlbik7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHByb3AsIHZhbHVlKTsKfQoKaW50CmpzX2dldF9wcm9wZXJ0eWRlc2NyaXB0b3IoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlEZXNjcmlwdG9yKiBkZXNjLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIEpTQXRvbSBwcm9wKSB7CiAgSlNWYWx1ZSBvYmosIHByb3RvOwogIG9iaiA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIGRvIHsKICAgIGlmKEpTX0dldE93blByb3BlcnR5KGN0eCwgZGVzYywgb2JqLCBwcm9wKSA9PSBUUlVFKQogICAgICByZXR1cm4gVFJVRTsKICAgIHByb3RvID0gSlNfR2V0UHJvdG90eXBlKGN0eCwgb2JqKTsKICAgIGlmKEpTX1ZBTFVFX0dFVF9PQkoocHJvdG8pID09IEpTX1ZBTFVFX0dFVF9PQkoob2JqKSkKICAgICAgYnJlYWs7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogICAgb2JqID0gcHJvdG87CiAgfSB3aGlsZShKU19Jc09iamVjdChvYmopKTsKICByZXR1cm4gRkFMU0U7Cn0KCkpTQ2xhc3NJRApqc19jbGFzc19pZChKU0NvbnRleHQqIGN0eCwgaW50IGlkKSB7CiAgcmV0dXJuIGN0eC0+cnQtPmNsYXNzX2FycmF5W2lkXS5jbGFzc19pZDsKfQoKSlNDbGFzc0lECmpzX2NsYXNzX25ld2lkKHZvaWQpIHsKICBKU0NsYXNzSUQgaWQ7CiAgSlNfTmV3Q2xhc3NJRCgmaWQpOwogIHJldHVybiBpZDsKfQoKSlNDbGFzcyoKanNfY2xhc3NfZ2V0KEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpIHsKICBKU0NsYXNzKiByZXQgPSAmY3R4LT5ydC0+Y2xhc3NfYXJyYXlbaWRdOwogIHJldHVybiByZXQtPmNsYXNzX2lkID09IGlkID8gcmV0IDogMDsKfQoKSlNDbGFzc0lECmpzX2NsYXNzX2ZpbmQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU0F0b20gYXRvbSA9IEpTX05ld0F0b20oY3R4LCBuYW1lKTsKICBKU1J1bnRpbWUqIHJ0ID0gY3R4LT5ydDsKICBpbnQgaSwgbiA9IHJ0LT5jbGFzc19jb3VudDsKICBmb3IoaSA9IDA7IGkgPCBuOyBpKyspCiAgICBpZihydC0+Y2xhc3NfYXJyYXlbaV0uY2xhc3NfbmFtZSA9PSBhdG9tKQogICAgICByZXR1cm4gaTsKCiAgcmV0dXJuIC0xOwp9CgpKU0F0b20KanNfY2xhc3NfYXRvbShKU0NvbnRleHQqIGN0eCwgSlNDbGFzc0lEIGlkKSB7CiAgSlNBdG9tIGF0b20gPSAwOwogIGlmKGlkID4gMCAmJiBpZCA8IChKU0NsYXNzSUQpY3R4LT5ydC0+Y2xhc3NfY291bnQpCiAgICBhdG9tID0gY3R4LT5ydC0+Y2xhc3NfYXJyYXlbaWRdLmNsYXNzX25hbWU7CiAgcmV0dXJuIGF0b207Cn0KCmNvbnN0IGNoYXIqCmpzX2NsYXNzX25hbWUoSlNDb250ZXh0KiBjdHgsIEpTQ2xhc3NJRCBpZCkgewogIEpTQXRvbSBhdG9tID0gY3R4LT5ydC0+Y2xhc3NfYXJyYXlbaWRdLmNsYXNzX25hbWU7CiAgcmV0dXJuIEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBhdG9tKTsKfQoKY29uc3QgY2hhcioKanNfb2JqZWN0X3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIHN0ciA9IGpzX3ZhbHVlX3Rvc3RyaW5nKGN0eCwgIk9iamVjdCIsIHZhbHVlKTsKICBjb25zdCBjaGFyKiBzID0gSlNfVG9DU3RyaW5nKGN0eCwgc3RyKTsKICBKU19GcmVlVmFsdWUoY3R4LCBzdHIpOwogIHJldHVybiBzOwp9Cgpjb25zdCBjaGFyKgpqc19mdW5jdGlvbl90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBzdHIgPSBqc192YWx1ZV90b3N0cmluZyhjdHgsICJGdW5jdGlvbiIsIHZhbHVlKTsKICBjb25zdCBjaGFyKiBzID0gSlNfVG9DU3RyaW5nKGN0eCwgc3RyKTsKICBKU19GcmVlVmFsdWUoY3R4LCBzdHIpOwogIHJldHVybiBzOwp9CgpCT09MCmpzX2Z1bmN0aW9uX2lzbmF0aXZlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBjb25zdCBjaGFyKiBmbiA9IGpzX2Z1bmN0aW9uX3Rvc3RyaW5nKGN0eCwgdmFsdWUpOwogIEJPT0wgcmV0ID0gISFzdHJzdHIoZm4sICJcbiAgICBbbmF0aXZlIGNvZGVdXG4iKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIGZuKTsKICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2lzX2lucHV0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNTdHJpbmcodmFsdWUpIHx8IGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSKTsKfQoKaW50CmpzX3Byb3BlbnVtX2NtcChjb25zdCB2b2lkKiBhLCBjb25zdCB2b2lkKiBiLCB2b2lkKiBwdHIpIHsKICBKU0NvbnRleHQqIGN0eCA9IHB0cjsKICBjb25zdCBjaGFyICpzdHJhLCAqc3RyYjsKICBpbnQgcmV0OwogIHN0cmEgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgKChjb25zdCBKU1Byb3BlcnR5RW51bSopYSktPmF0b20pOwogIHN0cmIgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgKChjb25zdCBKU1Byb3BlcnR5RW51bSopYiktPmF0b20pOwogIHJldCA9IHN0cnZlcnNjbXAoc3RyYSwgc3RyYik7CiAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyYSk7CiAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyYik7CiAgcmV0dXJuIHJldDsKfQoKdm9pZApqc19wcm9wZXJ0eWVudW1zX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlFbnVtKiBwcm9wcywgc2l6ZV90IGxlbikgewogIHVpbnQzMl90IGk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIEpTX0ZyZWVBdG9tKGN0eCwgcHJvcHNbaV0uYXRvbSk7CiAgLy8ganNfZnJlZShjdHgsIHByb3BzKTsKfQoKdm9pZApqc19zdHJ2X2ZyZWVfbihKU0NvbnRleHQqIGN0eCwgaW50IG4sIGNoYXIqIGFyZ3ZbXSkgewogIGludCBpOwogIGZvcihpID0gMDsgaSA8IG47IGkrKykgewogICAgaWYoYXJndltpXSkgewogICAgICBqc19mcmVlKGN0eCwgYXJndltpXSk7CiAgICAgIGFyZ3ZbaV0gPSAwOwogICAgfQogIH0KfQoKdm9pZApqc19zdHJ2X2ZyZWUoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KSB7CiAgc2l6ZV90IGk7CiAgaWYoc3RydiA9PSAwKQogICAgcmV0dXJuOwoKICBmb3IoaSA9IDA7IHN0cnZbaV07IGkrKykgeyBqc19mcmVlKGN0eCwgc3RydltpXSk7IH0KICBqc19mcmVlKGN0eCwgc3Rydik7Cn0KCnZvaWQKanNfc3Rydl9mcmVlX3J0KEpTUnVudGltZSogcnQsIGNoYXIqKiBzdHJ2KSB7CiAgc2l6ZV90IGk7CiAgaWYoc3RydiA9PSAwKQogICAgcmV0dXJuOwoKICBmb3IoaSA9IDA7IHN0cnZbaV07IGkrKykgeyBqc19mcmVlX3J0KHJ0LCBzdHJ2W2ldKTsgfQogIGpzX2ZyZWVfcnQocnQsIHN0cnYpOwp9CgpKU1ZhbHVlCmpzX3N0cnZfdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGlmKHN0cnYpIHsKICAgIHNpemVfdCBpOwogICAgZm9yKGkgPSAwOyBzdHJ2W2ldOyBpKyspIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19OZXdTdHJpbmcoY3R4LCBzdHJ2W2ldKSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnNpemVfdApqc19zdHJ2X2xlbmd0aChjaGFyKiogc3RydikgewogIHNpemVfdCBpOwogIGZvcihpID0gMDsgc3RydltpXTsgaSsrKSB7fQogIHJldHVybiBpOwp9CgpjaGFyKioKanNfc3Rydl9kdXAoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KSB7CiAgY2hhcioqIHJldDsKICBzaXplX3QgaSwgbGVuID0ganNfc3Rydl9sZW5ndGgoc3Rydik7CiAgcmV0ID0ganNfbWFsbG9jKGN0eCwgKGxlbiArIDEpICogc2l6ZW9mKGNoYXIqKSk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsgcmV0W2ldID0ganNfc3RyZHVwKGN0eCwgc3RydltpXSk7IH0KICByZXRbaV0gPSAwOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfaW50dl90b19hcnJheShKU0NvbnRleHQqIGN0eCwgaW50KiBpbnR2KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGlmKGludHYpIHsKICAgIHNpemVfdCBpOwogICAgZm9yKGkgPSAwOyBpbnR2W2ldOyBpKyspIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19OZXdJbnQzMihjdHgsIGludHZbaV0pKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKSlNBdG9tCmpzX3N5bWJvbF9zdGF0aWNfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX3N0YXRpY192YWx1ZShjdHgsIG5hbWUpOwogIEpTQXRvbSByZXQgPSBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIlN5bWJvbCIpOwp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9pbnZva2Vfc3RhdGljKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNBdG9tIG1ldGhvZF9uYW1lID0gSlNfTmV3QXRvbShjdHgsIG5hbWUpOwogIHJldCA9IEpTX0ludm9rZShjdHgsIGpzX3N5bWJvbF9jdG9yKGN0eCksIG1ldGhvZF9uYW1lLCAxLCAmYXJnKTsKICBKU19GcmVlQXRvbShjdHgsIG1ldGhvZF9uYW1lKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9mb3IoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5bV9mb3IpIHsKICBKU1ZhbHVlIGtleSwgc3ltOwogIEpTQXRvbSBhdG9tOwogIGtleSA9IEpTX05ld1N0cmluZyhjdHgsIHN5bV9mb3IpOwogIHN5bSA9IGpzX3N5bWJvbF9pbnZva2Vfc3RhdGljKGN0eCwgImZvciIsIGtleSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwga2V5KTsKICByZXR1cm4gc3ltOwp9CgpKU0F0b20KanNfc3ltYm9sX2Zvcl9hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeW1fZm9yKSB7CiAgSlNWYWx1ZSBzeW0gPSBqc19zeW1ib2xfZm9yKGN0eCwgc3ltX2Zvcik7CiAgSlNBdG9tIGF0b20gPSBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKICByZXR1cm4gYXRvbTsKfQoKSlNWYWx1ZQpqc19zeW1ib2xfdG9fc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgc3ltKSB7CiAgSlNWYWx1ZSB2YWx1ZSwgc3RyOwogIEpTQXRvbSBhdG9tOwogIHZhbHVlID0ganNfc3ltYm9sX2ludm9rZV9zdGF0aWMoY3R4LCAia2V5Rm9yIiwgc3ltKTsKICBpZighSlNfSXNVbmRlZmluZWQodmFsdWUpKQogICAgcmV0dXJuIHZhbHVlOwoKICBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCBzeW0pOwogIHN0ciA9IEpTX0F0b21Ub1N0cmluZyhjdHgsIGF0b20pOwogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgcmV0dXJuIHN0cjsKfQoKY29uc3QgY2hhcioKanNfc3ltYm9sX3RvX2NzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBzeW0pIHsKICBKU1ZhbHVlIHZhbHVlID0ganNfc3ltYm9sX3RvX3N0cmluZyhjdHgsIHN5bSk7CiAgY29uc3QgY2hhciogc3RyOwogIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHN0cjsKfQoKSlNWYWx1ZSoKanNfdmFsdWVzX2R1cChKU0NvbnRleHQqIGN0eCwgaW50IG52YWx1ZXMsIEpTVmFsdWVDb25zdCogdmFsdWVzKSB7CiAgSlNWYWx1ZSogcmV0ID0ganNfbWFsbG9jel9ydChjdHgtPnJ0LCBzaXplb2YoSlNWYWx1ZSkgKiBudmFsdWVzKTsKICBpbnQgaTsKICBmb3IoaSA9IDA7IGkgPCBudmFsdWVzOyBpKyspIHJldFtpXSA9IEpTX0R1cFZhbHVlUlQoY3R4LT5ydCwgdmFsdWVzW2ldKTsKICByZXR1cm4gcmV0Owp9Ci8qCnZvaWQKanNfdmFsdWVzX2ZyZWUoSlNDb250ZXh0KiBjdHgsIGludCBudmFsdWVzLCBKU1ZhbHVlQ29uc3QqIHZhbHVlcykgewogIGludCBpOwogIGZvcihpID0gMDsgaSA8IG52YWx1ZXM7IGkrKykgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWVzW2ldKTsKICBqc19mcmVlKGN0eCwgdmFsdWVzKTsKfQoqLwp2b2lkCmpzX3ZhbHVlc19mcmVlKEpTUnVudGltZSogcnQsIGludCBudmFsdWVzLCBKU1ZhbHVlQ29uc3QqIHZhbHVlcykgewogIGludCBpOwogIGZvcihpID0gMDsgaSA8IG52YWx1ZXM7IGkrKykgSlNfRnJlZVZhbHVlUlQocnQsIHZhbHVlc1tpXSk7CiAganNfZnJlZV9ydChydCwgdmFsdWVzKTsKfQoKSlNWYWx1ZQpqc192YWx1ZXNfdG9hcnJheShKU0NvbnRleHQqIGN0eCwgaW50IG52YWx1ZXMsIEpTVmFsdWVDb25zdCogdmFsdWVzKSB7CiAgaW50IGk7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGZvcihpID0gMDsgaSA8IG52YWx1ZXM7IGkrKykgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIEpTX0R1cFZhbHVlKGN0eCwgdmFsdWVzW2ldKSk7CiAgcmV0dXJuIHJldDsKfQoKY29uc3QgY2hhcioKanNfdmFsdWVfdHlwZV9uYW1lKGludDMyX3QgdHlwZSkgewogIGludDMyX3QgZmxhZyA9IGpzX3ZhbHVlX3R5cGUyZmxhZyh0eXBlKTsKICBjb25zdCBjaGFyKiBjb25zdCB0eXBlc1tdID0gewogICAgICAiVU5ERUZJTkVEIiwgICAgICIwIiwKICAgICAgIkJPT0wiLCAgICAgICAgICAiSU5UIiwKICAgICAgIk9CSkVDVCIsICAgICAgICAiU1RSSU5HIiwKICAgICAgIlNZTUJPTCIsICAgICAgICAiQklHX0ZMT0FUIiwKICAgICAgIkJJR19JTlQiLCAgICAgICAiQklHX0RFQ0lNQUwiLAogICAgICAiRkxPQVQ2NCIsICAgICAgICJOQU4iLAogICAgICAiRlVOQ1RJT04iLCAgICAgICJBUlJBWSIsCiAgICAgICJNT0RVTEUiLCAgICAgICAgIkZVTkNUSU9OX0JZVEVDT0RFIiwKICAgICAgIlVOSU5JVElBTElaRUQiLCAiQ0FUQ0hfT0ZGU0VUIiwKICAgICAgIkVYQ0VQVElPTiIsCiAgfTsKICBpZihmbGFnID49IDAgJiYgZmxhZyA8IGNvdW50b2YodHlwZXMpKQogICAgcmV0dXJuIHR5cGVzW2ZsYWddOwogIHJldHVybiAwOwp9Cgpjb25zdCBjaGFyKgpqc192YWx1ZV90eXBlc3RyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQzMl90IHR5cGUgPSBqc192YWx1ZV90eXBlKGN0eCwgdmFsdWUpOwogIHJldHVybiBqc192YWx1ZV90eXBlX25hbWUodHlwZSk7Cn0KCkJPT0wKanNfdmFsdWVfaGFzX3JlZl9jb3VudChKU1ZhbHVlIHYpIHsKICByZXR1cm4gKCh1bnNpZ25lZClqc192YWx1ZV90YWcodikgPj0gKHVuc2lnbmVkKUpTX1RBR19GSVJTVCk7Cn0KCmVudW0gdmFsdWVfbWFzawpqc192YWx1ZV90eXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQzMl90IGZsYWc7CiAgdWludDMyX3QgdHlwZSA9IDA7CiAgaWYoKGZsYWcgPSBqc192YWx1ZV90eXBlX2dldChjdHgsIHZhbHVlKSkgPT0gLTEpCiAgICByZXR1cm4gMDsKCiAgaWYoZmxhZyA9PSBGTEFHX0FSUkFZIC8qfHwgZmxhZyA9PSBGTEFHX0ZVTkNUSU9OKi8pCiAgICB0eXBlIHw9IFRZUEVfT0JKRUNUOwoKICB0eXBlIHw9IDEgPDwgZmxhZzsKCiAgcmV0dXJuIHR5cGU7Cn0KCmludDMyX3QKanNfdmFsdWVfdHlwZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKEpTX0lzQXJyYXkoY3R4LCB2YWx1ZSkpCiAgICByZXR1cm4gRkxBR19BUlJBWTsKCiAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIHZhbHVlKSkKICAgIHJldHVybiBGTEFHX0ZVTkNUSU9OOwoKICBpZihKU19WQUxVRV9JU19OQU4odmFsdWUpKQogICAgcmV0dXJuIEZMQUdfTkFOOwoKICByZXR1cm4ganNfdmFsdWVfdHlwZV9mbGFnKHZhbHVlKTsKfQoKaW50MzJfdApqc192YWx1ZV90eXBlX2ZsYWcoSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgc3dpdGNoKEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpKSB7CiAgICBjYXNlIEpTX1RBR19CSUdfREVDSU1BTDogcmV0dXJuIEZMQUdfQklHX0RFQ0lNQUw7CiAgICBjYXNlIEpTX1RBR19CSUdfSU5UOiByZXR1cm4gRkxBR19CSUdfSU5UOwogICAgY2FzZSBKU19UQUdfQklHX0ZMT0FUOiByZXR1cm4gRkxBR19CSUdfRkxPQVQ7CiAgICBjYXNlIEpTX1RBR19TWU1CT0w6IHJldHVybiBGTEFHX1NZTUJPTDsKICAgIGNhc2UgSlNfVEFHX1NUUklORzogcmV0dXJuIEZMQUdfU1RSSU5HOwogICAgY2FzZSBKU19UQUdfTU9EVUxFOiByZXR1cm4gRkxBR19NT0RVTEU7CiAgICBjYXNlIEpTX1RBR19GVU5DVElPTl9CWVRFQ09ERTogcmV0dXJuIEZMQUdfRlVOQ1RJT05fQllURUNPREU7CiAgICBjYXNlIEpTX1RBR19PQkpFQ1Q6IHJldHVybiBGTEFHX09CSkVDVDsKICAgIGNhc2UgSlNfVEFHX0lOVDogcmV0dXJuIEZMQUdfSU5UOwogICAgY2FzZSBKU19UQUdfQk9PTDogcmV0dXJuIEZMQUdfQk9PTDsKICAgIGNhc2UgSlNfVEFHX05VTEw6IHJldHVybiBGTEFHX05VTEw7CiAgICBjYXNlIEpTX1RBR19VTkRFRklORUQ6IHJldHVybiBGTEFHX1VOREVGSU5FRDsKICAgIGNhc2UgSlNfVEFHX1VOSU5JVElBTElaRUQ6IHJldHVybiBGTEFHX1VOSU5JVElBTElaRUQ7CiAgICBjYXNlIEpTX1RBR19DQVRDSF9PRkZTRVQ6IHJldHVybiBGTEFHX0NBVENIX09GRlNFVDsKICAgIGNhc2UgSlNfVEFHX0VYQ0VQVElPTjogcmV0dXJuIEZMQUdfRVhDRVBUSU9OOwogICAgY2FzZSBKU19UQUdfRkxPQVQ2NDogcmV0dXJuIEZMQUdfRkxPQVQ2NDsKICB9CiAgcmV0dXJuIC0xOwp9Cgp2b2lkCmpzX3ZhbHVlX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgdikgewogIGlmKGpzX3ZhbHVlX2hhc19yZWZfY291bnQodikpIHsKICAgIEpTUmVmQ291bnRIZWFkZXIqIHAgPSAoSlNSZWZDb3VudEhlYWRlciopanNfdmFsdWVfcHRyKHYpOwogICAgaWYocC0+cmVmX2NvdW50ID4gMCkgewogICAgICAtLXAtPnJlZl9jb3VudDsKICAgICAgaWYocC0+cmVmX2NvdW50ID09IDApCiAgICAgICAgX19KU19GcmVlVmFsdWUoY3R4LCB2KTsKICAgIH0KICB9Cn0KCkpTVmFsdWUKanNfdmFsdWVfY2xvbmUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGVudW0gdmFsdWVfbWFzayB0eXBlID0gMSA8PCBqc192YWx1ZV90eXBlX2dldChjdHgsIHZhbHVlKTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzd2l0Y2godHlwZSkgewogICAgLypjYXNlIFRZUEVfU1RSSU5HOiB7CiAgICAgc2l6ZV90IGxlbjsKICAgICBjb25zdCBjaGFyKiBzdHI7CiAgICAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIHN0ciwgbGVuKTsKICAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHIpOwogICAgIGJyZWFrOwogICAgIH0qLwogICAgY2FzZSBUWVBFX0lOVDogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIEpTX1ZBTFVFX0dFVF9JTlQodmFsdWUpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRZUEVfRkxPQVQ2NDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgSlNfVkFMVUVfR0VUX0ZMT0FUNjQodmFsdWUpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRZUEVfQk9PTDogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgSlNfVkFMVUVfR0VUX0JPT0wodmFsdWUpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRZUEVfRlVOQ1RJT046CiAgICBjYXNlIFRZUEVfQVJSQVk6CiAgICBjYXNlIFRZUEVfT0JKRUNUOiB7CiAgICAgIEpTUHJvcGVydHlFbnVtKiB0YWJfYXRvbTsKICAgICAgdWludDMyX3QgdGFiX2F0b21fbGVuOwogICAgICByZXQgPSBKU19Jc0FycmF5KGN0eCwgdmFsdWUpID8gSlNfTmV3QXJyYXkoY3R4KSA6IEpTX05ld09iamVjdChjdHgpOwogICAgICBpZighSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZ0YWJfYXRvbSwgJnRhYl9hdG9tX2xlbiwgdmFsdWUsIEpTX0dQTl9TVFJJTkdfTUFTSyB8IEpTX0dQTl9TWU1CT0xfTUFTSyB8IEpTX0dQTl9FTlVNX09OTFkpKSB7CiAgICAgICAgdWludDMyX3QgaTsKICAgICAgICBmb3IoaSA9IDA7IGkgPCB0YWJfYXRvbV9sZW47IGkrKykgewogICAgICAgICAgSlNWYWx1ZSBwcm9wOwogICAgICAgICAgcHJvcCA9IEpTX0dldFByb3BlcnR5KGN0eCwgdmFsdWUsIHRhYl9hdG9tW2ldLmF0b20pOwogICAgICAgICAgSlNfU2V0UHJvcGVydHkoY3R4LCByZXQsIHRhYl9hdG9tW2ldLmF0b20sIGpzX3ZhbHVlX2Nsb25lKGN0eCwgcHJvcCkpOwogICAgICAgIH0KICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVFlQRV9VTkRFRklORUQ6CiAgICBjYXNlIFRZUEVfTlVMTDoKICAgIGNhc2UgVFlQRV9TVFJJTkc6CiAgICBjYXNlIFRZUEVfU1lNQk9MOgogICAgY2FzZSBUWVBFX0JJR19ERUNJTUFMOgogICAgY2FzZSBUWVBFX0JJR19JTlQ6CiAgICBjYXNlIFRZUEVfQklHX0ZMT0FUOiB7CiAgICAgIHJldCA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGRlZmF1bHQ6IHsKICAgICAgcmV0ID0gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiTm8gc3VjaCB0eXBlOiAlcyAoMHglMDh4KVxuIiwganNfdmFsdWVfdHlwZV9uYW1lKHR5cGUpLCB0eXBlKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfdmFsdWVfZndyaXRlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsLCBGSUxFKiBmKSB7CiAgRHluQnVmIGRidWYgPSB7MH07CiAgc2l6ZV90IG47CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogIGpzX3ZhbHVlX2R1bXAoY3R4LCB2YWwsICZkYnVmKTsKICBkYnVmX3B1dGMoJmRidWYsICdcbicpOwogIG4gPSBkYnVmLnNpemU7CiAgZGJ1Zl8wKCZkYnVmKTsKICBmd3JpdGUoZGJ1Zi5idWYsIDEsIG4sIGYpOwogIGZmbHVzaChmKTsKICBkYnVmX2ZyZWUoJmRidWYpOwp9Cgp2b2lkCmpzX3ZhbHVlX2R1bXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgRHluQnVmKiBkYikgewogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwogIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgY29uc3QgY2hhciogc3RyID0ganNfb2JqZWN0X3Rvc3RyaW5nKGN0eCwgdmFsdWUpOwogICAgZGJ1Zl9wdXRzdHIoZGIsIHN0cik7CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHIpOwogICAgaWYoZGItPnNpemUgJiYgZGItPmJ1ZltkYi0+c2l6ZSAtIDFdID09ICdcbicpCiAgICAgIGRiLT5zaXplLS07CiAgfSBlbHNlIHsKICAgIGludCBpc19zdHJpbmcgPSBKU19Jc1N0cmluZyh2YWx1ZSk7CgogICAgaWYoaXNfc3RyaW5nKQogICAgICBkYnVmX3B1dGMoZGIsICciJyk7CgogICAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90KilzdHIsIGxlbik7CgogICAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKCiAgICBpZihpc19zdHJpbmcpCiAgICAgIGRidWZfcHV0YyhkYiwgJyInKTsKICAgIGVsc2UgaWYoSlNfSXNCaWdGbG9hdCh2YWx1ZSkpCiAgICAgIGRidWZfcHV0YyhkYiwgJ2wnKTsKICAgIGVsc2UgaWYoSlNfSXNCaWdEZWNpbWFsKHZhbHVlKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCAnbScpOwogICAgZWxzZSBpZihKU19Jc0JpZ0ludChjdHgsIHZhbHVlKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCAnbicpOwogIH0KfQoKQk9PTApqc192YWx1ZV9lcXVhbHMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhLCBKU1ZhbHVlQ29uc3QgYikgewogIGludDMyX3QgdGEsIHRiOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgdGEgPSBqc192YWx1ZV90eXBlKGN0eCwgYSk7CiAgdGIgPSBqc192YWx1ZV90eXBlKGN0eCwgYik7CgogIGlmKHRhICE9IHRiKSB7CiAgICByZXQgPSBGQUxTRTsKICB9IGVsc2UgaWYodGEgJiB0YiAmIChUWVBFX05VTEwgfCBUWVBFX1VOREVGSU5FRCB8IFRZUEVfTkFOKSkgewogICAgcmV0ID0gVFJVRTsKICB9IGVsc2UgaWYodGEgJiB0YiAmIChUWVBFX0JJR19JTlQgfCBUWVBFX0JJR19GTE9BVCB8IFRZUEVfQklHX0RFQ0lNQUwpKSB7CiAgICBjb25zdCBjaGFyICphc3RyLCAqYnN0cjsKCiAgICBhc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYSk7CiAgICBic3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYik7CgogICAgcmV0ID0gIXN0cmNtcChhc3RyLCBic3RyKTsKCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGFzdHIpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBic3RyKTsKCiAgfSBlbHNlIGlmKHRhICYgVFlQRV9JTlQpIHsKICAgIGludDMyX3QgaW50YSwgaW50YjsKCiAgICBpbnRhID0gSlNfVkFMVUVfR0VUX0lOVChhKTsKICAgIGludGIgPSBKU19WQUxVRV9HRVRfSU5UKGIpOwogICAgcmV0ID0gaW50YSA9PSBpbnRiOwogIH0gZWxzZSBpZih0YSAmIFRZUEVfQk9PTCkgewogICAgQk9PTCBib29sYSwgYm9vbGI7CgogICAgYm9vbGEgPSAhIUpTX1ZBTFVFX0dFVF9CT09MKGEpOwogICAgYm9vbGIgPSAhIUpTX1ZBTFVFX0dFVF9CT09MKGIpOwogICAgcmV0ID0gYm9vbGEgPT0gYm9vbGI7CgogIH0gZWxzZSBpZih0YSAmIFRZUEVfRkxPQVQ2NCkgewogICAgZG91YmxlIGZsdGEsIGZsdGI7CgogICAgZmx0YSA9IEpTX1ZBTFVFX0dFVF9GTE9BVDY0KGEpOwogICAgZmx0YiA9IEpTX1ZBTFVFX0dFVF9GTE9BVDY0KGIpOwogICAgcmV0ID0gZmx0YSA9PSBmbHRiOwoKICB9IGVsc2UgaWYodGEgJiBUWVBFX09CSkVDVCkgewogICAgcmV0ID0ganNfb2JqZWN0X2VxdWFscyhjdHgsIGEsIGIpOwogICAgLyp2b2lkICpvYmphLCAqb2JqYjsKCiAgICBvYmphID0gSlNfVkFMVUVfR0VUX09CSihhKTsKICAgIG9iamIgPSBKU19WQUxVRV9HRVRfT0JKKGIpOwoKICAgIHJldCA9IG9iamEgPT0gb2JqYjsqLwogIH0gZWxzZSBpZih0YSAmIFRZUEVfU1RSSU5HKSB7CiAgICBjb25zdCBjaGFyICpzdHJhLCAqc3RyYjsKCiAgICBzdHJhID0gSlNfVG9DU3RyaW5nKGN0eCwgYSk7CiAgICBzdHJiID0gSlNfVG9DU3RyaW5nKGN0eCwgYik7CgogICAgcmV0ID0gIXN0cmNtcChzdHJhLCBzdHJiKTsKCiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHJhKTsKICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cmIpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc192YWx1ZV9mcm9tX2NoYXIoSlNDb250ZXh0KiBjdHgsIGludCBjKSB7CiAgdWludDhfdCBidWZbMTZdOwogIHNpemVfdCBsZW4gPSB1bmljb2RlX3RvX3V0ZjgoYnVmLCBjKTsKICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKTsKfQoKdm9pZApqc192YWx1ZV9wcmludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgRHluQnVmIGRidWY7CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogIGpzX3ZhbHVlX2R1bXAoY3R4LCB2YWx1ZSwgJmRidWYpOwogIGRidWZfMCgmZGJ1Zik7CiAgZnB1dHMoKGNvbnN0IGNoYXIqKWRidWYuYnVmLCBzdGRvdXQpOwogIGRidWZfZnJlZSgmZGJ1Zik7Cn0KCmludApqc192YWx1ZV90b3NpemUoSlNDb250ZXh0KiBjdHgsIHNpemVfdCogc3osIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHVpbnQ2NF90IHU2NCA9IDA7CiAgaW50IHI7CiAgciA9IEpTX1RvSW5kZXgoY3R4LCAmdTY0LCB2YWx1ZSk7CiAgKnN6ID0gdTY0OwogIHJldHVybiByOwp9Cgp2b2lkCmpzX3ZhbHVlX2ZyZWVfcnQoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2KSB7CiAgaWYoanNfdmFsdWVfaGFzX3JlZl9jb3VudCh2KSkgewogICAgSlNSZWZDb3VudEhlYWRlciogcCA9IChKU1JlZkNvdW50SGVhZGVyKilqc192YWx1ZV9wdHIodik7CiAgICAtLXAtPnJlZl9jb3VudDsKICAgIGlmKHAtPnJlZl9jb3VudCA9PSAwKQogICAgICBfX0pTX0ZyZWVWYWx1ZVJUKHJ0LCB2KTsKICB9Cn0KCmNoYXIqCmpzX2NzdHJpbmdfcHRyKEpTVmFsdWVDb25zdCB2KSB7CiAgSlNTdHJpbmcqIHA7CgogIGlmKEpTX0lzU3RyaW5nKHYpKSB7CiAgICBwID0gSlNfVkFMVUVfR0VUX1BUUih2KTsKICAgIHJldHVybiAoY2hhciopcC0+dS5zdHI4OwogIH0KICByZXR1cm4gMDsKfQoKY2hhcioKanNfY3N0cmluZ19kdXAoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0cikgewogIEpTU3RyaW5nKiBwOwogIGlmKCFzdHIpCiAgICByZXR1cm4gMDsKICAvKiBwdXJwb3NlbHkgcmVtb3ZpbmcgY29uc3RuZXNzICovCiAgcCA9IChKU1N0cmluZyopKHZvaWQqKShzdHIgLSBvZmZzZXRvZihKU1N0cmluZywgdSkpOwogIEpTX0R1cFZhbHVlKGN0eCwgSlNfTUtQVFIoSlNfVEFHX1NUUklORywgcCkpOwogIHJldHVybiAoY2hhciopc3RyOwp9CgpKU1ZhbHVlQ29uc3QKanNfY3N0cmluZ192YWx1ZShjb25zdCBjaGFyKiBwdHIpIHsKICBKU1N0cmluZyogcDsKICBpZighcHRyKQogICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKCiAgcCA9IChKU1N0cmluZyopKHZvaWQqKShwdHIgLSBvZmZzZXRvZihKU1N0cmluZywgdSkpOwogIHJldHVybiBKU19NS1BUUihKU19UQUdfU1RSSU5HLCBwKTsKfQoKdm9pZApqc19jc3RyaW5nX2R1bXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgRHluQnVmKiBkYikgewogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwoKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90KilzdHIsIGxlbik7CgogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cik7Cn0KCkpTVmFsdWUKanNfbWFwX25ldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVudHJpZXMpIHsKICBKU1ZhbHVlIG1hcCwgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIk1hcCIpOwogIG1hcCA9IEpTX0NhbGxDb25zdHJ1Y3RvcihjdHgsIGN0b3IsIDEsICZlbnRyaWVzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gbWFwOwp9CgpKU1ZhbHVlCm1vZHVsZV9uYW1lKEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIGlmKG0tPm1vZHVsZV9uYW1lIDwgY3R4LT5ydC0+YXRvbV9jb3VudCkKICAgIHJldHVybiBKU19BdG9tVG9WYWx1ZShjdHgsIG0tPm1vZHVsZV9uYW1lKTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKY2hhcioKbW9kdWxlX25hbWVzdHIoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgY29uc3QgY2hhciogbmFtZSA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBtLT5tb2R1bGVfbmFtZSk7CiAgY2hhciogc3RyID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICByZXR1cm4gc3RyOwp9CgpzdGF0aWMgSlNWYWx1ZQpjYWxsX21vZHVsZV9mdW5jKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYywgSlNWYWx1ZSogZGF0YSkgewogIHVuaW9uIHsKICAgIEpTTW9kdWxlSW5pdEZ1bmMqIGluaXRfZnVuYzsKICAgIGludDMyX3QgaVsyXTsKICB9IHU7CgogIHUuaVswXSA9IEpTX1ZBTFVFX0dFVF9JTlQoZGF0YVswXSk7CiAgdS5pWzFdID0gSlNfVkFMVUVfR0VUX0lOVChkYXRhWzFdKTsKCiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTW9kdWxlKGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX05ld0ludDMyKGN0eCwgdS5pbml0X2Z1bmMoY3R4LCBKU19WQUxVRV9HRVRfUFRSKGFyZ3ZbMF0pKSk7CgogIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIG1vZHVsZSBleHBlY3RlZCIpOwp9CgpKU1ZhbHVlCm1vZHVsZV9mdW5jKEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZnVuYyA9IEpTX1VOREVGSU5FRDsKICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgbS0+ZnVuY19vYmopKSB7CiAgICBmdW5jID0gSlNfRHVwVmFsdWUoY3R4LCBtLT5mdW5jX29iaik7CiAgfSBlbHNlIGlmKG0tPmluaXRfZnVuYykgewogICAgdW5pb24gewogICAgICBKU01vZHVsZUluaXRGdW5jKiBpbml0X2Z1bmM7CiAgICAgIGludDMyX3QgaVsyXTsKICAgIH0gdSA9IHttLT5pbml0X2Z1bmN9OwogICAgSlNWYWx1ZUNvbnN0IGRhdGFbMl0gPSB7CiAgICAgICAgSlNfTUtWQUwoSlNfVEFHX0lOVCwgdS5pWzBdKSwKICAgICAgICBKU19NS1ZBTChKU19UQUdfSU5ULCB1LmlbMV0pLAogICAgfTsKICAgIGZ1bmMgPSBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwgY2FsbF9tb2R1bGVfZnVuYywgMSwgMCwgMiwgZGF0YSk7CiAgfQogIHJldHVybiBmdW5jOwp9CgpKU1ZhbHVlCm1vZHVsZV9ucyhKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBtLT5tb2R1bGVfbnMpOwp9CgpKU1ZhbHVlCm1vZHVsZV9leHBvcnRzX2ZpbmQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtLCBKU0F0b20gYXRvbSkgewogIHNpemVfdCBpOwogIGZvcihpID0gMDsgaSA8IG0tPmV4cG9ydF9lbnRyaWVzX2NvdW50OyBpKyspIHsKICAgIEpTRXhwb3J0RW50cnkqIGVudHJ5ID0gJm0tPmV4cG9ydF9lbnRyaWVzW2ldOwoKICAgIGlmKGVudHJ5LT5leHBvcnRfbmFtZSA9PSBhdG9tKSB7CiAgICAgIEpTVmFyUmVmKiByZWYgPSBlbnRyeS0+dS5sb2NhbC52YXJfcmVmOwogICAgICBKU1ZhbHVlIGV4cG9ydCA9IHJlZiA/IEpTX0R1cFZhbHVlKGN0eCwgcmVmLT5wdmFsdWUgPyAqcmVmLT5wdmFsdWUgOiByZWYtPnZhbHVlKSA6IEpTX1VOREVGSU5FRDsKICAgICAgcmV0dXJuIGV4cG9ydDsKICAgIH0KICB9CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKdm9pZAptb2R1bGVfZXhwb3J0c19nZXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtLCBCT09MIHJlbmFtZV9kZWZhdWx0LCBKU1ZhbHVlQ29uc3QgZXhwb3J0cykgewogIEpTQXRvbSBkZWYgPSBKU19OZXdBdG9tKGN0eCwgImRlZmF1bHQiKTsKCiAgc2l6ZV90IGk7CiAgZm9yKGkgPSAwOyBpIDwgbS0+ZXhwb3J0X2VudHJpZXNfY291bnQ7IGkrKykgewogICAgSlNFeHBvcnRFbnRyeSogZW50cnkgPSAmbS0+ZXhwb3J0X2VudHJpZXNbaV07CiAgICBKU1ZhclJlZiogcmVmID0gZW50cnktPnUubG9jYWwudmFyX3JlZjsKICAgIGlmKHJlZikgewogICAgICBKU1ZhbHVlIGV4cG9ydCA9IEpTX0R1cFZhbHVlKGN0eCwgcmVmLT5wdmFsdWUgPyAqcmVmLT5wdmFsdWUgOiByZWYtPnZhbHVlKTsKICAgICAgSlNBdG9tIG5hbWUgPSBlbnRyeS0+ZXhwb3J0X25hbWU7CiAgICAgIGlmKHJlbmFtZV9kZWZhdWx0ICYmIG5hbWUgPT0gZGVmKQogICAgICAgIG5hbWUgPSBtLT5tb2R1bGVfbmFtZTsKICAgICAgSlNfU2V0UHJvcGVydHkoY3R4LCBleHBvcnRzLCBuYW1lLCBleHBvcnQpOwogICAgfQogIH0KICBKU19GcmVlQXRvbShjdHgsIGRlZik7Cn0KCkpTVmFsdWUKbW9kdWxlX2V4cG9ydHMoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNWYWx1ZSBleHBvcnRzOwogIGV4cG9ydHMgPSBKU19OZXdPYmplY3RQcm90byhjdHgsIEpTX05VTEwpOwogIG1vZHVsZV9leHBvcnRzX2dldChjdHgsIG0sIEZBTFNFLCBleHBvcnRzKTsKICByZXR1cm4gZXhwb3J0czsKfQoKc3RydWN0IGxpc3RfaGVhZCoKanNfbW9kdWxlc19saXN0KEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuICZjdHgtPmxvYWRlZF9tb2R1bGVzOwp9CgpKU1ZhbHVlCmpzX21vZHVsZXNfYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgc3RydWN0IGxpc3RfaGVhZCogZWw7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIHVpbnQzMl90IGkgPSAwOwogIGxpc3RfZm9yX2VhY2goZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoZWwsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIqIHN0ciA9IG1vZHVsZV9uYW1lc3RyKGN0eCwgbSk7CiAgICBKU1ZhbHVlIGVudHJ5ID0gbWFnaWMgPyBtb2R1bGVfZW50cnkoY3R4LCBtKSA6IG1vZHVsZV92YWx1ZShjdHgsIG0pOwogICAgaWYoc3RyWzBdICE9ICc8JykKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgZW50cnkpOwogICAgZWxzZQogICAgICBKU19GcmVlVmFsdWUoY3R4LCBlbnRyeSk7CiAgICBqc19mcmVlKGN0eCwgc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19tb2R1bGVzX2VudHJpZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgc3RydWN0IGxpc3RfaGVhZCogZWw7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIHVpbnQzMl90IGkgPSAwOwogIGxpc3RfZm9yX2VhY2goZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoZWwsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIqIG5hbWUgPSBtb2R1bGVfbmFtZXN0cihjdHgsIG0pOwogICAgSlNWYWx1ZSBlbnRyeSA9IEpTX05ld0FycmF5KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGVudHJ5LCAwLCBKU19OZXdTdHJpbmcoY3R4LCAvKmJhc2VuYW1lKi8gKG5hbWUpKSk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGVudHJ5LCAxLCBtYWdpYyA/IG1vZHVsZV9lbnRyeShjdHgsIG0pIDogbW9kdWxlX3ZhbHVlKGN0eCwgbSkpOwogICAgaWYobmFtZVswXSAhPSAnPCcpCiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpKyssIGVudHJ5KTsKICAgIGVsc2UKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgZW50cnkpOwogICAganNfZnJlZShjdHgsIG5hbWUpOwogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX21vZHVsZXNfbWFwKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTVmFsdWUgbWFwLCBlbnRyaWVzID0ganNfbW9kdWxlc19lbnRyaWVzKGN0eCwgdGhpc192YWwsIG1hZ2ljKTsKICBtYXAgPSBqc19tYXBfbmV3KGN0eCwgZW50cmllcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZW50cmllcyk7CiAgcmV0dXJuIG1hcDsKfQoKSlNWYWx1ZQpqc19tb2R1bGVzX29iamVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBzdHJ1Y3QgbGlzdF9oZWFkKiBpdDsKICBKU1ZhbHVlIG9iaiA9IEpTX05ld09iamVjdChjdHgpOwogIGxpc3RfZm9yX2VhY2goaXQsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoaXQsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIqIG5hbWUgPSBtb2R1bGVfbmFtZXN0cihjdHgsIG0pOwogICAgSlNWYWx1ZSBlbnRyeSA9IG1hZ2ljID8gbW9kdWxlX2VudHJ5KGN0eCwgbSkgOiBtb2R1bGVfdmFsdWUoY3R4LCBtKTsKICAgIGlmKG5hbWVbMF0gIT0gJzwnKQogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgYmFzZW5hbWUobmFtZSksIGVudHJ5KTsKICAgIGVsc2UKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgZW50cnkpOwogICAganNfZnJlZShjdHgsIG5hbWUpOwogIH0KICByZXR1cm4gb2JqOwp9CgpKU1ZhbHVlCm1vZHVsZV92YWx1ZShKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBKU19NS1BUUihKU19UQUdfTU9EVUxFLCBtKSk7Cn0KCkpTVmFsdWUKbW9kdWxlX2VudHJ5KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZW50cnkgPSBKU19OZXdBcnJheShjdHgpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgZW50cnksIDAsIG1vZHVsZV9ucyhjdHgsIG0pKTsKICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGVudHJ5LCAxLCBtb2R1bGVfZXhwb3J0cyhjdHgsIG0pKTsKICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGVudHJ5LCAyLCBtb2R1bGVfZnVuYyhjdHgsIG0pKTsKICByZXR1cm4gZW50cnk7Cn0KCkpTVmFsdWUKbW9kdWxlX29iamVjdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU1ZhbHVlIG5zLCBleHBvcnRzLCBmdW5jLCBvYmogPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5hbWUiLCBtb2R1bGVfbmFtZShjdHgsIG0pKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgInJlc29sdmVkIiwgSlNfTmV3Qm9vbChjdHgsIG0tPnJlc29sdmVkKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJmdW5jX2NyZWF0ZWQiLCBKU19OZXdCb29sKGN0eCwgbS0+ZnVuY19jcmVhdGVkKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJpbnN0YW50aWF0ZWQiLCBKU19OZXdCb29sKGN0eCwgbS0+aW5zdGFudGlhdGVkKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJldmFsdWF0ZWQiLCBKU19OZXdCb29sKGN0eCwgbS0+ZXZhbHVhdGVkKSk7CgogIG5zID0gbW9kdWxlX25zKGN0eCwgbSk7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKG5zKSkKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibnMiLCBucyk7CiAgZXhwb3J0cyA9IG1vZHVsZV9leHBvcnRzKGN0eCwgbSk7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKGV4cG9ydHMpKQogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJleHBvcnRzIiwgbW9kdWxlX2V4cG9ydHMoY3R4LCBtKSk7CiAgZnVuYyA9IG1vZHVsZV9mdW5jKGN0eCwgbSk7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKGZ1bmMpKQogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJmdW5jIiwgZnVuYyk7CiAgcmV0dXJuIG9iajsKfQoKY2hhcioKanNfbW9kdWxlX3NlYXJjaChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc2VhcmNoX3BhdGgsIGNvbnN0IGNoYXIqIG1vZHVsZSkgewogIHNpemVfdCBsZW47CiAgY2hhciogcGF0aCA9IDA7CgogIHdoaWxlKCFzdHJuY21wKG1vZHVsZSwgIi4vIiwgMikpIG1vZHVsZSA9IHRyaW1fZG90c2xhc2gobW9kdWxlKTsKICBsZW4gPSBzdHJsZW4obW9kdWxlKTsKCiAgaWYoIXN0cl9jb250YWlucyhtb2R1bGUsICcvJykgfHwgc3RyX2VuZHMobW9kdWxlLCAiLnNvIikpCiAgICBwYXRoID0ganNfbW9kdWxlX3NlYXJjaF9leHQoY3R4LCBzZWFyY2hfcGF0aCwgbW9kdWxlLCAiLnNvIik7CgogIGlmKCFwYXRoKQogICAgcGF0aCA9IGpzX21vZHVsZV9zZWFyY2hfZXh0KGN0eCwgc2VhcmNoX3BhdGgsIG1vZHVsZSwgIi5qcyIpOwoKICByZXR1cm4gcGF0aDsKfQoKY2hhcioKanNfbW9kdWxlX3NlYXJjaF9leHQoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHBhdGgsIGNvbnN0IGNoYXIqIG5hbWUsIGNvbnN0IGNoYXIqIGV4dCkgewogIGNvbnN0IGNoYXIgKnAsICpxOwogIGNoYXIqIGZpbGUgPSAwOwogIHNpemVfdCBpLCBqOwogIHN0cnVjdCBzdGF0IHN0OwoKICBmb3IocCA9IHBhdGg7ICpwOyBwID0gcSkgewogICAgaWYoKHEgPSBzdHJjaHIocCwgJzonKSkgPT0gMCkKICAgICAgcSA9IHAgKyBzdHJsZW4ocCk7CiAgICBpID0gcSAtIHA7CiAgICBmaWxlID0ganNfbWFsbG9jKGN0eCwgaSArIDEgKyBzdHJsZW4obmFtZSkgKyAzICsgMSk7CiAgICBzdHJuY3B5KGZpbGUsIHAsIGkpOwogICAgZmlsZVtpXSA9ICcvJzsKICAgIHN0cmNweSgmZmlsZVtpICsgMV0sIG5hbWUpOwogICAgaiA9IHN0cmxlbihuYW1lKTsKICAgIGlmKCEoaiA+PSAzICYmICFzdHJjbXAoJm5hbWVbaiAtIDNdLCBleHQpKSkKICAgICAgc3RyY3B5KCZmaWxlW2kgKyAxICsgal0sIGV4dCk7CiAgICBpZighc3RhdChmaWxlLCAmc3QpKQogICAgICByZXR1cm4gZmlsZTsKICAgIGpzX2ZyZWUoY3R4LCBmaWxlKTsKICAgIGlmKCpxID09ICc6JykKICAgICAgKytxOwogIH0KICByZXR1cm4gMDsKfQoKY2hhcioKanNfbW9kdWxlX25vcm1hbGl6ZShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciogbmFtZSwgdm9pZCogb3BhcXVlKSB7CiAgc2l6ZV90IHA7CiAgY29uc3QgY2hhciogcjsKICBEeW5CdWYgZmlsZSA9IHswLCAwLCAwfTsKICBzaXplX3QgbjsKICBpZihuYW1lWzBdICE9ICcuJykKICAgIHJldHVybiBqc19zdHJkdXAoY3R4LCBuYW1lKTsKICBqc19kYnVmX2luaXQoY3R4LCAmZmlsZSk7CiAgbiA9IHBhdGhbKHAgPSBzdHJfcmNocihwYXRoLCAnLycpKV0gPyBwIDogMDsKICBkYnVmX3B1dCgmZmlsZSwgKGNvbnN0IHVpbnQ4X3QqKXBhdGgsIG4pOwogIGRidWZfMCgmZmlsZSk7CiAgZm9yKHIgPSBuYW1lOzspIHsKICAgIGlmKHJbMF0gPT0gJy4nICYmIHJbMV0gPT0gJy8nKSB7CiAgICAgIHIgKz0gMjsKICAgIH0gZWxzZSBpZihyWzBdID09ICcuJyAmJiByWzFdID09ICcuJyAmJiByWzJdID09ICcvJykgewogICAgICBpZihmaWxlLnNpemUgPT0gMCkKICAgICAgICBicmVhazsKICAgICAgaWYoKHAgPSBieXRlX3JjaHIoZmlsZS5idWYsIGZpbGUuc2l6ZSwgJy8nKSkgPCBmaWxlLnNpemUpCiAgICAgICAgcCsrOwogICAgICBlbHNlCiAgICAgICAgcCA9IDA7CiAgICAgIGlmKCFzdHJjbXAoKGNvbnN0IGNoYXIqKSZmaWxlLmJ1ZltwXSwgIi4iKSB8fCAhc3RyY21wKChjb25zdCBjaGFyKikmZmlsZS5idWZbcF0sICIuLiIpKQogICAgICAgIGJyZWFrOwogICAgICBpZihwID4gMCkKICAgICAgICBwLS07CiAgICAgIGZpbGUuc2l6ZSA9IHA7CiAgICAgIHIgKz0gMzsKICAgIH0gZWxzZSB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICBpZihmaWxlLnNpemUgPT0gMCkKICAgIGRidWZfcHV0YygmZmlsZSwgJy4nKTsKICBkYnVmX3B1dGMoJmZpbGUsICcvJyk7CiAgZGJ1Zl9wdXRzdHIoJmZpbGUsIHIpOwogIGRidWZfMCgmZmlsZSk7CiAgcmV0dXJuIChjaGFyKilmaWxlLmJ1ZjsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9kZWYoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTTW9kdWxlRGVmKiBtID0gMDsKICBpZihKU19Jc1N0cmluZyh2YWx1ZSkpIHsKICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICBtID0ganNfbW9kdWxlX2ZpbmQoY3R4LCBuYW1lKTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbmFtZSk7CiAgfSBlbHNlIGlmKEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpID09IEpTX1RBR19NT0RVTEUpIHsKICAgIG0gPSBKU19WQUxVRV9HRVRfUFRSKHZhbHVlKTsKICB9CiAgcmV0dXJuIG07Cn0KCkpTTW9kdWxlRGVmKgpqc19tb2R1bGVfZmluZChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIHN0cnVjdCBsaXN0X2hlYWQqIGVsOwogIHNpemVfdCBuYW1lbGVuID0gc3RybGVuKG5hbWUpOwogIGxpc3RfZm9yX2VhY2goZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoZWwsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIgKm4sICpzdHIgPSBtb2R1bGVfbmFtZXN0cihjdHgsIG0pOwogICAgc2l6ZV90IGxlbjsKICAgIG4gPSBiYXNlbmFtZShzdHIpOwogICAgbGVuID0gc3RyX3JjaHIobiwgJy4nKTsKICAgIGlmKCFzdHJjbXAoc3RyLCBuYW1lKSB8fCAhc3RyY21wKG4sIG5hbWUpIHx8IChsZW4gPT0gbmFtZWxlbiAmJiAhc3RybmNtcChuLCBuYW1lLCBsZW4pKSkKICAgICAgcmV0dXJuIG07CiAgICBqc19mcmVlKGN0eCwgc3RyKTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyB2b2lkCmpzX2ltcG9ydF9kaXJlY3RpdmUoSlNDb250ZXh0KiBjdHgsIEltcG9ydERpcmVjdGl2ZSBpbXAsIER5bkJ1ZiogZGIpIHsKICBCT09MIGhhc19wcm9wID0gaW1wLnByb3AgJiYgaW1wLnByb3BbMF07CiAgQk9PTCBpc19ucyA9IGltcC5zcGVjICYmIGltcC5zcGVjWzBdID09ICcqJzsKICBjb25zdCBjaGFyICp2YXIsICpiYXNlID0gYmFzZW5hbWUoaW1wLnBhdGgpOwogIHNpemVfdCBibGVuID0gc3RyX2NocihiYXNlLCAnLicpOwogIGRidWZfcHV0c3RyKGRiLCAiaW1wb3J0ICIpOwogIGlmKGltcC5zcGVjKSB7CiAgICBkYnVmX3B1dHN0cihkYiwgaW1wLnNwZWMpOwogICAgaWYoaXNfbnMpIHsKICAgICAgaWYoIWltcC5ucykgewogICAgICAgIGNoYXIqIHg7CiAgICAgICAgaW1wLm5zID0ganNfc3RybmR1cChjdHgsIGJhc2UsIGJsZW4pOwogICAgICAgIGZvcih4ID0gKGNoYXIqKWltcC5uczsgKng7IHgrKykKICAgICAgICAgIGlmKCFpc19pZGVudGlmaWVyX2NoYXIoKngpKQogICAgICAgICAgICAqeCA9ICdfJzsKICAgICAgfQogICAgICBkYnVmX3B1dHN0cihkYiwgIiBhcyAiKTsKICAgIH0KICB9CiAgaWYoaW1wLnNwZWMgPT0gMCB8fCBzdHJfZXF1YWwoaW1wLnNwZWMsICJkZWZhdWx0IikpIHsKICAgIGlmKCFpbXAubnMpCiAgICAgIGltcC5ucyA9IGpzX3N0cm5kdXAoY3R4LCBiYXNlLCBibGVuKTsKICB9CiAgaWYoaW1wLm5zKQogICAgZGJ1Zl9wdXRtKGRiLCBpbXAubnMsIDApOwogIGlmKGltcC5wYXRoKQogICAgZGJ1Zl9wdXRtKGRiLCAiIGZyb20gJyIsIGltcC5wYXRoLCAiJyIsIDApOwogIGlmKCEodmFyID0gaW1wLnZhcikpCiAgICBpZighKHZhciA9IGltcC5ucykpCiAgICAgIHZhciA9IGltcC5zcGVjOwogIGRidWZfcHV0c3RyKGRiLCAiO1xuIik7CgogIGlmKChoYXNfcHJvcCB8fCBpc19ucykgJiYgdmFyWzBdICE9ICcqJykgewogICAgZGJ1Zl9wdXRtKGRiLCAiZ2xvYmFsVGhpcy4iLCB2YXIsICIgPSAiLCBpbXAubnMgPyBpbXAubnMgOiBpbXAuc3BlYywgaW1wLnByb3AgJiYgKmltcC5wcm9wID8gIi4iIDogMCwgaW1wLnByb3AsIDApOwogIH0gZWxzZSB7CiAgICBkYnVmX3B1dG0oZGIsICJPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsICIsIGltcC5ucyA/IGltcC5ucyA6IGltcC5zcGVjLCAwKTsKICAgIGRidWZfcHV0YyhkYiwgJyknKTsKICB9CiAgZGJ1Zl9wdXRtKGRiLCAiOyIsIDApOwogIGRidWZfMChkYik7Cn0KCkpTVmFsdWUKanNfaW1wb3J0X2xvYWQoSlNDb250ZXh0KiBjdHgsIEltcG9ydERpcmVjdGl2ZSBpbXApIHsKICBEeW5CdWYgYnVmOwogIGNoYXIqIGNvZGU7CiAganNfZGJ1Zl9pbml0KGN0eCwgJmJ1Zik7CiAganNfaW1wb3J0X2RpcmVjdGl2ZShjdHgsIGltcCwgJmJ1Zik7CiAgY29kZSA9IHN0cl9lc2NhcGUoKGNvbnN0IGNoYXIqKWJ1Zi5idWYpOwogIHByaW50ZigianNfaW1wb3J0X2V2YWw6ICclcydcbiIsIGNvZGUpOwogIGZyZWUoY29kZSk7CiAgcmV0dXJuIEpTX0V2YWwoY3R4LCBidWYuYnVmLCBidWYuc2l6ZSwgaW1wLmFyZ3NbMF0sIEpTX0VWQUxfVFlQRV9NT0RVTEUgfCBKU19FVkFMX0ZMQUdfQ09NUElMRV9PTkxZKTsKfQoKSlNWYWx1ZQpqc19pbXBvcnRfZXZhbChKU0NvbnRleHQqIGN0eCwgSW1wb3J0RGlyZWN0aXZlIGltcCkgewogIER5bkJ1ZiBidWY7CiAgY2hhciogY29kZTsKICBqc19kYnVmX2luaXQoY3R4LCAmYnVmKTsKICBqc19pbXBvcnRfZGlyZWN0aXZlKGN0eCwgaW1wLCAmYnVmKTsKICBjb2RlID0gc3RyX2VzY2FwZSgoY29uc3QgY2hhciopYnVmLmJ1Zik7CiAgcHJpbnRmKCJqc19pbXBvcnRfZXZhbDogJyVzJ1xuIiwgY29kZSk7CiAgZnJlZShjb2RlKTsKICByZXR1cm4ganNfZXZhbF9idWYoY3R4LCBidWYuYnVmLCBidWYuc2l6ZSwgaW1wLmFyZ3NbMF0sIEpTX0VWQUxfVFlQRV9NT0RVTEUpOwp9CgpKU01vZHVsZURlZioKanNfbW9kdWxlX2ltcG9ydF9kZWZhdWx0KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwYXRoLCBjb25zdCBjaGFyKiB2YXIpIHsKICBqc19pbXBvcnRfZXZhbChjdHgsCiAgICAgICAgICAgICAgICAgKEltcG9ydERpcmVjdGl2ZSl7CiAgICAgICAgICAgICAgICAgICAgIC5wYXRoID0gcGF0aCwKICAgICAgICAgICAgICAgICAgICAgLnNwZWMgPSAiZGVmYXVsdCIsCiAgICAgICAgICAgICAgICAgICAgIC5ucyA9IDAsCiAgICAgICAgICAgICAgICAgICAgIC5wcm9wID0gImRlZmF1bHQiLAogICAgICAgICAgICAgICAgICAgICAudmFyID0gMCwKICAgICAgICAgICAgICAgICB9KTsKICByZXR1cm4ganNfbW9kdWxlX2ZpbmQoY3R4LCBwYXRoKTsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9pbXBvcnRfbmFtZXNwYWNlKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwYXRoLCBjb25zdCBjaGFyKiBucykgewogIGpzX2ltcG9ydF9ldmFsKGN0eCwKICAgICAgICAgICAgICAgICAoSW1wb3J0RGlyZWN0aXZlKXsKICAgICAgICAgICAgICAgICAgICAgLnBhdGggPSBwYXRoLAogICAgICAgICAgICAgICAgICAgICAuc3BlYyA9ICIqIiwKICAgICAgICAgICAgICAgICAgICAgLm5zID0gbnMsCiAgICAgICAgICAgICAgICAgICAgIC5wcm9wID0gMCwKICAgICAgICAgICAgICAgICAgICAgLnZhciA9IDAsCiAgICAgICAgICAgICAgICAgfSk7CiAgcmV0dXJuIGpzX21vZHVsZV9maW5kKGN0eCwgcGF0aCk7Cn0KCkpTVmFsdWUKanNfbW9kdWxlX2ltcG9ydChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciogbnMsIGNvbnN0IGNoYXIqIHZhciwgY29uc3QgY2hhciogcHJvcCkgewogIER5bkJ1ZiBidWY7CiAgY29uc3QgY2hhciogbmFtZTsKICBzaXplX3QgbGVuLCBuc2xlbjsKICBuYW1lID0gYmFzZW5hbWUocGF0aCk7CiAgbGVuID0gMDsKICB3aGlsZShuYW1lW2xlbl0gJiYgaXNfaWRlbnRpZmllcl9jaGFyKG5hbWVbbGVuXSkpICsrbGVuOwogIG5zbGVuID0gbnMgPyBzdHJsZW4obnMpIDogbGVuOwogIG5zID0gbnMgPyBqc19zdHJkdXAoY3R4LCBucykgOiBqc19zdHJuZHVwKGN0eCwgbmFtZSwgbGVuKTsKICBqc19kYnVmX2luaXQoY3R4LCAmYnVmKTsKICBkYnVmX3ByaW50ZigmYnVmLCAiaW1wb3J0ICVzJXMgZnJvbSAnJXMnOyBnbG9iYWxUaGlzLiVzID0gJXMiLCBucyA/ICIqIGFzICIgOiAiIiwgbnMsIHBhdGgsIHZhciA/IHZhciA6IG5zLCBucyk7CgogIGlmKHByb3AgJiYgKnByb3ApIHsKICAgIGRidWZfcHV0YygmYnVmLCAnLicpOwogICAgZGJ1Zl9wdXRzdHIoJmJ1ZiwgcHJvcCk7CiAgfQogIGRidWZfcHV0YygmYnVmLCAnOycpOwogIGRidWZfMCgmYnVmKTsKICBwcmludGYoImpzX21vZHVsZV9pbXBvcnQ6ICclcydcbiIsIGJ1Zi5idWYpOwogIHJldHVybiBqc19ldmFsX2J1ZihjdHgsIGJ1Zi5idWYsIGJ1Zi5zaXplLCAwLCBKU19FVkFMX1RZUEVfTU9EVUxFKTsKfQoKLypKU01vZHVsZURlZioKanNfbW9kdWxlX2xvYWRlcl9zbyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgSlNNb2R1bGVMb2FkZXJGdW5jKiBpbml0OwogIHZvaWQqIGhkOwogIGNoYXIqIGZpbGU7CiAgc3RhdGljIGNvbnN0IGNoYXIqIGVycm9yc1szXSA9IHsiZGxvcGVuKCkgZmFpbGVkIiwgImpzX2luaXRfbW9kdWxlIG5vdCBmb3VuZCIsICJpbml0aWFsaXphdGlvbiBlcnJvciJ9OwogIGlmKCFzdHJjaHIobW9kdWxlLCAnLycpKSB7CiAgICBpZighKGZpbGUgPSBqc19tYWxsb2MoY3R4LCBzdHJsZW4obW9kdWxlKSArIDIgKyAxKSkpCiAgICAgIHJldHVybiAwOwogICAgc3RyY3B5KGZpbGUsICIuLyIpOwogICAgc3RyY3B5KGZpbGUgKyAyLCBtb2R1bGUpOwogIH0gZWxzZSB7CiAgICBmaWxlID0gKGNoYXIqKW1vZHVsZTsKICB9CiAgaGQgPSBkbG9wZW4oZmlsZSwgUlRMRF9OT1cgfCBSVExEX0xPQ0FMKTsKICBpZihmaWxlICE9IG1vZHVsZSkKICAgIGpzX2ZyZWUoY3R4LCBmaWxlKTsKICBpZihoZCkgewogICAgaWYoKGluaXQgPSBkbHN5bShoZCwgImpzX2luaXRfbW9kdWxlIikpKSB7CiAgICAgIGlmKCEobSA9IGluaXQoY3R4LCBtb2R1bGUsIDApKSkgewogICAgICAgIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiY291bGQgbm90IGxvYWQgbW9kdWxlIGZpbGUgJyVzJzogJXMiLCBlcnJvcnNbMl0pOwogICAgICAgIGdvdG8gZmFpbDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJjb3VsZCBub3QgbG9hZCBtb2R1bGUgZmlsZSAnJXMnOiAlcyIsIGVycm9yc1sxXSk7CiAgICAgIGdvdG8gZmFpbDsKICAgIH0KICB9IGVsc2UgewogICAgSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJjb3VsZCBub3QgbG9hZCBtb2R1bGUgZmlsZSAnJXMnOiAlczogJXMiLCBtb2R1bGUsIGVycm9yc1swXSwgZGxlcnJvcigpKTsKICAgIGdvdG8gZmFpbDsKICB9CiAgcmV0dXJuIG07CmZhaWw6CiAgaWYoaGQpCiAgICBkbGNsb3NlKGhkKTsKICByZXR1cm4gMDsKfSovCgpCT09MCmpzX2lzX2FycmF5YnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBCT09MIHJldCA9IEZBTFNFOwogIGlmKCFKU19Jc09iamVjdCh2YWx1ZSkpCiAgICByZXR1cm4gcmV0OwogIGlmKCFyZXQpCiAgICByZXQgfD0ganNfdmFsdWVfaXNjbGFzcyhjdHgsIHZhbHVlLCBKU19DTEFTU19BUlJBWV9CVUZGRVIpOwogIGlmKCFyZXQpCiAgICByZXQgfD0ganNfb2JqZWN0X2lzKGN0eCwgdmFsdWUsICJbb2JqZWN0IEFycmF5QnVmZmVyXSIpOwogIC8qICBpZighcmV0KSB7CiAgICAgIEpTT2JqZWN0KiBvYmo7CiAgICAgIGlmKChvYmogPSBqc192YWx1ZV9vYmoodmFsdWUpKSAmJiBvYmotPmNsYXNzX2lkKSB7CiAgICAgICAgSlNWYWx1ZSBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCAiQXJyYXlCdWZmZXIiKTsKICAgICAgICByZXQgPSBKU19Jc0luc3RhbmNlT2YoY3R4LCB2YWx1ZSwgY3Rvcik7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgICAgIH0KICAgIH0qLwogIHJldHVybiByZXQ7Cn0KCkJPT0wKanNfaXNfc2hhcmVkYXJyYXlidWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc09iamVjdCh2YWx1ZSkgJiYgKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfU0hBUkVEX0FSUkFZX0JVRkZFUikvKiB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzX29iamVjdF9pcyhjdHgsIHZhbHVlLCAiW29iamVjdCBTaGFyZWRBcnJheUJ1ZmZlcl0iKSovKTsKfQoKQk9PTApqc19pc19tYXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc09iamVjdCh2YWx1ZSkgJiYgKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfTUFQKSAvKnx8IGpzX29iamVjdF9pcyhjdHgsIHZhbHVlLCAiW29iamVjdCBNYXBdIikqLyk7Cn0KCkJPT0wKanNfaXNfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNPYmplY3QodmFsdWUpICYmIChqc192YWx1ZV9pc2NsYXNzKGN0eCwgdmFsdWUsIEpTX0NMQVNTX1NFVCkgLyogfHwganNfb2JqZWN0X2lzKGN0eCwgdmFsdWUsICJbb2JqZWN0IFNldF0iKSovKTsKfQoKQk9PTApqc19pc19nZW5lcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc09iamVjdCh2YWx1ZSkgJiYgKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfR0VORVJBVE9SKSAvKnx8IGpzX29iamVjdF9pcyhjdHgsIHZhbHVlLCAiW29iamVjdCBHZW5lcmF0b3JdIikqLyk7Cn0KCkJPT0wKanNfaXNfcmVnZXhwKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNPYmplY3QodmFsdWUpICYmIChqc192YWx1ZV9pc2NsYXNzKGN0eCwgdmFsdWUsIEpTX0NMQVNTX1JFR0VYUCkgLyp8fCBqc19vYmplY3RfaXMoY3R4LCB2YWx1ZSwgIltvYmplY3QgUmVnRXhwXSIpKi8pOwp9CgpCT09MCmpzX2lzX3Byb21pc2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc09iamVjdCh2YWx1ZSkgJiYgKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfUFJPTUlTRSkgfHwganNfb2JqZWN0X2lzKGN0eCwgdmFsdWUsICJbb2JqZWN0IFByb21pc2VdIikpOwp9CgpCT09MCmpzX2lzX2RhdGF2aWV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNPYmplY3QodmFsdWUpICYmIChqc192YWx1ZV9pc2NsYXNzKGN0eCwgdmFsdWUsIEpTX0NMQVNTX0RBVEFWSUVXKSAvKnx8IGpzX29iamVjdF9pcyhjdHgsIHZhbHVlLCAiW29iamVjdCBEYXRhVmlld10iKSovKTsKfQoKQk9PTApqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJpdGVyYXRvciIpOwogIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgIHJldCA9IFRSVUU7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIXJldCkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9zdGF0aWNfYXRvbShjdHgsICJhc3luY0l0ZXJhdG9yIik7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICAgIHJldCA9IFRSVUU7CgogICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIGlmKEpTX0lzT2JqZWN0KG9iaikpIHsKICAgIEpTVmFsdWUgbmV4dCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibmV4dCIpOwoKICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBuZXh0KSkKICAgICAgcmV0dXJuIFRSVUU7CiAgfQogIHJldHVybiBGQUxTRTsKfQoKSlNWYWx1ZQpqc190eXBlZGFycmF5X3Byb3RvdHlwZShKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgdThhcnJfcHJvdG8gPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgIlVpbnQ4QXJyYXkiKTsKICBKU1ZhbHVlIHR5cGVkYXJyX3Byb3RvID0gSlNfR2V0UHJvdG90eXBlKGN0eCwgdThhcnJfcHJvdG8pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHU4YXJyX3Byb3RvKTsKICByZXR1cm4gdHlwZWRhcnJfcHJvdG87Cn0KCkpTVmFsdWUKanNfdHlwZWRhcnJheV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgdHlwZWRhcnJfcHJvdG8gPSBqc190eXBlZGFycmF5X3Byb3RvdHlwZShjdHgpOwogIEpTVmFsdWUgdHlwZWRhcnJfY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdHlwZWRhcnJfcHJvdG8sICJjb25zdHJ1Y3RvciIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHR5cGVkYXJyX3Byb3RvKTsKICByZXR1cm4gdHlwZWRhcnJfY3RvcjsKfQoKSlNWYWx1ZQpqc19pbnZva2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogbWV0aG9kLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgcmV0OwogIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgbWV0aG9kKTsKICByZXQgPSBKU19JbnZva2UoY3R4LCB0aGlzX29iaiwgYXRvbSwgYXJnYywgYXJndik7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX3N5bWJvbF9vcGVyYXRvcnNldF92YWx1ZShKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBqc19zeW1ib2xfc3RhdGljX3ZhbHVlKGN0eCwgIm9wZXJhdG9yU2V0Iik7Cn0KCkpTQXRvbQpqc19zeW1ib2xfb3BlcmF0b3JzZXRfYXRvbShKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgb3BlcmF0b3Jfc2V0ID0ganNfc3ltYm9sX29wZXJhdG9yc2V0X3ZhbHVlKGN0eCk7CiAgSlNBdG9tIGF0b20gPSBKU19WYWx1ZVRvQXRvbShjdHgsIG9wZXJhdG9yX3NldCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb3BlcmF0b3Jfc2V0KTsKICByZXR1cm4gYXRvbTsKfQoKSlNWYWx1ZQpqc19vcGVyYXRvcnNfY3JlYXRlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlKiB0aGlzX29iaikgewogIEpTVmFsdWUgb3BlcmF0b3JzID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCAiT3BlcmF0b3JzIik7CiAgSlNWYWx1ZSBjcmVhdGVfZnVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvcGVyYXRvcnMsICJjcmVhdGUiKTsKICBpZih0aGlzX29iaikKICAgICp0aGlzX29iaiA9IG9wZXJhdG9yczsKICBlbHNlCiAgICBKU19GcmVlVmFsdWUoY3R4LCBvcGVyYXRvcnMpOwogIHJldHVybiBjcmVhdGVfZnVuOwp9CgpKU1ZhbHVlCmpzX251bWJlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGludDMyX3QgbikgewogIGlmKG4gPT0gSU5UMzJfTUFYKQogICAgcmV0dXJuIEpTX05ld0Zsb2F0NjQoY3R4LCBJTkZJTklUWSk7CgogIHJldHVybiBKU19OZXdJbnQzMihjdHgsIG4pOwp9CgpKU1ZhbHVlCmpzX2RhdGVfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgSlNWYWx1ZSBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCAiRGF0ZSIpOwogIEpTVmFsdWUgcmV0ID0gSlNfQ2FsbENvbnN0cnVjdG9yKGN0eCwgY3RvciwgMSwgJmFyZyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19kYXRlX2Zyb21fbXMoSlNDb250ZXh0KiBjdHgsIGludDY0X3QgbXMpIHsKICBKU1ZhbHVlIGFyZyA9IEpTX05ld0ludDY0KGN0eCwgbXMpOwogIEpTVmFsdWUgcmV0ID0ganNfZGF0ZV9uZXcoY3R4LCBhcmcpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZyk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19kYXRlX2Zyb21fdGltZV9ucyhKU0NvbnRleHQqIGN0eCwgdGltZV90IHQsIGxvbmcgbnMpIHsKICByZXR1cm4ganNfZGF0ZV9mcm9tX21zKGN0eCwgdCAqIDEwMDB1bGwgKyBucyAvIDEwMDAwMDB1bGwpOwp9CgpKU1ZhbHVlCmpzX2RhdGVfZnJvbV90aW1lc3BlYyhKU0NvbnRleHQqIGN0eCwgY29uc3Qgc3RydWN0IHRpbWVzcGVjIHRzKSB7CiAgcmV0dXJuIGpzX2RhdGVfZnJvbV90aW1lX25zKGN0eCwgdHMudHZfc2VjLCB0cy50dl9uc2VjKTsKfQoKaW50NjRfdApqc19kYXRlX2dldHRpbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcmcpIHsKICBpbnQ2NF90IHIgPSAtMTsKICBKU0F0b20gbWV0aG9kID0gSlNfTmV3QXRvbShjdHgsICJnZXRUaW1lIik7CiAgSlNWYWx1ZSB2YWx1ZSA9IEpTX0ludm9rZShjdHgsIGFyZywgbWV0aG9kLCAwLCAwKTsKICBKU19GcmVlQXRvbShjdHgsIG1ldGhvZCk7CiAgaWYoSlNfSXNOdW1iZXIodmFsdWUpKQogICAgSlNfVG9JbnQ2NChjdHgsICZyLCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByOwp9CgppbnQ2NF90CmpzX2RhdGVfdGltZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBhcmcpIHsKICBpbnQ2NF90IHIgPSAtMTsKICBpZihKU19Jc09iamVjdChhcmcpKQogICAgciA9IGpzX2RhdGVfZ2V0dGltZShjdHgsIGFyZyk7CiAgZWxzZSBpZighanNfaXNfbnVsbGlzaChjdHgsIGFyZykpCiAgICBKU19Ub0ludDY0KGN0eCwgJnIsIGFyZyk7CiAgcmV0dXJuIHI7Cn0KCnN0cnVjdCB0aW1lc3BlYwpqc19kYXRlX3RpbWVzcGVjKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIGFyZykgewogIHN0cnVjdCB0aW1lc3BlYyB0czsKICBpbnQ2NF90IHIgPSBqc19kYXRlX3RpbWUoY3R4LCBhcmcpOwogIHRzLnR2X3NlYyA9IHIgLyAxMDAwdWxsOwogIHRzLnR2X25zZWMgPSAociAtIHRzLnR2X3NlYykgKiAxMDAwMDAwdWxsOwogIHJldHVybiB0czsKfQoKdm9pZApqc19hcnJheWJ1ZmZlcl9mcmVldmFsdWUoSlNSdW50aW1lKiBydCwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU1ZhbHVlKiB2YWxwdHIgPSBvcGFxdWU7CiAgSlNfRnJlZVZhbHVlUlQocnQsICp2YWxwdHIpOwogIGpzX2ZyZWVfcnQocnQsIG9wYXF1ZSk7Cn0KCkpTVmFsdWUKanNfYXJyYXlidWZmZXJfZnJvbXZhbHVlKEpTQ29udGV4dCogY3R4LCB2b2lkKiB4LCBzaXplX3QgbiwgSlNWYWx1ZUNvbnN0IHZhbCkgewogIEpTVmFsdWUqIHZhbHB0cjsKICBpZighKHZhbHB0ciA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihKU1ZhbHVlKSkpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKICAqdmFscHRyID0gSlNfRHVwVmFsdWUoY3R4LCB2YWwpOwogIHJldHVybiBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIHgsIG4sIGpzX2FycmF5YnVmZmVyX2ZyZWV2YWx1ZSwgdmFscHRyLCBGQUxTRSk7Cn0KCmludDY0X3QKanNfYXJyYXlidWZmZXJfYnl0ZWxlbmd0aChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaW50NjRfdCBsZW4gPSAtMTsKICBpZihqc19pc19hcnJheWJ1ZmZlcihjdHgsIHZhbHVlKSkgewogICAgSlNWYWx1ZSBsZW5ndGggPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZUxlbmd0aCIpOwogICAgSlNfVG9JbnQ2NChjdHgsICZsZW4sIGxlbmd0aCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBsZW5ndGgpOwogIH0KICByZXR1cm4gbGVuOwp9CgpKU1ZhbHVlCmpzX2V2YWxfbW9kdWxlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBCT09MIGxvYWRfb25seSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKG9iaik7CiAgaWYodGFnID09IEpTX1RBR19NT0RVTEUpIHsKICAgIGlmKCFsb2FkX29ubHkgJiYgSlNfUmVzb2x2ZU1vZHVsZShjdHgsIG9iaikgPCAwKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiRmFpbGVkIHJlc29sdmluZyBtb2R1bGUiKTsKICAgIH0KICAgIGpzX21vZHVsZV9zZXRfaW1wb3J0X21ldGEoY3R4LCBvYmosIEZBTFNFLCAhbG9hZF9vbmx5KTsKICAgIHJldHVybiBsb2FkX29ubHkgPyBKU19EdXBWYWx1ZShjdHgsIG9iaikgOiBKU19FdmFsRnVuY3Rpb24oY3R4LCBvYmopOwogIH0KICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImludmFsaWQgdGFnICVpIiwgdGFnKTsKfQoKSlNWYWx1ZQpqc19ldmFsX2JpbmFyeShKU0NvbnRleHQqIGN0eCwgY29uc3QgdWludDhfdCogYnVmLCBzaXplX3QgYnVmX2xlbiwgQk9PTCBsb2FkX29ubHkpIHsKICBKU1ZhbHVlIG9iaiA9IEpTX1JlYWRPYmplY3QoY3R4LCBidWYsIGJ1Zl9sZW4sIEpTX1JFQURfT0JKX0JZVEVDT0RFKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgcmV0dXJuIG9iajsKICAvLyBwcmludGYoImpzX2V2YWxfYmluYXJ5IG9iaj0lc1xuIiwganNfdmFsdWVfdHlwZXN0cihjdHgsIG9iaikpOwogIGlmKCFsb2FkX29ubHkpIHsKICAgIEpTVmFsdWUgdG1wID0ganNfZXZhbF9tb2R1bGUoY3R4LCBvYmosIGxvYWRfb25seSk7CiAgICBpbnQgdGFnID0gSlNfVkFMVUVfR0VUX1RBRyh0bXApOwogICAgLy8gcHJpbnRmKCJqc19ldmFsX2JpbmFyeSB0bXA9JXNcbiIsIGpzX3ZhbHVlX3R5cGVzdHIoY3R4LCB0bXApKTsKICAgIGlmKCFKU19Jc0V4Y2VwdGlvbih0bXApICYmICFKU19Jc1VuZGVmaW5lZCh0bXApKQogICAgICBpZih0YWcgPj0gSlNfVEFHX0ZJUlNUICYmIHRhZyA8PSBKU19UQUdfRkxPQVQ2NCkKICAgICAgICByZXR1cm4gdG1wOwogIH0KICByZXR1cm4gb2JqOwp9CgpKU1ZhbHVlCmpzX2V2YWxfYnVmKEpTQ29udGV4dCogY3R4LCBjb25zdCB2b2lkKiBidWYsIGludCBidWZfbGVuLCBjb25zdCBjaGFyKiBmaWxlbmFtZSwgaW50IGV2YWxfZmxhZ3MpIHsKICBKU1ZhbHVlIHZhbDsKCiAgaWYoKGV2YWxfZmxhZ3MgJiBKU19FVkFMX1RZUEVfTUFTSykgPT0gSlNfRVZBTF9UWVBFX01PRFVMRSkgewogICAgLyogZm9yIHRoZSBtb2R1bGVzLCB3ZSBjb21waWxlIHRoZW4gcnVuIHRvIGJlIGFibGUgdG8gc2V0IGltcG9ydC5tZXRhICovCiAgICB2YWwgPSBKU19FdmFsKGN0eCwgYnVmLCBidWZfbGVuLCBmaWxlbmFtZSA/IGZpbGVuYW1lIDogIjxpbnB1dD4iLCBldmFsX2ZsYWdzIHwgSlNfRVZBTF9GTEFHX0NPTVBJTEVfT05MWSk7CiAgICBpZighSlNfSXNFeGNlcHRpb24odmFsKSkgewogICAgICBqc19tb2R1bGVfc2V0X2ltcG9ydF9tZXRhKGN0eCwgdmFsLCAhIWZpbGVuYW1lLCBUUlVFKTsKICAgICAgLyp2YWwgPSAqLyBKU19FdmFsRnVuY3Rpb24oY3R4LCB2YWwpOwogICAgfQogIH0gZWxzZSB7CiAgICB2YWwgPSBKU19FdmFsKGN0eCwgYnVmLCBidWZfbGVuLCBmaWxlbmFtZSwgZXZhbF9mbGFncyk7CiAgfQogIGlmKEpTX0lzRXhjZXB0aW9uKHZhbCkpCiAgICBqc19lcnJvcl9wcmludChjdHgsIEpTX0dldEV4Y2VwdGlvbihjdHgpKTsKICByZXR1cm4gdmFsOwp9CgppbnQKanNfZXZhbF9zdHIoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogZmlsZSwgaW50IGZsYWdzKSB7CiAgSlNWYWx1ZSB2YWwgPSBqc19ldmFsX2J1ZihjdHgsIHN0ciwgc3RybGVuKHN0ciksIGZpbGUsIGZsYWdzKTsKICBpbnQzMl90IHJldCA9IC0xOwogIGlmKEpTX0lzTnVtYmVyKHZhbCkpCiAgICBKU19Ub0ludDMyKGN0eCwgJnJldCwgdmFsKTsKICByZXR1cm4gcmV0Owp9Cgp0aHJlYWRfbG9jYWwgdWludDY0X3QganNfcGVuZGluZ19zaWduYWxzID0gMDsKCmludDY0X3QKanNfdGltZV9tcyh2b2lkKSB7CiAgc3RydWN0IHRpbWVzcGVjIHRzOwogIGNsb2NrX2dldHRpbWUoQ0xPQ0tfTU9OT1RPTklDLCAmdHMpOwogIHJldHVybiAodWludDY0X3QpdHMudHZfc2VjICogMTAwMCArICh0cy50dl9uc2VjIC8gMTAwMDAwMCk7Cn0KCmludApqc19pbnRlcnJ1cHRfaGFuZGxlcihKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUpIHsKICByZXR1cm4gKGpzX3BlbmRpbmdfc2lnbmFscyA+PiBTSUdJTlQpICYgMTsKfQoKdm9pZApqc190aW1lcl91bmxpbmsoSlNSdW50aW1lKiBydCwgSlNPU1RpbWVyKiB0aCkgewogIGlmKHRoLT5saW5rLnByZXYpIHsKICAgIGxpc3RfZGVsKCZ0aC0+bGluayk7CiAgICB0aC0+bGluay5wcmV2ID0gdGgtPmxpbmsubmV4dCA9IDA7CiAgfQp9Cgp2b2lkCmpzX3RpbWVyX2ZyZWUoSlNSdW50aW1lKiBydCwgSlNPU1RpbWVyKiB0aCkgewogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB0aC0+ZnVuYyk7CiAganNfZnJlZV9ydChydCwgdGgpOwp9Cgp2b2lkCmpzX2NhbGxfaGFuZGxlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGZ1bmMpIHsKICBKU1ZhbHVlIHJldCwgZnVuYzE7CiAgZnVuYzEgPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIHJldCA9IEpTX0NhbGwoY3R4LCBmdW5jMSwgSlNfVU5ERUZJTkVELCAwLCAwKTsKICBKU19GcmVlVmFsdWUoY3R4LCBmdW5jMSk7CiAgaWYoSlNfSXNFeGNlcHRpb24ocmV0KSkKICAgIGpzX3N0ZF9kdW1wX2Vycm9yKGN0eCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKfQp2b2lkKgpqc19zYWJfYWxsb2Modm9pZCogb3BhcXVlLCBzaXplX3Qgc2l6ZSkgewogIEpTU0FCSGVhZGVyKiBzYWI7CiAgc2FiID0gbWFsbG9jKHNpemVvZihKU1NBQkhlYWRlcikgKyBzaXplKTsKICBpZighc2FiKQogICAgcmV0dXJuIDA7CiAgc2FiLT5yZWZfY291bnQgPSAxOwogIHJldHVybiBzYWItPmJ1ZjsKfQp2b2lkCmpzX3NhYl9mcmVlKHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgSlNTQUJIZWFkZXIqIHNhYjsKICBpbnQgcmVmX2NvdW50OwogIHNhYiA9IChKU1NBQkhlYWRlciopKCh1aW50OF90KilwdHIgLSBzaXplb2YoSlNTQUJIZWFkZXIpKTsKICByZWZfY291bnQgPSBhdG9taWNfYWRkX2ludCgmc2FiLT5yZWZfY291bnQsIC0xKTsKICBhc3NlcnQocmVmX2NvdW50ID49IDApOwogIGlmKHJlZl9jb3VudCA9PSAwKSB7CiAgICBmcmVlKHNhYik7CiAgfQp9Cgp2b2lkCmpzX3NhYl9kdXAodm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU1NBQkhlYWRlciogc2FiOwogIHNhYiA9IChKU1NBQkhlYWRlciopKCh1aW50OF90KilwdHIgLSBzaXplb2YoSlNTQUJIZWFkZXIpKTsKICBhdG9taWNfYWRkX2ludCgmc2FiLT5yZWZfY291bnQsIDEpOwp9Cgp2b2lkCmpzX2Vycm9yX2R1bXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBlcnJvciwgRHluQnVmKiBkYikgewogIGNvbnN0IGNoYXIgKnN0ciwgKnN0YWNrID0gMDsKICBpZihKU19Jc09iamVjdChlcnJvcikpIHsKICAgIEpTVmFsdWUgc3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVycm9yLCAic3RhY2siKTsKICAgIGlmKCFKU19Jc1VuZGVmaW5lZChzdCkpCiAgICAgIHN0YWNrID0gSlNfVG9DU3RyaW5nKGN0eCwgc3QpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwogIH0KICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgZXJyb3IpKSkgewogICAgY29uc3QgY2hhciogdHlwZSA9IEpTX0lzT2JqZWN0KGVycm9yKSA/IGpzX29iamVjdF9jbGFzc25hbWUoY3R4LCBlcnJvcikgOiBqc192YWx1ZV90eXBlc3RyKGN0eCwgZXJyb3IpOwoKICAgIGlmKCFzdHJfc3RhcnQoc3RyLCB0eXBlKSkgewogICAgICBkYnVmX3B1dHN0cihkYiwgdHlwZSk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCAiOiAiKTsKICAgIH0KICAgIGRidWZfcHV0c3RyKGRiLCBzdHIpOwogICAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKICAgIGlmKHN0YWNrKSB7CiAgICAgIGRidWZfcHV0c3RyKGRiLCAiU1RBQ0tcbiIpOwogICAgICBkYnVmX3B1dHN0cihkYiwgc3RhY2spOwogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgfQogICAgZGJ1Zl8wKGRiKTsKICB9CiAgaWYoc3RhY2spCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0YWNrKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7Cn0KCmNoYXIqCmpzX2Vycm9yX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZXJyb3IpIHsKICBEeW5CdWYgZGI7CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRiKTsKICBqc19lcnJvcl9kdW1wKGN0eCwgZXJyb3IsICZkYik7CiAgcmV0dXJuIChjaGFyKilkYi5idWY7Cn0KCnZvaWQKanNfZXJyb3JfcHJpbnQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBlcnJvcikgewogIGNvbnN0IGNoYXIgKnN0ciwgKnN0YWNrID0gMDsKCiAgaWYoSlNfSXNPYmplY3QoZXJyb3IpKSB7CiAgICBKU1ZhbHVlIHN0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBlcnJvciwgInN0YWNrIik7CgogICAgaWYoIUpTX0lzVW5kZWZpbmVkKHN0KSkKICAgICAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwogIH0KCiAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGVycm9yKSkpIHsKICAgIGNvbnN0IGNoYXIqIHR5cGUgPSBKU19Jc09iamVjdChlcnJvcikgPyBqc19vYmplY3RfY2xhc3NuYW1lKGN0eCwgZXJyb3IpIDoganNfdmFsdWVfdHlwZXN0cihjdHgsIGVycm9yKTsKICAgIGNvbnN0IGNoYXIqIGV4Y2VwdGlvbiA9IHN0cjsKICAgIHNpemVfdCB0eXBlbGVuID0gc3RybGVuKHR5cGUpOwoKICAgIGlmKCFzdHJuY21wKGV4Y2VwdGlvbiwgdHlwZSwgdHlwZWxlbikgJiYgZXhjZXB0aW9uW3R5cGVsZW5dID09ICc6JykgewogICAgICBleGNlcHRpb24gKz0gdHlwZWxlbiArIDI7CiAgICB9CiAgICBwcmludGYoIiVzOiAlc1xuIiwgdHlwZSwgZXhjZXB0aW9uKTsKICAgIGlmKHN0YWNrKQogICAgICBwcmludGYoIlNUQUNLPVxuJXNcbiIsIHN0YWNrKTsKICAgIGZmbHVzaChzdGRvdXQpOwogIH0KICBpZihzdGFjaykKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RhY2spOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKfQoKSlNWYWx1ZQpqc19pb19yZWFkaGFuZGxlcl9mbihKU0NvbnRleHQqIGN0eCwgQk9PTCB3cml0ZSkgewogIEpTTW9kdWxlRGVmKiBvczsKICBjb25zdCBjaGFyKiBoYW5kbGVyc1syXSA9IHsic2V0UmVhZEhhbmRsZXIiLCAic2V0V3JpdGVIYW5kbGVyIn07CiAgSlNBdG9tIGZ1bmNfbmFtZTsKICBKU1ZhbHVlIHNldF9oYW5kbGVyOwoKICBpZighKG9zID0ganNfbW9kdWxlX2ZpbmQoY3R4LCAib3MiKSkpCiAgICByZXR1cm4gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICInb3MnIG1vZHVsZSByZXF1aXJlZCIpOwoKICBmdW5jX25hbWUgPSBKU19OZXdBdG9tKGN0eCwgaGFuZGxlcnNbd3JpdGVdKTsKICBzZXRfaGFuZGxlciA9IG1vZHVsZV9leHBvcnRzX2ZpbmQoY3R4LCBvcywgZnVuY19uYW1lKTsKICBKU19GcmVlQXRvbShjdHgsIGZ1bmNfbmFtZSk7CgogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgc2V0X2hhbmRsZXIpKSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBzZXRfaGFuZGxlcik7CiAgICByZXR1cm4gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJubyBvcy4lcyBmdW5jdGlvbiIsIGhhbmRsZXJzW3dyaXRlXSk7CiAgfQoKICByZXR1cm4gc2V0X2hhbmRsZXI7Cn0KCnN0YXRpYyB0aHJlYWRfbG9jYWwgSlNDRnVuY3Rpb24qIHJlYWRoYW5kbGVyX2NmdW5jOwoKSlNDRnVuY3Rpb24qCmpzX2lvX3JlYWRoYW5kbGVyX2NmdW5jKEpTQ29udGV4dCogY3R4LCBCT09MIHdyaXRlKSB7CiAgaWYoIXJlYWRoYW5kbGVyX2NmdW5jKSB7CiAgICBKU1ZhbHVlIHNldF9oYW5kbGVyOwogICAgSlNPYmplY3QqIG9iajsKICAgIHNldF9oYW5kbGVyID0ganNfaW9fcmVhZGhhbmRsZXJfZm4oY3R4LCB3cml0ZSk7CiAgICBpZihKU19Jc0V4Y2VwdGlvbihzZXRfaGFuZGxlcikpCiAgICAgIHJldHVybiAwOwogICAgcmVhZGhhbmRsZXJfY2Z1bmMgPSBqc19mdW5jdGlvbl9jZnVuYyhjdHgsIHNldF9oYW5kbGVyKTsKICB9CiAgcmV0dXJuIHJlYWRoYW5kbGVyX2NmdW5jOwp9CgAAAAAAAAAAfOQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfOQAAAAAAAB85AAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "lib/util.js",
			"settings":
			{
				"buffer_size": 21895,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					18,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACdVQAAaW1wb3J0IGluc3BlY3QgZnJvbSAnaW5zcGVjdCc7CmltcG9ydCB7IFN5c2NhbGxFcnJvciB9IGZyb20gJ3N5c2NhbGxlcnJvcic7CmV4cG9ydCB7IExvY2F0aW9uIH0gZnJvbSAnbG9jYXRpb24nOwppbXBvcnQgeyBhcnJheVRvQml0ZmllbGQsIGF0b2IsIGF0b21Ub1N0cmluZywgYXRvbVRvVmFsdWUsIGJpdGZpZWxkVG9BcnJheSwgYnRvYSwgY29tcGlsZVNjcmlwdCwgY29uY2F0QXJyYXlCdWZmZXIsIGR1cEFycmF5QnVmZmVyLCBldmFsQmluYXJ5LCBnZXRCeXRlQ29kZSwgZ2V0Q2xhc3NBdG9tLCBnZXRDbGFzc0NvbnN0cnVjdG9yLCBnZXRDbGFzc0NvdW50LCBnZXRDbGFzc0lELCBnZXRDbGFzc05hbWUsIGdldENsYXNzUHJvdG8sIGdldENvbW1hbmRMaW5lLCBnZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeSwgZ2V0RXhlY3V0YWJsZSwgZ2V0RmlsZURlc2NyaXB0b3IsIGdldE9wQ29kZXMsIGdldFBlcmZvcm1hbmNlQ291bnRlciwgZ2V0UHJvY01hcHMsIGdldFByb2NNb3VudHMsIGdldFByb2NTdGF0LCBnZXRQcm90b3R5cGVDaGFpbiwgZ2V0Um9vdERpcmVjdG9yeSwgZ2V0ZWdpZCwgZ2V0ZXVpZCwgZ2V0Z2lkLCBnZXRwaWQsIGdldHBwaWQsIGdldHNpZCwgZ2V0dWlkLCBocnRpbWUsIHJlYWRPYmplY3QsIHJlc2l6ZUFycmF5QnVmZmVyLCBzZXRlZ2lkLCBzZXRldWlkLCBzZXRnaWQsIHNldHVpZCwgdG9BcnJheUJ1ZmZlciwgdG9Qb2ludGVyLCB0b1N0cmluZywgdW5hbWUsIHZhbHVlUHRyLCB2YWx1ZVRhZywgdmFsdWVUb0F0b20sIHZhbHVlVHlwZSwgd3JpdGVPYmplY3QsIHJhbmQsIHJhbmRpLCByYW5kZiwgc3JhbmQsIGVzY2FwZSwgcXVvdGUgfSBmcm9tICdtaXNjJzsKaW1wb3J0IHsgZXh0ZW5kQXJyYXksIEFycmF5RXh0ZW5zaW9ucyB9IGZyb20gJy4vZXh0ZW5kQXJyYXkuanMnOwppbXBvcnQgeyBleHRlbmRHZW5lcmF0b3IsIEdlbmVyYXRvckV4dGVuc2lvbnMsIEdlbmVyYXRvclByb3RvdHlwZSwgR2VuZXJhdG9yQ29uc3RydWN0b3IgfSBmcm9tICcuL2V4dGVuZEdlbmVyYXRvci5qcyc7CmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJzsKCmNvbnN0IHNsaWNlID0gKHgsIHMsIGUpID0+ICh0eXBlb2YgeCA9PSAnb2JqZWN0JyA/IChBcnJheS5pc0FycmF5KHgpID8gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoeCwgcywgZSkgOiB4LnNsaWNlKHMsIGUpKSA6IFN0cmluZy5wcm90b3R5cGUuc2xpY2UuY2FsbCh4LCBzLCBlKSk7CmNvbnN0IHN0cmluZ2lmeSA9IHYgPT4gYCR7dn1gOwpjb25zdCBwcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mOwpjb25zdCBmb3JtYXROdW1iZXIgPSBuID0+IChuID09PSAtMCA/ICctMCcgOiBgJHtufWApOwpjb25zdCBpc05hdGl2ZSA9IGZuID0+IC9cW25hdGl2ZVxzY29kZVxdLy50ZXN0KHN0cmluZ2lmeShmbikpOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXRpbCgpIHsKICByZXR1cm4gdXRpbDsKfQoKdXRpbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB1dGlsOwoKY29uc3QgQXN5bmNGdW5jdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIHgoKSB7fS5jb25zdHJ1Y3RvcjsKY29uc3QgR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb24gPSBhc3luYyBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IFR5cGVkQXJyYXkgPSBwcm90b09mKHByb3RvT2YobmV3IFVpbnQxNkFycmF5KDEwKSkpLmNvbnN0cnVjdG9yOwoKY29uc3QgU2V0SXRlcmF0b3JQcm90b3R5cGUgPSBwcm90b09mKG5ldyBTZXQoKS52YWx1ZXMoKSk7CmNvbnN0IE1hcEl0ZXJhdG9yUHJvdG90eXBlID0gcHJvdG9PZihuZXcgTWFwKCkuZW50cmllcygpKTsKY29uc3QgR2VuZXJhdG9yUHJvdG90eXBlID0gcHJvdG9PZigoZnVuY3Rpb24qICgpIHt9KSgpKTsKCmV4cG9ydCBjb25zdCBlcnJvcnMgPSBbCiAgbnVsbCwKICAnRVBFUk0nLAogICdFTk9FTlQnLAogICdFU1JDSCcsCiAgJ0VJTlRSJywKICAnRUlPJywKICAnRU5YSU8nLAogICdFMkJJRycsCiAgJ0VOT0VYRUMnLAogICdFQkFERicsCiAgJ0VDSElMRCcsCiAgJ0VBR0FJTicsCiAgJ0VOT01FTScsCiAgJ0VBQ0NFUycsCiAgJ0VGQVVMVCcsCiAgJ0VOT1RCTEsnLAogICdFQlVTWScsCiAgJ0VFWElTVCcsCiAgJ0VYREVWJywKICAnRU5PREVWJywKICAnRU5PVERJUicsCiAgJ0VJU0RJUicsCiAgJ0VJTlZBTCcsCiAgJ0VORklMRScsCiAgJ0VNRklMRScsCiAgJ0VOT1RUWScsCiAgJ0VUWFRCU1knLAogICdFRkJJRycsCiAgJ0VOT1NQQycsCiAgJ0VTUElQRScsCiAgJ0VST0ZTJywKICAnRU1MSU5LJywKICAnRVBJUEUnLAogICdFRE9NJywKICAnRVJBTkdFJywKICAnRURFQURMSycsCiAgJ0VOQU1FVE9PTE9ORycsCiAgJ0VOT0xDSycsCiAgJ0VOT1NZUycsCiAgJ0VOT1RFTVBUWScsCiAgbnVsbCwKICBudWxsLAogICdFTk9NU0cnLAogICdFSURSTScsCiAgJ0VDSFJORycsCiAgJ0VMMk5TWU5DJywKICAnRUwzSExUJywKICAnRUwzUlNUJywKICAnRUxOUk5HJywKICAnRVVOQVRDSCcsCiAgJ0VOT0NTSScsCiAgJ0VMMkhMVCcsCiAgJ0VCQURFJywKICAnRUJBRFInLAogICdFWEZVTEwnLAogICdFTk9BTk8nLAogICdFQkFEUlFDJywKICBudWxsLAogICcnLAogICdFQkZPTlQnLAogICdFTk9TVFInLAogICdFTk9EQVRBJywKICAnRVRJTUUnLAogICdFTk9TUicsCiAgJ0VOT05FVCcsCiAgJ0VOT1BLRycsCiAgJ0VSRU1PVEUnLAogICdFTk9MSU5LJywKICAnRUFEVicsCiAgJ0VTUk1OVCcsCiAgJ0VDT01NJywKICAnRVBST1RPJywKICAnRU1VTFRJSE9QJywKICAnRURPVERPVCcsCiAgJ0VCQURNU0cnLAogICdFT1ZFUkZMT1cnLAogICdFTk9UVU5JUScsCiAgJ0VCQURGRCcsCiAgJ0VSRU1DSEcnLAogICdFTElCQUNDJywKICAnRUxJQkJBRCcsCiAgJ0VMSUJTQ04nLAogICdFTElCTUFYJywKICAnRUxJQkVYRUMnLAogICdFSUxTRVEnLAogICdFUkVTVEFSVCcsCiAgJ0VTVFJQSVBFJywKICAnRVVTRVJTJywKICAnRU5PVFNPQ0snLAogICdFREVTVEFERFJSRVEnLAogICdFTVNHU0laRScsCiAgJ0VQUk9UT1RZUEUnLAogICdFTk9QUk9UT09QVCcsCiAgJ0VQUk9UT05PU1VQUE9SVCcsCiAgJ0VTT0NLVE5PU1VQUE9SVCcsCiAgJ0VPUE5PVFNVUFAnLAogICdFUEZOT1NVUFBPUlQnLAogICdFQUZOT1NVUFBPUlQnLAogICdFQUREUklOVVNFJywKICAnRUFERFJOT1RBVkFJTCcsCiAgJ0VORVRET1dOJywKICAnRU5FVFVOUkVBQ0gnLAogICdFTkVUUkVTRVQnLAogICdFQ09OTkFCT1JURUQnLAogICdFQ09OTlJFU0VUJywKICAnRU5PQlVGUycsCiAgJ0VJU0NPTk4nLAogICdFTk9UQ09OTicsCiAgJ0VTSFVURE9XTicsCiAgJ0VUT09NQU5ZUkVGUycsCiAgJ0VUSU1FRE9VVCcsCiAgJ0VDT05OUkVGVVNFRCcsCiAgJ0VIT1NURE9XTicsCiAgJ0VIT1NUVU5SRUFDSCcsCiAgJ0VBTFJFQURZJywKICAnRUlOUFJPR1JFU1MnLAogICdFU1RBTEUnLAogICdFVUNMRUFOJywKICAnRU5PVE5BTScsCiAgJ0VOQVZBSUwnLAogICdFSVNOQU0nLAogICdFUkVNT1RFSU8nLAogICdFRFFVT1QnLAogICdFTk9NRURJVU0nLAogICdFTUVESVVNVFlQRScsCiAgJ0VDQU5DRUxFRCcsCiAgJ0VOT0tFWScsCiAgJ0VLRVlFWFBJUkVEJywKICAnRUtFWVJFVk9LRUQnLAogICdFS0VZUkVKRUNURUQnLAogICdFT1dORVJERUFEJywKICAnRU5PVFJFQ09WRVJBQkxFJywKICAnRVJGS0lMTCcKXTsKCmV4cG9ydCBjb25zdCB0eXBlcyA9IHsKICBpc0FueUFycmF5QnVmZmVyKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiAodiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IHYgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcik7CiAgfSwKICBpc0FycmF5QnVmZmVyKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7CiAgfSwKICBpc0JpZ0ludDY0QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBCaWdJbnQ2NEFycmF5OwogIH0sCiAgaXNCaWdVaW50NjRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJpZ1VpbnQ2NEFycmF5OwogIH0sCiAgaXNEYXRlKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRGF0ZTsKICB9LAogIGlzRmxvYXQzMkFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5OwogIH0sCiAgaXNGbG9hdDY0QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk7CiAgfSwKICBpc0ludDhBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEludDhBcnJheTsKICB9LAogIGlzSW50MTZBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEludDE2QXJyYXk7CiAgfSwKICBpc0ludDMyQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBJbnQzMkFycmF5OwogIH0sCiAgaXNNYXAodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBNYXA7CiAgfSwKICBpc1Byb21pc2UodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBQcm9taXNlOwogIH0sCiAgaXNQcm94eSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFByb3h5OwogIH0sCiAgaXNSZWdFeHAodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBSZWdFeHA7CiAgfSwKICBpc1NldCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFNldDsKICB9LAogIGlzU2hhcmVkQXJyYXlCdWZmZXIodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcjsKICB9LAogIGlzVWludDhBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk7CiAgfSwKICBpc1VpbnQ4Q2xhbXBlZEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXk7CiAgfSwKICBpc1VpbnQxNkFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgVWludDE2QXJyYXk7CiAgfSwKICBpc1VpbnQzMkFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgVWludDMyQXJyYXk7CiAgfSwKICBpc1dlYWtNYXAodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBXZWFrTWFwOwogIH0sCiAgaXNXZWFrU2V0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgV2Vha1NldDsKICB9LAogIGlzRGF0YVZpZXcodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBEYXRhVmlldzsKICB9LAogIGlzQm9vbGVhbk9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJvb2xlYW47CiAgfSwKICBpc0FzeW5jRnVuY3Rpb24odikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBBc3luY0Z1bmN0aW9uOwogIH0sCiAgaXNHZW5lcmF0b3JGdW5jdGlvbih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEdlbmVyYXRvckZ1bmN0aW9uOwogIH0sCiAgaXNBc3luY0dlbmVyYXRvckZ1bmN0aW9uKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbjsKICB9LAogIGlzTnVtYmVyT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgTnVtYmVyOwogIH0sCiAgaXNCaWdJbnRPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBCaWdJbnQ7CiAgfSwKICBpc1N5bWJvbE9iamVjdCh2KSB7CiAgICByZXR1cm4gdiAmJiB2IGluc3RhbmNlb2YgU3ltYm9sOwogIH0sCiAgaXNOYXRpdmVFcnJvcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEVycm9yICYmIGlzTmF0aXZlKHYuY29uc3RydWN0b3IpOwogIH0sCiAgaXNNYXBJdGVyYXRvcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgcHJvdG9PZih2KSA9PSBNYXBJdGVyYXRvclByb3RvdHlwZTsKICB9LAogIGlzU2V0SXRlcmF0b3IodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHByb3RvT2YodikgPT0gU2V0SXRlcmF0b3JQcm90b3R5cGU7CiAgfSwKICBpc1N0cmluZ09iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFN0cmluZzsKICB9LAogIGlzQXJyYXlCdWZmZXJWaWV3KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcodik7CiAgfSwKICBpc0FyZ3VtZW50c09iamVjdCh2KSB7CiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHYpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nOwogIH0sCgogIC8qIGlzRXh0ZXJuYWwodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBFeHRlcm5hbDsKICB9LCovCgogIGlzQm94ZWRQcmltaXRpdmUodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIFtOdW1iZXIsIFN0cmluZywgQm9vbGVhbiwgQmlnSW50LCBTeW1ib2xdLnNvbWUoY3RvciA9PiB2IGluc3RhbmNlb2YgY3Rvcik7CiAgfSwKCiAgaXNHZW5lcmF0b3JPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHByb3RvT2YodikgPT0gR2VuZXJhdG9yUHJvdG90eXBlOwogIH0sCiAgaXNUeXBlZEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgVHlwZWRBcnJheTsKICB9LAogIGlzTW9kdWxlTmFtZXNwYWNlT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2W1N5bWJvbC50b1N0cmluZ1RhZ10gPT0gJ01vZHVsZSc7CiAgfQp9OwoKZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHYpIHsKICByZXR1cm4gdiAhPSBudWxsICYmIHsgZnVuY3Rpb246IHRydWUsIG9iamVjdDogdHJ1ZSB9W3R5cGVvZiB2XTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGhhc0J1aWx0SW4obywgbSkgewogIHJldHVybiBpc05hdGl2ZShwcm90b09mKG8pW21dKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdCguLi5hcmdzKSB7CiAgcmV0dXJuIGZvcm1hdFdpdGhPcHRpb25zSW50ZXJuYWwoeyBoaWRlS2V5czogWydjb25zdHJ1Y3RvciddIH0sIGFyZ3MpOwp9CgpleHBvcnQgZnVuY3Rpb24gZm9ybWF0V2l0aE9wdGlvbnMob3B0cywgLi4uYXJncykgewogIGlmKCFpc09iamVjdChvcHRzKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9ucyBhcmd1bWVudCBpcyBub3QgYW4gb2JqZWN0YCk7CiAgcmV0dXJuIGZvcm1hdFdpdGhPcHRpb25zSW50ZXJuYWwob3B0cywgYXJncyk7Cn0KCmZ1bmN0aW9uIGZvcm1hdFdpdGhPcHRpb25zSW50ZXJuYWwobywgdikgewogIGNvbnN0IHggPSB2WzBdOwogIGxldCBhID0gMDsKICBsZXQgcyA9ICcnOwogIGxldCBqID0gJyc7CiAgaWYodHlwZW9mIHggPT09ICdzdHJpbmcnKSB7CiAgICBpZih2Lmxlbmd0aCA9PT0gMSkgcmV0dXJuIHg7CiAgICBsZXQgdDsKICAgIGxldCBwID0gMDsKICAgIGZvcihsZXQgaSA9IDA7IGkgPCB4Lmxlbmd0aCAtIDE7IGkrKykgewogICAgICBpZih4W2ldID09ICclJykgewogICAgICAgIGxldCBmID0gJyc7CiAgICAgICAgd2hpbGUoJ3NqeGRPb2lmYyUnLmluZGV4T2YoeFtpICsgMV0pID09IC0xKSB7CiAgICAgICAgICBmICs9IHhbaSArIDFdOwogICAgICAgICAgKytpOwogICAgICAgIH0KICAgICAgICAvL2NvbnNvbGUubG9nKCdwJywgcCwgYCcke2R1cEFycmF5QnVmZmVyKHgsIHAsIGkpfSdgKTsKICAgICAgICBpZihwIDwgaSkgcyArPSBkdXBBcnJheUJ1ZmZlcih4LCBwLCBpKTsKICAgICAgICBwID0gaSArIDE7CiAgICAgICAgLy9jb25zb2xlLmxvZygnaScsIGkpOwogICAgICAgIGNvbnN0IGMgPSBTdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQuY2FsbCh4LCArK2kpOwogICAgICAgIC8vY29uc29sZS5sb2coJ3MnLCBgJyR7c30nYCk7CiAgICAgICAgLy9jb25zb2xlLmxvZygnYycsIGMsIHhbaV0pOwogICAgICAgIGlmKGEgKyAxICE9PSB2Lmxlbmd0aCkgewogICAgICAgICAgc3dpdGNoIChjKSB7CiAgICAgICAgICAgIGNhc2UgMTE1OiAvLyAlcwogICAgICAgICAgICAgIGNvbnN0IHkgPSB2WysrYV07CiAgICAgICAgICAgICAgaWYodHlwZW9mIHkgPT09ICdudW1iZXInKSB0ID0gZm9ybWF0TnVtYmVyKHkpOwogICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIHkgPT09ICdiaWdpbnQnKSB0ID0gYCR7eX1uYDsKICAgICAgICAgICAgICBlbHNlIGlmKHR5cGVvZiB5ICE9PSAnb2JqZWN0JyB8fCB5ID09PSBudWxsIHx8ICFoYXNCdWlsdEluKHksICd0b1N0cmluZycpKSB0ID0gU3RyaW5nKHkpOwogICAgICAgICAgICAgIGVsc2UgdCA9IGluc3BlY3QoeSwgeyAuLi5vLCBjb21wYWN0OiAzLCBjb2xvcnM6IGZhbHNlLCBkZXB0aDogMCB9KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMDY6IC8vICVqCiAgICAgICAgICAgICAgdCA9IHN0cmluZ2lmeSh2WysrYV0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEyMDogLy8gJXgKICAgICAgICAgICAgY2FzZSAxMDA6IC8vICVkCiAgICAgICAgICAgICAgY29uc3QgbiA9IHZbKythXTsKICAgICAgICAgICAgICBpZih0eXBlb2YgbiA9PT0gJ2JpZ2ludCcpIHQgPSBgJHtufW5gOwogICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIG4gPT09ICdzeW1ib2wnKSB0ID0gJ05hTic7CiAgICAgICAgICAgICAgZWxzZSB0ID0gZm9ybWF0TnVtYmVyKGMgPT0gMTIwID8gTnVtYmVyKG4pLnRvU3RyaW5nKDE2KSA6IE51bWJlcihuKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNzk6IC8vICVPCiAgICAgICAgICAgICAgdCA9IGluc3BlY3QodlsrK2FdLCBvKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMTE6IC8vICVvCiAgICAgICAgICAgICAgdCA9IC8qdlsrK2FdKycnID8/ICovIGluc3BlY3QodlsrK2FdLCB7CiAgICAgICAgICAgICAgICAuLi5vLAogICAgICAgICAgICAgICAgc2hvd0hpZGRlbjogdHJ1ZSwKICAgICAgICAgICAgICAgIHNob3dQcm94eTogdHJ1ZSwKICAgICAgICAgICAgICAgIGRlcHRoOiAxLAogICAgICAgICAgICAgICAgcHJvdG9DaGFpbjogZmFsc2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMDU6IC8vICVpCiAgICAgICAgICAgICAgY29uc3QgayA9IHZbKythXTsKICAgICAgICAgICAgICBpZih0eXBlb2YgayA9PT0gJ2JpZ2ludCcpIHQgPSBgJHtrfWA7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgayA9PT0gJ3N5bWJvbCcpIHQgPSAnTmFOJzsKICAgICAgICAgICAgICBlbHNlIHQgPSBmb3JtYXROdW1iZXIocGFyc2VJbnQoaykpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwMjogLy8gJWYKICAgICAgICAgICAgICBjb25zdCBkID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiBkID09PSAnc3ltYm9sJykgdCA9ICdOYU4nOwogICAgICAgICAgICAgIGVsc2UgdCA9IGZvcm1hdE51bWJlcihwYXJzZUZsb2F0KGQpKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OTogLy8gJWMKICAgICAgICAgICAgICBhICs9IDE7CiAgICAgICAgICAgICAgdCA9ICcnOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM3OiAvLyAlJQogICAgICAgICAgICAgIHMgKz0gZHVwQXJyYXlCdWZmZXIoeCwgcCwgaSk7CiAgICAgICAgICAgICAgcCA9IGkgKyAxOwogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYocCAhPT0gaSAtIDEpIHMgKz0gZHVwQXJyYXlCdWZmZXIoeCwgcCwgaSAtIDEpOwogICAgICAgICAgbGV0IHBhZCA9IHBhcnNlSW50KGYpOwoKICAgICAgICAgIGlmKE1hdGguYWJzKHBhZCkgPiAwKSB0ID0gdFsncGFkJyArIChwYWQgPCAwID8gJ0VuZCcgOiAnU3RhcnQnKV0oTWF0aC5hYnMocGFkKSwgL14tPzAvLnRlc3QoZikgPyAnMCcgOiAnICcpOwoKICAgICAgICAgIHMgKz0gdDsKICAgICAgICAgIHAgPSBpICsgMTsKICAgICAgICB9IGVsc2UgaWYoYyA9PT0gMzcpIHsKICAgICAgICAgIHMgKz0gZHVwQXJyYXlCdWZmZXIoeCwgcCwgaSk7CiAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZihwICE9PSAwKSB7CiAgICAgIGErKzsKICAgICAgaiA9ICcgJzsKICAgICAgaWYocCA8IHgubGVuZ3RoKSBzICs9IGR1cEFycmF5QnVmZmVyKHgsIHApOwogICAgfQogIH0KICB3aGlsZShhIDwgdi5sZW5ndGgpIHsKICAgIGNvbnN0IHkgPSB2W2FdOwogICAgcyArPSBqOwogICAgcyArPSB0eXBlb2YgeSAhPT0gJ3N0cmluZycgPyBpbnNwZWN0KHksIG8pIDogeTsKICAgIGogPSAnICc7CiAgICBhKys7CiAgfQogIHJldHVybiBzOwp9CgpleHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIGV4cGVjdGVkID0gdHJ1ZTsKCiAgaWYoYWN0dWFsID09PSBleHBlY3RlZCkgcmV0dXJuOwoKICBpZihhY3R1YWwgIT09IG51bGwgJiYgZXhwZWN0ZWQgIT09IG51bGwgJiYgdHlwZW9mIGFjdHVhbCA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgZXhwZWN0ZWQgPT0gJ29iamVjdCcgJiYgYWN0dWFsLnRvU3RyaW5nKCkgPT09IGV4cGVjdGVkLnRvU3RyaW5nKCkpIHJldHVybjsKCiAgdGhyb3cgRXJyb3IoJ2Fzc2VydGlvbiBmYWlsZWQ6IGdvdCB8JyArIGFjdHVhbCArICd8JyArICcsIGV4cGVjdGVkIHwnICsgZXhwZWN0ZWQgKyAnfCcgKyAobWVzc2FnZSA/ICcgKCcgKyBtZXNzYWdlICsgJyknIDogJycpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHNldEludGVydmFsKGNhbGxiYWNrLCBtcykgewogIGxldCBtYXAgPSAoc2V0SW50ZXJ2YWwubWFwID8/PSBuZXcgTWFwKCkpOwogIGxldCBpZCA9IChzZXRJbnRlcnZhbC5pZCA9IChzZXRJbnRlcnZhbC5pZCA/PyAwKSArIDEpOwogIGxldCBvYmogPSB7IGNhbGxiYWNrLCBtcyB9OwogIG1hcC5zZXQoaWQsIG9iaik7CgogIGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgb2JqLmlkID0gb3Muc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHN0YXJ0KCk7CiAgICAgIGNhbGxiYWNrKCk7CiAgICB9LCBvYmoubXMpOwogIH0KCiAgc3RhcnQoKTsKICByZXR1cm4gaWQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjbGVhckludGVydmFsKGlkKSB7CiAgbGV0IG1hcCA9IChzZXRJbnRlcnZhbC5tYXAgPz89IG5ldyBNYXAoKSk7CgogIGxldCBvYmogPSBtYXAuZ2V0KGlkKTsKCiAgaWYob2JqKSBvcy5jbGVhclRpbWVvdXQob2JqLmlkKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHsKICBsZXQgY2FjaGUgPSB7fTsKICByZXR1cm4gKG4sIC4uLnJlc3QpID0+IHsKICAgIGlmKG4gaW4gY2FjaGUpIHJldHVybiBjYWNoZVtuXTsKICAgIHJldHVybiAoY2FjaGVbbl0gPSBmbihuLCAuLi5yZXN0KSk7CiAgfTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4sIHRoaXNBcmcsIG1lbW9GbikgewogIGxldCByZXQsCiAgICByYW4gPSBmYWxzZTsKCiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgIGlmKCFyYW4pIHsKICAgICAgcmFuID0gdHJ1ZTsKICAgICAgcmV0ID0gZm4uYXBwbHkodGhpc0FyZyB8fCB0aGlzLCBhcmdzKTsKICAgIH0gZWxzZSBpZih0eXBlb2YgbWVtb0ZuID09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0ID0gbWVtb0ZuKHJldCk7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH07Cn0KCmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yKG1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gb3Muc2V0VGltZW91dChyZXNvbHZlLCBtcykpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGVmaW5lKG9iaiwgLi4uYXJncykgewogIGZvcihsZXQgcHJvcHMgb2YgYXJncykgewogICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhwcm9wcyk7CiAgICBmb3IobGV0IHByb3AgaW4gZGVzYykgewogICAgICBjb25zdCB7IHZhbHVlIH0gPSBkZXNjW3Byb3BdOwogICAgICBkZXNjW3Byb3BdLmVudW1lcmFibGUgPSBmYWxzZTsKICAgICAgaWYodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIGRlc2NbcHJvcF0ud3JpdGFibGUgPSBmYWxzZTsKICAgIH0KICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgZGVzYyk7CiAgfQogIHJldHVybiBvYmo7Cn0KCmV4cG9ydCBmdW5jdGlvbiB3ZWFrQXNzaWduKG9iaiwgLi4uYXJncykgewogIGxldCBkZXNjID0ge307CiAgZm9yKGxldCBvdGhlciBvZiBhcmdzKSB7CiAgICBsZXQgb3RoZXJEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3RoZXIpOwogICAgZm9yKGxldCBrZXkgaW4gb3RoZXJEZXNjKSBpZighKGtleSBpbiBvYmopICYmIGRlc2Nba2V5XSA9PT0gdW5kZWZpbmVkICYmIG90aGVyRGVzY1trZXldICE9PSB1bmRlZmluZWQpIGRlc2Nba2V5XSA9IG90aGVyRGVzY1trZXldOwogIH0KICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCBkZXNjKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldENvbnN0cnVjdG9yQ2hhaW4ob2JqKSB7CiAgbGV0IHJldCA9IFtdOwogIGxldCBjaGFpbiA9IGdldFByb3RvdHlwZUNoYWluKG9iaik7CiAgaWYob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3RvciAhPSBjaGFpblswXS5jb25zdHJ1Y3RvcikgY2hhaW4udW5zaGlmdChvYmopOwogIGZvcihsZXQgcHJvdG8gb2YgY2hhaW4pIHJldC5wdXNoKHByb3RvLmNvbnN0cnVjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpleHBvcnQgZnVuY3Rpb24gaGFzUHJvdG90eXBlKG9iaiwgcHJvdG8pIHsKICByZXR1cm4gZ2V0UHJvdG90eXBlQ2hhaW4ob2JqKS5pbmRleE9mKHByb3RvKSAhPSAtMTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihzZXEsIHByZWQsIHRoaXNBcmcpIHsKICBpZihpc09iamVjdChwcmVkKSAmJiBwcmVkIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICBsZXQgcmUgPSBwcmVkOwogICAgcHJlZCA9IChlbCwgaSkgPT4gcmUudGVzdChlbCk7CiAgfQogIGxldCByID0gW10sCiAgICBpID0gMDsKICBmb3IobGV0IGVsIG9mIHNlcSkgewogICAgaWYocHJlZC5jYWxsKHRoaXNBcmcsIGVsLCBpKyssIHNlcSkpIHIucHVzaChlbCk7CiAgfQogIHJldHVybiByOwp9CgpleHBvcnQgY29uc3QgY3VycnkgPQogIChmLCBhcnIgPSBbXSwgbGVuZ3RoID0gZi5sZW5ndGgpID0+CiAgKC4uLmFyZ3MpID0+CiAgICAoYSA9PiAoYS5sZW5ndGggPT09IGxlbmd0aCA/IGYoLi4uYSkgOiBjdXJyeShmLCBhKSkpKFsuLi5hcnIsIC4uLmFyZ3NdKTsKCmV4cG9ydCBmdW5jdGlvbiogc3BsaXQoYnVmLCAuLi5wb2ludHMpIHsKICBwb2ludHMuc29ydCgpOwogIGNvbnN0IHNwbGl0QXQgPSAoYiwgcG9zLCBsZW4pID0+IHsKICAgIGxldCByID0gcG9zIDwgYi5ieXRlTGVuZ3RoID8gW3NsaWNlKGIsIDAsIHBvcyksIHNsaWNlKGIsIHBvcyldIDogW251bGwsIGJdOwogICAgcmV0dXJuIHI7CiAgfTsKICBsZXQgcHJldiwKICAgIGxlbiA9IDA7CiAgZm9yKGxldCBvZmZzZXQgb2YgcG9pbnRzKSB7CiAgICBsZXQgYXQgPSBvZmZzZXQgLSBsZW47CiAgICBbcHJldiwgYnVmXSA9IHNwbGl0QXQoYnVmLCBhdCwgbGVuKTsKICAgIGlmKHByZXYpIHsKICAgICAgeWllbGQgcHJldjsKICAgICAgbGVuID0gb2Zmc2V0OwogICAgfQogIH0KICBpZihidWYpIHlpZWxkIGJ1ZjsKfQoKZXhwb3J0IGNvbnN0IHVuaXF1ZSA9IChhcnIsIGNtcCkgPT4gYXJyLmZpbHRlcih0eXBlb2YgY21wID09ICdmdW5jdGlvbicgPyAoZWwsIGksIGFycikgPT4gYXJyLmZpbmRJbmRleChpdGVtID0+IGNtcChlbCwgaXRlbSkpID09IGkgOiAoZWwsIGksIGFycikgPT4gYXJyLmluZGV4T2YoZWwpID09IGkpOwoKY29uc3QgQU5TSV9CQUNLR1JPVU5EX09GRlNFVCA9IDEwOwoKY29uc3Qgd3JhcEFuc2kxNiA9CiAgKG9mZnNldCA9IDApID0+CiAgY29kZSA9PgogICAgYFx4MWJbJHtjb2RlICsgb2Zmc2V0fW1gOwoKY29uc3Qgd3JhcEFuc2kyNTYgPQogIChvZmZzZXQgPSAwKSA9PgogIGNvZGUgPT4KICAgIGBceDFiWyR7MzggKyBvZmZzZXR9OzU7JHtjb2RlfW1gOwoKY29uc3Qgd3JhcEFuc2kxNm0gPQogIChvZmZzZXQgPSAwKSA9PgogIChyZWQsIGdyZWVuLCBibHVlKSA9PgogICAgYFx4MWJbJHszOCArIG9mZnNldH07Mjske3JlZH07JHtncmVlbn07JHtibHVlfW1gOwoKZnVuY3Rpb24gZ2V0QW5zaVN0eWxlcygpIHsKICBjb25zdCBjb2RlcyA9IG5ldyBNYXAoKTsKICBjb25zdCBzdHlsZXMgPSB7CiAgICBtb2RpZmllcjogewogICAgICByZXNldDogWzAsIDBdLAogICAgICAvLyAyMSBpc24ndCB3aWRlbHkgc3VwcG9ydGVkIGFuZCAyMiBkb2VzIHRoZSBzYW1lIHRoaW5nCiAgICAgIGJvbGQ6IFsxLCAyMl0sCiAgICAgIGRpbTogWzIsIDIyXSwKICAgICAgaXRhbGljOiBbMywgMjNdLAogICAgICB1bmRlcmxpbmU6IFs0LCAyNF0sCiAgICAgIG92ZXJsaW5lOiBbNTMsIDU1XSwKICAgICAgaW52ZXJzZTogWzcsIDI3XSwKICAgICAgaGlkZGVuOiBbOCwgMjhdLAogICAgICBzdHJpa2V0aHJvdWdoOiBbOSwgMjldCiAgICB9LAogICAgY29sb3I6IHsKICAgICAgYmxhY2s6IFszMCwgMzldLAogICAgICByZWQ6IFszMSwgMzldLAogICAgICBncmVlbjogWzMyLCAzOV0sCiAgICAgIHllbGxvdzogWzMzLCAzOV0sCiAgICAgIGJsdWU6IFszNCwgMzldLAogICAgICBtYWdlbnRhOiBbMzUsIDM5XSwKICAgICAgY3lhbjogWzM2LCAzOV0sCiAgICAgIHdoaXRlOiBbMzcsIDM5XSwKCiAgICAgIC8vIEJyaWdodCBjb2xvcgogICAgICBibGFja0JyaWdodDogWzkwLCAzOV0sCiAgICAgIHJlZEJyaWdodDogWzkxLCAzOV0sCiAgICAgIGdyZWVuQnJpZ2h0OiBbOTIsIDM5XSwKICAgICAgeWVsbG93QnJpZ2h0OiBbOTMsIDM5XSwKICAgICAgYmx1ZUJyaWdodDogWzk0LCAzOV0sCiAgICAgIG1hZ2VudGFCcmlnaHQ6IFs5NSwgMzldLAogICAgICBjeWFuQnJpZ2h0OiBbOTYsIDM5XSwKICAgICAgd2hpdGVCcmlnaHQ6IFs5NywgMzldCiAgICB9LAogICAgYmdDb2xvcjogewogICAgICBiZ0JsYWNrOiBbNDAsIDQ5XSwKICAgICAgYmdSZWQ6IFs0MSwgNDldLAogICAgICBiZ0dyZWVuOiBbNDIsIDQ5XSwKICAgICAgYmdZZWxsb3c6IFs0MywgNDldLAogICAgICBiZ0JsdWU6IFs0NCwgNDldLAogICAgICBiZ01hZ2VudGE6IFs0NSwgNDldLAogICAgICBiZ0N5YW46IFs0NiwgNDldLAogICAgICBiZ1doaXRlOiBbNDcsIDQ5XSwKCiAgICAgIC8vIEJyaWdodCBjb2xvcgogICAgICBiZ0JsYWNrQnJpZ2h0OiBbMTAwLCA0OV0sCiAgICAgIGJnUmVkQnJpZ2h0OiBbMTAxLCA0OV0sCiAgICAgIGJnR3JlZW5CcmlnaHQ6IFsxMDIsIDQ5XSwKICAgICAgYmdZZWxsb3dCcmlnaHQ6IFsxMDMsIDQ5XSwKICAgICAgYmdCbHVlQnJpZ2h0OiBbMTA0LCA0OV0sCiAgICAgIGJnTWFnZW50YUJyaWdodDogWzEwNSwgNDldLAogICAgICBiZ0N5YW5CcmlnaHQ6IFsxMDYsIDQ5XSwKICAgICAgYmdXaGl0ZUJyaWdodDogWzEwNywgNDldCiAgICB9CiAgfTsKCiAgLy8gQWxpYXMgYnJpZ2h0IGJsYWNrIGFzIGdyYXkgKGFuZCBncmV5KQogIHN0eWxlcy5jb2xvci5ncmF5ID0gc3R5bGVzLmNvbG9yLmJsYWNrQnJpZ2h0OwogIHN0eWxlcy5iZ0NvbG9yLmJnR3JheSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7CiAgc3R5bGVzLmNvbG9yLmdyZXkgPSBzdHlsZXMuY29sb3IuYmxhY2tCcmlnaHQ7CiAgc3R5bGVzLmJnQ29sb3IuYmdHcmV5ID0gc3R5bGVzLmJnQ29sb3IuYmdCbGFja0JyaWdodDsKCiAgZm9yKGNvbnN0IFtncm91cE5hbWUsIGdyb3VwXSBvZiBPYmplY3QuZW50cmllcyhzdHlsZXMpKSB7CiAgICBmb3IoY29uc3QgW3N0eWxlTmFtZSwgc3R5bGVdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwKSkgewogICAgICBzdHlsZXNbc3R5bGVOYW1lXSA9IHsKICAgICAgICBvcGVuOiBgXHUwMDFCWyR7c3R5bGVbMF19bWAsCiAgICAgICAgY2xvc2U6IGBcdTAwMUJbJHtzdHlsZVsxXX1tYAogICAgICB9OwoKICAgICAgZ3JvdXBbc3R5bGVOYW1lXSA9IHN0eWxlc1tzdHlsZU5hbWVdOwoKICAgICAgY29kZXMuc2V0KHN0eWxlWzBdLCBzdHlsZVsxXSk7CiAgICB9CgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0eWxlcywgZ3JvdXBOYW1lLCB7CiAgICAgIHZhbHVlOiBncm91cCwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0pOwogIH0KCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0eWxlcywgJ2NvZGVzJywgewogICAgdmFsdWU6IGNvZGVzLAogICAgZW51bWVyYWJsZTogZmFsc2UKICB9KTsKCiAgc3R5bGVzLmNvbG9yLmNsb3NlID0gJ1x1MDAxQlszOW0nOwogIHN0eWxlcy5iZ0NvbG9yLmNsb3NlID0gJ1x1MDAxQls0OW0nOwoKICBzdHlsZXMuY29sb3IuYW5zaSA9IHdyYXBBbnNpMTYoKTsKICBzdHlsZXMuY29sb3IuYW5zaTI1NiA9IHdyYXBBbnNpMjU2KCk7CiAgc3R5bGVzLmNvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bSgpOwogIHN0eWxlcy5iZ0NvbG9yLmFuc2kgPSB3cmFwQW5zaTE2KEFOU0lfQkFDS0dST1VORF9PRkZTRVQpOwogIHN0eWxlcy5iZ0NvbG9yLmFuc2kyNTYgPSB3cmFwQW5zaTI1NihBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpMTZtID0gd3JhcEFuc2kxNm0oQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7CgogIC8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL1FpeC0vY29sb3ItY29udmVydC9ibG9iLzNmMGUwZDRlOTJlMjM1Nzk2Y2NiMTdmNmU4NWM3MjA5NGE2NTFmNDkvY29udmVyc2lvbnMuanMKICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHlsZXMsIHsKICAgIHJnYlRvQW5zaTI1NjogewogICAgICB2YWx1ZTogKHJlZCwgZ3JlZW4sIGJsdWUpID0+IHsKICAgICAgICAvLyBXZSB1c2UgdGhlIGV4dGVuZGVkIGdyZXlzY2FsZSBwYWxldHRlIGhlcmUsIHdpdGggdGhlIGV4Y2VwdGlvbiBvZgogICAgICAgIC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLgogICAgICAgIGlmKHJlZCA9PT0gZ3JlZW4gJiYgZ3JlZW4gPT09IGJsdWUpIHsKICAgICAgICAgIGlmKHJlZCA8IDgpIHsKICAgICAgICAgICAgcmV0dXJuIDE2OwogICAgICAgICAgfQoKICAgICAgICAgIGlmKHJlZCA+IDI0OCkgewogICAgICAgICAgICByZXR1cm4gMjMxOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCgocmVkIC0gOCkgLyAyNDcpICogMjQpICsgMjMyOwogICAgICAgIH0KICAgICAgICBjb25zdCBjID0gW3JlZCwgZ3JlZW4sIGJsdWVdLm1hcChjID0+IChjIC8gMjU1KSAqIDUpOwogICAgICAgIHJldHVybiAxNiArIDM2ICogY1swXSArIDYgKiBjWzFdICsgY1syXTsKICAgICAgfSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICBoZXhUb1JnYjogewogICAgICB2YWx1ZTogaGV4ID0+IHsKICAgICAgICBjb25zdCBtYXRjaGVzID0gLyg/PGNvbG9yU3RyaW5nPlthLWZcZF17Nn18W2EtZlxkXXszfSkvaS5leGVjKGhleC50b1N0cmluZygxNikpOwogICAgICAgIGlmKCFtYXRjaGVzKSB7CiAgICAgICAgICByZXR1cm4gWzAsIDAsIDBdOwogICAgICAgIH0KCiAgICAgICAgbGV0IHsgY29sb3JTdHJpbmcgfSA9IG1hdGNoZXMuZ3JvdXBzOwoKICAgICAgICBpZihjb2xvclN0cmluZy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgIGNvbG9yU3RyaW5nID0gY29sb3JTdHJpbmcKICAgICAgICAgICAgLnNwbGl0KCcnKQogICAgICAgICAgICAubWFwKGNoYXJhY3RlciA9PiBjaGFyYWN0ZXIgKyBjaGFyYWN0ZXIpCiAgICAgICAgICAgIC5qb2luKCcnKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGludGVnZXIgPSBOdW1iZXIucGFyc2VJbnQoY29sb3JTdHJpbmcsIDE2KTsKCiAgICAgICAgcmV0dXJuIFsoaW50ZWdlciA+PiAxNikgJiAweGZmLCAoaW50ZWdlciA+PiA4KSAmIDB4ZmYsIGludGVnZXIgJiAweGZmXTsKICAgICAgfSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICBoZXhUb0Fuc2kyNTY6IHsKICAgICAgdmFsdWU6IGhleCA9PiBzdHlsZXMucmdiVG9BbnNpMjU2KC4uLnN0eWxlcy5oZXhUb1JnYihoZXgpKSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICBhbnNpMjU2VG9BbnNpOiB7CiAgICAgIHZhbHVlOiBjb2RlID0+IHsKICAgICAgICBpZihjb2RlIDwgOCkgewogICAgICAgICAgcmV0dXJuIDMwICsgY29kZTsKICAgICAgICB9CgogICAgICAgIGlmKGNvZGUgPCAxNikgewogICAgICAgICAgcmV0dXJuIDkwICsgKGNvZGUgLSA4KTsKICAgICAgICB9CgogICAgICAgIGxldCByZWQ7CiAgICAgICAgbGV0IGdyZWVuOwogICAgICAgIGxldCBibHVlOwoKICAgICAgICBpZihjb2RlID49IDIzMikgewogICAgICAgICAgcmVkID0gKChjb2RlIC0gMjMyKSAqIDEwICsgOCkgLyAyNTU7CiAgICAgICAgICBncmVlbiA9IHJlZDsKICAgICAgICAgIGJsdWUgPSByZWQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvZGUgLT0gMTY7CgogICAgICAgICAgY29uc3QgcmVtYWluZGVyID0gY29kZSAlIDM2OwoKICAgICAgICAgIHJlZCA9IE1hdGguZmxvb3IoY29kZSAvIDM2KSAqIDAuMjsKICAgICAgICAgIGdyZWVuID0gTWF0aC5mbG9vcihyZW1haW5kZXIgLyA2KSAqIDAuMjsKICAgICAgICAgIGJsdWUgPSAocmVtYWluZGVyICUgNikgKiAwLjI7CiAgICAgICAgfQoKICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgubWF4KHJlZCwgZ3JlZW4sIGJsdWUpICogMjsKCiAgICAgICAgaWYodmFsdWUgPT09IDApIHsKICAgICAgICAgIHJldHVybiAzMDsKICAgICAgICB9CgogICAgICAgIGxldCByZXN1bHQgPSAzMCArICgoTWF0aC5yb3VuZChibHVlKSA8PCAyKSB8IChNYXRoLnJvdW5kKGdyZWVuKSA8PCAxKSB8IE1hdGgucm91bmQocmVkKSk7CgogICAgICAgIGlmKHZhbHVlID09PSAyKSB7CiAgICAgICAgICByZXN1bHQgKz0gNjA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9LAogICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgfSwKICAgIHJnYlRvQW5zaTogewogICAgICB2YWx1ZTogKHJlZCwgZ3JlZW4sIGJsdWUpID0+IHN0eWxlcy5hbnNpMjU2VG9BbnNpKHN0eWxlcy5yZ2JUb0Fuc2kyNTYocmVkLCBncmVlbiwgYmx1ZSkpLAogICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgfSwKICAgIGhleFRvQW5zaTogewogICAgICB2YWx1ZTogaGV4ID0+IHN0eWxlcy5hbnNpMjU2VG9BbnNpKHN0eWxlcy5oZXhUb0Fuc2kyNTYoaGV4KSksCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9CiAgfSk7CgogIHJldHVybiBzdHlsZXM7Cn0KCmV4cG9ydCBmdW5jdGlvbiByYW5kSW50KC4uLmFyZ3MpIHsKICBsZXQgcmFuZ2UgPSBhcmdzLnNwbGljZSgwLCAyKTsKICBsZXQgcm5kID0gYXJncy5zaGlmdCgpOwogIGlmKHJhbmdlLmxlbmd0aCA8IDIpIHJhbmdlLnVuc2hpZnQoMCk7CiAgcmV0dXJuIE1hdGgucm91bmQobWlzYy5yYW5kKHJhbmdlWzFdIC0gcmFuZ2VbMF0gKyAxKSArIHJhbmdlWzBdKTsKfQoKZXhwb3J0IGNvbnN0IGFuc2lTdHlsZXMgPSBnZXRBbnNpU3R5bGVzKCk7Cgpjb25zdCBpbnNwZWN0TWV0aG9kID0gU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKTsKCnV0aWwuaW5zcGVjdCA9IGluc3BlY3Q7CnV0aWwuZm9ybWF0ID0gZm9ybWF0Owp1dGlsLmZvcm1hdFdpdGhPcHRpb25zID0gZm9ybWF0V2l0aE9wdGlvbnM7CnV0aWwudHlwZXMgPSB0eXBlczsKdXRpbC5hc3NlcnQgPSBhc3NlcnQ7CnV0aWwuaGFzQnVpbHRJbiA9IGhhc0J1aWx0SW47CnV0aWwudG9TdHJpbmcgPSB0b1N0cmluZzsKdXRpbC50b0FycmF5QnVmZmVyID0gdG9BcnJheUJ1ZmZlcjsKdXRpbC5zZXRJbnRlcnZhbCA9IHNldEludGVydmFsOwp1dGlsLmNsZWFySW50ZXJ2YWwgPSBjbGVhckludGVydmFsOwp1dGlsLm1lbW9pemUgPSBtZW1vaXplOwp1dGlsLm9uY2UgPSBvbmNlOwp1dGlsLmRlZmluZSA9IGRlZmluZTsKdXRpbC53ZWFrQXNzaWduID0gd2Vha0Fzc2lnbjsKdXRpbC5BcnJheUV4dGVuc2lvbnMgPSBBcnJheUV4dGVuc2lvbnM7CnV0aWwuZXh0ZW5kQXJyYXkgPSAocHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIGRlZiA9IHV0aWwuZGVmaW5lKSA9PiBkZWYocHJvdG8sIEFycmF5RXh0ZW5zaW9ucyk7CnV0aWwuZXh0ZW5kR2VuZXJhdG9yID0gKHByb3RvID0gR2VuZXJhdG9yUHJvdG90eXBlLCBkZWYgPSB1dGlsLmRlZmluZSkgPT4gZGVmKHByb3RvLCBHZW5lcmF0b3JFeHRlbnNpb25zKTsKdXRpbC5lcnJvcnMgPSBlcnJvcnM7CnV0aWwuZ2V0UHJvdG90eXBlQ2hhaW4gPSBnZXRQcm90b3R5cGVDaGFpbjsKdXRpbC5nZXRDb25zdHJ1Y3RvckNoYWluID0gZ2V0Q29uc3RydWN0b3JDaGFpbjsKdXRpbC5oYXNQcm90b3R5cGUgPSBoYXNQcm90b3R5cGU7CnV0aWwuYW5zaVN0eWxlcyA9IGFuc2lTdHlsZXM7CnV0aWwucmFuZEludCA9IHJhbmRJbnQ7CnV0aWwuY3VycnkgPSBjdXJyeTsKdXRpbC5maWx0ZXIgPSBmaWx0ZXI7CnV0aWwuc3BsaXQgPSBzcGxpdDsKdXRpbC51bmlxdWUgPSB1bmlxdWU7CnV0aWwuZXNjYXBlID0gZXNjYXBlOwoKT2JqZWN0LmFzc2lnbih1dGlsLCB7CiAgW2luc3BlY3RNZXRob2RdKCkgewogICAgbGV0IG9iaiA9IHsgLi4udXRpbCB9OwogICAgZGVsZXRlIG9ialtpbnNwZWN0TWV0aG9kXTsKICAgIHJldHVybiBpbnNwZWN0KG9iaiwgeyBjdXN0b21JbnNwZWN0OiBmYWxzZSB9KTsKICB9Cn0pOwoKZXhwb3J0IHsgZXh0ZW5kQXJyYXksIEFycmF5RXh0ZW5zaW9ucyB9IGZyb20gJy4vZXh0ZW5kQXJyYXkuanMnOwpleHBvcnQgeyBTeXNjYWxsRXJyb3IgfSBmcm9tICdzeXNjYWxsZXJyb3InOwpleHBvcnQgeyBhcnJheVRvQml0ZmllbGQsIGF0b2IsIGF0b21Ub1N0cmluZywgYXRvbVRvVmFsdWUsIGJpdGZpZWxkVG9BcnJheSwgYnRvYSwgY29tcGlsZVNjcmlwdCwgY29uY2F0QXJyYXlCdWZmZXIsIGR1cEFycmF5QnVmZmVyLCBldmFsQmluYXJ5LCBnZXRCeXRlQ29kZSwgZ2V0Q2xhc3NBdG9tLCBnZXRDbGFzc0NvbnN0cnVjdG9yLCBnZXRDbGFzc0NvdW50LCBnZXRDbGFzc0lELCBnZXRDbGFzc05hbWUsIGdldENsYXNzUHJvdG8sIGdldENvbW1hbmRMaW5lLCBnZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeSwgZ2V0RXhlY3V0YWJsZSwgZ2V0RmlsZURlc2NyaXB0b3IsIGdldE9wQ29kZXMsIGdldFBlcmZvcm1hbmNlQ291bnRlciwgZ2V0UHJvY01hcHMsIGdldFByb2NNb3VudHMsIGdldFByb2NTdGF0LCBnZXRQcm90b3R5cGVDaGFpbiwgZ2V0Um9vdERpcmVjdG9yeSwgZ2V0ZWdpZCwgZ2V0ZXVpZCwgZ2V0Z2lkLCBnZXRwaWQsIGdldHBwaWQsIGdldHNpZCwgZ2V0dWlkLCBocnRpbWUsIHJlYWRPYmplY3QsIHJlc2l6ZUFycmF5QnVmZmVyLCBzZWFyY2hBcnJheUJ1ZmZlciwgbWVtY3B5LCBzZXRlZ2lkLCBzZXRldWlkLCBzZXRnaWQsIHNldHVpZCwgdG9BcnJheUJ1ZmZlciwgdG9Qb2ludGVyLCB0b1N0cmluZywgdW5hbWUsIHZhbHVlUHRyLCB2YWx1ZVRhZywgdmFsdWVUb0F0b20sIHZhbHVlVHlwZSwgd3JpdGVPYmplY3QsIGVzY2FwZSwgcXVvdGUgfSBmcm9tICdtaXNjJzsKZXhwb3J0IHsgaW5zcGVjdCB9IGZyb20gJ2luc3BlY3QnOwoAAAAAAAAAAIdVAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABFMAAAAAAAAVUwAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACHVQAAaW1wb3J0IGluc3BlY3QgZnJvbSAnaW5zcGVjdCc7CmltcG9ydCB7IFN5c2NhbGxFcnJvciB9IGZyb20gJ3N5c2NhbGxlcnJvcic7CmV4cG9ydCB7IExvY2F0aW9uIH0gZnJvbSAnbG9jYXRpb24nOwppbXBvcnQgeyBhcnJheVRvQml0ZmllbGQsIGF0b2IsIGF0b21Ub1N0cmluZywgYXRvbVRvVmFsdWUsIGJpdGZpZWxkVG9BcnJheSwgYnRvYSwgY29tcGlsZVNjcmlwdCwgY29uY2F0LCBkdXBBcnJheUJ1ZmZlciwgZXZhbEJpbmFyeSwgZ2V0Qnl0ZUNvZGUsIGdldENsYXNzQXRvbSwgZ2V0Q2xhc3NDb25zdHJ1Y3RvciwgZ2V0Q2xhc3NDb3VudCwgZ2V0Q2xhc3NJRCwgZ2V0Q2xhc3NOYW1lLCBnZXRDbGFzc1Byb3RvLCBnZXRDb21tYW5kTGluZSwgZ2V0Q3VycmVudFdvcmtpbmdEaXJlY3RvcnksIGdldEV4ZWN1dGFibGUsIGdldEZpbGVEZXNjcmlwdG9yLCBnZXRPcENvZGVzLCBnZXRQZXJmb3JtYW5jZUNvdW50ZXIsIGdldFByb2NNYXBzLCBnZXRQcm9jTW91bnRzLCBnZXRQcm9jU3RhdCwgZ2V0UHJvdG90eXBlQ2hhaW4sIGdldFJvb3REaXJlY3RvcnksIGdldGVnaWQsIGdldGV1aWQsIGdldGdpZCwgZ2V0cGlkLCBnZXRwcGlkLCBnZXRzaWQsIGdldHVpZCwgaHJ0aW1lLCByZWFkT2JqZWN0LCByZXNpemVBcnJheUJ1ZmZlciwgc2V0ZWdpZCwgc2V0ZXVpZCwgc2V0Z2lkLCBzZXR1aWQsIHRvQXJyYXlCdWZmZXIsIHRvUG9pbnRlciwgdG9TdHJpbmcsIHVuYW1lLCB2YWx1ZVB0ciwgdmFsdWVUYWcsIHZhbHVlVG9BdG9tLCB2YWx1ZVR5cGUsIHdyaXRlT2JqZWN0LCByYW5kLCByYW5kaSwgcmFuZGYsIHNyYW5kLCBlc2NhcGUsIHF1b3RlIH0gZnJvbSAnbWlzYyc7CmltcG9ydCB7IGV4dGVuZEFycmF5LCBBcnJheUV4dGVuc2lvbnMgfSBmcm9tICcuL2V4dGVuZEFycmF5LmpzJzsKaW1wb3J0IHsgZXh0ZW5kR2VuZXJhdG9yLCBHZW5lcmF0b3JFeHRlbnNpb25zLCBHZW5lcmF0b3JQcm90b3R5cGUsIEdlbmVyYXRvckNvbnN0cnVjdG9yIH0gZnJvbSAnLi9leHRlbmRHZW5lcmF0b3IuanMnOwppbXBvcnQgKiBhcyBvcyBmcm9tICdvcyc7Cgpjb25zdCBzbGljZSA9ICh4LCBzLCBlKSA9PiAodHlwZW9mIHggPT0gJ29iamVjdCcgPyAoQXJyYXkuaXNBcnJheSh4KSA/IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHgsIHMsIGUpIDogeC5zbGljZShzLCBlKSkgOiBTdHJpbmcucHJvdG90eXBlLnNsaWNlLmNhbGwoeCwgcywgZSkpOwpjb25zdCBzdHJpbmdpZnkgPSB2ID0+IGAke3Z9YDsKY29uc3QgcHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjsKY29uc3QgZm9ybWF0TnVtYmVyID0gbiA9PiAobiA9PT0gLTAgPyAnLTAnIDogYCR7bn1gKTsKY29uc3QgaXNOYXRpdmUgPSBmbiA9PiAvXFtuYXRpdmVcc2NvZGVcXS8udGVzdChzdHJpbmdpZnkoZm4pKTsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHV0aWwoKSB7CiAgcmV0dXJuIHV0aWw7Cn0KCnV0aWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdXRpbDsKCmNvbnN0IEFzeW5jRnVuY3Rpb24gPSBhc3luYyBmdW5jdGlvbiB4KCkge30uY29uc3RydWN0b3I7CmNvbnN0IEdlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24qICgpIHt9LmNvbnN0cnVjdG9yOwpjb25zdCBBc3luY0dlbmVyYXRvckZ1bmN0aW9uID0gYXN5bmMgZnVuY3Rpb24qICgpIHt9LmNvbnN0cnVjdG9yOwpjb25zdCBUeXBlZEFycmF5ID0gcHJvdG9PZihwcm90b09mKG5ldyBVaW50MTZBcnJheSgxMCkpKS5jb25zdHJ1Y3RvcjsKCmNvbnN0IFNldEl0ZXJhdG9yUHJvdG90eXBlID0gcHJvdG9PZihuZXcgU2V0KCkudmFsdWVzKCkpOwpjb25zdCBNYXBJdGVyYXRvclByb3RvdHlwZSA9IHByb3RvT2YobmV3IE1hcCgpLmVudHJpZXMoKSk7CmNvbnN0IEdlbmVyYXRvclByb3RvdHlwZSA9IHByb3RvT2YoKGZ1bmN0aW9uKiAoKSB7fSkoKSk7CgpleHBvcnQgY29uc3QgZXJyb3JzID0gWwogIG51bGwsCiAgJ0VQRVJNJywKICAnRU5PRU5UJywKICAnRVNSQ0gnLAogICdFSU5UUicsCiAgJ0VJTycsCiAgJ0VOWElPJywKICAnRTJCSUcnLAogICdFTk9FWEVDJywKICAnRUJBREYnLAogICdFQ0hJTEQnLAogICdFQUdBSU4nLAogICdFTk9NRU0nLAogICdFQUNDRVMnLAogICdFRkFVTFQnLAogICdFTk9UQkxLJywKICAnRUJVU1knLAogICdFRVhJU1QnLAogICdFWERFVicsCiAgJ0VOT0RFVicsCiAgJ0VOT1RESVInLAogICdFSVNESVInLAogICdFSU5WQUwnLAogICdFTkZJTEUnLAogICdFTUZJTEUnLAogICdFTk9UVFknLAogICdFVFhUQlNZJywKICAnRUZCSUcnLAogICdFTk9TUEMnLAogICdFU1BJUEUnLAogICdFUk9GUycsCiAgJ0VNTElOSycsCiAgJ0VQSVBFJywKICAnRURPTScsCiAgJ0VSQU5HRScsCiAgJ0VERUFETEsnLAogICdFTkFNRVRPT0xPTkcnLAogICdFTk9MQ0snLAogICdFTk9TWVMnLAogICdFTk9URU1QVFknLAogIG51bGwsCiAgbnVsbCwKICAnRU5PTVNHJywKICAnRUlEUk0nLAogICdFQ0hSTkcnLAogICdFTDJOU1lOQycsCiAgJ0VMM0hMVCcsCiAgJ0VMM1JTVCcsCiAgJ0VMTlJORycsCiAgJ0VVTkFUQ0gnLAogICdFTk9DU0knLAogICdFTDJITFQnLAogICdFQkFERScsCiAgJ0VCQURSJywKICAnRVhGVUxMJywKICAnRU5PQU5PJywKICAnRUJBRFJRQycsCiAgbnVsbCwKICAnJywKICAnRUJGT05UJywKICAnRU5PU1RSJywKICAnRU5PREFUQScsCiAgJ0VUSU1FJywKICAnRU5PU1InLAogICdFTk9ORVQnLAogICdFTk9QS0cnLAogICdFUkVNT1RFJywKICAnRU5PTElOSycsCiAgJ0VBRFYnLAogICdFU1JNTlQnLAogICdFQ09NTScsCiAgJ0VQUk9UTycsCiAgJ0VNVUxUSUhPUCcsCiAgJ0VET1RET1QnLAogICdFQkFETVNHJywKICAnRU9WRVJGTE9XJywKICAnRU5PVFVOSVEnLAogICdFQkFERkQnLAogICdFUkVNQ0hHJywKICAnRUxJQkFDQycsCiAgJ0VMSUJCQUQnLAogICdFTElCU0NOJywKICAnRUxJQk1BWCcsCiAgJ0VMSUJFWEVDJywKICAnRUlMU0VRJywKICAnRVJFU1RBUlQnLAogICdFU1RSUElQRScsCiAgJ0VVU0VSUycsCiAgJ0VOT1RTT0NLJywKICAnRURFU1RBRERSUkVRJywKICAnRU1TR1NJWkUnLAogICdFUFJPVE9UWVBFJywKICAnRU5PUFJPVE9PUFQnLAogICdFUFJPVE9OT1NVUFBPUlQnLAogICdFU09DS1ROT1NVUFBPUlQnLAogICdFT1BOT1RTVVBQJywKICAnRVBGTk9TVVBQT1JUJywKICAnRUFGTk9TVVBQT1JUJywKICAnRUFERFJJTlVTRScsCiAgJ0VBRERSTk9UQVZBSUwnLAogICdFTkVURE9XTicsCiAgJ0VORVRVTlJFQUNIJywKICAnRU5FVFJFU0VUJywKICAnRUNPTk5BQk9SVEVEJywKICAnRUNPTk5SRVNFVCcsCiAgJ0VOT0JVRlMnLAogICdFSVNDT05OJywKICAnRU5PVENPTk4nLAogICdFU0hVVERPV04nLAogICdFVE9PTUFOWVJFRlMnLAogICdFVElNRURPVVQnLAogICdFQ09OTlJFRlVTRUQnLAogICdFSE9TVERPV04nLAogICdFSE9TVFVOUkVBQ0gnLAogICdFQUxSRUFEWScsCiAgJ0VJTlBST0dSRVNTJywKICAnRVNUQUxFJywKICAnRVVDTEVBTicsCiAgJ0VOT1ROQU0nLAogICdFTkFWQUlMJywKICAnRUlTTkFNJywKICAnRVJFTU9URUlPJywKICAnRURRVU9UJywKICAnRU5PTUVESVVNJywKICAnRU1FRElVTVRZUEUnLAogICdFQ0FOQ0VMRUQnLAogICdFTk9LRVknLAogICdFS0VZRVhQSVJFRCcsCiAgJ0VLRVlSRVZPS0VEJywKICAnRUtFWVJFSkVDVEVEJywKICAnRU9XTkVSREVBRCcsCiAgJ0VOT1RSRUNPVkVSQUJMRScsCiAgJ0VSRktJTEwnCl07CgpleHBvcnQgY29uc3QgdHlwZXMgPSB7CiAgaXNBbnlBcnJheUJ1ZmZlcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgKHYgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCB2IGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpOwogIH0sCiAgaXNBcnJheUJ1ZmZlcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyOwogIH0sCiAgaXNCaWdJbnQ2NEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQmlnSW50NjRBcnJheTsKICB9LAogIGlzQmlnVWludDY0QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBCaWdVaW50NjRBcnJheTsKICB9LAogIGlzRGF0ZSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIERhdGU7CiAgfSwKICBpc0Zsb2F0MzJBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheTsKICB9LAogIGlzRmxvYXQ2NEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5OwogIH0sCiAgaXNJbnQ4QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBJbnQ4QXJyYXk7CiAgfSwKICBpc0ludDE2QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBJbnQxNkFycmF5OwogIH0sCiAgaXNJbnQzMkFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgSW50MzJBcnJheTsKICB9LAogIGlzTWFwKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgTWFwOwogIH0sCiAgaXNQcm9taXNlKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgUHJvbWlzZTsKICB9LAogIGlzUHJveHkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBQcm94eTsKICB9LAogIGlzUmVnRXhwKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgUmVnRXhwOwogIH0sCiAgaXNTZXQodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBTZXQ7CiAgfSwKICBpc1NoYXJlZEFycmF5QnVmZmVyKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXI7CiAgfSwKICBpc1VpbnQ4QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50OEFycmF5OwogIH0sCiAgaXNVaW50OENsYW1wZWRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5OwogIH0sCiAgaXNVaW50MTZBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFVpbnQxNkFycmF5OwogIH0sCiAgaXNVaW50MzJBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFVpbnQzMkFycmF5OwogIH0sCiAgaXNXZWFrTWFwKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgV2Vha01hcDsKICB9LAogIGlzV2Vha1NldCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFdlYWtTZXQ7CiAgfSwKICBpc0RhdGFWaWV3KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRGF0YVZpZXc7CiAgfSwKICBpc0Jvb2xlYW5PYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBCb29sZWFuOwogIH0sCiAgaXNBc3luY0Z1bmN0aW9uKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQXN5bmNGdW5jdGlvbjsKICB9LAogIGlzR2VuZXJhdG9yRnVuY3Rpb24odikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBHZW5lcmF0b3JGdW5jdGlvbjsKICB9LAogIGlzQXN5bmNHZW5lcmF0b3JGdW5jdGlvbih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEFzeW5jR2VuZXJhdG9yRnVuY3Rpb247CiAgfSwKICBpc051bWJlck9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIE51bWJlcjsKICB9LAogIGlzQmlnSW50T2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQmlnSW50OwogIH0sCiAgaXNTeW1ib2xPYmplY3QodikgewogICAgcmV0dXJuIHYgJiYgdiBpbnN0YW5jZW9mIFN5bWJvbDsKICB9LAogIGlzTmF0aXZlRXJyb3IodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBFcnJvciAmJiBpc05hdGl2ZSh2LmNvbnN0cnVjdG9yKTsKICB9LAogIGlzTWFwSXRlcmF0b3IodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHByb3RvT2YodikgPT0gTWFwSXRlcmF0b3JQcm90b3R5cGU7CiAgfSwKICBpc1NldEl0ZXJhdG9yKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiBwcm90b09mKHYpID09IFNldEl0ZXJhdG9yUHJvdG90eXBlOwogIH0sCiAgaXNTdHJpbmdPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBTdHJpbmc7CiAgfSwKICBpc0FycmF5QnVmZmVyVmlldyh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KHYpOwogIH0sCiAgaXNBcmd1bWVudHNPYmplY3QodikgewogICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJzsKICB9LAoKICAvKiBpc0V4dGVybmFsKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRXh0ZXJuYWw7CiAgfSwqLwoKICBpc0JveGVkUHJpbWl0aXZlKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiBbTnVtYmVyLCBTdHJpbmcsIEJvb2xlYW4sIEJpZ0ludCwgU3ltYm9sXS5zb21lKGN0b3IgPT4gdiBpbnN0YW5jZW9mIGN0b3IpOwogIH0sCgogIGlzR2VuZXJhdG9yT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiBwcm90b09mKHYpID09IEdlbmVyYXRvclByb3RvdHlwZTsKICB9LAogIGlzVHlwZWRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFR5cGVkQXJyYXk7CiAgfSwKICBpc01vZHVsZU5hbWVzcGFjZU9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdltTeW1ib2wudG9TdHJpbmdUYWddID09ICdNb2R1bGUnOwogIH0KfTsKCmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2KSB7CiAgcmV0dXJuIHYgIT0gbnVsbCAmJiB7IGZ1bmN0aW9uOiB0cnVlLCBvYmplY3Q6IHRydWUgfVt0eXBlb2Ygdl07Cn0KCmV4cG9ydCBmdW5jdGlvbiBoYXNCdWlsdEluKG8sIG0pIHsKICByZXR1cm4gaXNOYXRpdmUocHJvdG9PZihvKVttXSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoLi4uYXJncykgewogIHJldHVybiBmb3JtYXRXaXRoT3B0aW9uc0ludGVybmFsKHsgaGlkZUtleXM6IFsnY29uc3RydWN0b3InXSB9LCBhcmdzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFdpdGhPcHRpb25zKG9wdHMsIC4uLmFyZ3MpIHsKICBpZighaXNPYmplY3Qob3B0cykpIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbnMgYXJndW1lbnQgaXMgbm90IGFuIG9iamVjdGApOwogIHJldHVybiBmb3JtYXRXaXRoT3B0aW9uc0ludGVybmFsKG9wdHMsIGFyZ3MpOwp9CgpmdW5jdGlvbiBmb3JtYXRXaXRoT3B0aW9uc0ludGVybmFsKG8sIHYpIHsKICBjb25zdCB4ID0gdlswXTsKICBsZXQgYSA9IDA7CiAgbGV0IHMgPSAnJzsKICBsZXQgaiA9ICcnOwogIGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgewogICAgaWYodi5sZW5ndGggPT09IDEpIHJldHVybiB4OwogICAgbGV0IHQ7CiAgICBsZXQgcCA9IDA7CiAgICBmb3IobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgaWYoeFtpXSA9PSAnJScpIHsKICAgICAgICBsZXQgZiA9ICcnOwogICAgICAgIHdoaWxlKCdzanhkT29pZmMlJy5pbmRleE9mKHhbaSArIDFdKSA9PSAtMSkgewogICAgICAgICAgZiArPSB4W2kgKyAxXTsKICAgICAgICAgICsraTsKICAgICAgICB9CiAgICAgICAgLy9jb25zb2xlLmxvZygncCcsIHAsIGAnJHtkdXBBcnJheUJ1ZmZlcih4LCBwLCBpKX0nYCk7CiAgICAgICAgaWYocCA8IGkpIHMgKz0gZHVwQXJyYXlCdWZmZXIoeCwgcCwgaSk7CiAgICAgICAgcCA9IGkgKyAxOwogICAgICAgIC8vY29uc29sZS5sb2coJ2knLCBpKTsKICAgICAgICBjb25zdCBjID0gU3RyaW5nLnByb3RvdHlwZS5jaGFyQ29kZUF0LmNhbGwoeCwgKytpKTsKICAgICAgICAvL2NvbnNvbGUubG9nKCdzJywgYCcke3N9J2ApOwogICAgICAgIC8vY29uc29sZS5sb2coJ2MnLCBjLCB4W2ldKTsKICAgICAgICBpZihhICsgMSAhPT0gdi5sZW5ndGgpIHsKICAgICAgICAgIHN3aXRjaCAoYykgewogICAgICAgICAgICBjYXNlIDExNTogLy8gJXMKICAgICAgICAgICAgICBjb25zdCB5ID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiB5ID09PSAnbnVtYmVyJykgdCA9IGZvcm1hdE51bWJlcih5KTsKICAgICAgICAgICAgICBlbHNlIGlmKHR5cGVvZiB5ID09PSAnYmlnaW50JykgdCA9IGAke3l9bmA7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgeSAhPT0gJ29iamVjdCcgfHwgeSA9PT0gbnVsbCB8fCAhaGFzQnVpbHRJbih5LCAndG9TdHJpbmcnKSkgdCA9IFN0cmluZyh5KTsKICAgICAgICAgICAgICBlbHNlIHQgPSBpbnNwZWN0KHksIHsgLi4ubywgY29tcGFjdDogMywgY29sb3JzOiBmYWxzZSwgZGVwdGg6IDAgfSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTA2OiAvLyAlagogICAgICAgICAgICAgIHQgPSBzdHJpbmdpZnkodlsrK2FdKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMjA6IC8vICV4CiAgICAgICAgICAgIGNhc2UgMTAwOiAvLyAlZAogICAgICAgICAgICAgIGNvbnN0IG4gPSB2WysrYV07CiAgICAgICAgICAgICAgaWYodHlwZW9mIG4gPT09ICdiaWdpbnQnKSB0ID0gYCR7bn1uYDsKICAgICAgICAgICAgICBlbHNlIGlmKHR5cGVvZiBuID09PSAnc3ltYm9sJykgdCA9ICdOYU4nOwogICAgICAgICAgICAgIGVsc2UgdCA9IGZvcm1hdE51bWJlcihjID09IDEyMCA/IE51bWJlcihuKS50b1N0cmluZygxNikgOiBOdW1iZXIobikpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDc5OiAvLyAlTwogICAgICAgICAgICAgIHQgPSBpbnNwZWN0KHZbKythXSwgbyk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTExOiAvLyAlbwogICAgICAgICAgICAgIHQgPSAvKnZbKythXSsnJyA/PyAqLyBpbnNwZWN0KHZbKythXSwgewogICAgICAgICAgICAgICAgLi4ubywKICAgICAgICAgICAgICAgIHNob3dIaWRkZW46IHRydWUsCiAgICAgICAgICAgICAgICBzaG93UHJveHk6IHRydWUsCiAgICAgICAgICAgICAgICBkZXB0aDogMSwKICAgICAgICAgICAgICAgIHByb3RvQ2hhaW46IGZhbHNlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTA1OiAvLyAlaQogICAgICAgICAgICAgIGNvbnN0IGsgPSB2WysrYV07CiAgICAgICAgICAgICAgaWYodHlwZW9mIGsgPT09ICdiaWdpbnQnKSB0ID0gYCR7a31gOwogICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIGsgPT09ICdzeW1ib2wnKSB0ID0gJ05hTic7CiAgICAgICAgICAgICAgZWxzZSB0ID0gZm9ybWF0TnVtYmVyKHBhcnNlSW50KGspKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMDI6IC8vICVmCiAgICAgICAgICAgICAgY29uc3QgZCA9IHZbKythXTsKICAgICAgICAgICAgICBpZih0eXBlb2YgZCA9PT0gJ3N5bWJvbCcpIHQgPSAnTmFOJzsKICAgICAgICAgICAgICBlbHNlIHQgPSBmb3JtYXROdW1iZXIocGFyc2VGbG9hdChkKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgOTk6IC8vICVjCiAgICAgICAgICAgICAgYSArPSAxOwogICAgICAgICAgICAgIHQgPSAnJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAzNzogLy8gJSUKICAgICAgICAgICAgICBzICs9IGR1cEFycmF5QnVmZmVyKHgsIHAsIGkpOwogICAgICAgICAgICAgIHAgPSBpICsgMTsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHAgIT09IGkgLSAxKSBzICs9IGR1cEFycmF5QnVmZmVyKHgsIHAsIGkgLSAxKTsKICAgICAgICAgIGxldCBwYWQgPSBwYXJzZUludChmKTsKCiAgICAgICAgICBpZihNYXRoLmFicyhwYWQpID4gMCkgdCA9IHRbJ3BhZCcgKyAocGFkIDwgMCA/ICdFbmQnIDogJ1N0YXJ0JyldKE1hdGguYWJzKHBhZCksIC9eLT8wLy50ZXN0KGYpID8gJzAnIDogJyAnKTsKCiAgICAgICAgICBzICs9IHQ7CiAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgfSBlbHNlIGlmKGMgPT09IDM3KSB7CiAgICAgICAgICBzICs9IGR1cEFycmF5QnVmZmVyKHgsIHAsIGkpOwogICAgICAgICAgcCA9IGkgKyAxOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYocCAhPT0gMCkgewogICAgICBhKys7CiAgICAgIGogPSAnICc7CiAgICAgIGlmKHAgPCB4Lmxlbmd0aCkgcyArPSBkdXBBcnJheUJ1ZmZlcih4LCBwKTsKICAgIH0KICB9CiAgd2hpbGUoYSA8IHYubGVuZ3RoKSB7CiAgICBjb25zdCB5ID0gdlthXTsKICAgIHMgKz0gajsKICAgIHMgKz0gdHlwZW9mIHkgIT09ICdzdHJpbmcnID8gaW5zcGVjdCh5LCBvKSA6IHk7CiAgICBqID0gJyAnOwogICAgYSsrOwogIH0KICByZXR1cm4gczsKfQoKZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CiAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSBleHBlY3RlZCA9IHRydWU7CgogIGlmKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHJldHVybjsKCiAgaWYoYWN0dWFsICE9PSBudWxsICYmIGV4cGVjdGVkICE9PSBudWxsICYmIHR5cGVvZiBhY3R1YWwgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGV4cGVjdGVkID09ICdvYmplY3QnICYmIGFjdHVhbC50b1N0cmluZygpID09PSBleHBlY3RlZC50b1N0cmluZygpKSByZXR1cm47CgogIHRocm93IEVycm9yKCdhc3NlcnRpb24gZmFpbGVkOiBnb3QgfCcgKyBhY3R1YWwgKyAnfCcgKyAnLCBleHBlY3RlZCB8JyArIGV4cGVjdGVkICsgJ3wnICsgKG1lc3NhZ2UgPyAnICgnICsgbWVzc2FnZSArICcpJyA6ICcnKSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBzZXRJbnRlcnZhbChjYWxsYmFjaywgbXMpIHsKICBsZXQgbWFwID0gKHNldEludGVydmFsLm1hcCA/Pz0gbmV3IE1hcCgpKTsKICBsZXQgaWQgPSAoc2V0SW50ZXJ2YWwuaWQgPSAoc2V0SW50ZXJ2YWwuaWQgPz8gMCkgKyAxKTsKICBsZXQgb2JqID0geyBjYWxsYmFjaywgbXMgfTsKICBtYXAuc2V0KGlkLCBvYmopOwoKICBmdW5jdGlvbiBzdGFydCgpIHsKICAgIG9iai5pZCA9IG9zLnNldFRpbWVvdXQoKCkgPT4gewogICAgICBzdGFydCgpOwogICAgICBjYWxsYmFjaygpOwogICAgfSwgb2JqLm1zKTsKICB9CgogIHN0YXJ0KCk7CiAgcmV0dXJuIGlkOwp9CgpleHBvcnQgZnVuY3Rpb24gY2xlYXJJbnRlcnZhbChpZCkgewogIGxldCBtYXAgPSAoc2V0SW50ZXJ2YWwubWFwID8/PSBuZXcgTWFwKCkpOwoKICBsZXQgb2JqID0gbWFwLmdldChpZCk7CgogIGlmKG9iaikgb3MuY2xlYXJUaW1lb3V0KG9iai5pZCk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplKGZuKSB7CiAgbGV0IGNhY2hlID0ge307CiAgcmV0dXJuIChuLCAuLi5yZXN0KSA9PiB7CiAgICBpZihuIGluIGNhY2hlKSByZXR1cm4gY2FjaGVbbl07CiAgICByZXR1cm4gKGNhY2hlW25dID0gZm4obiwgLi4ucmVzdCkpOwogIH07Cn0KCmV4cG9ydCBmdW5jdGlvbiBvbmNlKGZuLCB0aGlzQXJnLCBtZW1vRm4pIHsKICBsZXQgcmV0LAogICAgcmFuID0gZmFsc2U7CgogIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7CiAgICBpZighcmFuKSB7CiAgICAgIHJhbiA9IHRydWU7CiAgICAgIHJldCA9IGZuLmFwcGx5KHRoaXNBcmcgfHwgdGhpcywgYXJncyk7CiAgICB9IGVsc2UgaWYodHlwZW9mIG1lbW9GbiA9PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldCA9IG1lbW9GbihyZXQpOwogICAgfQogICAgcmV0dXJuIHJldDsKICB9Owp9CgpleHBvcnQgZnVuY3Rpb24gd2FpdEZvcihtcykgewogIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IG9zLnNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGRlZmluZShvYmosIC4uLmFyZ3MpIHsKICBmb3IobGV0IHByb3BzIG9mIGFyZ3MpIHsKICAgIGxldCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocHJvcHMpOwogICAgZm9yKGxldCBwcm9wIGluIGRlc2MpIHsKICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gZGVzY1twcm9wXTsKICAgICAgZGVzY1twcm9wXS5lbnVtZXJhYmxlID0gZmFsc2U7CiAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSBkZXNjW3Byb3BdLndyaXRhYmxlID0gZmFsc2U7CiAgICB9CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIGRlc2MpOwogIH0KICByZXR1cm4gb2JqOwp9CgpleHBvcnQgZnVuY3Rpb24gd2Vha0Fzc2lnbihvYmosIC4uLmFyZ3MpIHsKICBsZXQgZGVzYyA9IHt9OwogIGZvcihsZXQgb3RoZXIgb2YgYXJncykgewogICAgbGV0IG90aGVyRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG90aGVyKTsKICAgIGZvcihsZXQga2V5IGluIG90aGVyRGVzYykgaWYoIShrZXkgaW4gb2JqKSAmJiBkZXNjW2tleV0gPT09IHVuZGVmaW5lZCAmJiBvdGhlckRlc2Nba2V5XSAhPT0gdW5kZWZpbmVkKSBkZXNjW2tleV0gPSBvdGhlckRlc2Nba2V5XTsKICB9CiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgZGVzYyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRDb25zdHJ1Y3RvckNoYWluKG9iaikgewogIGxldCByZXQgPSBbXTsKICBsZXQgY2hhaW4gPSBnZXRQcm90b3R5cGVDaGFpbihvYmopOwogIGlmKG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IgIT0gY2hhaW5bMF0uY29uc3RydWN0b3IpIGNoYWluLnVuc2hpZnQob2JqKTsKICBmb3IobGV0IHByb3RvIG9mIGNoYWluKSByZXQucHVzaChwcm90by5jb25zdHJ1Y3Rvcik7CiAgcmV0dXJuIHJldDsKfQoKZXhwb3J0IGZ1bmN0aW9uIGhhc1Byb3RvdHlwZShvYmosIHByb3RvKSB7CiAgcmV0dXJuIGdldFByb3RvdHlwZUNoYWluKG9iaikuaW5kZXhPZihwcm90bykgIT0gLTE7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIoc2VxLCBwcmVkLCB0aGlzQXJnKSB7CiAgaWYoaXNPYmplY3QocHJlZCkgJiYgcHJlZCBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgbGV0IHJlID0gcHJlZDsKICAgIHByZWQgPSAoZWwsIGkpID0+IHJlLnRlc3QoZWwpOwogIH0KICBsZXQgciA9IFtdLAogICAgaSA9IDA7CiAgZm9yKGxldCBlbCBvZiBzZXEpIHsKICAgIGlmKHByZWQuY2FsbCh0aGlzQXJnLCBlbCwgaSsrLCBzZXEpKSByLnB1c2goZWwpOwogIH0KICByZXR1cm4gcjsKfQoKZXhwb3J0IGNvbnN0IGN1cnJ5ID0KICAoZiwgYXJyID0gW10sIGxlbmd0aCA9IGYubGVuZ3RoKSA9PgogICguLi5hcmdzKSA9PgogICAgKGEgPT4gKGEubGVuZ3RoID09PSBsZW5ndGggPyBmKC4uLmEpIDogY3VycnkoZiwgYSkpKShbLi4uYXJyLCAuLi5hcmdzXSk7CgpleHBvcnQgZnVuY3Rpb24qIHNwbGl0KGJ1ZiwgLi4ucG9pbnRzKSB7CiAgcG9pbnRzLnNvcnQoKTsKICBjb25zdCBzcGxpdEF0ID0gKGIsIHBvcywgbGVuKSA9PiB7CiAgICBsZXQgciA9IHBvcyA8IGIuYnl0ZUxlbmd0aCA/IFtzbGljZShiLCAwLCBwb3MpLCBzbGljZShiLCBwb3MpXSA6IFtudWxsLCBiXTsKICAgIHJldHVybiByOwogIH07CiAgbGV0IHByZXYsCiAgICBsZW4gPSAwOwogIGZvcihsZXQgb2Zmc2V0IG9mIHBvaW50cykgewogICAgbGV0IGF0ID0gb2Zmc2V0IC0gbGVuOwogICAgW3ByZXYsIGJ1Zl0gPSBzcGxpdEF0KGJ1ZiwgYXQsIGxlbik7CiAgICBpZihwcmV2KSB7CiAgICAgIHlpZWxkIHByZXY7CiAgICAgIGxlbiA9IG9mZnNldDsKICAgIH0KICB9CiAgaWYoYnVmKSB5aWVsZCBidWY7Cn0KCmV4cG9ydCBjb25zdCB1bmlxdWUgPSAoYXJyLCBjbXApID0+IGFyci5maWx0ZXIodHlwZW9mIGNtcCA9PSAnZnVuY3Rpb24nID8gKGVsLCBpLCBhcnIpID0+IGFyci5maW5kSW5kZXgoaXRlbSA9PiBjbXAoZWwsIGl0ZW0pKSA9PSBpIDogKGVsLCBpLCBhcnIpID0+IGFyci5pbmRleE9mKGVsKSA9PSBpKTsKCmNvbnN0IEFOU0lfQkFDS0dST1VORF9PRkZTRVQgPSAxMDsKCmNvbnN0IHdyYXBBbnNpMTYgPQogIChvZmZzZXQgPSAwKSA9PgogIGNvZGUgPT4KICAgIGBceDFiWyR7Y29kZSArIG9mZnNldH1tYDsKCmNvbnN0IHdyYXBBbnNpMjU2ID0KICAob2Zmc2V0ID0gMCkgPT4KICBjb2RlID0+CiAgICBgXHgxYlskezM4ICsgb2Zmc2V0fTs1OyR7Y29kZX1tYDsKCmNvbnN0IHdyYXBBbnNpMTZtID0KICAob2Zmc2V0ID0gMCkgPT4KICAocmVkLCBncmVlbiwgYmx1ZSkgPT4KICAgIGBceDFiWyR7MzggKyBvZmZzZXR9OzI7JHtyZWR9OyR7Z3JlZW59OyR7Ymx1ZX1tYDsKCmZ1bmN0aW9uIGdldEFuc2lTdHlsZXMoKSB7CiAgY29uc3QgY29kZXMgPSBuZXcgTWFwKCk7CiAgY29uc3Qgc3R5bGVzID0gewogICAgbW9kaWZpZXI6IHsKICAgICAgcmVzZXQ6IFswLCAwXSwKICAgICAgLy8gMjEgaXNuJ3Qgd2lkZWx5IHN1cHBvcnRlZCBhbmQgMjIgZG9lcyB0aGUgc2FtZSB0aGluZwogICAgICBib2xkOiBbMSwgMjJdLAogICAgICBkaW06IFsyLCAyMl0sCiAgICAgIGl0YWxpYzogWzMsIDIzXSwKICAgICAgdW5kZXJsaW5lOiBbNCwgMjRdLAogICAgICBvdmVybGluZTogWzUzLCA1NV0sCiAgICAgIGludmVyc2U6IFs3LCAyN10sCiAgICAgIGhpZGRlbjogWzgsIDI4XSwKICAgICAgc3RyaWtldGhyb3VnaDogWzksIDI5XQogICAgfSwKICAgIGNvbG9yOiB7CiAgICAgIGJsYWNrOiBbMzAsIDM5XSwKICAgICAgcmVkOiBbMzEsIDM5XSwKICAgICAgZ3JlZW46IFszMiwgMzldLAogICAgICB5ZWxsb3c6IFszMywgMzldLAogICAgICBibHVlOiBbMzQsIDM5XSwKICAgICAgbWFnZW50YTogWzM1LCAzOV0sCiAgICAgIGN5YW46IFszNiwgMzldLAogICAgICB3aGl0ZTogWzM3LCAzOV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmxhY2tCcmlnaHQ6IFs5MCwgMzldLAogICAgICByZWRCcmlnaHQ6IFs5MSwgMzldLAogICAgICBncmVlbkJyaWdodDogWzkyLCAzOV0sCiAgICAgIHllbGxvd0JyaWdodDogWzkzLCAzOV0sCiAgICAgIGJsdWVCcmlnaHQ6IFs5NCwgMzldLAogICAgICBtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSwKICAgICAgY3lhbkJyaWdodDogWzk2LCAzOV0sCiAgICAgIHdoaXRlQnJpZ2h0OiBbOTcsIDM5XQogICAgfSwKICAgIGJnQ29sb3I6IHsKICAgICAgYmdCbGFjazogWzQwLCA0OV0sCiAgICAgIGJnUmVkOiBbNDEsIDQ5XSwKICAgICAgYmdHcmVlbjogWzQyLCA0OV0sCiAgICAgIGJnWWVsbG93OiBbNDMsIDQ5XSwKICAgICAgYmdCbHVlOiBbNDQsIDQ5XSwKICAgICAgYmdNYWdlbnRhOiBbNDUsIDQ5XSwKICAgICAgYmdDeWFuOiBbNDYsIDQ5XSwKICAgICAgYmdXaGl0ZTogWzQ3LCA0OV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmdCbGFja0JyaWdodDogWzEwMCwgNDldLAogICAgICBiZ1JlZEJyaWdodDogWzEwMSwgNDldLAogICAgICBiZ0dyZWVuQnJpZ2h0OiBbMTAyLCA0OV0sCiAgICAgIGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sCiAgICAgIGJnQmx1ZUJyaWdodDogWzEwNCwgNDldLAogICAgICBiZ01hZ2VudGFCcmlnaHQ6IFsxMDUsIDQ5XSwKICAgICAgYmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sCiAgICAgIGJnV2hpdGVCcmlnaHQ6IFsxMDcsIDQ5XQogICAgfQogIH07CgogIC8vIEFsaWFzIGJyaWdodCBibGFjayBhcyBncmF5IChhbmQgZ3JleSkKICBzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDsKICBzdHlsZXMuYmdDb2xvci5iZ0dyYXkgPSBzdHlsZXMuYmdDb2xvci5iZ0JsYWNrQnJpZ2h0OwogIHN0eWxlcy5jb2xvci5ncmV5ID0gc3R5bGVzLmNvbG9yLmJsYWNrQnJpZ2h0OwogIHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7CgogIGZvcihjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkgewogICAgZm9yKGNvbnN0IFtzdHlsZU5hbWUsIHN0eWxlXSBvZiBPYmplY3QuZW50cmllcyhncm91cCkpIHsKICAgICAgc3R5bGVzW3N0eWxlTmFtZV0gPSB7CiAgICAgICAgb3BlbjogYFx1MDAxQlske3N0eWxlWzBdfW1gLAogICAgICAgIGNsb3NlOiBgXHUwMDFCWyR7c3R5bGVbMV19bWAKICAgICAgfTsKCiAgICAgIGdyb3VwW3N0eWxlTmFtZV0gPSBzdHlsZXNbc3R5bGVOYW1lXTsKCiAgICAgIGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pOwogICAgfQoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwgewogICAgICB2YWx1ZTogZ3JvdXAsCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9KTsKICB9CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHsKICAgIHZhbHVlOiBjb2RlcywKICAgIGVudW1lcmFibGU6IGZhbHNlCiAgfSk7CgogIHN0eWxlcy5jb2xvci5jbG9zZSA9ICdcdTAwMUJbMzltJzsKICBzdHlsZXMuYmdDb2xvci5jbG9zZSA9ICdcdTAwMUJbNDltJzsKCiAgc3R5bGVzLmNvbG9yLmFuc2kgPSB3cmFwQW5zaTE2KCk7CiAgc3R5bGVzLmNvbG9yLmFuc2kyNTYgPSB3cmFwQW5zaTI1NigpOwogIHN0eWxlcy5jb2xvci5hbnNpMTZtID0gd3JhcEFuc2kxNm0oKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpID0gd3JhcEFuc2kxNihBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7CiAgc3R5bGVzLmJnQ29sb3IuYW5zaTE2bSA9IHdyYXBBbnNpMTZtKEFOU0lfQkFDS0dST1VORF9PRkZTRVQpOwoKICAvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzCiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3R5bGVzLCB7CiAgICByZ2JUb0Fuc2kyNTY6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7CiAgICAgICAgLy8gV2UgdXNlIHRoZSBleHRlbmRlZCBncmV5c2NhbGUgcGFsZXR0ZSBoZXJlLCB3aXRoIHRoZSBleGNlcHRpb24gb2YKICAgICAgICAvLyBibGFjayBhbmQgd2hpdGUuIG5vcm1hbCBwYWxldHRlIG9ubHkgaGFzIDQgZ3JleXNjYWxlIHNoYWRlcy4KICAgICAgICBpZihyZWQgPT09IGdyZWVuICYmIGdyZWVuID09PSBibHVlKSB7CiAgICAgICAgICBpZihyZWQgPCA4KSB7CiAgICAgICAgICAgIHJldHVybiAxNjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZihyZWQgPiAyNDgpIHsKICAgICAgICAgICAgcmV0dXJuIDIzMTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjsKICAgICAgICB9CiAgICAgICAgY29uc3QgYyA9IFtyZWQsIGdyZWVuLCBibHVlXS5tYXAoYyA9PiAoYyAvIDI1NSkgKiA1KTsKICAgICAgICByZXR1cm4gMTYgKyAzNiAqIGNbMF0gKyA2ICogY1sxXSArIGNbMl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9SZ2I6IHsKICAgICAgdmFsdWU6IGhleCA9PiB7CiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXGRdezZ9fFthLWZcZF17M30pL2kuZXhlYyhoZXgudG9TdHJpbmcoMTYpKTsKICAgICAgICBpZighbWF0Y2hlcykgewogICAgICAgICAgcmV0dXJuIFswLCAwLCAwXTsKICAgICAgICB9CgogICAgICAgIGxldCB7IGNvbG9yU3RyaW5nIH0gPSBtYXRjaGVzLmdyb3VwczsKCiAgICAgICAgaWYoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nCiAgICAgICAgICAgIC5zcGxpdCgnJykKICAgICAgICAgICAgLm1hcChjaGFyYWN0ZXIgPT4gY2hhcmFjdGVyICsgY2hhcmFjdGVyKQogICAgICAgICAgICAuam9pbignJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBpbnRlZ2VyID0gTnVtYmVyLnBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7CgogICAgICAgIHJldHVybiBbKGludGVnZXIgPj4gMTYpICYgMHhmZiwgKGludGVnZXIgPj4gOCkgJiAweGZmLCBpbnRlZ2VyICYgMHhmZl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9BbnNpMjU2OiB7CiAgICAgIHZhbHVlOiBoZXggPT4gc3R5bGVzLnJnYlRvQW5zaTI1NiguLi5zdHlsZXMuaGV4VG9SZ2IoaGV4KSksCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgYW5zaTI1NlRvQW5zaTogewogICAgICB2YWx1ZTogY29kZSA9PiB7CiAgICAgICAgaWYoY29kZSA8IDgpIHsKICAgICAgICAgIHJldHVybiAzMCArIGNvZGU7CiAgICAgICAgfQoKICAgICAgICBpZihjb2RlIDwgMTYpIHsKICAgICAgICAgIHJldHVybiA5MCArIChjb2RlIC0gOCk7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVkOwogICAgICAgIGxldCBncmVlbjsKICAgICAgICBsZXQgYmx1ZTsKCiAgICAgICAgaWYoY29kZSA+PSAyMzIpIHsKICAgICAgICAgIHJlZCA9ICgoY29kZSAtIDIzMikgKiAxMCArIDgpIC8gMjU1OwogICAgICAgICAgZ3JlZW4gPSByZWQ7CiAgICAgICAgICBibHVlID0gcmVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb2RlIC09IDE2OwoKICAgICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGNvZGUgJSAzNjsKCiAgICAgICAgICByZWQgPSBNYXRoLmZsb29yKGNvZGUgLyAzNikgKiAwLjI7CiAgICAgICAgICBncmVlbiA9IE1hdGguZmxvb3IocmVtYWluZGVyIC8gNikgKiAwLjI7CiAgICAgICAgICBibHVlID0gKHJlbWFpbmRlciAlIDYpICogMC4yOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLm1heChyZWQsIGdyZWVuLCBibHVlKSAqIDI7CgogICAgICAgIGlmKHZhbHVlID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gMzA7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVzdWx0ID0gMzAgKyAoKE1hdGgucm91bmQoYmx1ZSkgPDwgMikgfCAoTWF0aC5yb3VuZChncmVlbikgPDwgMSkgfCBNYXRoLnJvdW5kKHJlZCkpOwoKICAgICAgICBpZih2YWx1ZSA9PT0gMikgewogICAgICAgICAgcmVzdWx0ICs9IDYwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICByZ2JUb0Fuc2k6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMucmdiVG9BbnNpMjU2KHJlZCwgZ3JlZW4sIGJsdWUpKSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICBoZXhUb0Fuc2k6IHsKICAgICAgdmFsdWU6IGhleCA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMuaGV4VG9BbnNpMjU2KGhleCkpLAogICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgfQogIH0pOwoKICByZXR1cm4gc3R5bGVzOwp9CgpleHBvcnQgZnVuY3Rpb24gcmFuZEludCguLi5hcmdzKSB7CiAgbGV0IHJhbmdlID0gYXJncy5zcGxpY2UoMCwgMik7CiAgbGV0IHJuZCA9IGFyZ3Muc2hpZnQoKTsKICBpZihyYW5nZS5sZW5ndGggPCAyKSByYW5nZS51bnNoaWZ0KDApOwogIHJldHVybiBNYXRoLnJvdW5kKG1pc2MucmFuZChyYW5nZVsxXSAtIHJhbmdlWzBdICsgMSkgKyByYW5nZVswXSk7Cn0KCmV4cG9ydCBjb25zdCBhbnNpU3R5bGVzID0gZ2V0QW5zaVN0eWxlcygpOwoKY29uc3QgaW5zcGVjdE1ldGhvZCA9IFN5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyk7Cgp1dGlsLmluc3BlY3QgPSBpbnNwZWN0Owp1dGlsLmZvcm1hdCA9IGZvcm1hdDsKdXRpbC5mb3JtYXRXaXRoT3B0aW9ucyA9IGZvcm1hdFdpdGhPcHRpb25zOwp1dGlsLnR5cGVzID0gdHlwZXM7CnV0aWwuYXNzZXJ0ID0gYXNzZXJ0Owp1dGlsLmhhc0J1aWx0SW4gPSBoYXNCdWlsdEluOwp1dGlsLnRvU3RyaW5nID0gdG9TdHJpbmc7CnV0aWwudG9BcnJheUJ1ZmZlciA9IHRvQXJyYXlCdWZmZXI7CnV0aWwuc2V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbDsKdXRpbC5jbGVhckludGVydmFsID0gY2xlYXJJbnRlcnZhbDsKdXRpbC5tZW1vaXplID0gbWVtb2l6ZTsKdXRpbC5vbmNlID0gb25jZTsKdXRpbC5kZWZpbmUgPSBkZWZpbmU7CnV0aWwud2Vha0Fzc2lnbiA9IHdlYWtBc3NpZ247CnV0aWwuQXJyYXlFeHRlbnNpb25zID0gQXJyYXlFeHRlbnNpb25zOwp1dGlsLmV4dGVuZEFycmF5ID0gKHByb3RvID0gQXJyYXkucHJvdG90eXBlLCBkZWYgPSB1dGlsLmRlZmluZSkgPT4gZGVmKHByb3RvLCBBcnJheUV4dGVuc2lvbnMpOwp1dGlsLmV4dGVuZEdlbmVyYXRvciA9IChwcm90byA9IEdlbmVyYXRvclByb3RvdHlwZSwgZGVmID0gdXRpbC5kZWZpbmUpID0+IGRlZihwcm90bywgR2VuZXJhdG9yRXh0ZW5zaW9ucyk7CnV0aWwuZXJyb3JzID0gZXJyb3JzOwp1dGlsLmdldFByb3RvdHlwZUNoYWluID0gZ2V0UHJvdG90eXBlQ2hhaW47CnV0aWwuZ2V0Q29uc3RydWN0b3JDaGFpbiA9IGdldENvbnN0cnVjdG9yQ2hhaW47CnV0aWwuaGFzUHJvdG90eXBlID0gaGFzUHJvdG90eXBlOwp1dGlsLmFuc2lTdHlsZXMgPSBhbnNpU3R5bGVzOwp1dGlsLnJhbmRJbnQgPSByYW5kSW50Owp1dGlsLmN1cnJ5ID0gY3Vycnk7CnV0aWwuZmlsdGVyID0gZmlsdGVyOwp1dGlsLnNwbGl0ID0gc3BsaXQ7CnV0aWwudW5pcXVlID0gdW5pcXVlOwp1dGlsLmVzY2FwZSA9IGVzY2FwZTsKCk9iamVjdC5hc3NpZ24odXRpbCwgewogIFtpbnNwZWN0TWV0aG9kXSgpIHsKICAgIGxldCBvYmogPSB7IC4uLnV0aWwgfTsKICAgIGRlbGV0ZSBvYmpbaW5zcGVjdE1ldGhvZF07CiAgICByZXR1cm4gaW5zcGVjdChvYmosIHsgY3VzdG9tSW5zcGVjdDogZmFsc2UgfSk7CiAgfQp9KTsKCmV4cG9ydCB7IGV4dGVuZEFycmF5LCBBcnJheUV4dGVuc2lvbnMgfSBmcm9tICcuL2V4dGVuZEFycmF5LmpzJzsKZXhwb3J0IHsgU3lzY2FsbEVycm9yIH0gZnJvbSAnc3lzY2FsbGVycm9yJzsKZXhwb3J0IHsgYXJyYXlUb0JpdGZpZWxkLCBhdG9iLCBhdG9tVG9TdHJpbmcsIGF0b21Ub1ZhbHVlLCBiaXRmaWVsZFRvQXJyYXksIGJ0b2EsIGNvbXBpbGVTY3JpcHQsIGNvbmNhdCwgZHVwQXJyYXlCdWZmZXIsIGV2YWxCaW5hcnksIGdldEJ5dGVDb2RlLCBnZXRDbGFzc0F0b20sIGdldENsYXNzQ29uc3RydWN0b3IsIGdldENsYXNzQ291bnQsIGdldENsYXNzSUQsIGdldENsYXNzTmFtZSwgZ2V0Q2xhc3NQcm90bywgZ2V0Q29tbWFuZExpbmUsIGdldEN1cnJlbnRXb3JraW5nRGlyZWN0b3J5LCBnZXRFeGVjdXRhYmxlLCBnZXRGaWxlRGVzY3JpcHRvciwgZ2V0T3BDb2RlcywgZ2V0UGVyZm9ybWFuY2VDb3VudGVyLCBnZXRQcm9jTWFwcywgZ2V0UHJvY01vdW50cywgZ2V0UHJvY1N0YXQsIGdldFByb3RvdHlwZUNoYWluLCBnZXRSb290RGlyZWN0b3J5LCBnZXRlZ2lkLCBnZXRldWlkLCBnZXRnaWQsIGdldHBpZCwgZ2V0cHBpZCwgZ2V0c2lkLCBnZXR1aWQsIGhydGltZSwgcmVhZE9iamVjdCwgcmVzaXplQXJyYXlCdWZmZXIsIHNlYXJjaEFycmF5QnVmZmVyLCBtZW1jcHksIHNldGVnaWQsIHNldGV1aWQsIHNldGdpZCwgc2V0dWlkLCB0b0FycmF5QnVmZmVyLCB0b1BvaW50ZXIsIHRvU3RyaW5nLCB1bmFtZSwgdmFsdWVQdHIsIHZhbHVlVGFnLCB2YWx1ZVRvQXRvbSwgdmFsdWVUeXBlLCB3cml0ZU9iamVjdCwgZXNjYXBlLCBxdW90ZSB9IGZyb20gJ21pc2MnOwpleHBvcnQgeyBpbnNwZWN0IH0gZnJvbSAnaW5zcGVjdCc7CgAAAAAAAAAAh1UAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABFMAAAAAAAAVUwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "quickjs-misc.c",
			"settings":
			{
				"buffer_size": 42575,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					375,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABapgAAI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSAicXVpY2tqcy1taXNjLmgiCiNpbmNsdWRlICJxdWlja2pzLWludGVybmFsLmgiCiNpbmNsdWRlICJxdWlja2pzLWxvY2F0aW9uLmgiCiNpbmNsdWRlICJxdWlja2pzLXN0cmluZ2RlY29kZXIuaCIKI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJwYXRoLmgiCiNpbmNsdWRlICJiYXNlNjQuaCIKI2luY2x1ZGUgPHRpbWUuaD4KI2lmbmRlZiBfV0lOMzIKI2luY2x1ZGUgPHN5cy91dHNuYW1lLmg+CiNlbmRpZgojaW5jbHVkZSA8ZXJybm8uaD4KI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKI2lmbmRlZiBIQVZFX01FTU1FTQp2b2lkKiBtZW1tZW0oY29uc3Qgdm9pZCosIHNpemVfdCwgY29uc3Qgdm9pZCosIHNpemVfdCk7CiNlbmRpZgoKZW51bSB7CiAgRlVOQ19HRVRFWEVDVVRBQkxFID0gMCwKICBGVU5DX0dFVENXRCwKICBGVU5DX0dFVFJPT1QsCiAgRlVOQ19HRVRGRCwKICBGVU5DX0dFVENPTU1BTkRMSU5FLAogIEZVTkNfR0VUUFJPQ01BUFMsCiAgRlVOQ19HRVRQUk9DTU9VTlRTLAogIEZVTkNfR0VUUFJPQ1NUQVQsCiAgRlVOQ19HRVRQSUQsCiAgRlVOQ19HRVRQUElELAogIEZVTkNfR0VUU0lELAogIEZVTkNfR0VUVUlELAogIEZVTkNfR0VUR0lELAogIEZVTkNfR0VURVVJRCwKICBGVU5DX0dFVEVHSUQsCiAgRlVOQ19TRVRVSUQsCiAgRlVOQ19TRVRHSUQsCiAgRlVOQ19TRVRFVUlELAogIEZVTkNfU0VURUdJRAp9OwoKdHlwZWRlZiBzdHJ1Y3QgcGNnX3N0YXRlX3NldHNlcV82NCB7CiAgdWludDY0X3Qgc3RhdGUsIGluYzsKfSBwY2czMl9yYW5kb21fdDsKCnN0YXRpYyBwY2czMl9yYW5kb21fdCBwY2czMl9nbG9iYWwgPSB7MHg4NTNjNDllNjc0OGZlYTliVUxMLCAweGRhM2UzOWNiOTRiOTViZGJVTEx9OwoKc3RhdGljIGlubGluZSB1aW50MzJfdApwY2czMl9yYW5kb21fcihwY2czMl9yYW5kb21fdCogcm5nKSB7CiAgdWludDY0X3Qgb2xkc3RhdGUgPSBybmctPnN0YXRlOwogIHJuZy0+c3RhdGUgPSBvbGRzdGF0ZSAqIDYzNjQxMzYyMjM4NDY3OTMwMDVVTEwgKyBybmctPmluYzsKICB1aW50MzJfdCB4b3JzaGlmdGVkID0gKHVpbnQzMl90KSgoKG9sZHN0YXRlID4+IDE4dSkgXiBvbGRzdGF0ZSkgPj4gMjd1KTsKICB1aW50MzJfdCByb3QgPSBvbGRzdGF0ZSA+PiA1OXU7CiAgcmV0dXJuICh4b3JzaGlmdGVkID4+IHJvdCkgfCAoeG9yc2hpZnRlZCA8PCAoKC1yb3QpICYgMzEpKTsKfQoKc3RhdGljIHVpbnQzMl90CnBjZzMyX3JhbmRvbSh2b2lkKSB7CiAgcmV0dXJuIHBjZzMyX3JhbmRvbV9yKCZwY2czMl9nbG9iYWwpOwp9CgpzdGF0aWMgdm9pZApwY2czMl9pbml0X3N0YXRlKHVpbnQzMl90IHN0YXRlKSB7CiAgcGNnMzJfZ2xvYmFsLnN0YXRlID0gfigoKHVpbnQ2NF90KXN0YXRlKSA8PCAzMikgfCBzdGF0ZTsKfQoKc3RhdGljIHVpbnQzMl90CnBjZzMyX3JhbmRvbV9ib3VuZGVkX2RpdmlzaW9ubGVzcyh1aW50MzJfdCByYW5nZSkgewogIHVpbnQ2NF90IHJhbmRvbTMyYml0LCBtdWx0aXJlc3VsdDsKICB1aW50MzJfdCBsZWZ0b3ZlcjsKICB1aW50MzJfdCB0aHJlc2hvbGQ7CiAgcmFuZG9tMzJiaXQgPSBwY2czMl9yYW5kb20oKTsKICBtdWx0aXJlc3VsdCA9IHJhbmRvbTMyYml0ICogcmFuZ2U7CiAgbGVmdG92ZXIgPSAodWludDMyX3QpbXVsdGlyZXN1bHQ7CiAgaWYobGVmdG92ZXIgPCByYW5nZSkgewogICAgdGhyZXNob2xkID0gLXJhbmdlICUgcmFuZ2U7CiAgICB3aGlsZShsZWZ0b3ZlciA8IHRocmVzaG9sZCkgewogICAgICByYW5kb20zMmJpdCA9IHBjZzMyX3JhbmRvbSgpOwogICAgICBtdWx0aXJlc3VsdCA9IHJhbmRvbTMyYml0ICogcmFuZ2U7CiAgICAgIGxlZnRvdmVyID0gKHVpbnQzMl90KW11bHRpcmVzdWx0OwogICAgfQogIH0KICByZXR1cm4gbXVsdGlyZXN1bHQgPj4gMzI7IC8vIFswLCByYW5nZSkKfQoKc3RhdGljIHZvaWQKanNfYnl0ZWNvZGVfZnJlZV9mdW5jKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAganNfZnJlZV9ydChydCwgcHRyKTsKfQoKc3RhdGljIHZvaWQKanNfc3RyaW5nX2ZyZWVfZnVuYyhKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTVmFsdWUgdmFsdWUgPSBqc19jc3RyaW5nX3ZhbHVlKG9wYXF1ZSk7CgogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWx1ZSk7Cn0KCnN0YXRpYyB2b2lkCmpzX2FycmF5YnVmZmVyX2ZyZWVfZnVuYyhKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTVmFsdWUgdmFsdWUgPSBKU19NS1BUUihKU19UQUdfT0JKRUNULCBvcGFxdWUpOwoKICBKU19GcmVlVmFsdWVSVChydCwgdmFsdWUpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgLy8gIEpTVmFsdWUgYXJyYXlidWZmZXJfY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIkFycmF5QnVmZmVyIik7CgogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCBhcmd2WzBdLCBKU19DTEFTU19BUlJBWV9CVUZGRVIpIHx8CiAgICAganNfaXNfYXJyYXlidWZmZXIoY3R4LCBhcmd2WzBdKSAvKiB8fCBKU19Jc0luc3RhbmNlT2YoY3R4LCBhcmd2WzBdLCBhcnJheWJ1ZmZlcl9jdG9yKSovKSB7CiAgICB1aW50OF90KiBkYXRhOwogICAgc2l6ZV90IGxlbjsKCiAgICBpZigoZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSkpKSB7CiAgICAgIE9mZnNldExlbmd0aCBvbDsKCiAgICAgIGpzX29mZnNldF9sZW5ndGgoY3R4LCBsZW4sIGFyZ2MgLSAxLCBhcmd2ICsgMSwgJm9sKTsKCiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYXRhICsgb2wub2Zmc2V0LCBvbC5sZW5ndGgpOwogICAgfQogIH0gZWxzZSB7CiAgICByZXQgPSBqc192YWx1ZV90b3N0cmluZyhjdHgsICJPYmplY3QiLCBhcmdjID4gMCA/IGFyZ3ZbMF0gOiB0aGlzX3ZhbCk7CiAgfQoKICAvLyAgSlNfRnJlZVZhbHVlKGN0eCwgYXJyYXlidWZmZXJfY3Rvcik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfdG9wb2ludGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgdm9pZCogcHRyID0gMDsKICBjaGFyIGJ1ZlsxMjhdOwoKICBpZihqc192YWx1ZV9pc2NsYXNzKGN0eCwgYXJndlswXSwgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSKSB8fCBqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKSB7CiAgICBzaXplX3QgbGVuOwogICAgcHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmd2WzBdKTsKICB9IGVsc2UgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIHB0ciA9IGpzX2NzdHJpbmdfcHRyKGFyZ3ZbMF0pOwogIH0KCiAgaWYocHRyKSB7CiAgICBzbnByaW50ZihidWYsIHNpemVvZihidWYpLCAiJXAiLCBwdHIpOwogICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgYnVmKTsKICB9IGVsc2UgewogICAgcmV0ID0gSlNfTlVMTDsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfdG9hcnJheWJ1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIE1lbW9yeUJsb2NrIGI7CiAgT2Zmc2V0TGVuZ3RoIG87CiAgSlNGcmVlQXJyYXlCdWZmZXJEYXRhRnVuYyogZjsKICB2b2lkKiBvcGFxdWU7CgogIC8qICBpZihKU19Jc1N0cmluZyhhcmd2WzBdKSkgewogICAgICBKU1ZhbHVlQ29uc3QgdmFsdWUgPSBhcmd2WzBdOyAvLyBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbMF0pOwogICAgICBiLmJhc2UgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmYi5zaXplLCB2YWx1ZSk7CiAgICAgIGYgPSAmanNfc3RyaW5nX2ZyZWVfZnVuYzsKICAgICAgb3BhcXVlID0gYi5iYXNlOwogICAgICByZXQgPQogICAgICAgICAgSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBiLmJhc2UgKyBvLm9mZnNldCwgTUlOX05VTShiLnNpemUsIG8ubGVuZ3RoKSwKICAgIGpzX3N0cmluZ19mcmVlX2Z1bmMsICh2b2lkKiliLmJhc2UsIEZBTFNFKTsgfSBlbHNlKi8KCiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIGpzX29mZnNldF9sZW5ndGgoY3R4LCBpbnB1dC5zaXplLCBhcmdjIC0gMSwgYXJndiArIDEsICZvKTsKICBiID0gaW5wdXRfYnVmZmVyX2Jsb2NrKCZpbnB1dCk7CiAgLy8gICAgYiA9IGJsb2NrX3JhbmdlKCZiLCAmaW5wdXQucmFuZ2UpOwogIGIgPSBibG9ja19yYW5nZSgmYiwgJm8pOwogIHJldCA9IGpzX2FycmF5YnVmZmVyX2Zyb212YWx1ZShjdHgsIGIuYmFzZSwgYi5zaXplLCBhcmd2WzBdKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19zbGljZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIHVpbnQ4X3QqIGRhdGE7CiAgc2l6ZV90IGxlbjsKCiAgLyogIGlmKCFqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKQogICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIik7Ki8KCiAgaWYoKGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkgewoKICAgIGludDY0X3Qgb2Zmc2V0ID0gMCwgbGVuZ3RoID0gbGVuOwoKICAgIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkKICAgICAgSlNfVG9JbnQ2NChjdHgsICZvZmZzZXQsIGFyZ3ZbMV0pOwoKICAgIGlmKGFyZ2MgPj0gMyAmJiBKU19Jc051bWJlcihhcmd2WzJdKSkKICAgICAgSlNfVG9JbnQ2NChjdHgsICZsZW5ndGgsIGFyZ3ZbMl0pOwoKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbMF0pOwogICAgSlNPYmplY3QqIG9iaiA9IEpTX1ZBTFVFX0dFVF9PQkoodmFsdWUpOwogICAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBkYXRhICsgb2Zmc2V0LCBNSU5fTlVNKGxlbiwgbGVuZ3RoKSwganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jLCAodm9pZCopb2JqLCBGQUxTRSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Jlc2l6ZWFycmF5YnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNPYmplY3QqIG9iajsKICBKU0FycmF5QnVmZmVyKiBhcnJheWJ1ZjsKICB1aW50NjRfdCBuZXdsZW47CgogIGlmKCFqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIpOwoKICBvYmogPSBKU19WQUxVRV9HRVRfT0JKKGFyZ3ZbMF0pOwogIGFycmF5YnVmID0gb2JqLT51LmFycmF5X2J1ZmZlcjsKICBKU19Ub0luZGV4KGN0eCwgJm5ld2xlbiwgYXJndlsxXSk7CgogIGlmKGFycmF5YnVmLT5zaGFyZWQpCiAgICByZXQgPSBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJBcnJheUJ1ZmZlciBtdXN0IG5vdCBiZSBzaGFyZWQiKTsKICBlbHNlIGlmKGFycmF5YnVmLT5zaGFyZWQpCiAgICByZXQgPSBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJBcnJheUJ1ZmZlciBtdXN0IGhhdmUgb3BhcXVlID09IDAiKTsKICBlbHNlIHsKICAgIGFycmF5YnVmLT5kYXRhID0ganNfcmVhbGxvYyhjdHgsIGFycmF5YnVmLT5kYXRhLCBuZXdsZW4pOwogICAgYXJyYXlidWYtPmJ5dGVfbGVuZ3RoID0gbmV3bGVuOwoKICAgIHJldCA9IEpTX01LUFRSKEpTX1RBR19PQkpFQ1QsIG9iaik7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2NvbmNhdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGludCBpOwogIHNpemVfdCB0b3RhbF9sZW4gPSAwLCBwb3MgPSAwOwogIHVpbnQ4X3QqIGJ1ZjsKICBJbnB1dEJ1ZmZlciogYnVmZmVycyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoSW5wdXRCdWZmZXIpICogYXJnYyk7CiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBidWZmZXJzW2ldID0ganNfaW5wdXRfYnVmZmVyKGN0eCwgYXJndltpXSk7CiAgICBpZighYnVmZmVyc1tpXS5kYXRhKSB7CiAgICAgIHJldCA9IEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50ICVkIGlzIG5vdCBBcnJheUJ1ZmZlciIsIGkgKyAxKTsKICAgICAgZ290byBmYWlsOwogICAgfQogICAgdG90YWxfbGVuICs9IGJ1ZmZlcnNbaV0uc2l6ZTsKICB9CiAgYnVmID0ganNfbWFsbG9jKGN0eCwgdG90YWxfbGVuKTsKICBmb3IoaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIG1lbWNweSgmYnVmW3Bvc10sIGJ1ZmZlcnNbaV0uZGF0YSwgYnVmZmVyc1tpXS5zaXplKTsKICAgIHBvcyArPSBidWZmZXJzW2ldLnNpemU7CiAgfQogIHJldCA9IEpTX05ld0FycmF5QnVmZmVyKGN0eCwgYnVmLCB0b3RhbF9sZW4sIGpzX2J5dGVjb2RlX2ZyZWVfZnVuYywgMCwgRkFMU0UpOwpmYWlsOgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykKICAgIGlmKGJ1ZmZlcnNbaV0uZGF0YSkKICAgICAgaW5wdXRfYnVmZmVyX2ZyZWUoJmJ1ZmZlcnNbaV0sIGN0eCk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1lbW9yeUJsb2NrIGhheXN0YWNrLCBuZWVkbGUsIG1hc2s7CiAgc2l6ZV90IG5fc2l6ZSwgaF9lbmQ7CgogIGlmKCFibG9ja19hcnJheWJ1ZmZlcigmaGF5c3RhY2ssIGFyZ3ZbMF0sIGN0eCkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSAoaGF5c3RhY2spIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKICBpZighYmxvY2tfYXJyYXlidWZmZXIoJm5lZWRsZSwgYXJndlsxXSwgY3R4KSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAyIChoYXlzdGFjaykgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIpOwogIGlmKGFyZ2MgPCAzKSB7CiAgICB1aW50OF90KiBwdHI7CiAgICBwdHJkaWZmX3Qgb2ZzOwoKICAgIGlmKG5lZWRsZS5zaXplIDw9IGhheXN0YWNrLnNpemUgJiYgKHB0ciA9IG1lbW1lbShoYXlzdGFjay5iYXNlLCBoYXlzdGFjay5zaXplLCBuZWVkbGUuYmFzZSwgbmVlZGxlLnNpemUpKSkgewogICAgICBvZnMgPSBwdHIgLSBoYXlzdGFjay5iYXNlOwogICAgICByZXR1cm4gSlNfTmV3SW50NjQoY3R4LCBvZnMpOwogICAgfQoKICAgIHJldHVybiBKU19OVUxMOwogIH0KCiAgaWYoIWJsb2NrX2FycmF5YnVmZmVyKCZtYXNrLCBhcmd2WzJdLCBjdHgpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDMgKG1hc2spIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKCiAgbl9zaXplID0gTUlOX05VTShuZWVkbGUuc2l6ZSwgbWFzay5zaXplKTsKICBoX2VuZCA9IGhheXN0YWNrLnNpemUgLSBuX3NpemU7CgogIC8vIG5haXZlIHNlYXJjaGluZyBhbGdvcml0aG0gKHNsb3cpCiAgZm9yKHNpemVfdCBpID0gMDsgaSA8IGhfZW5kOyBpKyspIHsKICAgIGludCBmb3VuZCA9IDE7CiAgICBmb3Ioc2l6ZV90IGogPSAwOyBqIDwgbl9zaXplOyBqKyspIHsKICAgICAgaWYoKGhheXN0YWNrLmJhc2VbaSArIGpdIF4gbmVlZGxlLmJhc2Vbal0pICYgbWFzay5iYXNlW2pdKSB7CiAgICAgICAgZm91bmQgPSAwOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZihmb3VuZCkgewogICAgICAvKmZvcihzaXplX3QgaiA9IDA7IGogPCBuX3NpemU7IGorKykgewogICAgICAgIHVpbnQ4X3QgeG9ydmFsID0gaGF5c3RhY2suYmFzZVtpICsgal0gXiBuZWVkbGUuYmFzZVtqXTsKICAgICAgICBwcmludGYoIkAoJXp1ICsgJXp1KTsgIiwgaSwgaik7CiAgICAgICAgcHJpbnRmKCIlMDJ4IFhPUiAlMDJ4ID0gJTAyeDsgIiwgaGF5c3RhY2suYmFzZVtpICsgal0sIG5lZWRsZS5iYXNlW2pdLCB4b3J2YWwpOwogICAgICAgIHByaW50ZigiJTAyeCBBTkQgJTAyeCA9ICUwMnhcbiIsIHhvcnZhbCwgbWFzay5iYXNlW2pdLCB4b3J2YWwgJiBtYXNrLmJhc2Vbal0pOwogICAgICB9Ki8KCiAgICAgIHJldHVybiBKU19OZXdJbnQ2NChjdHgsIChpbnQ2NF90KWkpOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX05VTEw7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfbWVtY3B5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWVtb3J5QmxvY2sgZHN0ID0gezAsIDB9LCBzcmMgPSB7MCwgMH07CiAgT2Zmc2V0TGVuZ3RoIHNfb2ZmcywgZF9vZmZzOwoKICBpbnQgaSA9IDA7CgogIGlmKCFibG9ja19hcnJheWJ1ZmZlcigmZHN0LCBhcmd2WzBdLCBjdHgpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgKGRzdCkgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIpOwoKICBpKys7CgogIGkgKz0ganNfb2Zmc2V0X2xlbmd0aChjdHgsIGRzdC5zaXplLCBhcmdjIC0gaSwgYXJndiArIGksICZzX29mZnMpOwoKICAvKiBkc3QuYmFzZSArPSBzX29mZnMub2Zmc2V0OwogICBkc3Quc2l6ZSAtPSBzX29mZnMub2Zmc2V0OwogICBkc3Quc2l6ZSA9IE1JTl9OVU0oZHN0LnNpemUsIHNfb2Zmcy5sZW5ndGgpOyovCgogIGlmKGkgPT0gYXJnYyB8fCAhYmxvY2tfYXJyYXlidWZmZXIoJnNyYywgYXJndltpXSwgY3R4KSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAlZCAoc3JjKSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIiwgaSArIDEpOwoKICBpKys7CgogIGkgKz0ganNfb2Zmc2V0X2xlbmd0aChjdHgsIGRzdC5zaXplLCBhcmdjIC0gaSwgYXJndiArIGksICZkX29mZnMpOwoKICAvKiBzcmMuYmFzZSArPSBkX29mZnMub2Zmc2V0OwogICBzcmMuc2l6ZSAtPSBkX29mZnMub2Zmc2V0OwogICBzcmMuc2l6ZSA9IE1JTl9OVU0oc3JjLnNpemUsIGRfb2Zmcy5sZW5ndGgpOyovCgogIHsKICAgIHNpemVfdCBuID0gTUlOX05VTShvZmZzZXRfc2l6ZSgmZF9vZmZzLCBibG9ja19sZW5ndGgoJmRzdCkpLCBvZmZzZXRfc2l6ZSgmc19vZmZzLCBibG9ja19sZW5ndGgoJnNyYykpKTsKCiAgICBpZihuKQogICAgICBtZW1jcHkob2Zmc2V0X2RhdGEoJmRfb2ZmcywgYmxvY2tfZGF0YSgmZHN0KSksIG9mZnNldF9kYXRhKCZzX29mZnMsIGJsb2NrX2RhdGEoJnNyYykpLCBuKTsKCiAgICByZXR1cm4gSlNfTmV3SW50NjQoY3R4LCBuKTsKICB9Cn0KCiNpZmRlZiBIQVZFX0ZNRU1PUEVOCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZm1lbW9wZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICB1aW50OF90KiBwdHI7CiAgc2l6ZV90IGxlbjsKICBpbnQgaSA9IDA7CiAgY29uc3QgY2hhciogbW9kZTsKCiAgaWYoIShwdHIgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIChkc3QpIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKCiAgaSsrOwoKICBpZihpICsgMSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpIHsKICAgIGludDY0X3Qgb2Zmc2V0ID0gMDsKICAgIEpTX1RvSW50NjQoY3R4LCAmb2Zmc2V0LCBhcmd2W2krK10pOwogICAgb2Zmc2V0ID0gTUlOX05VTShsZW4sIG9mZnNldCk7CgogICAgcHRyICs9IG9mZnNldDsKICAgIGxlbiAtPSBvZmZzZXQ7CiAgfQoKICBpZihpICsgMSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpIHsKICAgIGludDY0X3QgbGVuZ3RoID0gMDsKICAgIGlmKCFKU19Ub0ludDY0KGN0eCwgJmxlbmd0aCwgYXJndltpKytdKSkKICAgICAgbGVuID0gTUlOX05VTShsZW4sIGxlbmd0aCk7CiAgfQoKICB7CiAgICBKU0NsYXNzSUQgY2xhc3NfaWQgPSBqc19jbGFzc19maW5kKGN0eCwgIkZJTEUiKTsKICAgIEpTVmFsdWUgb2JqLCBwcm90byA9IEpTX0dldENsYXNzUHJvdG8oY3R4LCBjbGFzc19pZCk7CiAgICBGSUxFKiBmcDsKICAgIEpTU1RERmlsZSogZmlsZTsKICAgIG1vZGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgICBmaWxlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTU1RERmlsZSkpOwogICAgKmZpbGUgPSAoSlNTVERGaWxlKXswLCBUUlVFLCBGQUxTRX07CgogICAgZmlsZS0+ZiA9IGZtZW1vcGVuKHB0ciwgbGVuLCBtb2RlKTsKCiAgICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGNsYXNzX2lkKTsKCiAgICBKU19TZXRPcGFxdWUob2JqLCBmaWxlKTsKCiAgICByZXR1cm4gb2JqOwogIH0KfQojZW5kaWYKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IHRpbWVzcGVjIHRzOwoKICBjbG9ja19nZXR0aW1lKENMT0NLX01PTk9UT05JQywgJnRzKTsKCiAgcmV0dXJuIEpTX05ld0Zsb2F0NjQoY3R4LCAoZG91YmxlKXRzLnR2X3NlYyAqIDEwMDAgKyAoKGRvdWJsZSl0cy50dl9uc2VjIC8gMWUwNikpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Byb2NsaW5rKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBEeW5CdWYgZGJ1ZiA9IHswfTsKICBjb25zdCBjaGFyKiBsaW5rOwogIGNoYXIgcGF0aFsyNTZdOwogIHNpemVfdCBuOwogIHNzaXplX3QgcjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIEZVTkNfR0VURVhFQ1VUQUJMRTogbGluayA9ICJleGUiOyBicmVhazsKICAgIGNhc2UgRlVOQ19HRVRDV0Q6IGxpbmsgPSAiY3dkIjsgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VUUk9PVDogbGluayA9ICJyb290IjsgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VURkQ6IGxpbmsgPSAiZmQvIjsgYnJlYWs7CiAgfQoKICBuID0gc25wcmludGYocGF0aCwgc2l6ZW9mKHBhdGgpLCAiL3Byb2Mvc2VsZi8lcyIsIGxpbmspOwoKICBpZihtYWdpYyA9PSBGVU5DX0dFVEZEKSB7CiAgICBpbnQzMl90IGZkOwogICAgaWYoYXJnYyA8IDEgfHwgIUpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIE51bWJlciIpOwoKICAgIEpTX1RvSW50MzIoY3R4LCAmZmQsIGFyZ3ZbMF0pOwogICAgc25wcmludGYoJnBhdGhbbl0sIHNpemVvZihwYXRoKSAtIG4sICIlZCIsIGZkKTsKICB9CgogIGpzX2RidWZfaW5pdChjdHgsICZkYnVmKTsKCiAgaWYoKHIgPSBwYXRoX3JlYWRsaW5rKHBhdGgsICZkYnVmKSkgPiAwKSB7CiAgICByZXQgPSBkYnVmX3Rvc3RyaW5nX2ZyZWUoJmRidWYsIGN0eCk7CiAgfSBlbHNlIGlmKHIgPCAwKSB7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Byb2NyZWFkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBEeW5CdWYgZGJ1ZiA9IHswfTsKICBzc2l6ZV90IGksIGogPSAwLCBzaXplLCBuOwogIGNvbnN0IGNoYXIqIGZpbGU7CiAgY2hhciBzZXAgPSAnXG4nOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgRlVOQ19HRVRDT01NQU5ETElORToKICAgICAgZmlsZSA9ICIvcHJvYy9zZWxmL2NtZGxpbmUiOwogICAgICBzZXAgPSAnXDAnOwogICAgICBicmVhazsKICAgIGNhc2UgRlVOQ19HRVRQUk9DTUFQUzoKICAgICAgZmlsZSA9ICIvcHJvYy9zZWxmL21hcHMiOwogICAgICBzZXAgPSAnXG4nOwogICAgICBicmVhazsKICAgIGNhc2UgRlVOQ19HRVRQUk9DTU9VTlRTOgogICAgICBmaWxlID0gIi9wcm9jL3NlbGYvbW91bnRzIjsKICAgICAgc2VwID0gJ1xuJzsKICAgICAgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VUUFJPQ1NUQVQ6CiAgICAgIGZpbGUgPSAiL3Byb2Mvc2VsZi9zdGF0IjsKICAgICAgc2VwID0gJyAnOwogICAgICBicmVhazsKICB9CgogIGpzX2RidWZfaW5pdChjdHgsICZkYnVmKTsKCiAgaWYoKHNpemUgPSBkYnVmX2xvYWQoJmRidWYsIGZpbGUpKSA+IDApIHsKCiAgICB3aGlsZShzaXplID4gMCAmJiBkYnVmLmJ1ZltzaXplIC0gMV0gPT0gJ1xuJykgc2l6ZS0tOwoKICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgICBmb3IoaSA9IDA7IGkgPCBzaXplOyBpICs9IG4gKyAxKSB7CiAgICAgIHNpemVfdCBsZW47CiAgICAgIGxlbiA9IG4gPSBieXRlX2NocigmZGJ1Zi5idWZbaV0sIHNpemUgLSBpLCBzZXApOwogICAgICB3aGlsZShsZW4gPiAwICYmIGlzX3doaXRlc3BhY2VfY2hhcihkYnVmLmJ1ZltpICsgbGVuIC0gMV0pKSBsZW4tLTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGorKywgSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKSZkYnVmLmJ1ZltpXSwgbGVuKSk7CiAgICB9CiAgfQoKICBkYnVmX2ZyZWUoJmRidWYpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2dldHByb3RvdHlwZWNoYWluKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgcmV0OwogIHNpemVfdCBqID0gMDsKCiAgaWYoYXJnYyA8IDEgfHwgIUpTX0lzT2JqZWN0KGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgb2JqZWN0IGV4Y2VwdGVkIik7CgogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIGZvcihwcm90byA9IGFyZ3ZbMF07ICFKU19Jc0V4Y2VwdGlvbihwcm90byk7IHByb3RvID0gSlNfR2V0UHJvdG90eXBlKGN0eCwgcHJvdG8pKSB7CgogICAgaWYoaiA+IDApCiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBqIC0gMSwgcHJvdG8pOwogICAgaisrOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19ocnRpbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzdHJ1Y3QgdGltZXNwZWMgdHM7CiAgSlNWYWx1ZSByZXQ7CgogIGNsb2NrX2dldHRpbWUoQ0xPQ0tfTU9OT1RPTklDLCAmdHMpOwoKICBpZihhcmdjID49IDEgJiYgSlNfSXNBcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICBpbnQ2NF90IHNlYywgbnNlYzsKICAgIEpTVmFsdWUgcHNlYywgcG5zZWM7CgogICAgcHNlYyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlswXSwgMCk7CiAgICBwbnNlYyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlswXSwgMSk7CgogICAgSlNfVG9JbnQ2NChjdHgsICZzZWMsIHBzZWMpOwogICAgSlNfVG9JbnQ2NChjdHgsICZuc2VjLCBwbnNlYyk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBwc2VjKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHBuc2VjKTsKCiAgICBpZihuc2VjID4gdHMudHZfbnNlYykgewogICAgICB0cy50dl9zZWMgLT0gMTsKICAgICAgdHMudHZfbnNlYyArPSAxMDAwMDAwMDAwOwogICAgfQoKICAgIHRzLnR2X3NlYyAtPSBzZWM7CiAgICB0cy50dl9uc2VjIC09IG5zZWM7CiAgfQoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBKU19OZXdJbnQ2NChjdHgsIHRzLnR2X3NlYykpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdJbnQ2NChjdHgsIHRzLnR2X25zZWMpKTsKCiAgcmV0dXJuIHJldDsKfQoKLypzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3JlYWxwYXRoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgY2hhciByZXNvbHZlZFtQQVRIX01BWF07CiAgY29uc3QgY2hhciogcGF0aCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogIGNoYXIqIHJlc3VsdDsKCiNpZm5kZWYgX193YXNpX18KICBpZigocmVzdWx0ID0gcmVhbHBhdGgocGF0aCwgcmVzb2x2ZWQpKSkKI2VuZGlmCiAgICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgcmVzdWx0KTsKICByZXR1cm4gSlNfTlVMTDsKfSovCgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2ZubWF0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzaXplX3QgcGxlbiwgc2xlbjsKICBpbnQzMl90IGZsYWdzID0gMCwgcmV0OwoKICBjb25zdCBjaGFyKiBwYXR0ZXJuID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJnBsZW4sIGFyZ3ZbMF0pOwogIGNvbnN0IGNoYXIqIHN0cmluZyA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZzbGVuLCBhcmd2WzFdKTsKCiAgaWYoYXJnYyA+PSAzKQogICAgSlNfVG9JbnQzMihjdHgsICZmbGFncywgYXJndlsyXSk7CgogIHJldCA9IHBhdGhfZm5tYXRjaChwYXR0ZXJuLCBwbGVuLCBzdHJpbmcsIHNsZW4sIGZsYWdzKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHBhdHRlcm4pOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyaW5nKTsKICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsICFyZXQpOwp9CgojaWZuZGVmIF9XSU4zMgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3VuYW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IHV0c25hbWUgdW47CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKHVuYW1lKCZ1bikgIT0gLTEpIHsKICAgIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAic3lzbmFtZSIsIEpTX05ld1N0cmluZyhjdHgsIHVuLnN5c25hbWUpKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibm9kZW5hbWUiLCBKU19OZXdTdHJpbmcoY3R4LCB1bi5ub2RlbmFtZSkpOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJyZWxlYXNlIiwgSlNfTmV3U3RyaW5nKGN0eCwgdW4ucmVsZWFzZSkpOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ2ZXJzaW9uIiwgSlNfTmV3U3RyaW5nKGN0eCwgdW4udmVyc2lvbikpOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJtYWNoaW5lIiwgSlNfTmV3U3RyaW5nKGN0eCwgdW4ubWFjaGluZSkpOwogIH0KCiAgcmV0dXJuIHJldDsKfQojZW5kaWYKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfYnRvYShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0OwogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKICBzaXplX3QgZW5jbGVuID0gYjY0X2dldF9lbmNvZGVkX2J1ZmZlcl9zaXplKGlucHV0LnNpemUpOwogIHVpbnQ4X3QqIGVuY2J1ZiA9IGpzX21hbGxvYyhjdHgsIGVuY2xlbik7CgogIGI2NF9lbmNvZGUoaW5wdXQuZGF0YSwgaW5wdXQuc2l6ZSwgZW5jYnVmKTsKCiAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWVuY2J1ZiwgZW5jbGVuKTsKICBqc19mcmVlKGN0eCwgZW5jYnVmKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2F0b2IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldDsKICBJbnB1dEJ1ZmZlciBpbnB1dCA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAgc2l6ZV90IGRlY2xlbiA9IGI2NF9nZXRfZGVjb2RlZF9idWZmZXJfc2l6ZShpbnB1dC5zaXplKTsKICB1aW50OF90KiBkZWNidWYgPSBqc19tYWxsb2MoY3R4LCBkZWNsZW4pOwoKICBiNjRfZGVjb2RlKGlucHV0LmRhdGEsIGlucHV0LnNpemUsIGRlY2J1Zik7CgogIHJldCA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIChjb25zdCB1aW50OF90KilkZWNidWYsIGRlY2xlbik7CiAganNfZnJlZShjdHgsIGRlY2J1Zik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19jb21waWxlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBmaWxlID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgQk9PTCBpc19tb2QgPSBGQUxTRTsKICB1aW50OF90KiBidWY7CiAgc2l6ZV90IGxlbjsKICBpbnQzMl90IGZsYWdzID0gSlNfRVZBTF9UWVBFX0dMT0JBTDsKCiAgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKSB7CiAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzFdKTsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzQm9vbChhcmd2WzFdKSkgewogICAgaWYoSlNfVG9Cb29sKGN0eCwgYXJndlsxXSkpCiAgICAgIGZsYWdzIHw9IEpTX0VWQUxfVFlQRV9NT0RVTEU7CiAgfQogIGlzX21vZCA9ICEhKGZsYWdzICYgSlNfRVZBTF9UWVBFX01PRFVMRSk7CiAgaWYoc3RyX2VuZHMoZmlsZSwgIi5qc20iKSkKICAgIGlzX21vZCA9IFRSVUU7CiAgaWYoKGJ1ZiA9IGpzX2xvYWRfZmlsZShjdHgsICZsZW4sIGZpbGUpKSkgewogICAgaWYoIWlzX21vZCAmJiBKU19EZXRlY3RNb2R1bGUoKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKSkKICAgICAgaXNfbW9kID0gVFJVRTsKICAgIGZsYWdzIHw9IChpc19tb2QgPyBKU19FVkFMX1RZUEVfTU9EVUxFIDogSlNfRVZBTF9UWVBFX0dMT0JBTCk7CiAgICByZXQgPSBKU19FdmFsKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuLCBmaWxlLCBmbGFncyB8IChpc19tb2QgPyBKU19FVkFMX0ZMQUdfQ09NUElMRV9PTkxZIDogMCkpOwoKICAgIGlmKGlzX21vZCAmJiAhKGZsYWdzICYgSlNfRVZBTF9GTEFHX0NPTVBJTEVfT05MWSkpIHsKICAgICAgcmV0ID0gSlNfRXZhbEZ1bmN0aW9uKGN0eCwgcmV0KTsKICAgIH0KICB9IGVsc2UgewogICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJjb3VsZCBub3QgbG9hZCAnJXMnOiAlcyIsIGZpbGUsIHN0cmVycm9yKGVycm5vKSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfd3JpdGVfb2JqZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgc2l6ZV90IHNpemU7CiAgdWludDhfdCogYnl0ZWNvZGU7CgogIGlmKChieXRlY29kZSA9IEpTX1dyaXRlT2JqZWN0KGN0eCwgJnNpemUsIGFyZ3ZbMF0sIEpTX1dSSVRFX09CSl9CWVRFQ09ERSkpKSB7CiAgICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGJ5dGVjb2RlLCBzaXplLCBqc19ieXRlY29kZV9mcmVlX2Z1bmMsIDAsIEZBTFNFKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19yZWFkX29iamVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKCiAgcmV0dXJuIEpTX1JlYWRPYmplY3QoY3R4LCBpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBKU19SRUFEX09CSl9CWVRFQ09ERSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZ2V0eChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CgogIGludDMyX3QgcmV0ID0gMDsKCiAgc3dpdGNoKG1hZ2ljKSB7CiNpZm5kZWYgX193YXNpX18KICAgIGNhc2UgRlVOQ19HRVRQSUQ6IHsKICAgICAgcmV0ID0gZ2V0cGlkKCk7CiAgICAgIGJyZWFrOwogICAgfQojZW5kaWYKI2lmICFkZWZpbmVkKF9fd2FzaV9fKSAmJiAhZGVmaW5lZChfV0lOMzIpCiAgICBjYXNlIEZVTkNfR0VUUFBJRDogewogICAgICByZXQgPSBnZXRwcGlkKCk7CiAgICAgIGJyZWFrOwogICAgfQojZW5kaWYKICAgIGNhc2UgRlVOQ19HRVRTSUQ6IHsKICAgICAgLy8gc3JldCA9IGdldHNpZCgpOwogICAgICBicmVhazsKICAgIH0KI2lmICFkZWZpbmVkKF9fd2FzaV9fKSAmJiAhZGVmaW5lZChfV0lOMzIpCiAgICBjYXNlIEZVTkNfR0VUVUlEOiB7CiAgICAgIHJldCA9IGdldHVpZCgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19HRVRHSUQ6IHsKICAgICAgcmV0ID0gZ2V0Z2lkKCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX0dFVEVVSUQ6IHsKICAgICAgcmV0ID0gZ2V0ZXVpZCgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19HRVRFR0lEOiB7CiAgICAgIHJldCA9IGdldGVnaWQoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEZVTkNfU0VUVUlEOiB7CiAgICAgIGludDMyX3QgdWlkOwogICAgICBKU19Ub0ludDMyKGN0eCwgJnVpZCwgYXJndlswXSk7CiAgICAgIHJldCA9IHNldHVpZCh1aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19TRVRHSUQ6IHsKICAgICAgaW50MzJfdCBnaWQ7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmZ2lkLCBhcmd2WzBdKTsKICAgICAgcmV0ID0gc2V0Z2lkKGdpZCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX1NFVEVVSUQ6IHsKICAgICAgaW50MzJfdCBldWlkOwogICAgICBKU19Ub0ludDMyKGN0eCwgJmV1aWQsIGFyZ3ZbMF0pOwogICAgICByZXQgPSBzZXRldWlkKGV1aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19TRVRFR0lEOiB7CiAgICAgIGludDMyX3QgZWdpZDsKICAgICAgSlNfVG9JbnQzMihjdHgsICZlZ2lkLCBhcmd2WzBdKTsKICAgICAgcmV0ID0gc2V0ZWdpZChlZ2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiNlbmRpZgogIH0KICBpZihyZXQgPT0gLTEpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiVzKCkgZmFpbGVkOiAlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2V0cGlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRwcGlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRzaWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdldHVpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2V0Z2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRldWlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRlZ2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZXR1aWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNldGdpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2V0ZXVpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2V0ZWdpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pW21hZ2ljIC0gRlVOQ19HRVRQSURdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlcnJvcihlcnJubykpOwoKICByZXR1cm4gSlNfTmV3SW50MzIoY3R4LCByZXQpOwp9CgplbnVtIHsKICBWQUxVRV9UWVBFID0gMCwKICBWQUxVRV9UQUcsCiAgVkFMVUVfUFRSLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfbWlzY192YWx1ZXR5cGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgVkFMVUVfVFlQRTogewogICAgICBjb25zdCBjaGFyKiB0eXBlc3RyID0ganNfdmFsdWVfdHlwZXN0cihjdHgsIGFyZ3ZbMF0pOwogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCB0eXBlc3RyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFZBTFVFX1RBRzogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIEpTX1ZBTFVFX0dFVF9UQUcoYXJndlswXSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVkFMVUVfUFRSOiB7CiAgICAgIHZvaWQqIHB0ciA9IEpTX1ZBTFVFX0dFVF9QVFIoYXJndlswXSk7CiAgICAgIGNoYXIgYnVmWzEyOF07CgogICAgICBzbnByaW50ZihidWYsIHNpemVvZihidWYpLCAiJXAiLCBwdHIpOwogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBidWYpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19ldmFsYmluYXJ5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgQk9PTCBsb2FkX29ubHkgPSBGQUxTRTsKICBKU1ZhbHVlQ29uc3Qgb2JqOwogIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKGFyZ3ZbMF0pOwogIGlmKGFyZ2MgPj0gMikKICAgIGxvYWRfb25seSA9IEpTX1RvQm9vbChjdHgsIGFyZ3ZbMV0pOwoKICBpZih0YWcgIT0gSlNfVEFHX01PRFVMRSAmJiB0YWcgIT0gSlNfVEFHX0ZVTkNUSU9OX0JZVEVDT0RFKQogICAgb2JqID0ganNfbWlzY19yZWFkX29iamVjdChjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2KTsKICBlbHNlCiAgICBvYmogPSBhcmd2WzBdOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICByZXR1cm4gb2JqOwoKICB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKG9iaik7CgogIGlmKHRhZyAhPSBKU19UQUdfTU9EVUxFICYmIHRhZyAhPSBKU19UQUdfRlVOQ1RJT05fQllURUNPREUpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAib2JqIGlzIG5vdCBNT0RVTEUgbm9yIEJZVEVDT0RFIik7CgogIGlmKGxvYWRfb25seSkgewogICAgaWYodGFnID09IEpTX1RBR19NT0RVTEUpCiAgICAgIGpzX21vZHVsZV9zZXRfaW1wb3J0X21ldGEoY3R4LCBvYmosIEZBTFNFLCBGQUxTRSk7CiAgfSBlbHNlIHsKICAgIGlmKHRhZyA9PSBKU19UQUdfTU9EVUxFKSB7CiAgICAgIGlmKEpTX1Jlc29sdmVNb2R1bGUoY3R4LCBvYmopIDwgMCkgewogICAgICAgIEpTTW9kdWxlRGVmKiBtID0gSlNfVkFMVUVfR0VUX1BUUihvYmopOwogICAgICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgbS0+bW9kdWxlX25hbWUpOwogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJGYWlsZWQgcmVzb2x2aW5nIG1vZHVsZSAnJXMnIiwgbmFtZSk7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0KICAgICAganNfbW9kdWxlX3NldF9pbXBvcnRfbWV0YShjdHgsIG9iaiwgRkFMU0UsIFRSVUUpOwogICAgfQogICAgcmV0ID0gSlNfRXZhbEZ1bmN0aW9uKGN0eCwgb2JqKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19vcGNvZGVfYXJyYXkoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTT3BDb2RlKiBvcGNvZGUpIHsKICBKU1ZhbHVlIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+c2l6ZSkpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdVaW50MzIoY3R4LCBvcGNvZGUtPm5fcG9wKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wdXNoKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+Zm10KSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDQsIEpTX05ld1N0cmluZyhjdHgsIG9wY29kZS0+bmFtZSkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfb3Bjb2RlX29iamVjdChKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNPcENvZGUqIG9wY29kZSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJzaXplIiwgSlNfTmV3VWludDMyKGN0eCwgb3Bjb2RlLT5zaXplKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJuX3BvcCIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wb3ApKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgIm5fcHVzaCIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wdXNoKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJmbXQiLCBKU19OZXdVaW50MzIoY3R4LCBvcGNvZGUtPmZtdCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibmFtZSIsIEpTX05ld1N0cmluZyhjdHgsIG9wY29kZS0+bmFtZSkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfb3Bjb2RlcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBzaXplX3QgaSwgaiwgbGVuID0gY291bnRvZihqc19vcGNvZGVzKTsKICBCT09MIGFzX29iamVjdCA9IEZBTFNFOwoKICBpZihhcmdjID49IDEpCiAgICBhc19vYmplY3QgPSBKU19Ub0Jvb2woY3R4LCBhcmd2WzBdKTsKCiAgZm9yKGkgPSAwLCBqID0gMDsgaSA8IGxlbjsgaSsrKSB7CgogICAgaWYoaSA+PSBPUF9URU1QX1NUQVJUICYmIGkgPCBPUF9URU1QX0VORCkKICAgICAgY29udGludWU7CgogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGorKywgKGFzX29iamVjdCA/IGpzX21pc2Nfb3Bjb2RlX29iamVjdCA6IGpzX21pc2Nfb3Bjb2RlX2FycmF5KShjdHgsICZqc19vcGNvZGVzW2ldKSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2dldF9ieXRlY29kZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgYXJndlswXSkpIHsKICAgIEpTT2JqZWN0KiBvYmogPSBKU19WQUxVRV9HRVRfT0JKKGFyZ3ZbMF0pOwogICAgSlNGdW5jdGlvbkJ5dGVjb2RlKiBmbmJjOwoKICAgIGlmKChmbmJjID0gb2JqLT51LmZ1bmMuZnVuY3Rpb25fYnl0ZWNvZGUpKSB7CiAgICAgIHJldCA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGZuYmMtPmJ5dGVfY29kZV9idWYsIGZuYmMtPmJ5dGVfY29kZV9sZW4pOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKZW51bSB7CiAgQVRPTV9UT19TVFJJTkcgPSAwLAogIEFUT01fVE9fVkFMVUUsCiAgVkFMVUVfVE9fQVRPTSwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfYXRvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBBVE9NX1RPX1NUUklORzogewogICAgICBpbnQzMl90IGF0b207CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmYXRvbSwgYXJndlswXSk7CiAgICAgIHJldCA9IEpTX0F0b21Ub1N0cmluZyhjdHgsIGF0b20pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgQVRPTV9UT19WQUxVRTogewogICAgICBpbnQzMl90IGF0b207CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmYXRvbSwgYXJndlswXSk7CiAgICAgIHJldCA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBWQUxVRV9UT19BVE9NOiB7CiAgICAgIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCBhcmd2WzBdKTsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgYXRvbSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBHRVRfQ0xBU1NfSUQgPSAwLAogIEdFVF9DTEFTU19OQU1FLAogIEdFVF9DTEFTU19BVE9NLAogIEdFVF9DTEFTU19DT1VOVCwKICBHRVRfQ0xBU1NfUFJPVE8sCiAgR0VUX0NMQVNTX0NPTlNUUlVDVE9SLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19jbGFzc2lkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU09iamVjdCogb2JqOwogIGludDMyX3QgY2xhc3NfaWQgPSAwOwoKICBpZihhcmdjID49IDEpIHsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgICBKU19Ub0ludDMyKGN0eCwgJmNsYXNzX2lkLCBhcmd2WzBdKTsKICAgIGVsc2UgaWYoKG9iaiA9IGpzX3ZhbHVlX29iaihhcmd2WzBdKSkpCiAgICAgIGNsYXNzX2lkID0gb2JqLT5jbGFzc19pZDsKICB9CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBHRVRfQ0xBU1NfSUQ6IHsKICAgICAgaWYoY2xhc3NfaWQgPiAwKQogICAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGNsYXNzX2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19OQU1FOiB7CiAgICAgIGlmKGNsYXNzX2lkID4gMCkgewogICAgICAgIEpTQXRvbSBhdG9tOwogICAgICAgIGlmKChhdG9tID0ganNfY2xhc3NfYXRvbShjdHgsIGNsYXNzX2lkKSkpCiAgICAgICAgICByZXQgPSBKU19BdG9tVG9WYWx1ZShjdHgsIGF0b20pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBHRVRfQ0xBU1NfQVRPTTogewogICAgICBpZihjbGFzc19pZCA+IDApIHsKICAgICAgICBKU0F0b20gYXRvbTsKICAgICAgICBpZigoYXRvbSA9IGpzX2NsYXNzX2F0b20oY3R4LCBjbGFzc19pZCkpKQogICAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBhdG9tKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgR0VUX0NMQVNTX0NPVU5UOiB7CiAgICAgIHVpbnQzMl90IGksIGNsYXNzX2NvdW50ID0gY3R4LT5ydC0+Y2xhc3NfY291bnQ7CiAgICAgIGZvcihpID0gMTsgaSA8IGNsYXNzX2NvdW50OyBpKyspCiAgICAgICAgaWYoIUpTX0lzUmVnaXN0ZXJlZENsYXNzKGN0eC0+cnQsIGkpKQogICAgICAgICAgYnJlYWs7CgogICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCBpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19QUk9UTzogewogICAgICBpZihjbGFzc19pZCA+IDApCiAgICAgICAgcmV0ID0gSlNfR2V0Q2xhc3NQcm90byhjdHgsIGNsYXNzX2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19DT05TVFJVQ1RPUjogewogICAgICBpZihjbGFzc19pZCA+IDApIHsKICAgICAgICBKU1ZhbHVlIHByb3RvID0gSlNfR2V0Q2xhc3NQcm90byhjdHgsIGNsYXNzX2lkKTsKICAgICAgICBpZihKU19Jc09iamVjdChwcm90bykpCiAgICAgICAgICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHByb3RvLCAiY29uc3RydWN0b3IiKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCgpqc19taXNjX2JpdGZpZWxkX3RvX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgY29uc3QgdWludDhfdCogYnVmOwogIHNpemVfdCBsZW47CiAgaW50NjRfdCBvZmZzZXQgPSAwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZihhcmdjID49IDIpCiAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYXJndlsxXSk7CgogIGlmKChidWYgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkgewogICAgc2l6ZV90IGksIGogPSAwLCBiaXRzID0gbGVuICogODsKICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgZm9yKGkgPSAwOyBpIDwgYml0czsgaSsrKSB7CiAgICAgIGlmKGJ1ZltpID4+IDNdICYgKDF1IDw8IChpICYgMHg3KSkpIHsKICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaisrLCBKU19OZXdJbnQ2NChjdHgsIGkgKyBvZmZzZXQpKTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2FycmF5X3RvX2JpdGZpZWxkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc2l6ZV90IGxlbjsKICBpbnQ2NF90IG9mZnNldCA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGFyZ2MgPj0gMikKICAgIEpTX1RvSW50NjQoY3R4LCAmb2Zmc2V0LCBhcmd2WzFdKTsKCiAgaWYoIUpTX0lzQXJyYXkoY3R4LCBhcmd2WzBdKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5Iik7CgogIGlmKChsZW4gPSBqc19hcnJheV9sZW5ndGgoY3R4LCBhcmd2WzBdKSkpIHsKICAgIHNpemVfdCBpOwogICAgaW50NjRfdCBtYXggPSAtMTsKICAgIHVpbnQ4X3QqIGJ1ZnB0cjsKICAgIHNpemVfdCBidWZzaXplOwoKICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbMF0sIGkpOwogICAgICB1aW50MzJfdCBudW1iZXI7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJm51bWJlciwgdmFsdWUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogICAgICBpZihtYXggPCBudW1iZXIpCiAgICAgICAgbWF4ID0gbnVtYmVyOwogICAgfQogICAgYnVmc2l6ZSA9ICgobWF4ICsgMSkgKyA3KSA+PiAzOwogICAgaWYoKGJ1ZnB0ciA9IGpzX21hbGxvY3ooY3R4LCBidWZzaXplKSkgPT0gMCkKICAgICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzBdLCBpKTsKICAgICAgdWludDMyX3QgbnVtYmVyOwogICAgICBKU19Ub1VpbnQzMihjdHgsICZudW1iZXIsIHZhbHVlKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICAgICAgbnVtYmVyIC09IG9mZnNldDsKCiAgICAgIGJ1ZnB0cltudW1iZXIgPj4gM10gfD0gMXUgPDwgKG51bWJlciAmIDB4Nyk7CiAgICB9CgogICAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBidWZwdHIsIGJ1ZnNpemUsIGpzX2FycmF5YnVmZmVyX2ZyZWVfZnVuYywgTlVMTCwgRkFMU0UpOwogIH0KICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSQU5ET01fUkFORCwKICBSQU5ET01fUkFOREksCiAgUkFORE9NX1JBTkRGLAogIFJBTkRPTV9TUkFORCwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfcmFuZG9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICB1aW50MzJfdCBib3VuZCA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgSlNfVG9VaW50MzIoY3R4LCAmYm91bmQsIGFyZ3ZbMF0pOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkFORE9NX1JBTkQ6IHsKICAgICAgdWludDMyX3QgbnVtID0gYXJnYyA+IDAgPyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MoYm91bmQpIDogcGNnMzJfcmFuZG9tKCk7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIG51bSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSQU5ET01fUkFOREk6IHsKICAgICAgaW50MzJfdCBudW0gPSBhcmdjID4gMCA/IHBjZzMyX3JhbmRvbV9ib3VuZGVkX2RpdmlzaW9ubGVzcyhib3VuZCAqIDIpIC0gYm91bmQgOiBwY2czMl9yYW5kb20oKTsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBudW0pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkFORE9NX1JBTkRGOiB7CiAgICAgIHVpbnQzMl90IG51bSA9IHBjZzMyX3JhbmRvbSgpOwogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgKGRvdWJsZSludW0gLyBVSU5UMzJfTUFYKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJBTkRPTV9TUkFORDogewogICAgICB1aW50MzJfdCBzdCA9IDA7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJnN0LCBhcmd2WzBdKTsKICAgICAgcGNnMzJfaW5pdF9zdGF0ZShzdCk7CiAgICAgIHJldCA9IEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX21pc2NfZXNjYXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIGlmKGlucHV0LmRhdGEpIHsKICAgIER5bkJ1ZiBvdXRwdXQ7CiAgICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKICAgIGRidWZfcHV0X2VzY2FwZWQoJm91dHB1dCwgKGNvbnN0IGNoYXIqKWlucHV0LmRhdGEsIGlucHV0LnNpemUpOwogICAgcmV0dXJuIGRidWZfdG9zdHJpbmdfZnJlZSgmb3V0cHV0LCBjdHgpOwogIH0KICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzBdKTsKfQoKSlNWYWx1ZQpqc19taXNjX3F1b3RlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIER5bkJ1ZiBvdXRwdXQ7CiAgY2hhciBxdW90ZSA9ICciJywKICAgICAgIHRhYmxlWzI1Nl0gPSB7CiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgJ2InLCAgJ3QnLCAgJ24nLCAgJ3YnLCAgJ2YnLCAgJ3InLCAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAnXFwnLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICB9OwoKICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKICBpZihhcmdjID49IDIpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwogICAgaWYoc3RyWzBdKQogICAgICBxdW90ZSA9IHN0clswXTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICB9CgogIHRhYmxlWyh1bnNpZ25lZClxdW90ZV0gPSBxdW90ZTsKCiAgaWYocXVvdGUgPT0gJ2AnKSB7CiAgICB0YWJsZVsodW5zaWduZWQpJ1xyJ10gPSAwOwogICAgdGFibGVbKHVuc2lnbmVkKSdcbiddID0gMDsKICAgIHRhYmxlWyh1bnNpZ25lZCknJCddID0gJyQnOwogIH0KCiAgZGJ1Zl9wdXRjKCZvdXRwdXQsIHF1b3RlKTsKICBkYnVmX3B1dF9lc2NhcGVkX3RhYmxlKCZvdXRwdXQsIChjb25zdCBjaGFyKilpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCB0YWJsZSk7CiAgZGJ1Zl9wdXRjKCZvdXRwdXQsIHF1b3RlKTsKICByZXR1cm4gZGJ1Zl90b3N0cmluZ19mcmVlKCZvdXRwdXQsIGN0eCk7Cn0KCkpTVmFsdWUKanNfbWlzY19lcnJvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIGludDMyX3QgZXJybnVtID0gZXJybm87CiAgY29uc3QgY2hhciogc3lzY2FsbCA9IDA7CiAgSlNWYWx1ZSBlcnI7CiAgaWYoYXJnYyA+PSAxKQogICAgSlNfVG9JbnQzMihjdHgsICZlcnJudW0sIGFyZ3ZbMF0pOwogIGlmKGFyZ2MgPj0gMikKICAgIHN5c2NhbGwgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgZXJyID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZXJyLCAiZXJybm8iLCBKU19OZXdJbnQzMihjdHgsIGVycm51bSkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZXJyLCAic3lzY2FsbCIsIEpTX05ld1N0cmluZyhjdHgsIHN5c2NhbGwpKTsKCiAgaWYoc3lzY2FsbCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3lzY2FsbCk7CgogIHJldHVybiBlcnI7Cn0KZW51bSB7CiAgSVNfQVJSQVksCiAgSVNfQklHREVDSU1BTCwKICBJU19CSUdGTE9BVCwKICBJU19CSUdJTlQsCiAgSVNfQk9PTCwKICBJU19DRlVOQ1RJT04sCiAgSVNfQ09OU1RSVUNUT1IsCiAgSVNfRU1QVFlTVFJJTkcsCiAgSVNfRVJST1IsCiAgSVNfRVhDRVBUSU9OLAogIElTX0VYVEVOU0lCTEUsCiAgSVNfRlVOQ1RJT04sCiAgSVNfSFRNTEREQSwKICBJU19JTlNUQU5DRU9GLAogIElTX0lOVEVHRVIsCiAgSVNfSk9CUEVORElORywKICBJU19MSVZFT0JKRUNULAogIElTX05VTEwsCiAgSVNfTlVNQkVSLAogIElTX09CSkVDVCwKICBJU19SRUdJU1RFUkVEQ0xBU1MsCiAgSVNfU1RSSU5HLAogIElTX1NZTUJPTCwKICBJU19VTkNBVENIQUJMRUVSUk9SLAogIElTX1VOREVGSU5FRCwKICBJU19VTklOSVRJQUxJWkVELAp9OwoKSlNWYWx1ZQpqc19taXNjX2lzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBpbnQzMl90IHIgPSAtMTsKICBKU1ZhbHVlQ29uc3QgYXJnID0gYXJndlswXTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIElTX0FSUkFZOiByID0gSlNfSXNBcnJheShjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19CSUdERUNJTUFMOiByID0gSlNfSXNCaWdEZWNpbWFsKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19CSUdGTE9BVDogciA9IEpTX0lzQmlnRmxvYXQoYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0JJR0lOVDogciA9IEpTX0lzQmlnSW50KGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0JPT0w6IHIgPSBKU19Jc0Jvb2woYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0NGVU5DVElPTjogciA9IEpTX0dldENsYXNzSUQoYXJnKSA9PSBKU19DTEFTU19DX0ZVTkNUSU9OOyBicmVhazsKICAgIGNhc2UgSVNfQ09OU1RSVUNUT1I6IHIgPSBKU19Jc0NvbnN0cnVjdG9yKGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0VNUFRZU1RSSU5HOiByID0gSlNfVkFMVUVfR0VUX1RBRyhhcmcpID09IEpTX1RBR19TVFJJTkcgJiYgSlNfVkFMVUVfR0VUX1NUUklORyhhcmcpLT5sZW4gPT0gMDsgYnJlYWs7CiAgICBjYXNlIElTX0VSUk9SOiByID0gSlNfSXNFcnJvcihjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19FWENFUFRJT046IHIgPSBKU19Jc0V4Y2VwdGlvbihhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfRVhURU5TSUJMRTogciA9IEpTX0lzRXh0ZW5zaWJsZShjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19GVU5DVElPTjogciA9IEpTX0lzRnVuY3Rpb24oY3R4LCBhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfSFRNTEREQTogciA9IEpTX1ZBTFVFX0dFVF9UQUcoYXJnKSA9PSBKU19UQUdfT0JKRUNUICYmIEpTX1ZBTFVFX0dFVF9PQkooYXJnKS0+aXNfSFRNTEREQTsgYnJlYWs7CiAgICBjYXNlIElTX0lOU1RBTkNFT0Y6IHIgPSBKU19Jc0luc3RhbmNlT2YoY3R4LCBhcmcsIGFyZ3ZbMV0pOyBicmVhazsKICAgIGNhc2UgSVNfSU5URUdFUjogciA9IEpTX0lzTnVtYmVyKGFyZykgJiYgSlNfVkFMVUVfR0VUX1RBRyhhcmcpICE9IEpTX1RBR19GTE9BVDY0OyBicmVhazsKICAgIGNhc2UgSVNfSk9CUEVORElORzogciA9IEpTX0lzSm9iUGVuZGluZyhKU19HZXRSdW50aW1lKGN0eCkpOyBicmVhazsKICAgIGNhc2UgSVNfTElWRU9CSkVDVDogciA9IEpTX0lzTGl2ZU9iamVjdChKU19HZXRSdW50aW1lKGN0eCksIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19OVUxMOiByID0gSlNfSXNOdWxsKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19OVU1CRVI6IHIgPSBKU19Jc051bWJlcihhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfT0JKRUNUOiByID0gSlNfSXNPYmplY3QoYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX1JFR0lTVEVSRURDTEFTUzogciA9ICFKU19Ub0ludDMyKGN0eCwgJnIsIGFyZykgJiYgSlNfSXNSZWdpc3RlcmVkQ2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCByKTsgYnJlYWs7CiAgICBjYXNlIElTX1NUUklORzogciA9IEpTX0lzU3RyaW5nKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19TWU1CT0w6IHIgPSBKU19Jc1N5bWJvbChhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfVU5DQVRDSEFCTEVFUlJPUjogciA9IEpTX0lzVW5jYXRjaGFibGVFcnJvcihjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19VTkRFRklORUQ6IHIgPSBKU19Jc1VuZGVmaW5lZChhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfVU5JTklUSUFMSVpFRDogciA9IEpTX0lzVW5pbml0aWFsaXplZChhcmcpOyBicmVhazsKICB9CiAgaWYociA9PSAtMSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAianNfbWlzY19pcyAlZCIsIG1hZ2ljKTsKICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsIHIgPj0gMSk7Cn0KCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19taXNjX2Z1bmNzW10gPSB7CiNpZm5kZWYgX193YXNpX18KLy8gSlNfQ0ZVTkNfREVGKCJyZWFscGF0aCIsIDEsIGpzX21pc2NfcmVhbHBhdGgpLAojZW5kaWYKICAgIEpTX0NGVU5DX0RFRigiZm5tYXRjaCIsIDMsIGpzX21pc2NfZm5tYXRjaCksCiAgICBKU19DRlVOQ19ERUYoInRvU3RyaW5nIiwgMSwganNfbWlzY190b3N0cmluZyksCiAgICBKU19DRlVOQ19ERUYoInRvUG9pbnRlciIsIDEsIGpzX21pc2NfdG9wb2ludGVyKSwKICAgIEpTX0NGVU5DX0RFRigidG9BcnJheUJ1ZmZlciIsIDEsIGpzX21pc2NfdG9hcnJheWJ1ZmZlciksCiAgICBKU19DRlVOQ19ERUYoImR1cEFycmF5QnVmZmVyIiwgMSwganNfbWlzY19zbGljZSksCiAgICBKU19DRlVOQ19ERUYoInJlc2l6ZUFycmF5QnVmZmVyIiwgMSwganNfbWlzY19yZXNpemVhcnJheWJ1ZmZlciksCiAgICBKU19DRlVOQ19ERUYoImNvbmNhdEFycmF5QnVmZmVyIiwgMSwganNfbWlzY19jb25jYXQpLAogICAgSlNfQ0ZVTkNfREVGKCJzZWFyY2hBcnJheUJ1ZmZlciIsIDIsIGpzX21pc2Nfc2VhcmNoYXJyYXlidWZmZXIpLAogICAgSlNfQ0ZVTkNfREVGKCJtZW1jcHkiLCAyLCBqc19taXNjX21lbWNweSksCiNpZmRlZiBIQVZFX0ZNRU1PUEVOCiAgICBKU19DRlVOQ19ERUYoImZtZW1vcGVuIiwgMiwganNfbWlzY19mbWVtb3BlbiksCiNlbmRpZgogICAgSlNfQ0ZVTkNfREVGKCJnZXRQZXJmb3JtYW5jZUNvdW50ZXIiLCAwLCBqc19taXNjX2dldHBlcmZvcm1hbmNlY291bnRlciksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldEV4ZWN1dGFibGUiLCAwLCBqc19taXNjX3Byb2NsaW5rLCBGVU5DX0dFVEVYRUNVVEFCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeSIsIDAsIGpzX21pc2NfcHJvY2xpbmssIEZVTkNfR0VUQ1dEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Um9vdERpcmVjdG9yeSIsIDAsIGpzX21pc2NfcHJvY2xpbmssIEZVTkNfR0VUUk9PVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldEZpbGVEZXNjcmlwdG9yIiwgMCwganNfbWlzY19wcm9jbGluaywgRlVOQ19HRVRGRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldENvbW1hbmRMaW5lIiwgMCwganNfbWlzY19wcm9jcmVhZCwgRlVOQ19HRVRDT01NQU5ETElORSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFByb2NNYXBzIiwgMCwganNfbWlzY19wcm9jcmVhZCwgRlVOQ19HRVRQUk9DTUFQUyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFByb2NNb3VudHMiLCAwLCBqc19taXNjX3Byb2NyZWFkLCBGVU5DX0dFVFBST0NNT1VOVFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRQcm9jU3RhdCIsIDAsIGpzX21pc2NfcHJvY3JlYWQsIEZVTkNfR0VUUFJPQ1NUQVQpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRQcm90b3R5cGVDaGFpbiIsIDAsIGpzX21pc2NfZ2V0cHJvdG90eXBlY2hhaW4pLAojaWZuZGVmIF9fd2FzaV9fCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldHBpZCIsIDAsIGpzX21pc2NfZ2V0eCwgRlVOQ19HRVRQSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRwcGlkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVFBQSUQpLAojZW5kaWYKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0c2lkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVFNJRCksCiNpZiAhZGVmaW5lZChfX3dhc2lfXykgJiYgIWRlZmluZWQoX1dJTjMyKQogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXR1aWQiLCAwLCBqc19taXNjX2dldHgsIEZVTkNfR0VUVUlEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Z2lkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVEdJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldGV1aWQiLCAwLCBqc19taXNjX2dldHgsIEZVTkNfR0VURVVJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldGVnaWQiLCAwLCBqc19taXNjX2dldHgsIEZVTkNfR0VURUdJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldHVpZCIsIDEsIGpzX21pc2NfZ2V0eCwgRlVOQ19TRVRVSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZXRnaWQiLCAxLCBqc19taXNjX2dldHgsIEZVTkNfU0VUR0lEKSwKI2VuZGlmCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldGV1aWQiLCAxLCBqc19taXNjX2dldHgsIEZVTkNfU0VURVVJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldGVnaWQiLCAxLCBqc19taXNjX2dldHgsIEZVTkNfU0VURUdJRCksCiAgICBKU19DRlVOQ19ERUYoImhydGltZSIsIDAsIGpzX21pc2NfaHJ0aW1lKSwKI2lmbmRlZiBfV0lOMzIKICAgIEpTX0NGVU5DX0RFRigidW5hbWUiLCAwLCBqc19taXNjX3VuYW1lKSwKI2VuZGlmCiAgICBKU19DRlVOQ19ERUYoImJ0b2EiLCAxLCBqc19taXNjX2J0b2EpLAogICAgSlNfQ0ZVTkNfREVGKCJhdG9iIiwgMSwganNfbWlzY19hdG9iKSwKICAgIEpTX0NGVU5DX0RFRigiYml0ZmllbGRUb0FycmF5IiwgMSwganNfbWlzY19iaXRmaWVsZF90b19hcnJheSksCiAgICBKU19DRlVOQ19ERUYoImFycmF5VG9CaXRmaWVsZCIsIDEsIGpzX21pc2NfYXJyYXlfdG9fYml0ZmllbGQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJjb21waWxlU2NyaXB0IiwgMSwganNfbWlzY19jb21waWxlLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZXZhbFNjcmlwdCIsIDEsIGpzX21pc2NfY29tcGlsZSwgMSksCiAgICBKU19DRlVOQ19ERUYoIndyaXRlT2JqZWN0IiwgMSwganNfbWlzY193cml0ZV9vYmplY3QpLAogICAgSlNfQ0ZVTkNfREVGKCJyZWFkT2JqZWN0IiwgMSwganNfbWlzY19yZWFkX29iamVjdCksCiAgICBKU19DRlVOQ19ERUYoImdldE9wQ29kZXMiLCAwLCBqc19taXNjX29wY29kZXMpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRCeXRlQ29kZSIsIDEsIGpzX21pc2NfZ2V0X2J5dGVjb2RlKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidmFsdWVUeXBlIiwgMSwganNfbWlzY192YWx1ZXR5cGUsIFZBTFVFX1RZUEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ2YWx1ZVRhZyIsIDEsIGpzX21pc2NfdmFsdWV0eXBlLCBWQUxVRV9UQUcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ2YWx1ZVB0ciIsIDEsIGpzX21pc2NfdmFsdWV0eXBlLCBWQUxVRV9QVFIpLAogICAgSlNfQ0ZVTkNfREVGKCJldmFsQmluYXJ5IiwgMSwganNfbWlzY19ldmFsYmluYXJ5KSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXRvbVRvU3RyaW5nIiwgMSwganNfbWlzY19hdG9tLCBBVE9NX1RPX1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImF0b21Ub1ZhbHVlIiwgMSwganNfbWlzY19hdG9tLCBBVE9NX1RPX1ZBTFVFKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidmFsdWVUb0F0b20iLCAxLCBqc19taXNjX2F0b20sIFZBTFVFX1RPX0FUT00pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc0lEIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc05hbWUiLCAxLCBqc19taXNjX2NsYXNzaWQsIEdFVF9DTEFTU19OQU1FKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Q2xhc3NBdG9tIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfQVRPTSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldENsYXNzQ291bnQiLCAxLCBqc19taXNjX2NsYXNzaWQsIEdFVF9DTEFTU19DT1VOVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldENsYXNzUHJvdG8iLCAxLCBqc19taXNjX2NsYXNzaWQsIEdFVF9DTEFTU19QUk9UTyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldENsYXNzQ29uc3RydWN0b3IiLCAxLCBqc19taXNjX2NsYXNzaWQsIEdFVF9DTEFTU19DT05TVFJVQ1RPUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJhbmQiLCAwLCBqc19taXNjX3JhbmRvbSwgUkFORE9NX1JBTkQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyYW5kaSIsIDAsIGpzX21pc2NfcmFuZG9tLCBSQU5ET01fUkFOREkpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyYW5kZiIsIDAsIGpzX21pc2NfcmFuZG9tLCBSQU5ET01fUkFOREYpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzcmFuZCIsIDEsIGpzX21pc2NfcmFuZG9tLCBSQU5ET01fU1JBTkQpLAogICAgSlNfQ0ZVTkNfREVGKCJlc2NhcGUiLCAxLCBqc19taXNjX2VzY2FwZSksCiAgICBKU19DRlVOQ19ERUYoInF1b3RlIiwgMSwganNfbWlzY19xdW90ZSksCiAgICBKU19DRlVOQ19ERUYoImVycm9yIiwgMCwganNfbWlzY19lcnJvciksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzQXJyYXkiLCAxLCBqc19taXNjX2lzLCBJU19BUlJBWSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzQmlnRGVjaW1hbCIsIDEsIGpzX21pc2NfaXMsIElTX0JJR0RFQ0lNQUwpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0JpZ0Zsb2F0IiwgMSwganNfbWlzY19pcywgSVNfQklHRkxPQVQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0JpZ0ludCIsIDEsIGpzX21pc2NfaXMsIElTX0JJR0lOVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzQm9vbCIsIDEsIGpzX21pc2NfaXMsIElTX0JPT0wpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0NGdW5jdGlvbiIsIDEsIGpzX21pc2NfaXMsIElTX0NGVU5DVElPTiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzQ29uc3RydWN0b3IiLCAxLCBqc19taXNjX2lzLCBJU19DT05TVFJVQ1RPUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzRW1wdHlTdHJpbmciLCAxLCBqc19taXNjX2lzLCBJU19FTVBUWVNUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzRXJyb3IiLCAxLCBqc19taXNjX2lzLCBJU19FUlJPUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzRXhjZXB0aW9uIiwgMSwganNfbWlzY19pcywgSVNfRVhDRVBUSU9OKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNFeHRlbnNpYmxlIiwgMSwganNfbWlzY19pcywgSVNfRVhURU5TSUJMRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzRnVuY3Rpb24iLCAxLCBqc19taXNjX2lzLCBJU19GVU5DVElPTiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzSFRNTEREQSIsIDEsIGpzX21pc2NfaXMsIElTX0hUTUxEREEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0luc3RhbmNlT2YiLCAxLCBqc19taXNjX2lzLCBJU19JTlNUQU5DRU9GKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNJbnRlZ2VyIiwgMSwganNfbWlzY19pcywgSVNfSU5URUdFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzSm9iUGVuZGluZyIsIDEsIGpzX21pc2NfaXMsIElTX0pPQlBFTkRJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0xpdmVPYmplY3QiLCAxLCBqc19taXNjX2lzLCBJU19MSVZFT0JKRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNOdWxsIiwgMSwganNfbWlzY19pcywgSVNfTlVMTCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzTnVtYmVyIiwgMSwganNfbWlzY19pcywgSVNfTlVNQkVSKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNPYmplY3QiLCAxLCBqc19taXNjX2lzLCBJU19PQkpFQ1QpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc1JlZ2lzdGVyZWRDbGFzcyIsIDEsIGpzX21pc2NfaXMsIElTX1JFR0lTVEVSRURDTEFTUyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzU3RyaW5nIiwgMSwganNfbWlzY19pcywgSVNfU1RSSU5HKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNTeW1ib2wiLCAxLCBqc19taXNjX2lzLCBJU19TWU1CT0wpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc1VuY2F0Y2hhYmxlRXJyb3IiLCAxLCBqc19taXNjX2lzLCBJU19VTkNBVENIQUJMRUVSUk9SKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNVbmRlZmluZWQiLCAxLCBqc19taXNjX2lzLCBJU19VTkRFRklORUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc1VuaW5pdGlhbGl6ZWQiLCAxLCBqc19taXNjX2lzLCBJU19VTklOSVRJQUxJWkVEKSwKCiAgICBKU19DT05TVEFOVChKU19FVkFMX1RZUEVfR0xPQkFMKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfVFlQRV9NT0RVTEUpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9UWVBFX0RJUkVDVCksCiAgICBKU19DT05TVEFOVChKU19FVkFMX1RZUEVfSU5ESVJFQ1QpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9UWVBFX01BU0spLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9GTEFHX1NUUklDVCksCiAgICBKU19DT05TVEFOVChKU19FVkFMX0ZMQUdfU1RSSVApLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9GTEFHX0NPTVBJTEVfT05MWSksCiAgICBKU19DT05TVEFOVChKU19FVkFMX0ZMQUdfQkFDS1RSQUNFX0JBUlJJRVIpLAogICAgLy8gICBKU19PQkpFQ1RfREVGKCJTdHJpbmdEZWNvZGVyIiwganNfc3RyaW5nZGVjb2Rlcl9wcm9wcywKICAgIC8vICAgY291bnRvZihqc19zdHJpbmdkZWNvZGVyX3Byb3BzKSwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAoKfTsKCnN0YXRpYyBpbnQKanNfbWlzY19pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBpZighanNfbG9jYXRpb25fY2xhc3NfaWQpCiAgICBqc19sb2NhdGlvbl9pbml0KGN0eCwgMCk7CgogIGlmKG0pIHsKICAgIC8vIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBsb2NhdGlvbl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19taXNjX2Z1bmNzLCBjb3VudG9mKGpzX21pc2NfZnVuY3MpKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJMb2NhdGlvbiIsIGxvY2F0aW9uX2N0b3IpOwogICAgLy8gSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN0cmluZ0RlY29kZXIiLCBzdHJpbmdkZWNvZGVyX2N0b3IpOwogIH0KCiAgLy8ganNfc3RyaW5nZGVjb2Rlcl9pbml0KGN0eCwgbSk7CgogIC8vIHByaW50ZigiJXNcbiIsIGpzX29wY29kZXNbMF0ubmFtZSk7CgogIHJldHVybiAwOwp9CgojaWYgZGVmaW5lZChKU19TSEFSRURfTElCUkFSWSkgJiYgZGVmaW5lZChKU19NSVNDX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX21pc2MKI2VuZGlmCgpWSVNJQkxFIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCBqc19taXNjX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX21pc2NfZnVuY3MsIGNvdW50b2YoanNfbWlzY19mdW5jcykpOwogIC8vIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTeXNjYWxsRXJyb3IiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiTG9jYXRpb24iKTsKICAvLyBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU3RyaW5nRGVjb2RlciIpOwogIHJldHVybiBtOwp9CgAAAAAAAAAAT6YAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgooAAAAAAACTigAAAAAAAAAAAAAAAPC/"
				],
				[
					376,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABPpgAAI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSAicXVpY2tqcy1taXNjLmgiCiNpbmNsdWRlICJxdWlja2pzLWludGVybmFsLmgiCiNpbmNsdWRlICJxdWlja2pzLWxvY2F0aW9uLmgiCiNpbmNsdWRlICJxdWlja2pzLXN0cmluZ2RlY29kZXIuaCIKI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJwYXRoLmgiCiNpbmNsdWRlICJiYXNlNjQuaCIKI2luY2x1ZGUgPHRpbWUuaD4KI2lmbmRlZiBfV0lOMzIKI2luY2x1ZGUgPHN5cy91dHNuYW1lLmg+CiNlbmRpZgojaW5jbHVkZSA8ZXJybm8uaD4KI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKI2lmbmRlZiBIQVZFX01FTU1FTQp2b2lkKiBtZW1tZW0oY29uc3Qgdm9pZCosIHNpemVfdCwgY29uc3Qgdm9pZCosIHNpemVfdCk7CiNlbmRpZgoKZW51bSB7CiAgRlVOQ19HRVRFWEVDVVRBQkxFID0gMCwKICBGVU5DX0dFVENXRCwKICBGVU5DX0dFVFJPT1QsCiAgRlVOQ19HRVRGRCwKICBGVU5DX0dFVENPTU1BTkRMSU5FLAogIEZVTkNfR0VUUFJPQ01BUFMsCiAgRlVOQ19HRVRQUk9DTU9VTlRTLAogIEZVTkNfR0VUUFJPQ1NUQVQsCiAgRlVOQ19HRVRQSUQsCiAgRlVOQ19HRVRQUElELAogIEZVTkNfR0VUU0lELAogIEZVTkNfR0VUVUlELAogIEZVTkNfR0VUR0lELAogIEZVTkNfR0VURVVJRCwKICBGVU5DX0dFVEVHSUQsCiAgRlVOQ19TRVRVSUQsCiAgRlVOQ19TRVRHSUQsCiAgRlVOQ19TRVRFVUlELAogIEZVTkNfU0VURUdJRAp9OwoKdHlwZWRlZiBzdHJ1Y3QgcGNnX3N0YXRlX3NldHNlcV82NCB7CiAgdWludDY0X3Qgc3RhdGUsIGluYzsKfSBwY2czMl9yYW5kb21fdDsKCnN0YXRpYyBwY2czMl9yYW5kb21fdCBwY2czMl9nbG9iYWwgPSB7MHg4NTNjNDllNjc0OGZlYTliVUxMLCAweGRhM2UzOWNiOTRiOTViZGJVTEx9OwoKc3RhdGljIGlubGluZSB1aW50MzJfdApwY2czMl9yYW5kb21fcihwY2czMl9yYW5kb21fdCogcm5nKSB7CiAgdWludDY0X3Qgb2xkc3RhdGUgPSBybmctPnN0YXRlOwogIHJuZy0+c3RhdGUgPSBvbGRzdGF0ZSAqIDYzNjQxMzYyMjM4NDY3OTMwMDVVTEwgKyBybmctPmluYzsKICB1aW50MzJfdCB4b3JzaGlmdGVkID0gKHVpbnQzMl90KSgoKG9sZHN0YXRlID4+IDE4dSkgXiBvbGRzdGF0ZSkgPj4gMjd1KTsKICB1aW50MzJfdCByb3QgPSBvbGRzdGF0ZSA+PiA1OXU7CiAgcmV0dXJuICh4b3JzaGlmdGVkID4+IHJvdCkgfCAoeG9yc2hpZnRlZCA8PCAoKC1yb3QpICYgMzEpKTsKfQoKc3RhdGljIHVpbnQzMl90CnBjZzMyX3JhbmRvbSh2b2lkKSB7CiAgcmV0dXJuIHBjZzMyX3JhbmRvbV9yKCZwY2czMl9nbG9iYWwpOwp9CgpzdGF0aWMgdm9pZApwY2czMl9pbml0X3N0YXRlKHVpbnQzMl90IHN0YXRlKSB7CiAgcGNnMzJfZ2xvYmFsLnN0YXRlID0gfigoKHVpbnQ2NF90KXN0YXRlKSA8PCAzMikgfCBzdGF0ZTsKfQoKc3RhdGljIHVpbnQzMl90CnBjZzMyX3JhbmRvbV9ib3VuZGVkX2RpdmlzaW9ubGVzcyh1aW50MzJfdCByYW5nZSkgewogIHVpbnQ2NF90IHJhbmRvbTMyYml0LCBtdWx0aXJlc3VsdDsKICB1aW50MzJfdCBsZWZ0b3ZlcjsKICB1aW50MzJfdCB0aHJlc2hvbGQ7CiAgcmFuZG9tMzJiaXQgPSBwY2czMl9yYW5kb20oKTsKICBtdWx0aXJlc3VsdCA9IHJhbmRvbTMyYml0ICogcmFuZ2U7CiAgbGVmdG92ZXIgPSAodWludDMyX3QpbXVsdGlyZXN1bHQ7CiAgaWYobGVmdG92ZXIgPCByYW5nZSkgewogICAgdGhyZXNob2xkID0gLXJhbmdlICUgcmFuZ2U7CiAgICB3aGlsZShsZWZ0b3ZlciA8IHRocmVzaG9sZCkgewogICAgICByYW5kb20zMmJpdCA9IHBjZzMyX3JhbmRvbSgpOwogICAgICBtdWx0aXJlc3VsdCA9IHJhbmRvbTMyYml0ICogcmFuZ2U7CiAgICAgIGxlZnRvdmVyID0gKHVpbnQzMl90KW11bHRpcmVzdWx0OwogICAgfQogIH0KICByZXR1cm4gbXVsdGlyZXN1bHQgPj4gMzI7IC8vIFswLCByYW5nZSkKfQoKc3RhdGljIHZvaWQKanNfYnl0ZWNvZGVfZnJlZV9mdW5jKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAganNfZnJlZV9ydChydCwgcHRyKTsKfQoKc3RhdGljIHZvaWQKanNfc3RyaW5nX2ZyZWVfZnVuYyhKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTVmFsdWUgdmFsdWUgPSBqc19jc3RyaW5nX3ZhbHVlKG9wYXF1ZSk7CgogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWx1ZSk7Cn0KCnN0YXRpYyB2b2lkCmpzX2FycmF5YnVmZmVyX2ZyZWVfZnVuYyhKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTVmFsdWUgdmFsdWUgPSBKU19NS1BUUihKU19UQUdfT0JKRUNULCBvcGFxdWUpOwoKICBKU19GcmVlVmFsdWVSVChydCwgdmFsdWUpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgLy8gIEpTVmFsdWUgYXJyYXlidWZmZXJfY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIkFycmF5QnVmZmVyIik7CgogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCBhcmd2WzBdLCBKU19DTEFTU19BUlJBWV9CVUZGRVIpIHx8CiAgICAganNfaXNfYXJyYXlidWZmZXIoY3R4LCBhcmd2WzBdKSAvKiB8fCBKU19Jc0luc3RhbmNlT2YoY3R4LCBhcmd2WzBdLCBhcnJheWJ1ZmZlcl9jdG9yKSovKSB7CiAgICB1aW50OF90KiBkYXRhOwogICAgc2l6ZV90IGxlbjsKCiAgICBpZigoZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSkpKSB7CiAgICAgIE9mZnNldExlbmd0aCBvbDsKCiAgICAgIGpzX29mZnNldF9sZW5ndGgoY3R4LCBsZW4sIGFyZ2MgLSAxLCBhcmd2ICsgMSwgJm9sKTsKCiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYXRhICsgb2wub2Zmc2V0LCBvbC5sZW5ndGgpOwogICAgfQogIH0gZWxzZSB7CiAgICByZXQgPSBqc192YWx1ZV90b3N0cmluZyhjdHgsICJPYmplY3QiLCBhcmdjID4gMCA/IGFyZ3ZbMF0gOiB0aGlzX3ZhbCk7CiAgfQoKICAvLyAgSlNfRnJlZVZhbHVlKGN0eCwgYXJyYXlidWZmZXJfY3Rvcik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfdG9wb2ludGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgdm9pZCogcHRyID0gMDsKICBjaGFyIGJ1ZlsxMjhdOwoKICBpZihqc192YWx1ZV9pc2NsYXNzKGN0eCwgYXJndlswXSwgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSKSB8fCBqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKSB7CiAgICBzaXplX3QgbGVuOwogICAgcHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmd2WzBdKTsKICB9IGVsc2UgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIHB0ciA9IGpzX2NzdHJpbmdfcHRyKGFyZ3ZbMF0pOwogIH0KCiAgaWYocHRyKSB7CiAgICBzbnByaW50ZihidWYsIHNpemVvZihidWYpLCAiJXAiLCBwdHIpOwogICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgYnVmKTsKICB9IGVsc2UgewogICAgcmV0ID0gSlNfTlVMTDsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfdG9hcnJheWJ1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIE1lbW9yeUJsb2NrIGI7CiAgT2Zmc2V0TGVuZ3RoIG87CiAgSlNGcmVlQXJyYXlCdWZmZXJEYXRhRnVuYyogZjsKICB2b2lkKiBvcGFxdWU7CgogIC8qICBpZihKU19Jc1N0cmluZyhhcmd2WzBdKSkgewogICAgICBKU1ZhbHVlQ29uc3QgdmFsdWUgPSBhcmd2WzBdOyAvLyBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbMF0pOwogICAgICBiLmJhc2UgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmYi5zaXplLCB2YWx1ZSk7CiAgICAgIGYgPSAmanNfc3RyaW5nX2ZyZWVfZnVuYzsKICAgICAgb3BhcXVlID0gYi5iYXNlOwogICAgICByZXQgPQogICAgICAgICAgSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBiLmJhc2UgKyBvLm9mZnNldCwgTUlOX05VTShiLnNpemUsIG8ubGVuZ3RoKSwKICAgIGpzX3N0cmluZ19mcmVlX2Z1bmMsICh2b2lkKiliLmJhc2UsIEZBTFNFKTsgfSBlbHNlKi8KCiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIGpzX29mZnNldF9sZW5ndGgoY3R4LCBpbnB1dC5zaXplLCBhcmdjIC0gMSwgYXJndiArIDEsICZvKTsKICBiID0gaW5wdXRfYnVmZmVyX2Jsb2NrKCZpbnB1dCk7CiAgLy8gICAgYiA9IGJsb2NrX3JhbmdlKCZiLCAmaW5wdXQucmFuZ2UpOwogIGIgPSBibG9ja19yYW5nZSgmYiwgJm8pOwogIHJldCA9IGpzX2FycmF5YnVmZmVyX2Zyb212YWx1ZShjdHgsIGIuYmFzZSwgYi5zaXplLCBhcmd2WzBdKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19zbGljZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIHVpbnQ4X3QqIGRhdGE7CiAgc2l6ZV90IGxlbjsKCiAgLyogIGlmKCFqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKQogICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIik7Ki8KCiAgaWYoKGRhdGEgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkgewoKICAgIGludDY0X3Qgb2Zmc2V0ID0gMCwgbGVuZ3RoID0gbGVuOwoKICAgIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkKICAgICAgSlNfVG9JbnQ2NChjdHgsICZvZmZzZXQsIGFyZ3ZbMV0pOwoKICAgIGlmKGFyZ2MgPj0gMyAmJiBKU19Jc051bWJlcihhcmd2WzJdKSkKICAgICAgSlNfVG9JbnQ2NChjdHgsICZsZW5ndGgsIGFyZ3ZbMl0pOwoKICAgIEpTVmFsdWUgdmFsdWUgPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbMF0pOwogICAgSlNPYmplY3QqIG9iaiA9IEpTX1ZBTFVFX0dFVF9PQkoodmFsdWUpOwogICAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBkYXRhICsgb2Zmc2V0LCBNSU5fTlVNKGxlbiwgbGVuZ3RoKSwganNfYXJyYXlidWZmZXJfZnJlZV9mdW5jLCAodm9pZCopb2JqLCBGQUxTRSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Jlc2l6ZWFycmF5YnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNPYmplY3QqIG9iajsKICBKU0FycmF5QnVmZmVyKiBhcnJheWJ1ZjsKICB1aW50NjRfdCBuZXdsZW47CgogIGlmKCFqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIpOwoKICBvYmogPSBKU19WQUxVRV9HRVRfT0JKKGFyZ3ZbMF0pOwogIGFycmF5YnVmID0gb2JqLT51LmFycmF5X2J1ZmZlcjsKICBKU19Ub0luZGV4KGN0eCwgJm5ld2xlbiwgYXJndlsxXSk7CgogIGlmKGFycmF5YnVmLT5zaGFyZWQpCiAgICByZXQgPSBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJBcnJheUJ1ZmZlciBtdXN0IG5vdCBiZSBzaGFyZWQiKTsKICBlbHNlIGlmKGFycmF5YnVmLT5zaGFyZWQpCiAgICByZXQgPSBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJBcnJheUJ1ZmZlciBtdXN0IGhhdmUgb3BhcXVlID09IDAiKTsKICBlbHNlIHsKICAgIGFycmF5YnVmLT5kYXRhID0ganNfcmVhbGxvYyhjdHgsIGFycmF5YnVmLT5kYXRhLCBuZXdsZW4pOwogICAgYXJyYXlidWYtPmJ5dGVfbGVuZ3RoID0gbmV3bGVuOwoKICAgIHJldCA9IEpTX01LUFRSKEpTX1RBR19PQkpFQ1QsIG9iaik7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2NvbmNhdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGludCBpOwogIHNpemVfdCB0b3RhbF9sZW4gPSAwLCBwb3MgPSAwOwogIHVpbnQ4X3QqIGJ1ZjsKICBJbnB1dEJ1ZmZlciogYnVmZmVycyA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoSW5wdXRCdWZmZXIpICogYXJnYyk7CiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBidWZmZXJzW2ldID0ganNfaW5wdXRfYnVmZmVyKGN0eCwgYXJndltpXSk7CiAgICBpZighYnVmZmVyc1tpXS5kYXRhKSB7CiAgICAgIHJldCA9IEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50ICVkIGlzIG5vdCBBcnJheUJ1ZmZlciIsIGkgKyAxKTsKICAgICAgZ290byBmYWlsOwogICAgfQogICAgdG90YWxfbGVuICs9IGJ1ZmZlcnNbaV0uc2l6ZTsKICB9CiAgYnVmID0ganNfbWFsbG9jKGN0eCwgdG90YWxfbGVuKTsKICBmb3IoaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIG1lbWNweSgmYnVmW3Bvc10sIGJ1ZmZlcnNbaV0uZGF0YSwgYnVmZmVyc1tpXS5zaXplKTsKICAgIHBvcyArPSBidWZmZXJzW2ldLnNpemU7CiAgfQogIHJldCA9IEpTX05ld0FycmF5QnVmZmVyKGN0eCwgYnVmLCB0b3RhbF9sZW4sIGpzX2J5dGVjb2RlX2ZyZWVfZnVuYywgMCwgRkFMU0UpOwpmYWlsOgogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykKICAgIGlmKGJ1ZmZlcnNbaV0uZGF0YSkKICAgICAgaW5wdXRfYnVmZmVyX2ZyZWUoJmJ1ZmZlcnNbaV0sIGN0eCk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19zZWFyY2hhcnJheWJ1ZmZlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1lbW9yeUJsb2NrIGhheXN0YWNrLCBuZWVkbGUsIG1hc2s7CiAgc2l6ZV90IG5fc2l6ZSwgaF9lbmQ7CgogIGlmKCFibG9ja19hcnJheWJ1ZmZlcigmaGF5c3RhY2ssIGFyZ3ZbMF0sIGN0eCkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSAoaGF5c3RhY2spIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKICBpZighYmxvY2tfYXJyYXlidWZmZXIoJm5lZWRsZSwgYXJndlsxXSwgY3R4KSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAyIChoYXlzdGFjaykgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIpOwogIGlmKGFyZ2MgPCAzKSB7CiAgICB1aW50OF90KiBwdHI7CiAgICBwdHJkaWZmX3Qgb2ZzOwoKICAgIGlmKG5lZWRsZS5zaXplIDw9IGhheXN0YWNrLnNpemUgJiYgKHB0ciA9IG1lbW1lbShoYXlzdGFjay5iYXNlLCBoYXlzdGFjay5zaXplLCBuZWVkbGUuYmFzZSwgbmVlZGxlLnNpemUpKSkgewogICAgICBvZnMgPSBwdHIgLSBoYXlzdGFjay5iYXNlOwogICAgICByZXR1cm4gSlNfTmV3SW50NjQoY3R4LCBvZnMpOwogICAgfQoKICAgIHJldHVybiBKU19OVUxMOwogIH0KCiAgaWYoIWJsb2NrX2FycmF5YnVmZmVyKCZtYXNrLCBhcmd2WzJdLCBjdHgpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDMgKG1hc2spIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKCiAgbl9zaXplID0gTUlOX05VTShuZWVkbGUuc2l6ZSwgbWFzay5zaXplKTsKICBoX2VuZCA9IGhheXN0YWNrLnNpemUgLSBuX3NpemU7CgogIC8vIG5haXZlIHNlYXJjaGluZyBhbGdvcml0aG0gKHNsb3cpCiAgZm9yKHNpemVfdCBpID0gMDsgaSA8IGhfZW5kOyBpKyspIHsKICAgIGludCBmb3VuZCA9IDE7CiAgICBmb3Ioc2l6ZV90IGogPSAwOyBqIDwgbl9zaXplOyBqKyspIHsKICAgICAgaWYoKGhheXN0YWNrLmJhc2VbaSArIGpdIF4gbmVlZGxlLmJhc2Vbal0pICYgbWFzay5iYXNlW2pdKSB7CiAgICAgICAgZm91bmQgPSAwOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZihmb3VuZCkgewogICAgICAvKmZvcihzaXplX3QgaiA9IDA7IGogPCBuX3NpemU7IGorKykgewogICAgICAgIHVpbnQ4X3QgeG9ydmFsID0gaGF5c3RhY2suYmFzZVtpICsgal0gXiBuZWVkbGUuYmFzZVtqXTsKICAgICAgICBwcmludGYoIkAoJXp1ICsgJXp1KTsgIiwgaSwgaik7CiAgICAgICAgcHJpbnRmKCIlMDJ4IFhPUiAlMDJ4ID0gJTAyeDsgIiwgaGF5c3RhY2suYmFzZVtpICsgal0sIG5lZWRsZS5iYXNlW2pdLCB4b3J2YWwpOwogICAgICAgIHByaW50ZigiJTAyeCBBTkQgJTAyeCA9ICUwMnhcbiIsIHhvcnZhbCwgbWFzay5iYXNlW2pdLCB4b3J2YWwgJiBtYXNrLmJhc2Vbal0pOwogICAgICB9Ki8KCiAgICAgIHJldHVybiBKU19OZXdJbnQ2NChjdHgsIChpbnQ2NF90KWkpOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX05VTEw7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfbWVtY3B5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgTWVtb3J5QmxvY2sgZHN0ID0gezAsIDB9LCBzcmMgPSB7MCwgMH07CiAgT2Zmc2V0TGVuZ3RoIHNfb2ZmcywgZF9vZmZzOwoKICBpbnQgaSA9IDA7CgogIGlmKCFibG9ja19hcnJheWJ1ZmZlcigmZHN0LCBhcmd2WzBdLCBjdHgpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgKGRzdCkgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIpOwoKICBpKys7CgogIGkgKz0ganNfb2Zmc2V0X2xlbmd0aChjdHgsIGRzdC5zaXplLCBhcmdjIC0gaSwgYXJndiArIGksICZzX29mZnMpOwoKICAvKiBkc3QuYmFzZSArPSBzX29mZnMub2Zmc2V0OwogICBkc3Quc2l6ZSAtPSBzX29mZnMub2Zmc2V0OwogICBkc3Quc2l6ZSA9IE1JTl9OVU0oZHN0LnNpemUsIHNfb2Zmcy5sZW5ndGgpOyovCgogIGlmKGkgPT0gYXJnYyB8fCAhYmxvY2tfYXJyYXlidWZmZXIoJnNyYywgYXJndltpXSwgY3R4KSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAlZCAoc3JjKSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIiwgaSArIDEpOwoKICBpKys7CgogIGkgKz0ganNfb2Zmc2V0X2xlbmd0aChjdHgsIGRzdC5zaXplLCBhcmdjIC0gaSwgYXJndiArIGksICZkX29mZnMpOwoKICAvKiBzcmMuYmFzZSArPSBkX29mZnMub2Zmc2V0OwogICBzcmMuc2l6ZSAtPSBkX29mZnMub2Zmc2V0OwogICBzcmMuc2l6ZSA9IE1JTl9OVU0oc3JjLnNpemUsIGRfb2Zmcy5sZW5ndGgpOyovCgogIHsKICAgIHNpemVfdCBuID0gTUlOX05VTShvZmZzZXRfc2l6ZSgmZF9vZmZzLCBibG9ja19sZW5ndGgoJmRzdCkpLCBvZmZzZXRfc2l6ZSgmc19vZmZzLCBibG9ja19sZW5ndGgoJnNyYykpKTsKCiAgICBpZihuKQogICAgICBtZW1jcHkob2Zmc2V0X2RhdGEoJmRfb2ZmcywgYmxvY2tfZGF0YSgmZHN0KSksIG9mZnNldF9kYXRhKCZzX29mZnMsIGJsb2NrX2RhdGEoJnNyYykpLCBuKTsKCiAgICByZXR1cm4gSlNfTmV3SW50NjQoY3R4LCBuKTsKICB9Cn0KCiNpZmRlZiBIQVZFX0ZNRU1PUEVOCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZm1lbW9wZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICB1aW50OF90KiBwdHI7CiAgc2l6ZV90IGxlbjsKICBpbnQgaSA9IDA7CiAgY29uc3QgY2hhciogbW9kZTsKCiAgaWYoIShwdHIgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIChkc3QpIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKCiAgaSsrOwoKICBpZihpICsgMSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpIHsKICAgIGludDY0X3Qgb2Zmc2V0ID0gMDsKICAgIEpTX1RvSW50NjQoY3R4LCAmb2Zmc2V0LCBhcmd2W2krK10pOwogICAgb2Zmc2V0ID0gTUlOX05VTShsZW4sIG9mZnNldCk7CgogICAgcHRyICs9IG9mZnNldDsKICAgIGxlbiAtPSBvZmZzZXQ7CiAgfQoKICBpZihpICsgMSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpIHsKICAgIGludDY0X3QgbGVuZ3RoID0gMDsKICAgIGlmKCFKU19Ub0ludDY0KGN0eCwgJmxlbmd0aCwgYXJndltpKytdKSkKICAgICAgbGVuID0gTUlOX05VTShsZW4sIGxlbmd0aCk7CiAgfQoKICB7CiAgICBKU0NsYXNzSUQgY2xhc3NfaWQgPSBqc19jbGFzc19maW5kKGN0eCwgIkZJTEUiKTsKICAgIEpTVmFsdWUgb2JqLCBwcm90byA9IEpTX0dldENsYXNzUHJvdG8oY3R4LCBjbGFzc19pZCk7CiAgICBGSUxFKiBmcDsKICAgIEpTU1RERmlsZSogZmlsZTsKICAgIG1vZGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgICBmaWxlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTU1RERmlsZSkpOwogICAgKmZpbGUgPSAoSlNTVERGaWxlKXswLCBUUlVFLCBGQUxTRX07CgogICAgZmlsZS0+ZiA9IGZtZW1vcGVuKHB0ciwgbGVuLCBtb2RlKTsKCiAgICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGNsYXNzX2lkKTsKCiAgICBKU19TZXRPcGFxdWUob2JqLCBmaWxlKTsKCiAgICByZXR1cm4gb2JqOwogIH0KfQojZW5kaWYKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZ2V0cGVyZm9ybWFuY2Vjb3VudGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IHRpbWVzcGVjIHRzOwoKICBjbG9ja19nZXR0aW1lKENMT0NLX01PTk9UT05JQywgJnRzKTsKCiAgcmV0dXJuIEpTX05ld0Zsb2F0NjQoY3R4LCAoZG91YmxlKXRzLnR2X3NlYyAqIDEwMDAgKyAoKGRvdWJsZSl0cy50dl9uc2VjIC8gMWUwNikpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Byb2NsaW5rKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBEeW5CdWYgZGJ1ZiA9IHswfTsKICBjb25zdCBjaGFyKiBsaW5rOwogIGNoYXIgcGF0aFsyNTZdOwogIHNpemVfdCBuOwogIHNzaXplX3QgcjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIEZVTkNfR0VURVhFQ1VUQUJMRTogbGluayA9ICJleGUiOyBicmVhazsKICAgIGNhc2UgRlVOQ19HRVRDV0Q6IGxpbmsgPSAiY3dkIjsgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VUUk9PVDogbGluayA9ICJyb290IjsgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VURkQ6IGxpbmsgPSAiZmQvIjsgYnJlYWs7CiAgfQoKICBuID0gc25wcmludGYocGF0aCwgc2l6ZW9mKHBhdGgpLCAiL3Byb2Mvc2VsZi8lcyIsIGxpbmspOwoKICBpZihtYWdpYyA9PSBGVU5DX0dFVEZEKSB7CiAgICBpbnQzMl90IGZkOwogICAgaWYoYXJnYyA8IDEgfHwgIUpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIE51bWJlciIpOwoKICAgIEpTX1RvSW50MzIoY3R4LCAmZmQsIGFyZ3ZbMF0pOwogICAgc25wcmludGYoJnBhdGhbbl0sIHNpemVvZihwYXRoKSAtIG4sICIlZCIsIGZkKTsKICB9CgogIGpzX2RidWZfaW5pdChjdHgsICZkYnVmKTsKCiAgaWYoKHIgPSBwYXRoX3JlYWRsaW5rKHBhdGgsICZkYnVmKSkgPiAwKSB7CiAgICByZXQgPSBkYnVmX3Rvc3RyaW5nX2ZyZWUoJmRidWYsIGN0eCk7CiAgfSBlbHNlIGlmKHIgPCAwKSB7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Byb2NyZWFkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBEeW5CdWYgZGJ1ZiA9IHswfTsKICBzc2l6ZV90IGksIGogPSAwLCBzaXplLCBuOwogIGNvbnN0IGNoYXIqIGZpbGU7CiAgY2hhciBzZXAgPSAnXG4nOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgRlVOQ19HRVRDT01NQU5ETElORToKICAgICAgZmlsZSA9ICIvcHJvYy9zZWxmL2NtZGxpbmUiOwogICAgICBzZXAgPSAnXDAnOwogICAgICBicmVhazsKICAgIGNhc2UgRlVOQ19HRVRQUk9DTUFQUzoKICAgICAgZmlsZSA9ICIvcHJvYy9zZWxmL21hcHMiOwogICAgICBzZXAgPSAnXG4nOwogICAgICBicmVhazsKICAgIGNhc2UgRlVOQ19HRVRQUk9DTU9VTlRTOgogICAgICBmaWxlID0gIi9wcm9jL3NlbGYvbW91bnRzIjsKICAgICAgc2VwID0gJ1xuJzsKICAgICAgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VUUFJPQ1NUQVQ6CiAgICAgIGZpbGUgPSAiL3Byb2Mvc2VsZi9zdGF0IjsKICAgICAgc2VwID0gJyAnOwogICAgICBicmVhazsKICB9CgogIGpzX2RidWZfaW5pdChjdHgsICZkYnVmKTsKCiAgaWYoKHNpemUgPSBkYnVmX2xvYWQoJmRidWYsIGZpbGUpKSA+IDApIHsKCiAgICB3aGlsZShzaXplID4gMCAmJiBkYnVmLmJ1ZltzaXplIC0gMV0gPT0gJ1xuJykgc2l6ZS0tOwoKICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgICBmb3IoaSA9IDA7IGkgPCBzaXplOyBpICs9IG4gKyAxKSB7CiAgICAgIHNpemVfdCBsZW47CiAgICAgIGxlbiA9IG4gPSBieXRlX2NocigmZGJ1Zi5idWZbaV0sIHNpemUgLSBpLCBzZXApOwogICAgICB3aGlsZShsZW4gPiAwICYmIGlzX3doaXRlc3BhY2VfY2hhcihkYnVmLmJ1ZltpICsgbGVuIC0gMV0pKSBsZW4tLTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGorKywgSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKSZkYnVmLmJ1ZltpXSwgbGVuKSk7CiAgICB9CiAgfQoKICBkYnVmX2ZyZWUoJmRidWYpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2dldHByb3RvdHlwZWNoYWluKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgcmV0OwogIHNpemVfdCBqID0gMDsKCiAgaWYoYXJnYyA8IDEgfHwgIUpTX0lzT2JqZWN0KGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgb2JqZWN0IGV4Y2VwdGVkIik7CgogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIGZvcihwcm90byA9IGFyZ3ZbMF07ICFKU19Jc0V4Y2VwdGlvbihwcm90byk7IHByb3RvID0gSlNfR2V0UHJvdG90eXBlKGN0eCwgcHJvdG8pKSB7CgogICAgaWYoaiA+IDApCiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBqIC0gMSwgcHJvdG8pOwogICAgaisrOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19ocnRpbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzdHJ1Y3QgdGltZXNwZWMgdHM7CiAgSlNWYWx1ZSByZXQ7CgogIGNsb2NrX2dldHRpbWUoQ0xPQ0tfTU9OT1RPTklDLCAmdHMpOwoKICBpZihhcmdjID49IDEgJiYgSlNfSXNBcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICBpbnQ2NF90IHNlYywgbnNlYzsKICAgIEpTVmFsdWUgcHNlYywgcG5zZWM7CgogICAgcHNlYyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlswXSwgMCk7CiAgICBwbnNlYyA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlswXSwgMSk7CgogICAgSlNfVG9JbnQ2NChjdHgsICZzZWMsIHBzZWMpOwogICAgSlNfVG9JbnQ2NChjdHgsICZuc2VjLCBwbnNlYyk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBwc2VjKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHBuc2VjKTsKCiAgICBpZihuc2VjID4gdHMudHZfbnNlYykgewogICAgICB0cy50dl9zZWMgLT0gMTsKICAgICAgdHMudHZfbnNlYyArPSAxMDAwMDAwMDAwOwogICAgfQoKICAgIHRzLnR2X3NlYyAtPSBzZWM7CiAgICB0cy50dl9uc2VjIC09IG5zZWM7CiAgfQoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBKU19OZXdJbnQ2NChjdHgsIHRzLnR2X3NlYykpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdJbnQ2NChjdHgsIHRzLnR2X25zZWMpKTsKCiAgcmV0dXJuIHJldDsKfQoKLypzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3JlYWxwYXRoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgY2hhciByZXNvbHZlZFtQQVRIX01BWF07CiAgY29uc3QgY2hhciogcGF0aCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogIGNoYXIqIHJlc3VsdDsKCiNpZm5kZWYgX193YXNpX18KICBpZigocmVzdWx0ID0gcmVhbHBhdGgocGF0aCwgcmVzb2x2ZWQpKSkKI2VuZGlmCiAgICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgcmVzdWx0KTsKICByZXR1cm4gSlNfTlVMTDsKfSovCgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2ZubWF0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzaXplX3QgcGxlbiwgc2xlbjsKICBpbnQzMl90IGZsYWdzID0gMCwgcmV0OwoKICBjb25zdCBjaGFyKiBwYXR0ZXJuID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJnBsZW4sIGFyZ3ZbMF0pOwogIGNvbnN0IGNoYXIqIHN0cmluZyA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZzbGVuLCBhcmd2WzFdKTsKCiAgaWYoYXJnYyA+PSAzKQogICAgSlNfVG9JbnQzMihjdHgsICZmbGFncywgYXJndlsyXSk7CgogIHJldCA9IHBhdGhfZm5tYXRjaChwYXR0ZXJuLCBwbGVuLCBzdHJpbmcsIHNsZW4sIGZsYWdzKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHBhdHRlcm4pOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyaW5nKTsKICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsICFyZXQpOwp9CgojaWZuZGVmIF9XSU4zMgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3VuYW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IHV0c25hbWUgdW47CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKHVuYW1lKCZ1bikgIT0gLTEpIHsKICAgIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAic3lzbmFtZSIsIEpTX05ld1N0cmluZyhjdHgsIHVuLnN5c25hbWUpKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibm9kZW5hbWUiLCBKU19OZXdTdHJpbmcoY3R4LCB1bi5ub2RlbmFtZSkpOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJyZWxlYXNlIiwgSlNfTmV3U3RyaW5nKGN0eCwgdW4ucmVsZWFzZSkpOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ2ZXJzaW9uIiwgSlNfTmV3U3RyaW5nKGN0eCwgdW4udmVyc2lvbikpOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJtYWNoaW5lIiwgSlNfTmV3U3RyaW5nKGN0eCwgdW4ubWFjaGluZSkpOwogIH0KCiAgcmV0dXJuIHJldDsKfQojZW5kaWYKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfYnRvYShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0OwogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKICBzaXplX3QgZW5jbGVuID0gYjY0X2dldF9lbmNvZGVkX2J1ZmZlcl9zaXplKGlucHV0LnNpemUpOwogIHVpbnQ4X3QqIGVuY2J1ZiA9IGpzX21hbGxvYyhjdHgsIGVuY2xlbik7CgogIGI2NF9lbmNvZGUoaW5wdXQuZGF0YSwgaW5wdXQuc2l6ZSwgZW5jYnVmKTsKCiAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWVuY2J1ZiwgZW5jbGVuKTsKICBqc19mcmVlKGN0eCwgZW5jYnVmKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2F0b2IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldDsKICBJbnB1dEJ1ZmZlciBpbnB1dCA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAgc2l6ZV90IGRlY2xlbiA9IGI2NF9nZXRfZGVjb2RlZF9idWZmZXJfc2l6ZShpbnB1dC5zaXplKTsKICB1aW50OF90KiBkZWNidWYgPSBqc19tYWxsb2MoY3R4LCBkZWNsZW4pOwoKICBiNjRfZGVjb2RlKGlucHV0LmRhdGEsIGlucHV0LnNpemUsIGRlY2J1Zik7CgogIHJldCA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIChjb25zdCB1aW50OF90KilkZWNidWYsIGRlY2xlbik7CiAganNfZnJlZShjdHgsIGRlY2J1Zik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19jb21waWxlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjb25zdCBjaGFyKiBmaWxlID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgQk9PTCBpc19tb2QgPSBGQUxTRTsKICB1aW50OF90KiBidWY7CiAgc2l6ZV90IGxlbjsKICBpbnQzMl90IGZsYWdzID0gSlNfRVZBTF9UWVBFX0dMT0JBTDsKCiAgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKSB7CiAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzFdKTsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzQm9vbChhcmd2WzFdKSkgewogICAgaWYoSlNfVG9Cb29sKGN0eCwgYXJndlsxXSkpCiAgICAgIGZsYWdzIHw9IEpTX0VWQUxfVFlQRV9NT0RVTEU7CiAgfQogIGlzX21vZCA9ICEhKGZsYWdzICYgSlNfRVZBTF9UWVBFX01PRFVMRSk7CiAgaWYoc3RyX2VuZHMoZmlsZSwgIi5qc20iKSkKICAgIGlzX21vZCA9IFRSVUU7CiAgaWYoKGJ1ZiA9IGpzX2xvYWRfZmlsZShjdHgsICZsZW4sIGZpbGUpKSkgewogICAgaWYoIWlzX21vZCAmJiBKU19EZXRlY3RNb2R1bGUoKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKSkKICAgICAgaXNfbW9kID0gVFJVRTsKICAgIGZsYWdzIHw9IChpc19tb2QgPyBKU19FVkFMX1RZUEVfTU9EVUxFIDogSlNfRVZBTF9UWVBFX0dMT0JBTCk7CiAgICByZXQgPSBKU19FdmFsKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuLCBmaWxlLCBmbGFncyB8IChpc19tb2QgPyBKU19FVkFMX0ZMQUdfQ09NUElMRV9PTkxZIDogMCkpOwoKICAgIGlmKGlzX21vZCAmJiAhKGZsYWdzICYgSlNfRVZBTF9GTEFHX0NPTVBJTEVfT05MWSkpIHsKICAgICAgcmV0ID0gSlNfRXZhbEZ1bmN0aW9uKGN0eCwgcmV0KTsKICAgIH0KICB9IGVsc2UgewogICAgcmV0ID0gSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJjb3VsZCBub3QgbG9hZCAnJXMnOiAlcyIsIGZpbGUsIHN0cmVycm9yKGVycm5vKSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfd3JpdGVfb2JqZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgc2l6ZV90IHNpemU7CiAgdWludDhfdCogYnl0ZWNvZGU7CgogIGlmKChieXRlY29kZSA9IEpTX1dyaXRlT2JqZWN0KGN0eCwgJnNpemUsIGFyZ3ZbMF0sIEpTX1dSSVRFX09CSl9CWVRFQ09ERSkpKSB7CiAgICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGJ5dGVjb2RlLCBzaXplLCBqc19ieXRlY29kZV9mcmVlX2Z1bmMsIDAsIEZBTFNFKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19yZWFkX29iamVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKCiAgcmV0dXJuIEpTX1JlYWRPYmplY3QoY3R4LCBpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBKU19SRUFEX09CSl9CWVRFQ09ERSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZ2V0eChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CgogIGludDMyX3QgcmV0ID0gMDsKCiAgc3dpdGNoKG1hZ2ljKSB7CiNpZm5kZWYgX193YXNpX18KICAgIGNhc2UgRlVOQ19HRVRQSUQ6IHsKICAgICAgcmV0ID0gZ2V0cGlkKCk7CiAgICAgIGJyZWFrOwogICAgfQojZW5kaWYKI2lmICFkZWZpbmVkKF9fd2FzaV9fKSAmJiAhZGVmaW5lZChfV0lOMzIpCiAgICBjYXNlIEZVTkNfR0VUUFBJRDogewogICAgICByZXQgPSBnZXRwcGlkKCk7CiAgICAgIGJyZWFrOwogICAgfQojZW5kaWYKICAgIGNhc2UgRlVOQ19HRVRTSUQ6IHsKICAgICAgLy8gc3JldCA9IGdldHNpZCgpOwogICAgICBicmVhazsKICAgIH0KI2lmICFkZWZpbmVkKF9fd2FzaV9fKSAmJiAhZGVmaW5lZChfV0lOMzIpCiAgICBjYXNlIEZVTkNfR0VUVUlEOiB7CiAgICAgIHJldCA9IGdldHVpZCgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19HRVRHSUQ6IHsKICAgICAgcmV0ID0gZ2V0Z2lkKCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX0dFVEVVSUQ6IHsKICAgICAgcmV0ID0gZ2V0ZXVpZCgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19HRVRFR0lEOiB7CiAgICAgIHJldCA9IGdldGVnaWQoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEZVTkNfU0VUVUlEOiB7CiAgICAgIGludDMyX3QgdWlkOwogICAgICBKU19Ub0ludDMyKGN0eCwgJnVpZCwgYXJndlswXSk7CiAgICAgIHJldCA9IHNldHVpZCh1aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19TRVRHSUQ6IHsKICAgICAgaW50MzJfdCBnaWQ7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmZ2lkLCBhcmd2WzBdKTsKICAgICAgcmV0ID0gc2V0Z2lkKGdpZCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX1NFVEVVSUQ6IHsKICAgICAgaW50MzJfdCBldWlkOwogICAgICBKU19Ub0ludDMyKGN0eCwgJmV1aWQsIGFyZ3ZbMF0pOwogICAgICByZXQgPSBzZXRldWlkKGV1aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19TRVRFR0lEOiB7CiAgICAgIGludDMyX3QgZWdpZDsKICAgICAgSlNfVG9JbnQzMihjdHgsICZlZ2lkLCBhcmd2WzBdKTsKICAgICAgcmV0ID0gc2V0ZWdpZChlZ2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiNlbmRpZgogIH0KICBpZihyZXQgPT0gLTEpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiVzKCkgZmFpbGVkOiAlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2V0cGlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRwcGlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRzaWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdldHVpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2V0Z2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRldWlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRlZ2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZXR1aWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNldGdpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2V0ZXVpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2V0ZWdpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pW21hZ2ljIC0gRlVOQ19HRVRQSURdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlcnJvcihlcnJubykpOwoKICByZXR1cm4gSlNfTmV3SW50MzIoY3R4LCByZXQpOwp9CgplbnVtIHsKICBWQUxVRV9UWVBFID0gMCwKICBWQUxVRV9UQUcsCiAgVkFMVUVfUFRSLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfbWlzY192YWx1ZXR5cGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgVkFMVUVfVFlQRTogewogICAgICBjb25zdCBjaGFyKiB0eXBlc3RyID0ganNfdmFsdWVfdHlwZXN0cihjdHgsIGFyZ3ZbMF0pOwogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCB0eXBlc3RyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFZBTFVFX1RBRzogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIEpTX1ZBTFVFX0dFVF9UQUcoYXJndlswXSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVkFMVUVfUFRSOiB7CiAgICAgIHZvaWQqIHB0ciA9IEpTX1ZBTFVFX0dFVF9QVFIoYXJndlswXSk7CiAgICAgIGNoYXIgYnVmWzEyOF07CgogICAgICBzbnByaW50ZihidWYsIHNpemVvZihidWYpLCAiJXAiLCBwdHIpOwogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBidWYpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19ldmFsYmluYXJ5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgQk9PTCBsb2FkX29ubHkgPSBGQUxTRTsKICBKU1ZhbHVlQ29uc3Qgb2JqOwogIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKGFyZ3ZbMF0pOwogIGlmKGFyZ2MgPj0gMikKICAgIGxvYWRfb25seSA9IEpTX1RvQm9vbChjdHgsIGFyZ3ZbMV0pOwoKICBpZih0YWcgIT0gSlNfVEFHX01PRFVMRSAmJiB0YWcgIT0gSlNfVEFHX0ZVTkNUSU9OX0JZVEVDT0RFKQogICAgb2JqID0ganNfbWlzY19yZWFkX29iamVjdChjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2KTsKICBlbHNlCiAgICBvYmogPSBhcmd2WzBdOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICByZXR1cm4gb2JqOwoKICB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKG9iaik7CgogIGlmKHRhZyAhPSBKU19UQUdfTU9EVUxFICYmIHRhZyAhPSBKU19UQUdfRlVOQ1RJT05fQllURUNPREUpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAib2JqIGlzIG5vdCBNT0RVTEUgbm9yIEJZVEVDT0RFIik7CgogIGlmKGxvYWRfb25seSkgewogICAgaWYodGFnID09IEpTX1RBR19NT0RVTEUpCiAgICAgIGpzX21vZHVsZV9zZXRfaW1wb3J0X21ldGEoY3R4LCBvYmosIEZBTFNFLCBGQUxTRSk7CiAgfSBlbHNlIHsKICAgIGlmKHRhZyA9PSBKU19UQUdfTU9EVUxFKSB7CiAgICAgIGlmKEpTX1Jlc29sdmVNb2R1bGUoY3R4LCBvYmopIDwgMCkgewogICAgICAgIEpTTW9kdWxlRGVmKiBtID0gSlNfVkFMVUVfR0VUX1BUUihvYmopOwogICAgICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgbS0+bW9kdWxlX25hbWUpOwogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJGYWlsZWQgcmVzb2x2aW5nIG1vZHVsZSAnJXMnIiwgbmFtZSk7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0KICAgICAganNfbW9kdWxlX3NldF9pbXBvcnRfbWV0YShjdHgsIG9iaiwgRkFMU0UsIFRSVUUpOwogICAgfQogICAgcmV0ID0gSlNfRXZhbEZ1bmN0aW9uKGN0eCwgb2JqKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19vcGNvZGVfYXJyYXkoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTT3BDb2RlKiBvcGNvZGUpIHsKICBKU1ZhbHVlIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+c2l6ZSkpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdVaW50MzIoY3R4LCBvcGNvZGUtPm5fcG9wKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wdXNoKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+Zm10KSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDQsIEpTX05ld1N0cmluZyhjdHgsIG9wY29kZS0+bmFtZSkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfb3Bjb2RlX29iamVjdChKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNPcENvZGUqIG9wY29kZSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJzaXplIiwgSlNfTmV3VWludDMyKGN0eCwgb3Bjb2RlLT5zaXplKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJuX3BvcCIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wb3ApKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgIm5fcHVzaCIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wdXNoKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJmbXQiLCBKU19OZXdVaW50MzIoY3R4LCBvcGNvZGUtPmZtdCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibmFtZSIsIEpTX05ld1N0cmluZyhjdHgsIG9wY29kZS0+bmFtZSkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfb3Bjb2RlcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBzaXplX3QgaSwgaiwgbGVuID0gY291bnRvZihqc19vcGNvZGVzKTsKICBCT09MIGFzX29iamVjdCA9IEZBTFNFOwoKICBpZihhcmdjID49IDEpCiAgICBhc19vYmplY3QgPSBKU19Ub0Jvb2woY3R4LCBhcmd2WzBdKTsKCiAgZm9yKGkgPSAwLCBqID0gMDsgaSA8IGxlbjsgaSsrKSB7CgogICAgaWYoaSA+PSBPUF9URU1QX1NUQVJUICYmIGkgPCBPUF9URU1QX0VORCkKICAgICAgY29udGludWU7CgogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGorKywgKGFzX29iamVjdCA/IGpzX21pc2Nfb3Bjb2RlX29iamVjdCA6IGpzX21pc2Nfb3Bjb2RlX2FycmF5KShjdHgsICZqc19vcGNvZGVzW2ldKSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2dldF9ieXRlY29kZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgYXJndlswXSkpIHsKICAgIEpTT2JqZWN0KiBvYmogPSBKU19WQUxVRV9HRVRfT0JKKGFyZ3ZbMF0pOwogICAgSlNGdW5jdGlvbkJ5dGVjb2RlKiBmbmJjOwoKICAgIGlmKChmbmJjID0gb2JqLT51LmZ1bmMuZnVuY3Rpb25fYnl0ZWNvZGUpKSB7CiAgICAgIHJldCA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGZuYmMtPmJ5dGVfY29kZV9idWYsIGZuYmMtPmJ5dGVfY29kZV9sZW4pOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKZW51bSB7CiAgQVRPTV9UT19TVFJJTkcgPSAwLAogIEFUT01fVE9fVkFMVUUsCiAgVkFMVUVfVE9fQVRPTSwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfYXRvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBBVE9NX1RPX1NUUklORzogewogICAgICBpbnQzMl90IGF0b207CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmYXRvbSwgYXJndlswXSk7CiAgICAgIHJldCA9IEpTX0F0b21Ub1N0cmluZyhjdHgsIGF0b20pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgQVRPTV9UT19WQUxVRTogewogICAgICBpbnQzMl90IGF0b207CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmYXRvbSwgYXJndlswXSk7CiAgICAgIHJldCA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBWQUxVRV9UT19BVE9NOiB7CiAgICAgIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCBhcmd2WzBdKTsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgYXRvbSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBHRVRfQ0xBU1NfSUQgPSAwLAogIEdFVF9DTEFTU19OQU1FLAogIEdFVF9DTEFTU19BVE9NLAogIEdFVF9DTEFTU19DT1VOVCwKICBHRVRfQ0xBU1NfUFJPVE8sCiAgR0VUX0NMQVNTX0NPTlNUUlVDVE9SLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19jbGFzc2lkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU09iamVjdCogb2JqOwogIGludDMyX3QgY2xhc3NfaWQgPSAwOwoKICBpZihhcmdjID49IDEpIHsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgICBKU19Ub0ludDMyKGN0eCwgJmNsYXNzX2lkLCBhcmd2WzBdKTsKICAgIGVsc2UgaWYoKG9iaiA9IGpzX3ZhbHVlX29iaihhcmd2WzBdKSkpCiAgICAgIGNsYXNzX2lkID0gb2JqLT5jbGFzc19pZDsKICB9CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBHRVRfQ0xBU1NfSUQ6IHsKICAgICAgaWYoY2xhc3NfaWQgPiAwKQogICAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGNsYXNzX2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19OQU1FOiB7CiAgICAgIGlmKGNsYXNzX2lkID4gMCkgewogICAgICAgIEpTQXRvbSBhdG9tOwogICAgICAgIGlmKChhdG9tID0ganNfY2xhc3NfYXRvbShjdHgsIGNsYXNzX2lkKSkpCiAgICAgICAgICByZXQgPSBKU19BdG9tVG9WYWx1ZShjdHgsIGF0b20pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBHRVRfQ0xBU1NfQVRPTTogewogICAgICBpZihjbGFzc19pZCA+IDApIHsKICAgICAgICBKU0F0b20gYXRvbTsKICAgICAgICBpZigoYXRvbSA9IGpzX2NsYXNzX2F0b20oY3R4LCBjbGFzc19pZCkpKQogICAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBhdG9tKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgR0VUX0NMQVNTX0NPVU5UOiB7CiAgICAgIHVpbnQzMl90IGksIGNsYXNzX2NvdW50ID0gY3R4LT5ydC0+Y2xhc3NfY291bnQ7CiAgICAgIGZvcihpID0gMTsgaSA8IGNsYXNzX2NvdW50OyBpKyspCiAgICAgICAgaWYoIUpTX0lzUmVnaXN0ZXJlZENsYXNzKGN0eC0+cnQsIGkpKQogICAgICAgICAgYnJlYWs7CgogICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCBpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19QUk9UTzogewogICAgICBpZihjbGFzc19pZCA+IDApCiAgICAgICAgcmV0ID0gSlNfR2V0Q2xhc3NQcm90byhjdHgsIGNsYXNzX2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19DT05TVFJVQ1RPUjogewogICAgICBpZihjbGFzc19pZCA+IDApIHsKICAgICAgICBKU1ZhbHVlIHByb3RvID0gSlNfR2V0Q2xhc3NQcm90byhjdHgsIGNsYXNzX2lkKTsKICAgICAgICBpZihKU19Jc09iamVjdChwcm90bykpCiAgICAgICAgICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHByb3RvLCAiY29uc3RydWN0b3IiKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCgpqc19taXNjX2JpdGZpZWxkX3RvX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgY29uc3QgdWludDhfdCogYnVmOwogIHNpemVfdCBsZW47CiAgaW50NjRfdCBvZmZzZXQgPSAwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZihhcmdjID49IDIpCiAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYXJndlsxXSk7CgogIGlmKChidWYgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkgewogICAgc2l6ZV90IGksIGogPSAwLCBiaXRzID0gbGVuICogODsKICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgZm9yKGkgPSAwOyBpIDwgYml0czsgaSsrKSB7CiAgICAgIGlmKGJ1ZltpID4+IDNdICYgKDF1IDw8IChpICYgMHg3KSkpIHsKICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaisrLCBKU19OZXdJbnQ2NChjdHgsIGkgKyBvZmZzZXQpKTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2FycmF5X3RvX2JpdGZpZWxkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc2l6ZV90IGxlbjsKICBpbnQ2NF90IG9mZnNldCA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGFyZ2MgPj0gMikKICAgIEpTX1RvSW50NjQoY3R4LCAmb2Zmc2V0LCBhcmd2WzFdKTsKCiAgaWYoIUpTX0lzQXJyYXkoY3R4LCBhcmd2WzBdKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5Iik7CgogIGlmKChsZW4gPSBqc19hcnJheV9sZW5ndGgoY3R4LCBhcmd2WzBdKSkpIHsKICAgIHNpemVfdCBpOwogICAgaW50NjRfdCBtYXggPSAtMTsKICAgIHVpbnQ4X3QqIGJ1ZnB0cjsKICAgIHNpemVfdCBidWZzaXplOwoKICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbMF0sIGkpOwogICAgICB1aW50MzJfdCBudW1iZXI7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJm51bWJlciwgdmFsdWUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogICAgICBpZihtYXggPCBudW1iZXIpCiAgICAgICAgbWF4ID0gbnVtYmVyOwogICAgfQogICAgYnVmc2l6ZSA9ICgobWF4ICsgMSkgKyA3KSA+PiAzOwogICAgaWYoKGJ1ZnB0ciA9IGpzX21hbGxvY3ooY3R4LCBidWZzaXplKSkgPT0gMCkKICAgICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzBdLCBpKTsKICAgICAgdWludDMyX3QgbnVtYmVyOwogICAgICBKU19Ub1VpbnQzMihjdHgsICZudW1iZXIsIHZhbHVlKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICAgICAgbnVtYmVyIC09IG9mZnNldDsKCiAgICAgIGJ1ZnB0cltudW1iZXIgPj4gM10gfD0gMXUgPDwgKG51bWJlciAmIDB4Nyk7CiAgICB9CgogICAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBidWZwdHIsIGJ1ZnNpemUsIGpzX2FycmF5YnVmZmVyX2ZyZWVfZnVuYywgTlVMTCwgRkFMU0UpOwogIH0KICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSQU5ET01fUkFORCwKICBSQU5ET01fUkFOREksCiAgUkFORE9NX1JBTkRGLAogIFJBTkRPTV9TUkFORCwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfcmFuZG9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICB1aW50MzJfdCBib3VuZCA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgSlNfVG9VaW50MzIoY3R4LCAmYm91bmQsIGFyZ3ZbMF0pOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkFORE9NX1JBTkQ6IHsKICAgICAgdWludDMyX3QgbnVtID0gYXJnYyA+IDAgPyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MoYm91bmQpIDogcGNnMzJfcmFuZG9tKCk7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIG51bSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSQU5ET01fUkFOREk6IHsKICAgICAgaW50MzJfdCBudW0gPSBhcmdjID4gMCA/IHBjZzMyX3JhbmRvbV9ib3VuZGVkX2RpdmlzaW9ubGVzcyhib3VuZCAqIDIpIC0gYm91bmQgOiBwY2czMl9yYW5kb20oKTsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBudW0pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkFORE9NX1JBTkRGOiB7CiAgICAgIHVpbnQzMl90IG51bSA9IHBjZzMyX3JhbmRvbSgpOwogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgKGRvdWJsZSludW0gLyBVSU5UMzJfTUFYKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJBTkRPTV9TUkFORDogewogICAgICB1aW50MzJfdCBzdCA9IDA7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJnN0LCBhcmd2WzBdKTsKICAgICAgcGNnMzJfaW5pdF9zdGF0ZShzdCk7CiAgICAgIHJldCA9IEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX21pc2NfZXNjYXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIGlmKGlucHV0LmRhdGEpIHsKICAgIER5bkJ1ZiBvdXRwdXQ7CiAgICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKICAgIGRidWZfcHV0X2VzY2FwZWQoJm91dHB1dCwgKGNvbnN0IGNoYXIqKWlucHV0LmRhdGEsIGlucHV0LnNpemUpOwogICAgcmV0dXJuIGRidWZfdG9zdHJpbmdfZnJlZSgmb3V0cHV0LCBjdHgpOwogIH0KICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzBdKTsKfQoKSlNWYWx1ZQpqc19taXNjX3F1b3RlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIER5bkJ1ZiBvdXRwdXQ7CiAgY2hhciBxdW90ZSA9ICciJywKICAgICAgIHRhYmxlWzI1Nl0gPSB7CiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgJ2InLCAgJ3QnLCAgJ24nLCAgJ3YnLCAgJ2YnLCAgJ3InLCAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAnXFwnLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICB9OwoKICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKICBpZihhcmdjID49IDIpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwogICAgaWYoc3RyWzBdKQogICAgICBxdW90ZSA9IHN0clswXTsKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKICB9CgogIHRhYmxlWyh1bnNpZ25lZClxdW90ZV0gPSBxdW90ZTsKCiAgaWYocXVvdGUgPT0gJ2AnKSB7CiAgICB0YWJsZVsodW5zaWduZWQpJ1xyJ10gPSAwOwogICAgdGFibGVbKHVuc2lnbmVkKSdcbiddID0gMDsKICAgIHRhYmxlWyh1bnNpZ25lZCknJCddID0gJyQnOwogIH0KCiAgZGJ1Zl9wdXRjKCZvdXRwdXQsIHF1b3RlKTsKICBkYnVmX3B1dF9lc2NhcGVkX3RhYmxlKCZvdXRwdXQsIChjb25zdCBjaGFyKilpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCB0YWJsZSk7CiAgZGJ1Zl9wdXRjKCZvdXRwdXQsIHF1b3RlKTsKICByZXR1cm4gZGJ1Zl90b3N0cmluZ19mcmVlKCZvdXRwdXQsIGN0eCk7Cn0KCkpTVmFsdWUKanNfbWlzY19lcnJvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIGludDMyX3QgZXJybnVtID0gZXJybm87CiAgY29uc3QgY2hhciogc3lzY2FsbCA9IDA7CiAgSlNWYWx1ZSBlcnI7CiAgaWYoYXJnYyA+PSAxKQogICAgSlNfVG9JbnQzMihjdHgsICZlcnJudW0sIGFyZ3ZbMF0pOwogIGlmKGFyZ2MgPj0gMikKICAgIHN5c2NhbGwgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgZXJyID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZXJyLCAiZXJybm8iLCBKU19OZXdJbnQzMihjdHgsIGVycm51bSkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZXJyLCAic3lzY2FsbCIsIEpTX05ld1N0cmluZyhjdHgsIHN5c2NhbGwpKTsKCiAgaWYoc3lzY2FsbCkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3lzY2FsbCk7CgogIHJldHVybiBlcnI7Cn0KZW51bSB7CiAgSVNfQVJSQVksCiAgSVNfQklHREVDSU1BTCwKICBJU19CSUdGTE9BVCwKICBJU19CSUdJTlQsCiAgSVNfQk9PTCwKICBJU19DRlVOQ1RJT04sCiAgSVNfQ09OU1RSVUNUT1IsCiAgSVNfRU1QVFlTVFJJTkcsCiAgSVNfRVJST1IsCiAgSVNfRVhDRVBUSU9OLAogIElTX0VYVEVOU0lCTEUsCiAgSVNfRlVOQ1RJT04sCiAgSVNfSFRNTEREQSwKICBJU19JTlNUQU5DRU9GLAogIElTX0lOVEVHRVIsCiAgSVNfSk9CUEVORElORywKICBJU19MSVZFT0JKRUNULAogIElTX05VTEwsCiAgSVNfTlVNQkVSLAogIElTX09CSkVDVCwKICBJU19SRUdJU1RFUkVEQ0xBU1MsCiAgSVNfU1RSSU5HLAogIElTX1NZTUJPTCwKICBJU19VTkNBVENIQUJMRUVSUk9SLAogIElTX1VOREVGSU5FRCwKICBJU19VTklOSVRJQUxJWkVELAp9OwoKSlNWYWx1ZQpqc19taXNjX2lzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBpbnQzMl90IHIgPSAtMTsKICBKU1ZhbHVlQ29uc3QgYXJnID0gYXJndlswXTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIElTX0FSUkFZOiByID0gSlNfSXNBcnJheShjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19CSUdERUNJTUFMOiByID0gSlNfSXNCaWdEZWNpbWFsKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19CSUdGTE9BVDogciA9IEpTX0lzQmlnRmxvYXQoYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0JJR0lOVDogciA9IEpTX0lzQmlnSW50KGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0JPT0w6IHIgPSBKU19Jc0Jvb2woYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0NGVU5DVElPTjogciA9IEpTX0dldENsYXNzSUQoYXJnKSA9PSBKU19DTEFTU19DX0ZVTkNUSU9OOyBicmVhazsKICAgIGNhc2UgSVNfQ09OU1RSVUNUT1I6IHIgPSBKU19Jc0NvbnN0cnVjdG9yKGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0VNUFRZU1RSSU5HOiByID0gSlNfVkFMVUVfR0VUX1RBRyhhcmcpID09IEpTX1RBR19TVFJJTkcgJiYgSlNfVkFMVUVfR0VUX1NUUklORyhhcmcpLT5sZW4gPT0gMDsgYnJlYWs7CiAgICBjYXNlIElTX0VSUk9SOiByID0gSlNfSXNFcnJvcihjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19FWENFUFRJT046IHIgPSBKU19Jc0V4Y2VwdGlvbihhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfRVhURU5TSUJMRTogciA9IEpTX0lzRXh0ZW5zaWJsZShjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19GVU5DVElPTjogciA9IEpTX0lzRnVuY3Rpb24oY3R4LCBhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfSFRNTEREQTogciA9IEpTX1ZBTFVFX0dFVF9UQUcoYXJnKSA9PSBKU19UQUdfT0JKRUNUICYmIEpTX1ZBTFVFX0dFVF9PQkooYXJnKS0+aXNfSFRNTEREQTsgYnJlYWs7CiAgICBjYXNlIElTX0lOU1RBTkNFT0Y6IHIgPSBKU19Jc0luc3RhbmNlT2YoY3R4LCBhcmcsIGFyZ3ZbMV0pOyBicmVhazsKICAgIGNhc2UgSVNfSU5URUdFUjogciA9IEpTX0lzTnVtYmVyKGFyZykgJiYgSlNfVkFMVUVfR0VUX1RBRyhhcmcpICE9IEpTX1RBR19GTE9BVDY0OyBicmVhazsKICAgIGNhc2UgSVNfSk9CUEVORElORzogciA9IEpTX0lzSm9iUGVuZGluZyhKU19HZXRSdW50aW1lKGN0eCkpOyBicmVhazsKICAgIGNhc2UgSVNfTElWRU9CSkVDVDogciA9IEpTX0lzTGl2ZU9iamVjdChKU19HZXRSdW50aW1lKGN0eCksIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19OVUxMOiByID0gSlNfSXNOdWxsKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19OVU1CRVI6IHIgPSBKU19Jc051bWJlcihhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfT0JKRUNUOiByID0gSlNfSXNPYmplY3QoYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX1JFR0lTVEVSRURDTEFTUzogciA9ICFKU19Ub0ludDMyKGN0eCwgJnIsIGFyZykgJiYgSlNfSXNSZWdpc3RlcmVkQ2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCByKTsgYnJlYWs7CiAgICBjYXNlIElTX1NUUklORzogciA9IEpTX0lzU3RyaW5nKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19TWU1CT0w6IHIgPSBKU19Jc1N5bWJvbChhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfVU5DQVRDSEFCTEVFUlJPUjogciA9IEpTX0lzVW5jYXRjaGFibGVFcnJvcihjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19VTkRFRklORUQ6IHIgPSBKU19Jc1VuZGVmaW5lZChhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfVU5JTklUSUFMSVpFRDogciA9IEpTX0lzVW5pbml0aWFsaXplZChhcmcpOyBicmVhazsKICB9CiAgaWYociA9PSAtMSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAianNfbWlzY19pcyAlZCIsIG1hZ2ljKTsKICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsIHIgPj0gMSk7Cn0KCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19taXNjX2Z1bmNzW10gPSB7CiNpZm5kZWYgX193YXNpX18KLy8gSlNfQ0ZVTkNfREVGKCJyZWFscGF0aCIsIDEsIGpzX21pc2NfcmVhbHBhdGgpLAojZW5kaWYKICAgIEpTX0NGVU5DX0RFRigiZm5tYXRjaCIsIDMsIGpzX21pc2NfZm5tYXRjaCksCiAgICBKU19DRlVOQ19ERUYoInRvU3RyaW5nIiwgMSwganNfbWlzY190b3N0cmluZyksCiAgICBKU19DRlVOQ19ERUYoInRvUG9pbnRlciIsIDEsIGpzX21pc2NfdG9wb2ludGVyKSwKICAgIEpTX0NGVU5DX0RFRigidG9BcnJheUJ1ZmZlciIsIDEsIGpzX21pc2NfdG9hcnJheWJ1ZmZlciksCiAgICBKU19DRlVOQ19ERUYoImR1cEFycmF5QnVmZmVyIiwgMSwganNfbWlzY19zbGljZSksCiAgICBKU19DRlVOQ19ERUYoInJlc2l6ZUFycmF5QnVmZmVyIiwgMSwganNfbWlzY19yZXNpemVhcnJheWJ1ZmZlciksCiAgICBKU19DRlVOQ19ERUYoImNvbmNhdCIsIDEsIGpzX21pc2NfY29uY2F0KSwKICAgIEpTX0NGVU5DX0RFRigic2VhcmNoQXJyYXlCdWZmZXIiLCAyLCBqc19taXNjX3NlYXJjaGFycmF5YnVmZmVyKSwKICAgIEpTX0NGVU5DX0RFRigibWVtY3B5IiwgMiwganNfbWlzY19tZW1jcHkpLAojaWZkZWYgSEFWRV9GTUVNT1BFTgogICAgSlNfQ0ZVTkNfREVGKCJmbWVtb3BlbiIsIDIsIGpzX21pc2NfZm1lbW9wZW4pLAojZW5kaWYKICAgIEpTX0NGVU5DX0RFRigiZ2V0UGVyZm9ybWFuY2VDb3VudGVyIiwgMCwganNfbWlzY19nZXRwZXJmb3JtYW5jZWNvdW50ZXIpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRFeGVjdXRhYmxlIiwgMCwganNfbWlzY19wcm9jbGluaywgRlVOQ19HRVRFWEVDVVRBQkxFKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Q3VycmVudFdvcmtpbmdEaXJlY3RvcnkiLCAwLCBqc19taXNjX3Byb2NsaW5rLCBGVU5DX0dFVENXRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFJvb3REaXJlY3RvcnkiLCAwLCBqc19taXNjX3Byb2NsaW5rLCBGVU5DX0dFVFJPT1QpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRGaWxlRGVzY3JpcHRvciIsIDAsIGpzX21pc2NfcHJvY2xpbmssIEZVTkNfR0VURkQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDb21tYW5kTGluZSIsIDAsIGpzX21pc2NfcHJvY3JlYWQsIEZVTkNfR0VUQ09NTUFORExJTkUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRQcm9jTWFwcyIsIDAsIGpzX21pc2NfcHJvY3JlYWQsIEZVTkNfR0VUUFJPQ01BUFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRQcm9jTW91bnRzIiwgMCwganNfbWlzY19wcm9jcmVhZCwgRlVOQ19HRVRQUk9DTU9VTlRTKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0UHJvY1N0YXQiLCAwLCBqc19taXNjX3Byb2NyZWFkLCBGVU5DX0dFVFBST0NTVEFUKSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0UHJvdG90eXBlQ2hhaW4iLCAwLCBqc19taXNjX2dldHByb3RvdHlwZWNoYWluKSwKI2lmbmRlZiBfX3dhc2lfXwogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRwaWQiLCAwLCBqc19taXNjX2dldHgsIEZVTkNfR0VUUElEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0cHBpZCIsIDAsIGpzX21pc2NfZ2V0eCwgRlVOQ19HRVRQUElEKSwKI2VuZGlmCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldHNpZCIsIDAsIGpzX21pc2NfZ2V0eCwgRlVOQ19HRVRTSUQpLAojaWYgIWRlZmluZWQoX193YXNpX18pICYmICFkZWZpbmVkKF9XSU4zMikKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0dWlkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVFVJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldGdpZCIsIDAsIGpzX21pc2NfZ2V0eCwgRlVOQ19HRVRHSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRldWlkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVEVVSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRlZ2lkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVEVHSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZXR1aWQiLCAxLCBqc19taXNjX2dldHgsIEZVTkNfU0VUVUlEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic2V0Z2lkIiwgMSwganNfbWlzY19nZXR4LCBGVU5DX1NFVEdJRCksCiNlbmRpZgogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZXRldWlkIiwgMSwganNfbWlzY19nZXR4LCBGVU5DX1NFVEVVSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZXRlZ2lkIiwgMSwganNfbWlzY19nZXR4LCBGVU5DX1NFVEVHSUQpLAogICAgSlNfQ0ZVTkNfREVGKCJocnRpbWUiLCAwLCBqc19taXNjX2hydGltZSksCiNpZm5kZWYgX1dJTjMyCiAgICBKU19DRlVOQ19ERUYoInVuYW1lIiwgMCwganNfbWlzY191bmFtZSksCiNlbmRpZgogICAgSlNfQ0ZVTkNfREVGKCJidG9hIiwgMSwganNfbWlzY19idG9hKSwKICAgIEpTX0NGVU5DX0RFRigiYXRvYiIsIDEsIGpzX21pc2NfYXRvYiksCiAgICBKU19DRlVOQ19ERUYoImJpdGZpZWxkVG9BcnJheSIsIDEsIGpzX21pc2NfYml0ZmllbGRfdG9fYXJyYXkpLAogICAgSlNfQ0ZVTkNfREVGKCJhcnJheVRvQml0ZmllbGQiLCAxLCBqc19taXNjX2FycmF5X3RvX2JpdGZpZWxkKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiY29tcGlsZVNjcmlwdCIsIDEsIGpzX21pc2NfY29tcGlsZSwgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImV2YWxTY3JpcHQiLCAxLCBqc19taXNjX2NvbXBpbGUsIDEpLAogICAgSlNfQ0ZVTkNfREVGKCJ3cml0ZU9iamVjdCIsIDEsIGpzX21pc2Nfd3JpdGVfb2JqZWN0KSwKICAgIEpTX0NGVU5DX0RFRigicmVhZE9iamVjdCIsIDEsIGpzX21pc2NfcmVhZF9vYmplY3QpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRPcENvZGVzIiwgMCwganNfbWlzY19vcGNvZGVzKSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0Qnl0ZUNvZGUiLCAxLCBqc19taXNjX2dldF9ieXRlY29kZSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlVHlwZSIsIDEsIGpzX21pc2NfdmFsdWV0eXBlLCBWQUxVRV9UWVBFKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidmFsdWVUYWciLCAxLCBqc19taXNjX3ZhbHVldHlwZSwgVkFMVUVfVEFHKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidmFsdWVQdHIiLCAxLCBqc19taXNjX3ZhbHVldHlwZSwgVkFMVUVfUFRSKSwKICAgIEpTX0NGVU5DX0RFRigiZXZhbEJpbmFyeSIsIDEsIGpzX21pc2NfZXZhbGJpbmFyeSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImF0b21Ub1N0cmluZyIsIDEsIGpzX21pc2NfYXRvbSwgQVRPTV9UT19TVFJJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhdG9tVG9WYWx1ZSIsIDEsIGpzX21pc2NfYXRvbSwgQVRPTV9UT19WQUxVRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlVG9BdG9tIiwgMSwganNfbWlzY19hdG9tLCBWQUxVRV9UT19BVE9NKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Q2xhc3NJRCIsIDEsIGpzX21pc2NfY2xhc3NpZCwgR0VUX0NMQVNTX0lEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Q2xhc3NOYW1lIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfTkFNRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldENsYXNzQXRvbSIsIDEsIGpzX21pc2NfY2xhc3NpZCwgR0VUX0NMQVNTX0FUT00pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc0NvdW50IiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfQ09VTlQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc1Byb3RvIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfUFJPVE8pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc0NvbnN0cnVjdG9yIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfQ09OU1RSVUNUT1IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyYW5kIiwgMCwganNfbWlzY19yYW5kb20sIFJBTkRPTV9SQU5EKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicmFuZGkiLCAwLCBqc19taXNjX3JhbmRvbSwgUkFORE9NX1JBTkRJKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicmFuZGYiLCAwLCBqc19taXNjX3JhbmRvbSwgUkFORE9NX1JBTkRGKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3JhbmQiLCAxLCBqc19taXNjX3JhbmRvbSwgUkFORE9NX1NSQU5EKSwKICAgIEpTX0NGVU5DX0RFRigiZXNjYXBlIiwgMSwganNfbWlzY19lc2NhcGUpLAogICAgSlNfQ0ZVTkNfREVGKCJxdW90ZSIsIDEsIGpzX21pc2NfcXVvdGUpLAogICAgSlNfQ0ZVTkNfREVGKCJlcnJvciIsIDAsIGpzX21pc2NfZXJyb3IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0FycmF5IiwgMSwganNfbWlzY19pcywgSVNfQVJSQVkpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0JpZ0RlY2ltYWwiLCAxLCBqc19taXNjX2lzLCBJU19CSUdERUNJTUFMKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNCaWdGbG9hdCIsIDEsIGpzX21pc2NfaXMsIElTX0JJR0ZMT0FUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNCaWdJbnQiLCAxLCBqc19taXNjX2lzLCBJU19CSUdJTlQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0Jvb2wiLCAxLCBqc19taXNjX2lzLCBJU19CT09MKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNDRnVuY3Rpb24iLCAxLCBqc19taXNjX2lzLCBJU19DRlVOQ1RJT04pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0NvbnN0cnVjdG9yIiwgMSwganNfbWlzY19pcywgSVNfQ09OU1RSVUNUT1IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0VtcHR5U3RyaW5nIiwgMSwganNfbWlzY19pcywgSVNfRU1QVFlTVFJJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0Vycm9yIiwgMSwganNfbWlzY19pcywgSVNfRVJST1IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0V4Y2VwdGlvbiIsIDEsIGpzX21pc2NfaXMsIElTX0VYQ0VQVElPTiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzRXh0ZW5zaWJsZSIsIDEsIGpzX21pc2NfaXMsIElTX0VYVEVOU0lCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0Z1bmN0aW9uIiwgMSwganNfbWlzY19pcywgSVNfRlVOQ1RJT04pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0hUTUxEREEiLCAxLCBqc19taXNjX2lzLCBJU19IVE1MRERBKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNJbnN0YW5jZU9mIiwgMSwganNfbWlzY19pcywgSVNfSU5TVEFOQ0VPRiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzSW50ZWdlciIsIDEsIGpzX21pc2NfaXMsIElTX0lOVEVHRVIpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0pvYlBlbmRpbmciLCAxLCBqc19taXNjX2lzLCBJU19KT0JQRU5ESU5HKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNMaXZlT2JqZWN0IiwgMSwganNfbWlzY19pcywgSVNfTElWRU9CSkVDVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzTnVsbCIsIDEsIGpzX21pc2NfaXMsIElTX05VTEwpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc051bWJlciIsIDEsIGpzX21pc2NfaXMsIElTX05VTUJFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzT2JqZWN0IiwgMSwganNfbWlzY19pcywgSVNfT0JKRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNSZWdpc3RlcmVkQ2xhc3MiLCAxLCBqc19taXNjX2lzLCBJU19SRUdJU1RFUkVEQ0xBU1MpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc1N0cmluZyIsIDEsIGpzX21pc2NfaXMsIElTX1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzU3ltYm9sIiwgMSwganNfbWlzY19pcywgSVNfU1lNQk9MKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNVbmNhdGNoYWJsZUVycm9yIiwgMSwganNfbWlzY19pcywgSVNfVU5DQVRDSEFCTEVFUlJPUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzVW5kZWZpbmVkIiwgMSwganNfbWlzY19pcywgSVNfVU5ERUZJTkVEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNVbmluaXRpYWxpemVkIiwgMSwganNfbWlzY19pcywgSVNfVU5JTklUSUFMSVpFRCksCgogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9UWVBFX0dMT0JBTCksCiAgICBKU19DT05TVEFOVChKU19FVkFMX1RZUEVfTU9EVUxFKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfVFlQRV9ESVJFQ1QpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9UWVBFX0lORElSRUNUKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfVFlQRV9NQVNLKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfRkxBR19TVFJJQ1QpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9GTEFHX1NUUklQKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfRkxBR19DT01QSUxFX09OTFkpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSKSwKICAgIC8vICAgSlNfT0JKRUNUX0RFRigiU3RyaW5nRGVjb2RlciIsIGpzX3N0cmluZ2RlY29kZXJfcHJvcHMsCiAgICAvLyAgIGNvdW50b2YoanNfc3RyaW5nZGVjb2Rlcl9wcm9wcyksIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKCn07CgpzdGF0aWMgaW50CmpzX21pc2NfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgaWYoIWpzX2xvY2F0aW9uX2NsYXNzX2lkKQogICAganNfbG9jYXRpb25faW5pdChjdHgsIDApOwoKICBpZihtKSB7CiAgICAvLyBKU19TZXRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwgbG9jYXRpb25fY3Rvcik7CiAgICBKU19TZXRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfbWlzY19mdW5jcywgY291bnRvZihqc19taXNjX2Z1bmNzKSk7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiTG9jYXRpb24iLCBsb2NhdGlvbl9jdG9yKTsKICAgIC8vIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJTdHJpbmdEZWNvZGVyIiwgc3RyaW5nZGVjb2Rlcl9jdG9yKTsKICB9CgogIC8vIGpzX3N0cmluZ2RlY29kZXJfaW5pdChjdHgsIG0pOwoKICAvLyBwcmludGYoIiVzXG4iLCBqc19vcGNvZGVzWzBdLm5hbWUpOwoKICByZXR1cm4gMDsKfQoKI2lmIGRlZmluZWQoSlNfU0hBUkVEX0xJQlJBUlkpICYmIGRlZmluZWQoSlNfTUlTQ19NT0RVTEUpCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9taXNjCiNlbmRpZgoKVklTSUJMRSBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwganNfbWlzY19pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19taXNjX2Z1bmNzLCBjb3VudG9mKGpzX21pc2NfZnVuY3MpKTsKICAvLyBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU3lzY2FsbEVycm9yIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkxvY2F0aW9uIik7CiAgLy8gSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN0cmluZ0RlY29kZXIiKTsKICByZXR1cm4gbTsKfQoAAAAAAAAAAE+mAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgooAAAAAAACTigAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "buffer-utils.h",
			"settings":
			{
				"buffer_size": 7924,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD0HgAAI2lmbmRlZiBCVUZGRVJfVVRJTFNfSAojZGVmaW5lIEJVRkZFUl9VVElMU19ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxzdGRhcmcuaD4KCiNpbmNsdWRlICJjaGFyLXV0aWxzLmgiCgojaWZuZGVmIE1BWF9OVU0KI2RlZmluZSBNQVhfTlVNKGEsIGIpICgoYSkgPiAoYikgPyAoYSkgOiAoYikpCiNlbmRpZgojaWZuZGVmIE1JTl9OVU0KI2RlZmluZSBNSU5fTlVNKGEsIGIpICgoYSkgPCAoYikgPyAoYSkgOiAoYikpCiNlbmRpZgoKaW50NjRfdCBhcnJheV9zZWFyY2godm9pZCogYSwgc2l6ZV90IG0sIHNpemVfdCBlbHN6LCB2b2lkKiBuZWVkbGUpOwojZGVmaW5lIGFycmF5X2NvbnRhaW5zKGEsIG0sIGVsc3osIG5lZWRsZSkgKGFycmF5X3NlYXJjaCgoYSksIChtKSwgKGVsc3opLCAobmVlZGxlKSkgIT0gLTEpCgpzaXplX3QgYW5zaV9sZW5ndGgoY29uc3QgY2hhciosIHNpemVfdCk7CnNpemVfdCBhbnNpX3NraXAoY29uc3QgY2hhciosIHNpemVfdCk7CnNpemVfdCBhbnNpX3RydW5jYXRlKGNvbnN0IGNoYXIqLCBzaXplX3QsIHNpemVfdCBsaW1pdCk7CmludDY0X3QgYXJyYXlfc2VhcmNoKHZvaWQqLCBzaXplX3QsIHNpemVfdCBlbHN6LCB2b2lkKiBuZWVkbGUpOwpjaGFyKiBzdHJfZXNjYXBlKGNvbnN0IGNoYXIqKTsKY2hhciogYnl0ZV9lc2NhcGUoY29uc3Qgdm9pZCosIHNpemVfdCk7CnNpemVfdCBieXRlX2ZpbmRiKGNvbnN0IHZvaWQqLCBzaXplX3QsIGNvbnN0IHZvaWQqIHdoYXQsIHNpemVfdCB3bGVuKTsKc2l6ZV90IGJ5dGVfZmluZHMoY29uc3Qgdm9pZCosIHNpemVfdCwgY29uc3QgY2hhciogd2hhdCk7CnNpemVfdCBieXRlX2VxdWFsKGNvbnN0IHZvaWQqIHMsIHNpemVfdCBuLCBjb25zdCB2b2lkKiB0KTsKY2hhciogZGJ1Zl9hdF9uKGNvbnN0IER5bkJ1ZiosIHNpemVfdCwgc2l6ZV90KiBuLCBjaGFyIHNlcCk7CmNvbnN0IGNoYXIqIGRidWZfbGFzdF9saW5lKER5bkJ1ZiosIHNpemVfdCopOwppbnQgZGJ1Zl9wcmVwZW5kKER5bkJ1ZiosIGNvbnN0IHVpbnQ4X3QqLCBzaXplX3QgbGVuKTsKdm9pZCBkYnVmX3B1dF9jb2xvcnN0cihEeW5CdWYqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogY29sb3IsIGludCB3aXRoX2NvbG9yKTsKdm9pZCBkYnVmX3B1dF9lc2NhcGVkX3ByZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGludCAoKnByZWQpKGludCkpOwp2b2lkIGRidWZfcHV0X2VzY2FwZWRfdGFibGUoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgdGFibGVbMjU2XSk7CnZvaWQgZGJ1Zl9wdXRfdW5lc2NhcGVkX3ByZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGludCAoKnByZWQpKGludCkpOwp2b2lkIGRidWZfcHV0X2VzY2FwZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4pOwp2b2lkIGRidWZfcHV0X3ZhbHVlKER5bkJ1ZiosIEpTQ29udGV4dCosIEpTVmFsdWUgdmFsdWUpOwppbnQgZGJ1Zl9yZXNlcnZlX3N0YXJ0KER5bkJ1ZiosIHNpemVfdCk7CnNpemVfdCBkYnVmX3Rva2VuX3BvcChEeW5CdWYqLCBjaGFyKTsKc2l6ZV90IGRidWZfdG9rZW5fcHVzaChEeW5CdWYqLCBjb25zdCBjaGFyKiwgc2l6ZV90IGxlbiwgY2hhciBkZWxpbSk7CkpTVmFsdWUgZGJ1Zl90b3N0cmluZ19mcmVlKER5bkJ1ZiosIEpTQ29udGV4dCopOwpzc2l6ZV90IGRidWZfbG9hZChEeW5CdWYqLCBjb25zdCBjaGFyKik7CgpzdGF0aWMgaW5saW5lIGludApkYnVmX3B1dG0oRHluQnVmKiBkYiwgLi4uKSB7CiAgaW50IHIgPSAwOwogIHZhX2xpc3QgYTsKICBjb25zdCBjaGFyKiBzOwogIHZhX3N0YXJ0KGEsIGRiKTsKICB3aGlsZSgocyA9IHZhX2FyZyhhLCBjaGFyKikpKQogICAgaWYoZGJ1Zl9wdXRzdHIoZGIsIHMpKQogICAgICByZXR1cm4gLTE7CiAgdmFfZW5kKGEpOwogIHJldHVybiByOwp9CgojZGVmaW5lIGRidWZfYXBwZW5kKGQsIHgsIG4pIGRidWZfcHV0KChkKSwgKGNvbnN0IHVpbnQ4X3QqKSh4KSwgKG4pKQoKc3RhdGljIGlubGluZSBzaXplX3QKZGJ1Zl9jb3VudChEeW5CdWYqIGRiLCBpbnQgY2gpIHsKICByZXR1cm4gYnl0ZV9jb3VudChkYi0+YnVmLCBkYi0+c2l6ZSwgY2gpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKZGJ1Zl8wKER5bkJ1ZiogZGIpIHsKICBkYnVmX3B1dGMoZGIsICdcMCcpOwogIGRiLT5zaXplLS07Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApkYnVmX3plcm8oRHluQnVmKiBkYikgewogIGRidWZfcmVhbGxvYyhkYiwgMCk7Cn0KCnN0YXRpYyBpbmxpbmUgaW50MzJfdApkYnVmX2dldF9jb2x1bW4oRHluQnVmKiBkYikgewogIHNpemVfdCBsZW47CiAgY29uc3QgY2hhciogc3RyOwogIGlmKGRiLT5zaXplKSB7CiAgICBzdHIgPSBkYnVmX2xhc3RfbGluZShkYiwgJmxlbik7CiAgICByZXR1cm4gYW5zaV9sZW5ndGgoc3RyLCBsZW4pOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKZGJ1Zl9iaXRmbGFncyhEeW5CdWYqIGRiLCB1aW50MzJfdCBiaXRzLCBjb25zdCBjaGFyKiBjb25zdCBuYW1lc1tdKSB7CiAgc2l6ZV90IGksIG4gPSAwOwogIGZvcihpID0gMDsgaSA8IHNpemVvZihiaXRzKSAqIDg7IGkrKykgewogICAgaWYoYml0cyAmICgxIDw8IGkpKSB7CiAgICAgIHNpemVfdCBsZW4gPSBzdHJsZW4obmFtZXNbaV0pOwogICAgICBpZihuKSB7CiAgICAgICAgbisrOwogICAgICAgIGRidWZfcHV0c3RyKGRiLCAifCIpOwogICAgICB9CiAgICAgIGRidWZfYXBwZW5kKGRiLCBuYW1lc1tpXSwgbGVuKTsKICAgICAgbiArPSBsZW47CiAgICB9CiAgfQogIHJldHVybiBuOwp9CgpzdHJ1Y3QgbWVtb3J5X2Jsb2NrOwpzdHJ1Y3QgcG9pbnRlcl9yYW5nZTsKc3RydWN0IG9mZnNldF9sZW5ndGg7Cgp0eXBlZGVmIHN0cnVjdCBtZW1vcnlfYmxvY2sgewogIHVpbnQ4X3QqIGJhc2U7CiAgc2l6ZV90IHNpemU7Cn0gTWVtb3J5QmxvY2s7CgpzdGF0aWMgaW5saW5lIHZvaWQKYmxvY2tfaW5pdChNZW1vcnlCbG9jayogbWIpIHsKICBtYi0+YmFzZSA9IDA7CiAgbWItPnNpemUgPSAwOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQqCmJsb2NrX2RhdGEoTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIG1iLT5iYXNlOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApibG9ja19sZW5ndGgoTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIG1iLT5zaXplOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKYmxvY2tfYXJyYXlidWZmZXIoTWVtb3J5QmxvY2sqIG1iLCBKU1ZhbHVlQ29uc3QgYWIsIEpTQ29udGV4dCogY3R4KSB7CiAgbWItPmJhc2UgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZtYi0+c2l6ZSwgYWIpOwogIHJldHVybiBtYi0+YmFzZSAhPSAwOwp9Cgp0eXBlZGVmIHN0cnVjdCBwb2ludGVyX3JhbmdlIHsKICB1aW50OF90ICpzdGFydCwgKmVuZDsKfSBQb2ludGVyUmFuZ2U7CgpzdGF0aWMgaW5saW5lIHZvaWQKcmFuZ2VfaW5pdChQb2ludGVyUmFuZ2UqIHByKSB7CiAgcHItPmVuZCA9IHByLT5zdGFydCA9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgUG9pbnRlclJhbmdlCnJhbmdlX2Zyb20oY29uc3QgTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIChQb2ludGVyUmFuZ2Upe21iLT5iYXNlLCBtYi0+YmFzZSArIG1iLT5zaXplfTsKfQoKdHlwZWRlZiBzdHJ1Y3Qgb2Zmc2V0X2xlbmd0aCB7CiAgaW50NjRfdCBvZmZzZXQsIGxlbmd0aDsKfSBPZmZzZXRMZW5ndGg7CgpzdGF0aWMgaW5saW5lIHZvaWQKb2Zmc2V0X2luaXQoT2Zmc2V0TGVuZ3RoKiBvbCkgewogIG9sLT5vZmZzZXQgPSAwOwogIG9sLT5sZW5ndGggPSBJTlQ2NF9NQVg7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApvZmZzZXRfaXNfZGVmYXVsdChjb25zdCBPZmZzZXRMZW5ndGgqIG9sKSB7CiAgcmV0dXJuIG9sLT5vZmZzZXQgPT0gMCAmJiBvbC0+bGVuZ3RoID09IElOVDY0X01BWDsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpvZmZzZXRfZGF0YShjb25zdCBPZmZzZXRMZW5ndGgqIG9sLCBjb25zdCB2b2lkKiB4KSB7CiAgcmV0dXJuICh1aW50OF90Kil4ICsgb2wtPm9mZnNldDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKb2Zmc2V0X3NpemUoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgc2l6ZV90IG4pIHsKICByZXR1cm4gTUlOX05VTShvbC0+bGVuZ3RoLCBuIC0gb2wtPm9mZnNldCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWVtb3J5QmxvY2sKb2Zmc2V0X2Jsb2NrKGNvbnN0IE9mZnNldExlbmd0aCogb2wsIGNvbnN0IHZvaWQqIHgsIHNpemVfdCBuKSB7CiAgcmV0dXJuIChNZW1vcnlCbG9jayl7b2Zmc2V0X2RhdGEob2wsIHgpLCBvZmZzZXRfc2l6ZShvbCwgbil9Owp9CgpzdGF0aWMgaW5saW5lIFBvaW50ZXJSYW5nZQpvZmZzZXRfcmFuZ2UoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pIHsKICBNZW1vcnlCbG9jayBtYiA9IG9mZnNldF9ibG9jayhvbCwgeCwgbik7CiAgcmV0dXJuIHJhbmdlX2Zyb20oJm1iKTsKfQoKc3RhdGljIGlubGluZSBPZmZzZXRMZW5ndGgKb2Zmc2V0X3NsaWNlKGNvbnN0IE9mZnNldExlbmd0aCBvbCwgaW50NjRfdCBzdGFydCwgaW50NjRfdCBlbmQpIHsKICBpZihzdGFydCA8IDApCiAgICBzdGFydCA9IG9sLmxlbmd0aCArIChzdGFydCAlIG9sLmxlbmd0aCk7CiAgZWxzZSBpZihzdGFydCA+IG9sLmxlbmd0aCkKICAgIHN0YXJ0ID0gb2wubGVuZ3RoOwogIGlmKGVuZCA8IDApCiAgICBlbmQgPSBvbC5sZW5ndGggKyAoZW5kICUgb2wubGVuZ3RoKTsKICBlbHNlIGlmKGVuZCA+IG9sLmxlbmd0aCkKICAgIGVuZCA9IG9sLmxlbmd0aDsKCiAgcmV0dXJuIChPZmZzZXRMZW5ndGgpe3N0YXJ0LCBlbmQgLSBzdGFydH07Cn0KCnN0YXRpYyBpbmxpbmUgT2Zmc2V0TGVuZ3RoCm9mZnNldF9vZmZzZXQoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgY29uc3QgT2Zmc2V0TGVuZ3RoKiBieSkgewogIE9mZnNldExlbmd0aCByZXQ7CiAgcmV0Lm9mZnNldCA9IG9sLT5vZmZzZXQgKyBieS0+b2Zmc2V0OwogIHJldC5sZW5ndGggPSBNSU5fTlVNKGJ5LT5sZW5ndGgsIG9sLT5sZW5ndGggLSBieS0+b2Zmc2V0KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIE1lbW9yeUJsb2NrCmJsb2NrX3JhbmdlKGNvbnN0IE1lbW9yeUJsb2NrKiBtYiwgc3RydWN0IG9mZnNldF9sZW5ndGgqIHJhbmdlKSB7CiAgTWVtb3J5QmxvY2sgcmV0OwogIHJldC5iYXNlID0gbWItPmJhc2UgKyByYW5nZS0+b2Zmc2V0OwogIHJldC5zaXplID0gTUlOX05VTShyYW5nZS0+bGVuZ3RoLCBtYi0+c2l6ZSAtIHJhbmdlLT5vZmZzZXQpOwogIHJldHVybiByZXQ7Cn0KCnR5cGVkZWYgc3RydWN0IElucHV0QnVmZmVyIHsKICB1aW50OF90KiBkYXRhOwogIHNpemVfdCBwb3MsIHNpemU7CiAgdm9pZCAoKmZyZWUpKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlKTsKICBKU1ZhbHVlIHZhbHVlOwogIE9mZnNldExlbmd0aCByYW5nZTsKfSBJbnB1dEJ1ZmZlcjsKCnN0YXRpYyBpbmxpbmUgdm9pZAppbnB1dF9idWZmZXJfZnJlZV9kZWZhdWx0KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzdHIsIEpTVmFsdWUgdmFsKSB7CiAgaWYoSlNfSXNTdHJpbmcodmFsKSkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKCiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbCkpCiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWwpOwp9CgpJbnB1dEJ1ZmZlciBqc19pbnB1dF9idWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CklucHV0QnVmZmVyIGpzX2lucHV0X2NoYXJzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpJbnB1dEJ1ZmZlciBpbnB1dF9idWZmZXJfY2xvbmUoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCk7CkJPT0wgaW5wdXRfYnVmZmVyX3ZhbGlkKGNvbnN0IElucHV0QnVmZmVyKiBpbik7CnZvaWQgaW5wdXRfYnVmZmVyX2R1bXAoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBEeW5CdWYqIGRiKTsKdm9pZCBpbnB1dF9idWZmZXJfZnJlZShJbnB1dEJ1ZmZlciogaW4sIEpTQ29udGV4dCogY3R4KTsKCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKaW5wdXRfYnVmZmVyX2RhdGEoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhICsgaW4tPnJhbmdlLm9mZnNldDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKaW5wdXRfYnVmZmVyX2xlbmd0aChjb25zdCBJbnB1dEJ1ZmZlciogaW4pIHsKICByZXR1cm4gTUlOX05VTShpbi0+cmFuZ2UubGVuZ3RoLCBpbi0+c2l6ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgTWVtb3J5QmxvY2sKaW5wdXRfYnVmZmVyX2Jsb2NrKElucHV0QnVmZmVyKiBpbikgewogIHJldHVybiAoTWVtb3J5QmxvY2spe2lucHV0X2J1ZmZlcl9kYXRhKGluKSwgaW5wdXRfYnVmZmVyX2xlbmd0aChpbil9Owp9CgpzdGF0aWMgaW5saW5lIElucHV0QnVmZmVyCmlucHV0X2J1ZmZlcl9vZmZzZXQoSW5wdXRCdWZmZXIgaW4sIE9mZnNldExlbmd0aCBvZmYpIHsKICBJbnB1dEJ1ZmZlciByZXQgPSBpbjsKCiAgcmV0LmRhdGEgKz0gb2ZmLm9mZnNldDsKICByZXQuc2l6ZSAtPSBvZmYub2Zmc2V0OwoKICBpZihyZXQuc2l6ZSA+IG9mZi5sZW5ndGgpCiAgICByZXQuc2l6ZSA9IG9mZi5sZW5ndGg7CgogIHJldHVybiByZXQ7Cn0KCmNvbnN0IHVpbnQ4X3QqIGlucHV0X2J1ZmZlcl9nZXQoSW5wdXRCdWZmZXIqIGluLCBzaXplX3QqIGxlbnApOwpjb25zdCB1aW50OF90KiBpbnB1dF9idWZmZXJfcGVlayhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCk7CmNvbnN0IGNoYXIqIGlucHV0X2J1ZmZlcl9jdXJyZW50bGluZShJbnB1dEJ1ZmZlciosIHNpemVfdCogbGVuKTsKc2l6ZV90IGlucHV0X2J1ZmZlcl9jb2x1bW4oSW5wdXRCdWZmZXIqLCBzaXplX3QqIGxlbik7CgpzdGF0aWMgaW50CmlucHV0X2J1ZmZlcl9wZWVrYyhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCkgewogIGNvbnN0IHVpbnQ4X3QgKnBvcywgKmVuZCwgKm5leHQ7CiAgaW50IGNwOwogIHBvcyA9IGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGluLT5wb3M7CiAgZW5kID0gaW5wdXRfYnVmZmVyX2RhdGEoaW4pICsgaW5wdXRfYnVmZmVyX2xlbmd0aChpbik7CiAgY3AgPSB1bmljb2RlX2Zyb21fdXRmOChwb3MsIGVuZCAtIHBvcywgJm5leHQpOwogIGlmKGxlbnApCiAgICAqbGVucCA9IG5leHQgLSBwb3M7CgogIHJldHVybiBjcDsKfQoKc3RhdGljIGlubGluZSBpbnQKaW5wdXRfYnVmZmVyX2dldGMoSW5wdXRCdWZmZXIqIGluKSB7CiAgc2l6ZV90IG47CiAgaW50IHJldDsKICByZXQgPSBpbnB1dF9idWZmZXJfcGVla2MoaW4sICZuKTsKICBpbi0+cG9zICs9IG47CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgppbnB1dF9idWZmZXJfYmVnaW4oY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QqCmlucHV0X2J1ZmZlcl9lbmQoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pOwp9CnN0YXRpYyBpbmxpbmUgQk9PTAppbnB1dF9idWZmZXJfZW9mKGNvbnN0IElucHV0QnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+cG9zID09IGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pOwp9CnN0YXRpYyBpbmxpbmUgc2l6ZV90CmlucHV0X2J1ZmZlcl9yZW1haW4oY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pIC0gaW4tPnBvczsKfQoKaW50IGpzX29mZnNldF9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIGludDY0X3Qgc2l6ZSwgaW50IGFyZ2MsIEpTVmFsdWUgYXJndltdLCBPZmZzZXRMZW5ndGgqIG9mZl9sZW5fcCk7CgojZW5kaWYgLyogZGVmaW5lZChCVUZGRVJfVVRJTFMpICovCgAAAAAAAAAA9B4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWwIAAAAAAABbAgAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD0HgAAI2lmbmRlZiBCVUZGRVJfVVRJTFNfSAojZGVmaW5lIEJVRkZFUl9VVElMU19ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxzdGRhcmcuaD4KCiNpbmNsdWRlICJjaGFyLXV0aWxzLmgiCgojaWZuZGVmIE1BWF9OVU0KI2RlZmluZSBNQVhfTlVNKGEsIGIpICgoYSkgPiAoYikgPyAoYSkgOiAoYikpCiNlbmRpZgojaWZuZGVmIE1JTl9OVU0KI2RlZmluZSBNSU5fTlVNKGEsIGIpICgoYSkgPCAoYikgPyAoYSkgOiAoYikpCiNlbmRpZgoKaW50NjRfdCBhcnJheV9zZWFyY2godm9pZCogYSwgc2l6ZV90IG0sIHNpemVfdCBlbHN6LCB2b2lkKiBuZWVkbGUpOwojZGVmaW5lIGFycmF5X2NvbnRhaW5zKGEsIG0sIGVsc3osIG5lZWRsZSkgKGFycmF5X3NlYXJjaCgoYSksIChtKSwgKGVsc3opLCAobmVlZGxlKSkgIT0gLTEpCgpzaXplX3QgYW5zaV9sZW5ndGgoY29uc3QgY2hhciosIHNpemVfdCk7CnNpemVfdCBhbnNpX3NraXAoY29uc3QgY2hhciosIHNpemVfdCk7CnNpemVfdCBhbnNpX3RydW5jYXRlKGNvbnN0IGNoYXIqLCBzaXplX3QsIHNpemVfdCBsaW1pdCk7CmludDY0X3QgYXJyYXlfc2VhcmNoKHZvaWQqLCBzaXplX3QsIHNpemVfdCBlbHN6LCB2b2lkKiBuZWVkbGUpOwpjaGFyKiBzdHJfZXNjYXBlKGNvbnN0IGNoYXIqKTsKY2hhciogYnl0ZV9lc2NhcGUoY29uc3Qgdm9pZCosIHNpemVfdCk7CnNpemVfdCBieXRlX2ZpbmRiKGNvbnN0IHZvaWQqLCBzaXplX3QsIGNvbnN0IHZvaWQqIHdoYXQsIHNpemVfdCB3bGVuKTsKc2l6ZV90IGJ5dGVfZmluZHMoY29uc3Qgdm9pZCosIHNpemVfdCwgY29uc3QgY2hhciogd2hhdCk7CnNpemVfdCBieXRlX2VxdWFsKGNvbnN0IHZvaWQqIHMsIHNpemVfdCBuLCBjb25zdCB2b2lkKiB0KTsKY2hhciogZGJ1Zl9hdF9uKGNvbnN0IER5bkJ1ZiosIHNpemVfdCwgc2l6ZV90KiBuLCBjaGFyIHNlcCk7CmNvbnN0IGNoYXIqIGRidWZfbGFzdF9saW5lKER5bkJ1ZiosIHNpemVfdCopOwppbnQgZGJ1Zl9wcmVwZW5kKER5bkJ1ZiosIGNvbnN0IHVpbnQ4X3QqLCBzaXplX3QgbGVuKTsKdm9pZCBkYnVmX3B1dF9jb2xvcnN0cihEeW5CdWYqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogY29sb3IsIGludCB3aXRoX2NvbG9yKTsKdm9pZCBkYnVmX3B1dF9lc2NhcGVkX3ByZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGludCAoKnByZWQpKGludCkpOwp2b2lkIGRidWZfcHV0X2VzY2FwZWRfdGFibGUoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgdGFibGVbMjU2XSk7CnZvaWQgZGJ1Zl9wdXRfdW5lc2NhcGVkX3ByZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGludCAoKnByZWQpKGludCkpOwp2b2lkIGRidWZfcHV0X2VzY2FwZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4pOwp2b2lkIGRidWZfcHV0X3ZhbHVlKER5bkJ1ZiosIEpTQ29udGV4dCosIEpTVmFsdWUgdmFsdWUpOwppbnQgZGJ1Zl9yZXNlcnZlX3N0YXJ0KER5bkJ1ZiosIHNpemVfdCk7CnNpemVfdCBkYnVmX3Rva2VuX3BvcChEeW5CdWYqLCBjaGFyKTsKc2l6ZV90IGRidWZfdG9rZW5fcHVzaChEeW5CdWYqLCBjb25zdCBjaGFyKiwgc2l6ZV90IGxlbiwgY2hhciBkZWxpbSk7CkpTVmFsdWUgZGJ1Zl90b3N0cmluZ19mcmVlKER5bkJ1ZiosIEpTQ29udGV4dCopOwpzc2l6ZV90IGRidWZfbG9hZChEeW5CdWYqLCBjb25zdCBjaGFyKik7CgpzdGF0aWMgaW5saW5lIGludApkYnVmX3B1dG0oRHluQnVmKiBkYiwgLi4uKSB7CiAgaW50IHIgPSAwOwogIHZhX2xpc3QgYTsKICBjb25zdCBjaGFyKiBzOwogIHZhX3N0YXJ0KGEsIGRiKTsKICB3aGlsZSgocyA9IHZhX2FyZyhhLCBjaGFyKikpKQogICAgaWYoZGJ1Zl9wdXRzdHIoZGIsIHMpKQogICAgICByZXR1cm4gLTE7CiAgdmFfZW5kKGEpOwogIHJldHVybiByOwp9CgojZGVmaW5lIGRidWZfYXBwZW5kKGQsIHgsIG4pIGRidWZfcHV0KChkKSwgKGNvbnN0IHVpbnQ4X3QqKSh4KSwgKG4pKQoKc3RhdGljIGlubGluZSBzaXplX3QKZGJ1Zl9jb3VudChEeW5CdWYqIGRiLCBpbnQgY2gpIHsKICByZXR1cm4gYnl0ZV9jb3VudChkYi0+YnVmLCBkYi0+c2l6ZSwgY2gpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKZGJ1Zl8wKER5bkJ1ZiogZGIpIHsKICBkYnVmX3B1dGMoZGIsICdcMCcpOwogIGRiLT5zaXplLS07Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApkYnVmX3plcm8oRHluQnVmKiBkYikgewogIGRidWZfcmVhbGxvYyhkYiwgMCk7Cn0KCnN0YXRpYyBpbmxpbmUgaW50MzJfdApkYnVmX2dldF9jb2x1bW4oRHluQnVmKiBkYikgewogIHNpemVfdCBsZW47CiAgY29uc3QgY2hhciogc3RyOwogIGlmKGRiLT5zaXplKSB7CiAgICBzdHIgPSBkYnVmX2xhc3RfbGluZShkYiwgJmxlbik7CiAgICByZXR1cm4gYW5zaV9sZW5ndGgoc3RyLCBsZW4pOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKZGJ1Zl9iaXRmbGFncyhEeW5CdWYqIGRiLCB1aW50MzJfdCBiaXRzLCBjb25zdCBjaGFyKiBjb25zdCBuYW1lc1tdKSB7CiAgc2l6ZV90IGksIG4gPSAwOwogIGZvcihpID0gMDsgaSA8IHNpemVvZihiaXRzKSAqIDg7IGkrKykgewogICAgaWYoYml0cyAmICgxIDw8IGkpKSB7CiAgICAgIHNpemVfdCBsZW4gPSBzdHJsZW4obmFtZXNbaV0pOwogICAgICBpZihuKSB7CiAgICAgICAgbisrOwogICAgICAgIGRidWZfcHV0c3RyKGRiLCAifCIpOwogICAgICB9CiAgICAgIGRidWZfYXBwZW5kKGRiLCBuYW1lc1tpXSwgbGVuKTsKICAgICAgbiArPSBsZW47CiAgICB9CiAgfQogIHJldHVybiBuOwp9CgpzdHJ1Y3QgbWVtb3J5X2Jsb2NrOwpzdHJ1Y3QgcG9pbnRlcl9yYW5nZTsKc3RydWN0IG9mZnNldF9sZW5ndGg7Cgp0eXBlZGVmIHN0cnVjdCBtZW1vcnlfYmxvY2sgewogIHVpbnQ4X3QqIGJhc2U7CiAgc2l6ZV90IHNpemU7Cn0gTWVtb3J5QmxvY2s7CgpzdGF0aWMgaW5saW5lIHZvaWQKYmxvY2tfaW5pdChNZW1vcnlCbG9jayogbWIpIHsKICBtYi0+YmFzZSA9IDA7CiAgbWItPnNpemUgPSAwOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQqCmJsb2NrX2RhdGEoTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIG1iLT5iYXNlOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApibG9ja19sZW5ndGgoTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIG1iLT5zaXplOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKYmxvY2tfYXJyYXlidWZmZXIoTWVtb3J5QmxvY2sqIG1iLCBKU1ZhbHVlQ29uc3QgYWIsIEpTQ29udGV4dCogY3R4KSB7CiAgbWItPmJhc2UgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZtYi0+c2l6ZSwgYWIpOwogIHJldHVybiBtYi0+YmFzZSAhPSAwOwp9Cgp0eXBlZGVmIHN0cnVjdCBwb2ludGVyX3JhbmdlIHsKICB1aW50OF90ICpzdGFydCwgKmVuZDsKfSBQb2ludGVyUmFuZ2U7CgpzdGF0aWMgaW5saW5lIHZvaWQKcmFuZ2VfaW5pdChQb2ludGVyUmFuZ2UqIHByKSB7CiAgcHItPmVuZCA9IHByLT5zdGFydCA9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgUG9pbnRlclJhbmdlCnJhbmdlX2Zyb20oY29uc3QgTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIChQb2ludGVyUmFuZ2Upe21iLT5iYXNlLCBtYi0+YmFzZSArIG1iLT5zaXplfTsKfQoKdHlwZWRlZiBzdHJ1Y3Qgb2Zmc2V0X2xlbmd0aCB7CiAgaW50NjRfdCBvZmZzZXQsIGxlbmd0aDsKfSBPZmZzZXRMZW5ndGg7CgpzdGF0aWMgaW5saW5lIHZvaWQKb2Zmc2V0X2luaXQoT2Zmc2V0TGVuZ3RoKiBvbCkgewogIG9sLT5vZmZzZXQgPSAwOwogIG9sLT5sZW5ndGggPSBJTlQ2NF9NQVg7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApvZmZzZXRfaXNfZGVmYXVsdChjb25zdCBPZmZzZXRMZW5ndGgqIG9sKSB7CiAgcmV0dXJuIG9sLT5vZmZzZXQgPT0gMCAmJiBvbC0+bGVuZ3RoID09IElOVDY0X01BWDsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpvZmZzZXRfZGF0YShjb25zdCBPZmZzZXRMZW5ndGgqIG9sLCBjb25zdCB2b2lkKiB4KSB7CiAgcmV0dXJuICh1aW50OF90Kil4ICsgb2wtPm9mZnNldDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKb2Zmc2V0X3NpemUoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgc2l6ZV90IG4pIHsKICByZXR1cm4gTUlOX05VTShvbC0+bGVuZ3RoLCBuIC0gb2wtPm9mZnNldCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWVtb3J5QmxvY2sKb2Zmc2V0X2Jsb2NrKGNvbnN0IE9mZnNldExlbmd0aCogb2wsIGNvbnN0IHZvaWQqIHgsIHNpemVfdCBuKSB7CiAgcmV0dXJuIChNZW1vcnlCbG9jayl7b2Zmc2V0X2RhdGEob2wsIHgpLCBvZmZzZXRfc2l6ZShvbCwgbil9Owp9CgpzdGF0aWMgaW5saW5lIFBvaW50ZXJSYW5nZQpvZmZzZXRfcmFuZ2UoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pIHsKICBNZW1vcnlCbG9jayBtYiA9IG9mZnNldF9ibG9jayhvbCwgeCwgbik7CiAgcmV0dXJuIHJhbmdlX2Zyb20oJm1iKTsKfQoKc3RhdGljIGlubGluZSBPZmZzZXRMZW5ndGgKb2Zmc2V0X3NsaWNlKGNvbnN0IE9mZnNldExlbmd0aCBvbCwgaW50NjRfdCBzdGFydCwgaW50NjRfdCBlbmQpIHsKICBpZihzdGFydCA8IDApCiAgICBzdGFydCA9IG9sLmxlbmd0aCArIChzdGFydCAlIG9sLmxlbmd0aCk7CiAgZWxzZSBpZihzdGFydCA+IG9sLmxlbmd0aCkKICAgIHN0YXJ0ID0gb2wubGVuZ3RoOwogIGlmKGVuZCA8IDApCiAgICBlbmQgPSBvbC5sZW5ndGggKyAoZW5kICUgb2wubGVuZ3RoKTsKICBlbHNlIGlmKGVuZCA+IG9sLmxlbmd0aCkKICAgIGVuZCA9IG9sLmxlbmd0aDsKCiAgcmV0dXJuIChPZmZzZXRMZW5ndGgpe3N0YXJ0LCBlbmQgLSBzdGFydH07Cn0KCnN0YXRpYyBpbmxpbmUgT2Zmc2V0TGVuZ3RoCm9mZnNldF9vZmZzZXQoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgY29uc3QgT2Zmc2V0TGVuZ3RoKiBieSkgewogIE9mZnNldExlbmd0aCByZXQ7CiAgcmV0Lm9mZnNldCA9IG9sLT5vZmZzZXQgKyBieS0+b2Zmc2V0OwogIHJldC5sZW5ndGggPSBNSU5fTlVNKGJ5LT5sZW5ndGgsIG9sLT5sZW5ndGggLSBieS0+b2Zmc2V0KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIE1lbW9yeUJsb2NrCmJsb2NrX3JhbmdlKGNvbnN0IE1lbW9yeUJsb2NrKiBtYiwgc3RydWN0IG9mZnNldF9sZW5ndGgqIHJhbmdlKSB7CiAgTWVtb3J5QmxvY2sgcmV0OwogIHJldC5iYXNlID0gbWItPmJhc2UgKyByYW5nZS0+b2Zmc2V0OwogIHJldC5zaXplID0gTUlOX05VTShyYW5nZS0+bGVuZ3RoLCBtYi0+c2l6ZSAtIHJhbmdlLT5vZmZzZXQpOwogIHJldHVybiByZXQ7Cn0KCnR5cGVkZWYgc3RydWN0IElucHV0QnVmZmVyIHsKICB1aW50OF90KiBkYXRhOwogIHNpemVfdCBwb3MsIHNpemU7CiAgdm9pZCAoKmZyZWUpKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlKTsKICBKU1ZhbHVlIHZhbHVlOwogIE9mZnNldExlbmd0aCByYW5nZTsKfSBJbnB1dEJ1ZmZlcjsKCnN0YXRpYyBpbmxpbmUgdm9pZAppbnB1dF9idWZmZXJfZnJlZV9kZWZhdWx0KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzdHIsIEpTVmFsdWUgdmFsKSB7CiAgaWYoSlNfSXNTdHJpbmcodmFsKSkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKCiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbCkpCiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWwpOwp9CgpJbnB1dEJ1ZmZlciBqc19pbnB1dF9idWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CklucHV0QnVmZmVyIGpzX2lucHV0X2NoYXJzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpJbnB1dEJ1ZmZlciBpbnB1dF9idWZmZXJfY2xvbmUoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCk7CkJPT0wgaW5wdXRfYnVmZmVyX3ZhbGlkKGNvbnN0IElucHV0QnVmZmVyKiBpbik7CnZvaWQgaW5wdXRfYnVmZmVyX2R1bXAoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBEeW5CdWYqIGRiKTsKdm9pZCBpbnB1dF9idWZmZXJfZnJlZShJbnB1dEJ1ZmZlciogaW4sIEpTQ29udGV4dCogY3R4KTsKCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKaW5wdXRfYnVmZmVyX2RhdGEoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhICsgaW4tPnJhbmdlLm9mZnNldDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKaW5wdXRfYnVmZmVyX2xlbmd0aChjb25zdCBJbnB1dEJ1ZmZlciogaW4pIHsKICByZXR1cm4gTUlOX05VTShpbi0+cmFuZ2UubGVuZ3RoLCBpbi0+c2l6ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgTWVtb3J5QmxvY2sKaW5wdXRfYnVmZmVyX2Jsb2NrKElucHV0QnVmZmVyKiBpbikgewogIHJldHVybiAoTWVtb3J5QmxvY2spe2lucHV0X2J1ZmZlcl9kYXRhKGluKSwgaW5wdXRfYnVmZmVyX2xlbmd0aChpbil9Owp9CgpzdGF0aWMgaW5saW5lIElucHV0QnVmZmVyCmlucHV0X2J1ZmZlcl9vZmZzZXQoSW5wdXRCdWZmZXIgaW4sIE9mZnNldExlbmd0aCBvZmYpIHsKICBJbnB1dEJ1ZmZlciByZXQgPSBpbjsKCiAgcmV0LmRhdGEgKz0gb2ZmLm9mZnNldDsKICByZXQuc2l6ZSAtPSBvZmYub2Zmc2V0OwoKICBpZihyZXQuc2l6ZSA+IG9mZi5sZW5ndGgpCiAgICByZXQuc2l6ZSA9IG9mZi5sZW5ndGg7CgogIHJldHVybiByZXQ7Cn0KCmNvbnN0IHVpbnQ4X3QqIGlucHV0X2J1ZmZlcl9nZXQoSW5wdXRCdWZmZXIqIGluLCBzaXplX3QqIGxlbnApOwpjb25zdCB1aW50OF90KiBpbnB1dF9idWZmZXJfcGVlayhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCk7CmNvbnN0IGNoYXIqIGlucHV0X2J1ZmZlcl9jdXJyZW50bGluZShJbnB1dEJ1ZmZlciosIHNpemVfdCogbGVuKTsKc2l6ZV90IGlucHV0X2J1ZmZlcl9jb2x1bW4oSW5wdXRCdWZmZXIqLCBzaXplX3QqIGxlbik7CgpzdGF0aWMgaW50CmlucHV0X2J1ZmZlcl9wZWVrYyhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCkgewogIGNvbnN0IHVpbnQ4X3QgKnBvcywgKmVuZCwgKm5leHQ7CiAgaW50IGNwOwogIHBvcyA9IGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGluLT5wb3M7CiAgZW5kID0gaW5wdXRfYnVmZmVyX2RhdGEoaW4pICsgaW5wdXRfYnVmZmVyX2xlbmd0aChpbik7CiAgY3AgPSB1bmljb2RlX2Zyb21fdXRmOChwb3MsIGVuZCAtIHBvcywgJm5leHQpOwogIGlmKGxlbnApCiAgICAqbGVucCA9IG5leHQgLSBwb3M7CgogIHJldHVybiBjcDsKfQoKc3RhdGljIGlubGluZSBpbnQKaW5wdXRfYnVmZmVyX2dldGMoSW5wdXRCdWZmZXIqIGluKSB7CiAgc2l6ZV90IG47CiAgaW50IHJldDsKICByZXQgPSBpbnB1dF9idWZmZXJfcGVla2MoaW4sICZuKTsKICBpbi0+cG9zICs9IG47CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgppbnB1dF9idWZmZXJfYmVnaW4oY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QqCmlucHV0X2J1ZmZlcl9lbmQoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pOwp9CnN0YXRpYyBpbmxpbmUgQk9PTAppbnB1dF9idWZmZXJfZW9mKGNvbnN0IElucHV0QnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+cG9zID09IGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pOwp9CnN0YXRpYyBpbmxpbmUgc2l6ZV90CmlucHV0X2J1ZmZlcl9yZW1haW4oY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pIC0gaW4tPnBvczsKfQoKaW50IGpzX29mZnNldF9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIGludDY0X3Qgc2l6ZSwgaW50IGFyZ2MsIEpTVmFsdWUgYXJndltdLCBPZmZzZXRMZW5ndGgqIG9mZl9sZW5fcCk7CgojZW5kaWYgLyogZGVmaW5lZChCVUZGRVJfVVRJTFMpICovCgAAAAAAAAAA9B4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWwIAAAAAAABbAgAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD0HgAAI2lmbmRlZiBCVUZGRVJfVVRJTFNfSAojZGVmaW5lIEJVRkZFUl9VVElMU19ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CiNpbmNsdWRlIDxzdGRhcmcuaD4KCiNpbmNsdWRlICJjaGFyLXV0aWxzLmgiCgojaWZuZGVmIE1BWF9OVU0KI2RlZmluZSBNQVhfTlVNKGEsIGIpICgoYSkgPiAoYikgPyAoYSkgOiAoYikpCiNlbmRpZgojaWZuZGVmIE1JTl9OVU0KI2RlZmluZSBNSU5fTlVNKGEsIGIpICgoYSkgPCAoYikgPyAoYSkgOiAoYikpCiNlbmRpZgoKaW50NjRfdCBhcnJheV9zZWFyY2godm9pZCogYSwgc2l6ZV90IG0sIHNpemVfdCBlbHN6LCB2b2lkKiBuZWVkbGUpOwojZGVmaW5lIGFycmF5X2NvbnRhaW5zKGEsIG0sIGVsc3osIG5lZWRsZSkgKGFycmF5X3NlYXJjaCgoYSksIChtKSwgKGVsc3opLCAobmVlZGxlKSkgIT0gLTEpCgpzaXplX3QgYW5zaV9sZW5ndGgoY29uc3QgY2hhciosIHNpemVfdCk7CnNpemVfdCBhbnNpX3NraXAoY29uc3QgY2hhciosIHNpemVfdCk7CnNpemVfdCBhbnNpX3RydW5jYXRlKGNvbnN0IGNoYXIqLCBzaXplX3QsIHNpemVfdCBsaW1pdCk7CmludDY0X3QgYXJyYXlfc2VhcmNoKHZvaWQqLCBzaXplX3QsIHNpemVfdCBlbHN6LCB2b2lkKiBuZWVkbGUpOwpjaGFyKiBzdHJfZXNjYXBlKGNvbnN0IGNoYXIqKTsKY2hhciogYnl0ZV9lc2NhcGUoY29uc3Qgdm9pZCosIHNpemVfdCk7CnNpemVfdCBieXRlX2ZpbmRiKGNvbnN0IHZvaWQqLCBzaXplX3QsIGNvbnN0IHZvaWQqIHdoYXQsIHNpemVfdCB3bGVuKTsKc2l6ZV90IGJ5dGVfZmluZHMoY29uc3Qgdm9pZCosIHNpemVfdCwgY29uc3QgY2hhciogd2hhdCk7CnNpemVfdCBieXRlX2VxdWFsKGNvbnN0IHZvaWQqIHMsIHNpemVfdCBuLCBjb25zdCB2b2lkKiB0KTsKY2hhciogZGJ1Zl9hdF9uKGNvbnN0IER5bkJ1ZiosIHNpemVfdCwgc2l6ZV90KiBuLCBjaGFyIHNlcCk7CmNvbnN0IGNoYXIqIGRidWZfbGFzdF9saW5lKER5bkJ1ZiosIHNpemVfdCopOwppbnQgZGJ1Zl9wcmVwZW5kKER5bkJ1ZiosIGNvbnN0IHVpbnQ4X3QqLCBzaXplX3QgbGVuKTsKdm9pZCBkYnVmX3B1dF9jb2xvcnN0cihEeW5CdWYqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogY29sb3IsIGludCB3aXRoX2NvbG9yKTsKdm9pZCBkYnVmX3B1dF9lc2NhcGVkX3ByZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGludCAoKnByZWQpKGludCkpOwp2b2lkIGRidWZfcHV0X2VzY2FwZWRfdGFibGUoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIgdGFibGVbMjU2XSk7CnZvaWQgZGJ1Zl9wdXRfdW5lc2NhcGVkX3ByZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4sIGludCAoKnByZWQpKGludCkpOwp2b2lkIGRidWZfcHV0X2VzY2FwZWQoRHluQnVmKiwgY29uc3QgY2hhciosIHNpemVfdCBsZW4pOwp2b2lkIGRidWZfcHV0X3ZhbHVlKER5bkJ1ZiosIEpTQ29udGV4dCosIEpTVmFsdWUgdmFsdWUpOwppbnQgZGJ1Zl9yZXNlcnZlX3N0YXJ0KER5bkJ1ZiosIHNpemVfdCk7CnNpemVfdCBkYnVmX3Rva2VuX3BvcChEeW5CdWYqLCBjaGFyKTsKc2l6ZV90IGRidWZfdG9rZW5fcHVzaChEeW5CdWYqLCBjb25zdCBjaGFyKiwgc2l6ZV90IGxlbiwgY2hhciBkZWxpbSk7CkpTVmFsdWUgZGJ1Zl90b3N0cmluZ19mcmVlKER5bkJ1ZiosIEpTQ29udGV4dCopOwpzc2l6ZV90IGRidWZfbG9hZChEeW5CdWYqLCBjb25zdCBjaGFyKik7CgpzdGF0aWMgaW5saW5lIGludApkYnVmX3B1dG0oRHluQnVmKiBkYiwgLi4uKSB7CiAgaW50IHIgPSAwOwogIHZhX2xpc3QgYTsKICBjb25zdCBjaGFyKiBzOwogIHZhX3N0YXJ0KGEsIGRiKTsKICB3aGlsZSgocyA9IHZhX2FyZyhhLCBjaGFyKikpKQogICAgaWYoZGJ1Zl9wdXRzdHIoZGIsIHMpKQogICAgICByZXR1cm4gLTE7CiAgdmFfZW5kKGEpOwogIHJldHVybiByOwp9CgojZGVmaW5lIGRidWZfYXBwZW5kKGQsIHgsIG4pIGRidWZfcHV0KChkKSwgKGNvbnN0IHVpbnQ4X3QqKSh4KSwgKG4pKQoKc3RhdGljIGlubGluZSBzaXplX3QKZGJ1Zl9jb3VudChEeW5CdWYqIGRiLCBpbnQgY2gpIHsKICByZXR1cm4gYnl0ZV9jb3VudChkYi0+YnVmLCBkYi0+c2l6ZSwgY2gpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKZGJ1Zl8wKER5bkJ1ZiogZGIpIHsKICBkYnVmX3B1dGMoZGIsICdcMCcpOwogIGRiLT5zaXplLS07Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApkYnVmX3plcm8oRHluQnVmKiBkYikgewogIGRidWZfcmVhbGxvYyhkYiwgMCk7Cn0KCnN0YXRpYyBpbmxpbmUgaW50MzJfdApkYnVmX2dldF9jb2x1bW4oRHluQnVmKiBkYikgewogIHNpemVfdCBsZW47CiAgY29uc3QgY2hhciogc3RyOwogIGlmKGRiLT5zaXplKSB7CiAgICBzdHIgPSBkYnVmX2xhc3RfbGluZShkYiwgJmxlbik7CiAgICByZXR1cm4gYW5zaV9sZW5ndGgoc3RyLCBsZW4pOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKZGJ1Zl9iaXRmbGFncyhEeW5CdWYqIGRiLCB1aW50MzJfdCBiaXRzLCBjb25zdCBjaGFyKiBjb25zdCBuYW1lc1tdKSB7CiAgc2l6ZV90IGksIG4gPSAwOwogIGZvcihpID0gMDsgaSA8IHNpemVvZihiaXRzKSAqIDg7IGkrKykgewogICAgaWYoYml0cyAmICgxIDw8IGkpKSB7CiAgICAgIHNpemVfdCBsZW4gPSBzdHJsZW4obmFtZXNbaV0pOwogICAgICBpZihuKSB7CiAgICAgICAgbisrOwogICAgICAgIGRidWZfcHV0c3RyKGRiLCAifCIpOwogICAgICB9CiAgICAgIGRidWZfYXBwZW5kKGRiLCBuYW1lc1tpXSwgbGVuKTsKICAgICAgbiArPSBsZW47CiAgICB9CiAgfQogIHJldHVybiBuOwp9CgpzdHJ1Y3QgbWVtb3J5X2Jsb2NrOwpzdHJ1Y3QgcG9pbnRlcl9yYW5nZTsKc3RydWN0IG9mZnNldF9sZW5ndGg7Cgp0eXBlZGVmIHN0cnVjdCBtZW1vcnlfYmxvY2sgewogIHVpbnQ4X3QqIGJhc2U7CiAgc2l6ZV90IHNpemU7Cn0gTWVtb3J5QmxvY2s7CgpzdGF0aWMgaW5saW5lIHZvaWQKYmxvY2tfaW5pdChNZW1vcnlCbG9jayogbWIpIHsKICBtYi0+YmFzZSA9IDA7CiAgbWItPnNpemUgPSAwOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQqCmJsb2NrX2RhdGEoTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIG1iLT5iYXNlOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApibG9ja19sZW5ndGgoTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIG1iLT5zaXplOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKYmxvY2tfYXJyYXlidWZmZXIoTWVtb3J5QmxvY2sqIG1iLCBKU1ZhbHVlQ29uc3QgYWIsIEpTQ29udGV4dCogY3R4KSB7CiAgbWItPmJhc2UgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZtYi0+c2l6ZSwgYWIpOwogIHJldHVybiBtYi0+YmFzZSAhPSAwOwp9Cgp0eXBlZGVmIHN0cnVjdCBwb2ludGVyX3JhbmdlIHsKICB1aW50OF90ICpzdGFydCwgKmVuZDsKfSBQb2ludGVyUmFuZ2U7CgpzdGF0aWMgaW5saW5lIHZvaWQKcmFuZ2VfaW5pdChQb2ludGVyUmFuZ2UqIHByKSB7CiAgcHItPmVuZCA9IHByLT5zdGFydCA9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgUG9pbnRlclJhbmdlCnJhbmdlX2Zyb20oY29uc3QgTWVtb3J5QmxvY2sqIG1iKSB7CiAgcmV0dXJuIChQb2ludGVyUmFuZ2Upe21iLT5iYXNlLCBtYi0+YmFzZSArIG1iLT5zaXplfTsKfQoKdHlwZWRlZiBzdHJ1Y3Qgb2Zmc2V0X2xlbmd0aCB7CiAgaW50NjRfdCBvZmZzZXQsIGxlbmd0aDsKfSBPZmZzZXRMZW5ndGg7CgpzdGF0aWMgaW5saW5lIHZvaWQKb2Zmc2V0X2luaXQoT2Zmc2V0TGVuZ3RoKiBvbCkgewogIG9sLT5vZmZzZXQgPSAwOwogIG9sLT5sZW5ndGggPSBJTlQ2NF9NQVg7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApvZmZzZXRfaXNfZGVmYXVsdChjb25zdCBPZmZzZXRMZW5ndGgqIG9sKSB7CiAgcmV0dXJuIG9sLT5vZmZzZXQgPT0gMCAmJiBvbC0+bGVuZ3RoID09IElOVDY0X01BWDsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpvZmZzZXRfZGF0YShjb25zdCBPZmZzZXRMZW5ndGgqIG9sLCBjb25zdCB2b2lkKiB4KSB7CiAgcmV0dXJuICh1aW50OF90Kil4ICsgb2wtPm9mZnNldDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKb2Zmc2V0X3NpemUoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgc2l6ZV90IG4pIHsKICByZXR1cm4gTUlOX05VTShvbC0+bGVuZ3RoLCBuIC0gb2wtPm9mZnNldCk7Cn0KCnN0YXRpYyBpbmxpbmUgTWVtb3J5QmxvY2sKb2Zmc2V0X2Jsb2NrKGNvbnN0IE9mZnNldExlbmd0aCogb2wsIGNvbnN0IHZvaWQqIHgsIHNpemVfdCBuKSB7CiAgcmV0dXJuIChNZW1vcnlCbG9jayl7b2Zmc2V0X2RhdGEob2wsIHgpLCBvZmZzZXRfc2l6ZShvbCwgbil9Owp9CgpzdGF0aWMgaW5saW5lIFBvaW50ZXJSYW5nZQpvZmZzZXRfcmFuZ2UoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgY29uc3Qgdm9pZCogeCwgc2l6ZV90IG4pIHsKICBNZW1vcnlCbG9jayBtYiA9IG9mZnNldF9ibG9jayhvbCwgeCwgbik7CiAgcmV0dXJuIHJhbmdlX2Zyb20oJm1iKTsKfQoKc3RhdGljIGlubGluZSBPZmZzZXRMZW5ndGgKb2Zmc2V0X3NsaWNlKGNvbnN0IE9mZnNldExlbmd0aCBvbCwgaW50NjRfdCBzdGFydCwgaW50NjRfdCBlbmQpIHsKICBpZihzdGFydCA8IDApCiAgICBzdGFydCA9IG9sLmxlbmd0aCArIChzdGFydCAlIG9sLmxlbmd0aCk7CiAgZWxzZSBpZihzdGFydCA+IG9sLmxlbmd0aCkKICAgIHN0YXJ0ID0gb2wubGVuZ3RoOwogIGlmKGVuZCA8IDApCiAgICBlbmQgPSBvbC5sZW5ndGggKyAoZW5kICUgb2wubGVuZ3RoKTsKICBlbHNlIGlmKGVuZCA+IG9sLmxlbmd0aCkKICAgIGVuZCA9IG9sLmxlbmd0aDsKCiAgcmV0dXJuIChPZmZzZXRMZW5ndGgpe3N0YXJ0LCBlbmQgLSBzdGFydH07Cn0KCnN0YXRpYyBpbmxpbmUgT2Zmc2V0TGVuZ3RoCm9mZnNldF9vZmZzZXQoY29uc3QgT2Zmc2V0TGVuZ3RoKiBvbCwgY29uc3QgT2Zmc2V0TGVuZ3RoKiBieSkgewogIE9mZnNldExlbmd0aCByZXQ7CiAgcmV0Lm9mZnNldCA9IG9sLT5vZmZzZXQgKyBieS0+b2Zmc2V0OwogIHJldC5sZW5ndGggPSBNSU5fTlVNKGJ5LT5sZW5ndGgsIG9sLT5sZW5ndGggLSBieS0+b2Zmc2V0KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIE1lbW9yeUJsb2NrCmJsb2NrX3JhbmdlKGNvbnN0IE1lbW9yeUJsb2NrKiBtYiwgc3RydWN0IG9mZnNldF9sZW5ndGgqIHJhbmdlKSB7CiAgTWVtb3J5QmxvY2sgcmV0OwogIHJldC5iYXNlID0gbWItPmJhc2UgKyByYW5nZS0+b2Zmc2V0OwogIHJldC5zaXplID0gTUlOX05VTShyYW5nZS0+bGVuZ3RoLCBtYi0+c2l6ZSAtIHJhbmdlLT5vZmZzZXQpOwogIHJldHVybiByZXQ7Cn0KCnR5cGVkZWYgc3RydWN0IElucHV0QnVmZmVyIHsKICB1aW50OF90KiBkYXRhOwogIHNpemVfdCBwb3MsIHNpemU7CiAgdm9pZCAoKmZyZWUpKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBKU1ZhbHVlKTsKICBKU1ZhbHVlIHZhbHVlOwogIE9mZnNldExlbmd0aCByYW5nZTsKfSBJbnB1dEJ1ZmZlcjsKCnN0YXRpYyBpbmxpbmUgdm9pZAppbnB1dF9idWZmZXJfZnJlZV9kZWZhdWx0KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzdHIsIEpTVmFsdWUgdmFsKSB7CiAgaWYoSlNfSXNTdHJpbmcodmFsKSkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKCiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbCkpCiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWwpOwp9CgpJbnB1dEJ1ZmZlciBqc19pbnB1dF9idWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CklucHV0QnVmZmVyIGpzX2lucHV0X2NoYXJzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpJbnB1dEJ1ZmZlciBpbnB1dF9idWZmZXJfY2xvbmUoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCk7CkJPT0wgaW5wdXRfYnVmZmVyX3ZhbGlkKGNvbnN0IElucHV0QnVmZmVyKiBpbik7CnZvaWQgaW5wdXRfYnVmZmVyX2R1bXAoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBEeW5CdWYqIGRiKTsKdm9pZCBpbnB1dF9idWZmZXJfZnJlZShJbnB1dEJ1ZmZlciogaW4sIEpTQ29udGV4dCogY3R4KTsKCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKaW5wdXRfYnVmZmVyX2RhdGEoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGluLT5kYXRhICsgaW4tPnJhbmdlLm9mZnNldDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKaW5wdXRfYnVmZmVyX2xlbmd0aChjb25zdCBJbnB1dEJ1ZmZlciogaW4pIHsKICByZXR1cm4gTUlOX05VTShpbi0+cmFuZ2UubGVuZ3RoLCBpbi0+c2l6ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgTWVtb3J5QmxvY2sKaW5wdXRfYnVmZmVyX2Jsb2NrKElucHV0QnVmZmVyKiBpbikgewogIHJldHVybiAoTWVtb3J5QmxvY2spe2lucHV0X2J1ZmZlcl9kYXRhKGluKSwgaW5wdXRfYnVmZmVyX2xlbmd0aChpbil9Owp9CgpzdGF0aWMgaW5saW5lIElucHV0QnVmZmVyCmlucHV0X2J1ZmZlcl9vZmZzZXQoSW5wdXRCdWZmZXIgaW4sIE9mZnNldExlbmd0aCBvZmYpIHsKICBJbnB1dEJ1ZmZlciByZXQgPSBpbjsKCiAgcmV0LmRhdGEgKz0gb2ZmLm9mZnNldDsKICByZXQuc2l6ZSAtPSBvZmYub2Zmc2V0OwoKICBpZihyZXQuc2l6ZSA+IG9mZi5sZW5ndGgpCiAgICByZXQuc2l6ZSA9IG9mZi5sZW5ndGg7CgogIHJldHVybiByZXQ7Cn0KCmNvbnN0IHVpbnQ4X3QqIGlucHV0X2J1ZmZlcl9nZXQoSW5wdXRCdWZmZXIqIGluLCBzaXplX3QqIGxlbnApOwpjb25zdCB1aW50OF90KiBpbnB1dF9idWZmZXJfcGVlayhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCk7CmNvbnN0IGNoYXIqIGlucHV0X2J1ZmZlcl9jdXJyZW50bGluZShJbnB1dEJ1ZmZlciosIHNpemVfdCogbGVuKTsKc2l6ZV90IGlucHV0X2J1ZmZlcl9jb2x1bW4oSW5wdXRCdWZmZXIqLCBzaXplX3QqIGxlbik7CgpzdGF0aWMgaW50CmlucHV0X2J1ZmZlcl9wZWVrYyhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCkgewogIGNvbnN0IHVpbnQ4X3QgKnBvcywgKmVuZCwgKm5leHQ7CiAgaW50IGNwOwogIHBvcyA9IGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGluLT5wb3M7CiAgZW5kID0gaW5wdXRfYnVmZmVyX2RhdGEoaW4pICsgaW5wdXRfYnVmZmVyX2xlbmd0aChpbik7CiAgY3AgPSB1bmljb2RlX2Zyb21fdXRmOChwb3MsIGVuZCAtIHBvcywgJm5leHQpOwogIGlmKGxlbnApCiAgICAqbGVucCA9IG5leHQgLSBwb3M7CgogIHJldHVybiBjcDsKfQoKc3RhdGljIGlubGluZSBpbnQKaW5wdXRfYnVmZmVyX2dldGMoSW5wdXRCdWZmZXIqIGluKSB7CiAgc2l6ZV90IG47CiAgaW50IHJldDsKICByZXQgPSBpbnB1dF9idWZmZXJfcGVla2MoaW4sICZuKTsKICBpbi0+cG9zICs9IG47CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgppbnB1dF9idWZmZXJfYmVnaW4oY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QqCmlucHV0X2J1ZmZlcl9lbmQoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pOwp9CnN0YXRpYyBpbmxpbmUgQk9PTAppbnB1dF9idWZmZXJfZW9mKGNvbnN0IElucHV0QnVmZmVyKiBpbikgewogIHJldHVybiBpbi0+cG9zID09IGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pOwp9CnN0YXRpYyBpbmxpbmUgc2l6ZV90CmlucHV0X2J1ZmZlcl9yZW1haW4oY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9sZW5ndGgoaW4pIC0gaW4tPnBvczsKfQoKaW50IGpzX29mZnNldF9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIGludDY0X3Qgc2l6ZSwgaW50IGFyZ2MsIEpTVmFsdWUgYXJndltdLCBPZmZzZXRMZW5ndGgqIG9mZl9sZW5fcCk7CgojZW5kaWYgLyogZGVmaW5lZChCVUZGRVJfVVRJTFMpICovCgAAAAAAAAAA9B4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWwIAAAAAAABbAgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "quickjs-lexer.c",
			"settings":
			{
				"buffer_size": 44664,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					13,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB4rgAAI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGxpYnJlZ2V4cC5oPgojaW5jbHVkZSAicXVpY2tqcy1sZXhlci5oIgojaW5jbHVkZSAicXVpY2tqcy1sb2NhdGlvbi5oIgojaW5jbHVkZSAidmVjdG9yLmgiCiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdGRpbnQuaD4KI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKZW51bSB7CiAgTEVYRVJfTUVUSE9EX1NFVF9JTlBVVCA9IDAsCiAgTEVYRVJfTUVUSE9EX1NLSVAsCiAgTEVYRVJfTUVUSE9EX0JBQ0ssCiAgTEVYRVJfTUVUSE9EX1BFRUtDLAogIExFWEVSX01FVEhPRF9HRVRDLAogIExFWEVSX01FVEhPRF9TS0lQQywKICBMRVhFUl9NRVRIT0RfR0VUX1JBTkdFLAogIExFWEVSX01FVEhPRF9DVVJSRU5UX0xJTkUsCiAgTEVYRVJfTUVUSE9EX1RPS0VOX0NMQVNTLAogIExFWEVSX01FVEhPRF9HRVRfUlVMRSwKICBMRVhFUl9NRVRIT0RfU0tJUFVOVElMLAogIExFWEVSX01FVEhPRF9FUlJPUiwKICBMRVhFUl9NRVRIT0RfUFVTSF9TVEFURSwKICBMRVhFUl9NRVRIT0RfUE9QX1NUQVRFLAogIExFWEVSX01FVEhPRF9UT1BfU1RBVEUKfTsKCmVudW0gewogIExFWEVSX1BST1BfU0laRSA9IDAsCiAgTEVYRVJfUFJPUF9QT1MsCiAgTEVYRVJfUFJPUF9TVEFSVCwKICBMRVhFUl9QUk9QX0VPRiwKICBMRVhFUl9QUk9QX0ZJTEVOQU1FLAogIExFWEVSX1BST1BfTE9DLAogIExFWEVSX1BST1BfUlVMRU5BTUVTLAogIExFWEVSX1BST1BfTU9ERSwKICBMRVhFUl9QUk9QX0JZVEVfTEVOR1RILAogIExFWEVSX1BST1BfU1RBVEUsCiAgTEVYRVJfUFJPUF9TVEFURVMsCiAgTEVYRVJfUFJPUF9TVEFURV9ERVBUSCwKICBMRVhFUl9QUk9QX1NUQVRFX1NUQUNLLAogIExFWEVSX1BST1BfU09VUkNFLAogIExFWEVSX1BST1BfTEVYRU1FCn07Cgp0eXBlZGVmIHN0cnVjdCB7CiAgSlNWYWx1ZSBhY3Rpb247CiAgQk9PTCBza2lwOwp9IEpTTGV4ZXJSdWxlOwoKdGhyZWFkX2xvY2FsIFZJU0lCTEUgSlNDbGFzc0lEIGpzX3N5bnRheGVycm9yX2NsYXNzX2lkID0gMCwganNfdG9rZW5fY2xhc3NfaWQgPSAwLCBqc19sZXhlcl9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHN5bnRheGVycm9yX3Byb3RvID0ge3tKU19UQUdfVU5ERUZJTkVEfX0sIHN5bnRheGVycm9yX2N0b3IgPSB7e0pTX1RBR19VTkRFRklORUR9fTsKdGhyZWFkX2xvY2FsIEpTVmFsdWUgdG9rZW5fcHJvdG8gPSB7e0pTX1RBR19VTkRFRklORUR9fSwgdG9rZW5fY3RvciA9IHt7SlNfVEFHX1VOREVGSU5FRH19Owp0aHJlYWRfbG9jYWwgSlNWYWx1ZSBsZXhlcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCBsZXhlcl9jdG9yID0ge3tKU19UQUdfVU5ERUZJTkVEfX07CgpzdGF0aWMgSlNWYWx1ZQpqc19sZXhlcl9ydWxlX25ldyhKU0NvbnRleHQqIGN0eCwgTGV4ZXIqIGxleCwgTGV4ZXJSdWxlKiBydWxlKSB7CgogIEpTVmFsdWUgcmV0LCBzdGF0ZXM7CiAgRHluQnVmIGRidWY7CiAgc2l6ZV90IGksIGo7CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogIGxleGVyX3J1bGVfZHVtcChsZXgsIHJ1bGUsICZkYnVmKTsKICBkYnVmXzAoJmRidWYpOwoKICBpZihydWxlLT5leHByWzBdID09ICc8JykgewogICAgYXNzZXJ0KCFzdHJuY21wKHJ1bGUtPmV4cHIsIChjb25zdCBjaGFyKilkYnVmLmJ1Ziwgc3RyX2NocihydWxlLT5leHByLCAnPicpKSk7CiAgfQoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGpzX3NldF9wcm9wZXJ0eWludF9zdHJpbmcoY3R4LCByZXQsIDAsIHJ1bGUtPm5hbWUpOwogIGpzX3NldF9wcm9wZXJ0eWludF9zdHJpbmcoY3R4LCByZXQsIDEsIGxleGVyX3N0YXRlc19za2lwKChjaGFyKilkYnVmLmJ1ZikpOwoKICBzdGF0ZXMgPSBKU19OZXdBcnJheShjdHgpOwoKICBmb3IoaSA9IDAsIGogPSAwOyBpIDwgMzI7IGkrKykgewogICAgaWYocnVsZS0+bWFzayAmICgxIDw8IGkpKSB7CiAgICAgIGNoYXIqIG5hbWUgPSBsZXhlcl9zdGF0ZV9uYW1lKGxleCwgaSk7CgogICAgICBpZihuYW1lKQogICAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgc3RhdGVzLCBqKyssIEpTX05ld1N0cmluZyhjdHgsIG5hbWUpKTsKICAgIH0KICB9CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDIsIHN0YXRlcyk7CiAgLy8gSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX05ld0ludDY0KGN0eCwgcnVsZS0+bWFzaykpOwogIGRidWZfZnJlZSgmZGJ1Zik7CiAgcmV0dXJuIHJldDsKfQoKZW51bSBzeW50YXhlcnJvcl9nZXR0ZXJzIHsKICBTWU5UQVhFUlJPUl9QUk9QX0xPQyA9IDAsCiAgU1lOVEFYRVJST1JfUFJPUF9NRVNTQUdFLAogIFNZTlRBWEVSUk9SX1BST1BfTElORSwKfTsKCkpTVmFsdWUKanNfc3ludGF4ZXJyb3JfbmV3KEpTQ29udGV4dCogY3R4LCBTeW50YXhFcnJvciBhcmcpIHsKICBTeW50YXhFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVEOwoKICBpZighKGVyciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU3ludGF4RXJyb3IpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBtZW1jcHkoZXJyLCAmYXJnLCBzaXplb2YoU3ludGF4RXJyb3IpKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHN5bnRheGVycm9yX3Byb3RvLCBqc19zeW50YXhlcnJvcl9jbGFzc19pZCk7CiAgSlNfU2V0T3BhcXVlKG9iaiwgZXJyKTsKICBpZighbG9jYXRpb25faXNudWxsKCZlcnItPmxvYykpCiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgImxvYyIsIGpzX2xvY2F0aW9uX25ldyhjdHgsICZlcnItPmxvYykpOwogIGlmKGVyci0+bWVzc2FnZSkKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibWVzc2FnZSIsIEpTX05ld1N0cmluZyhjdHgsIGVyci0+bWVzc2FnZSkpOwogIGlmKGVyci0+bGluZSkKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibGluZSIsIEpTX05ld1N0cmluZyhjdHgsIGVyci0+bGluZSkpOwogIHJldHVybiBvYmo7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3N5bnRheGVycm9yX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBTeW50YXhFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVEOwogIEpTVmFsdWUgcHJvdG87CiAgaW50IGk7CiAgaWYoIShlcnIgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKFN5bnRheEVycm9yKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3N5bnRheGVycm9yX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwoKICBmb3IoaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pICYmICFlcnItPm1lc3NhZ2UpIHsKICAgICAgZXJyLT5tZXNzYWdlID0ganNfdG9zdHJpbmcoY3R4LCBhcmd2W2ldKTsKICAgIH0gZWxzZSBpZihKU19Jc1N0cmluZyhhcmd2W2ldKSAmJiAhZXJyLT5saW5lKSB7CiAgICAgIGVyci0+bGluZSA9IGpzX3Rvc3RyaW5nKGN0eCwgYXJndltpXSk7CiAgICB9IGVsc2UgaWYoanNfaXNfbG9jYXRpb24oY3R4LCBhcmd2W2ldKSkgewogICAgICBlcnItPmxvYyA9IGpzX2xvY2F0aW9uX2Zyb20oY3R4LCBhcmd2W2ldKTsKICAgIH0KICB9CgogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeW50YXhlcnJvcl9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgU3ludGF4RXJyb3IqIGVycjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShlcnIgPSBqc19zeW50YXhlcnJvcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBTWU5UQVhFUlJPUl9QUk9QX0xPQzogewogICAgICByZXQgPSBqc19sb2NhdGlvbl9uZXcoY3R4LCAmZXJyLT5sb2MpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lOVEFYRVJST1JfUFJPUF9NRVNTQUdFOiB7CiAgICAgIHJldCA9IGVyci0+bWVzc2FnZSA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+bWVzc2FnZSkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lOVEFYRVJST1JfUFJPUF9MSU5FOiB7CiAgICAgIHJldCA9IGVyci0+bGluZSA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+bGluZSkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3ludGF4ZXJyb3JfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBTeW50YXhFcnJvciogZXJyOwogIER5bkJ1ZiBkYjsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShlcnIgPSBqc19zeW50YXhlcnJvcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGpzX2RidWZfaW5pdChjdHgsICZkYik7CiAgbG9jYXRpb25fcHJpbnQoJmVyci0+bG9jLCAmZGIpOwoKICBpZihlcnItPm1lc3NhZ2UpIHsKICAgIGRidWZfcHV0YygmZGIsICcgJyk7CiAgICBkYnVmX3B1dHN0cigmZGIsIGVyci0+bWVzc2FnZSk7CiAgfQoKICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopZGIuYnVmLCBkYi5zaXplKTsKICBkYnVmX2ZyZWUoJmRiKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeW50YXhlcnJvcl9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgU3ludGF4RXJyb3IqIGVycjsKCiAgaWYoIShlcnIgPSBqc19zeW50YXhlcnJvcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzeW50YXhlcnJvcl9wcm90byk7CgogIGlmKCFsb2NhdGlvbl9pc251bGwoJmVyci0+bG9jKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJsb2MiLCBqc19sb2NhdGlvbl9uZXcoY3R4LCAmZXJyLT5sb2MpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwoKICBpZihlcnItPmxpbmUpCiAgICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAibGluZSIsIEpTX05ld1N0cmluZyhjdHgsIGVyci0+bGluZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgaWYoZXJyLT5tZXNzYWdlKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIm1lc3NhZ2UiLCBKU19OZXdTdHJpbmcoY3R4LCBlcnItPm1lc3NhZ2UpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwoKICByZXR1cm4gb2JqOwp9CgpzdGF0aWMgdm9pZApqc19zeW50YXhlcnJvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBTeW50YXhFcnJvciogZXJyID0gSlNfR2V0T3BhcXVlKHZhbCwganNfc3ludGF4ZXJyb3JfY2xhc3NfaWQpOwogIGlmKGVycikgewogICAgaWYoZXJyLT5tZXNzYWdlKQogICAgICBqc19mcmVlX3J0KHJ0LCAoY2hhciopZXJyLT5tZXNzYWdlKTsKICAgIGlmKGVyci0+bGluZSkKICAgICAganNfZnJlZV9ydChydCwgKGNoYXIqKWVyci0+bGluZSk7CgogICAgbG9jYXRpb25fZnJlZV9ydCgmZXJyLT5sb2MsIHJ0KTsKICB9CiAgSlNfRnJlZVZhbHVlUlQocnQsIHZhbCk7Cn0KCnN0YXRpYyBKU0NsYXNzRGVmIGpzX3N5bnRheGVycm9yX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiU3ludGF4RXJyb3IiLAogICAgLmZpbmFsaXplciA9IGpzX3N5bnRheGVycm9yX2ZpbmFsaXplciwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zeW50YXhlcnJvcl9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxvYyIsIGpzX3N5bnRheGVycm9yX2dldCwgMCwgU1lOVEFYRVJST1JfUFJPUF9MT0MpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigibWVzc2FnZSIsIGpzX3N5bnRheGVycm9yX2dldCwgMCwgU1lOVEFYRVJST1JfUFJPUF9NRVNTQUdFKSwKICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAwLCBqc19zeW50YXhlcnJvcl90b3N0cmluZyksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIlN5bnRheEVycm9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKZW51bSB0b2tlbl9tZXRob2RzIHsKICBUT19TVFJJTkcgPSAwLAp9OwplbnVtIHRva2VuX2dldHRlcnMgewogIFRPS0VOX1BST1BfQllURUxFTkdUSCA9IDAsCiAgVE9LRU5fUFJPUF9CWVRFT0ZGU0VULAogIFRPS0VOX1BST1BfQ0hBUkxFTkdUSCwKICBUT0tFTl9QUk9QX1NUQVJULAogIFRPS0VOX1BST1BfRU5ELAogIFRPS0VOX1BST1BfQ0hBUlJBTkdFLAogIFRPS0VOX1BST1BfTEVYRU1FLAogIFRPS0VOX1BST1BfTE9DLAogIFRPS0VOX1BST1BfSUQsCiAgVE9LRU5fUFJPUF9TRVEsCiAgVE9LRU5fUFJPUF9UWVBFLAogIFRPS0VOX1BST1BfUlVMRSwKfTsKCnN0YXRpYyB2b2lkCnRva2VuX2ZyZWUoVG9rZW4qIHRvaywgSlNDb250ZXh0KiBjdHgpIHsKCiAgbG9jYXRpb25fZnJlZSgmdG9rLT5sb2MsIGN0eCk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZCh0b2stPmxvY192YWwpKQogICAganNfdmFsdWVfZnJlZShjdHgsIHRvay0+bG9jX3ZhbCk7CgogIGpzX2ZyZWUoY3R4LCB0b2stPmxleGVtZSk7CiAganNfZnJlZShjdHgsIHRvayk7Cn0KCnN0YXRpYyB2b2lkCnRva2VuX2ZyZWVfcnQoVG9rZW4qIHRvaywgSlNSdW50aW1lKiBydCkgewoKICBsb2NhdGlvbl9mcmVlX3J0KCZ0b2stPmxvYywgcnQpOwoKICBpZighSlNfSXNVbmRlZmluZWQodG9rLT5sb2NfdmFsKSkKICAgIGpzX3ZhbHVlX2ZyZWVfcnQocnQsIHRvay0+bG9jX3ZhbCk7CgogIGpzX2ZyZWVfcnQocnQsIHRvay0+bGV4ZW1lKTsKICBqc19mcmVlX3J0KHJ0LCB0b2spOwp9CgpUb2tlbioKanNfdG9rZW5fbmV3KEpTQ29udGV4dCogY3R4LCBpbnQgaWQsIGNvbnN0IGNoYXIqIGxleGVtZSwgY29uc3QgTG9jYXRpb24qIGxvYywgdWludDY0X3QgYnl0ZV9vZmZzZXQpIHsKICBUb2tlbiogdG9rOwoKICBpZighKHRvayA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoVG9rZW4pKSkpCiAgICByZXR1cm4gMDsKCiAgdG9rLT5pZCA9IGlkOwogIHRvay0+bGV4ZW1lID0ganNfc3RyZHVwKGN0eCwgbGV4ZW1lKTsKICB0b2stPmxvYyA9ICpsb2M7CiAgdG9rLT5sb2NfdmFsID0gSlNfVU5ERUZJTkVEOwogIHRvay0+Ynl0ZV9vZmZzZXQgPSBieXRlX29mZnNldDsKCiAgcmV0dXJuIHRvazsKfQoKSlNWYWx1ZQpqc190b2tlbl93cmFwKEpTQ29udGV4dCogY3R4LCBUb2tlbiogdG9rKSB7CiAgSlNWYWx1ZSBvYmogPSBKU19VTkRFRklORUQ7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCB0b2tlbl9wcm90bywganNfdG9rZW5fY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIHRvayk7CiAgcmV0dXJuIG9iajsKfQoKSlNWYWx1ZQpqc190b2tlbl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVG9rZW4qIHRvazsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBpZighKHRvayA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoVG9rZW4pKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfdG9rZW5fY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCB0b2spOwoKICB0b2stPmxvY192YWwgPSBKU19VTkRFRklORUQ7CgogIGlmKGFyZ2MgPiAwKQogICAgSlNfVG9JbnQzMihjdHgsICZ0b2stPmlkLCBhcmd2WzBdKTsKICBpZihhcmdjID4gMSkKICAgIHRvay0+bGV4ZW1lID0ganNfdG9zdHJpbmcoY3R4LCBhcmd2WzFdKTsKICBpZihhcmdjID4gMikKICAgIHRvay0+bG9jID0ganNfbG9jYXRpb25fZnJvbShjdHgsIGFyZ3ZbMl0pOwogIGlmKGFyZ2MgPiAzKQogICAgSlNfVG9JbnQ2NChjdHgsICZ0b2stPmxvYy5wb3MsIGFyZ3ZbM10pOwoKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2ZyZWUoY3R4LCB0b2spOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKSlNWYWx1ZQpqc190b2tlbl90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFRva2VuKiB0b2s7CiAgaWYoISh0b2sgPSBqc190b2tlbl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dXJuIEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKil0b2stPmxleGVtZSwgdG9rLT5ieXRlX2xlbmd0aCk7Cn0KCkpTVmFsdWUKanNfdG9rZW5fdG9wcmltaXRpdmUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBUb2tlbiogdG9rOwogIGNvbnN0IGNoYXIqIGhpbnQ7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoISh0b2sgPSBqc190b2tlbl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaGludCA9IGFyZ2MgPiAwID8gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSkgOiAwOwoKICBpZihoaW50ICYmICFzdHJjbXAoaGludCwgIm51bWJlciIpKQogICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCB0b2stPmlkKTsKICBlbHNlCiAgICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopdG9rLT5sZXhlbWUsIHRvay0+Ynl0ZV9sZW5ndGgpOwoKICBpZihoaW50KQogICAganNfY3N0cmluZ19mcmVlKGN0eCwgaGludCk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc190b2tlbl9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVG9rZW4qIHRvazsKICBMZXhlclJ1bGUqIHJ1bGU7CgogIGlmKCEodG9rID0ganNfdG9rZW5fZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU1ZhbHVlIG9iaiA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgdG9rZW5fcHJvdG8pOwogIHJ1bGUgPSBsZXhlcl9ydWxlX2F0KHRvay0+bGV4ZXIsIHRvay0+aWQpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaWQiLCBKU19OZXdVaW50MzIoY3R4LCB0b2stPmlkKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAic2VxIiwgSlNfTmV3VWludDMyKGN0eCwgdG9rLT5zZXEpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJ0eXBlIiwgSlNfTmV3U3RyaW5nKGN0eCwgcnVsZS0+bmFtZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxleGVtZSIsIEpTX05ld1N0cmluZyhjdHgsIHRvay0+bGV4ZW1lKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImJ5dGVPZmZzZXQiLCBKU19OZXdVaW50MzIoY3R4LCB0b2stPmJ5dGVfb2Zmc2V0KSwgMCk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImJ5dGVMZW5ndGgiLCBKU19OZXdVaW50MzIoY3R4LCB0b2stPmJ5dGVfbGVuZ3RoKSwgMCk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxlbmd0aCIsIEpTX05ld1VpbnQzMihjdHgsIHRvay0+Y2hhcl9sZW5ndGgpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAibG9jIiwgbG9jYXRpb25fdG92YWx1ZSgmdG9rLT5sb2MsIGN0eCksIDApOwogIHJldHVybiBvYmo7Cn0KCkpTVmFsdWUKanNfdG9rZW5fZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIFRva2VuKiB0b2s7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEodG9rID0ganNfdG9rZW5fZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gcmV0OwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgVE9LRU5fUFJPUF9CWVRFTEVOR1RIOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDY0KGN0eCwgdG9rLT5ieXRlX2xlbmd0aCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX0JZVEVPRkZTRVQ6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCB0b2stPmJ5dGVfb2Zmc2V0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRPS0VOX1BST1BfQ0hBUkxFTkdUSDogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHRvay0+Y2hhcl9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9TVEFSVDogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHRvay0+bG9jLnBvcyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX0VORDogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHRvay0+bG9jLnBvcyArIHRvay0+Y2hhcl9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9DSEFSUkFOR0U6IHsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgICAganNfc2V0X3Byb3BlcnR5aW50X2ludChjdHgsIHJldCwgMCwgdG9rLT5sb2MucG9zKTsKICAgICAganNfc2V0X3Byb3BlcnR5aW50X2ludChjdHgsIHJldCwgMSwgdG9rLT5sb2MucG9zICsgdG9rLT5jaGFyX2xlbmd0aCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX0xFWEVNRTogewogICAgICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopdG9rLT5sZXhlbWUsIHRvay0+Ynl0ZV9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9MT0M6IHsKICAgICAgaWYoSlNfSXNVbmRlZmluZWQodG9rLT5sb2NfdmFsKSkKICAgICAgICB0b2stPmxvY192YWwgPSBqc19sb2NhdGlvbl9uZXcoY3R4LCAmdG9rLT5sb2MpOwoKICAgICAgcmV0ID0gSlNfRHVwVmFsdWUoY3R4LCB0b2stPmxvY192YWwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9JRDogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHRvay0+aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9TRVE6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgdG9rLT5zZXEpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9SVUxFOiB7CiAgICAgIExleGVyUnVsZSogcnVsZSA9IGxleGVyX3J1bGVfYXQodG9rLT5sZXhlciwgdG9rLT5pZCk7CiAgICAgIHJldCA9IGpzX2xleGVyX3J1bGVfbmV3KGN0eCwgdG9rLT5sZXhlciwgcnVsZSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX1RZUEU6IHsKICAgICAgTGV4ZXJSdWxlKiBydWxlID0gbGV4ZXJfcnVsZV9hdCh0b2stPmxleGVyLCB0b2stPmlkKTsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgcnVsZS0+bmFtZSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3Rva2VuX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIFRva2VuKiB0b2sgPSBKU19HZXRPcGFxdWUodmFsLCBqc190b2tlbl9jbGFzc19pZCk7CiAgaWYodG9rKSB7CiAgICB0b2tlbl9mcmVlX3J0KHRvaywgcnQpOwogIH0KICBKU19GcmVlVmFsdWVSVChydCwgdmFsKTsKfQoKc3RhdGljIEpTQ2xhc3NEZWYganNfdG9rZW5fY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJUb2tlbiIsCiAgICAuZmluYWxpemVyID0ganNfdG9rZW5fZmluYWxpemVyLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3Rva2VuX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiYnl0ZUxlbmd0aCIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9CWVRFTEVOR1RIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJieXRlT2Zmc2V0IiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0JZVEVPRkZTRVQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxlbmd0aCIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9DSEFSTEVOR1RIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGFydCIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9TVEFSVCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZW5kIiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0VORCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiY2hhclJhbmdlIiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0NIQVJSQU5HRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigibG9jIiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0xPQyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiaWQiLCBqc190b2tlbl9nZXQsIE5VTEwsIFRPS0VOX1BST1BfSUQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInNlcSIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9TRVEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInR5cGUiLCBqc190b2tlbl9nZXQsIE5VTEwsIFRPS0VOX1BST1BfVFlQRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicnVsZSIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9SVUxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJsZXhlbWUiLCBqc190b2tlbl9nZXQsIE5VTEwsIFRPS0VOX1BST1BfTEVYRU1FKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJ2YWx1ZSIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9MRVhFTUUpLAogICAgLy8gSlNfQ0ZVTkNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3Rva2VuX3Rvc3RyaW5nKSwKICAgIC8vIEpTX0NGVU5DX0RFRigiW1N5bWJvbC50b1ByaW1pdGl2ZV0iLCAxLCBqc190b2tlbl90b3ByaW1pdGl2ZSksCiAgICBKU19BTElBU19ERUYoInBvc2l0aW9uIiwgImxvYyIpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJUb2tlbiIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc190b2tlbl9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFT0YiLCBMRVhFUl9FT0YsIEpTX1BST1BfRU5VTUVSQUJMRSksCn07CgpzdGF0aWMgVG9rZW4qCmxleGVyX3Rva2VuKExleGVyKiBsZXgsIGludCBpZCwgc2l6ZV90IGNoYXJsZW4sIExvY2F0aW9uIGxvYywgSlNDb250ZXh0KiBjdHgpIHsKICBUb2tlbiogdG9rOwogIGlmKCh0b2sgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKFRva2VuKSkpKSB7CiAgICB0b2stPmlkID0gaWQ7CiAgICB0b2stPmxvYyA9IGxvY2F0aW9uX2Nsb25lKCZsb2MsIGN0eCk7CiAgICB0b2stPmxvY192YWwgPSBKU19VTkRFRklORUQ7CiAgICB0b2stPmJ5dGVfbGVuZ3RoID0gbGV4LT5ieXRlX2xlbmd0aDsKICAgIHRvay0+Y2hhcl9sZW5ndGggPSBjaGFybGVuOwogICAgdG9rLT5sZXhlbWUgPSBqc19zdHJuZHVwKGN0eCwgKGNvbnN0IGNoYXIqKSZsZXgtPmlucHV0LmRhdGFbbGV4LT5zdGFydF0sIHRvay0+Ynl0ZV9sZW5ndGgpOwogICAgdG9rLT5ieXRlX29mZnNldCA9IGxleC0+c3RhcnQ7CiAgICB0b2stPmxleGVyID0gbGV4OwogICAgdG9rLT5zZXEgPSBsZXgtPnNlcTsKICB9CiAgcmV0dXJuIHRvazsKfQoKc3RhdGljIEpTVmFsdWUKbGV4ZXJfY29udGludWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgSlNWYWx1ZSogZGF0YSkgewogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgZGF0YVswXSwgMCwgSlNfTmV3Qm9vbChjdHgsIFRSVUUpKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgaW50MzJfdApsZXhlcl90b19zdGF0ZShMZXhlciogbGV4LCBKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaW50MzJfdCBudW07CiAgaWYoSlNfSXNOdW1iZXIodmFsdWUpKSB7CiAgICBKU19Ub0ludDMyKGN0eCwgJm51bSwgdmFsdWUpOwogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICBudW0gPSBsZXhlcl9zdGF0ZV9maW5kKGxleCwgc3RyKTsKICB9CiAgaWYobnVtID49IDAgJiYgKHNpemVfdCludW0gPCBsZXhlcl9udW1fc3RhdGVzKGxleCkpCiAgICByZXR1cm4gbnVtOwogIHJldHVybiAtMTsKfQoKc3RhdGljIEJPT0wKbGV4ZXJfaGFuZGxlKExleGVyKiBsZXgsIEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCBoYW5kbGVyKSB7CiAgSlNWYWx1ZSBkYXRhWzFdID0ge0pTX05ld0FycmF5KGN0eCl9OwogIEpTVmFsdWUgYXJnc1tdID0ge0pTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpLCBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwgbGV4ZXJfY29udGludWUsIDAsIDAsIDEsIGRhdGEpfTsKICBKU1ZhbHVlIGRvX3Jlc3VtZSA9IEpTX0ZBTFNFOwoKICAvKiAgIHJldCA9ICovIEpTX0NhbGwoY3R4LCBoYW5kbGVyLCB0aGlzX3ZhbCwgMiwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogIGRvX3Jlc3VtZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgZGF0YVswXSwgMCk7CgogIGlmKEpTX0lzQm9vbChkb19yZXN1bWUpKQogICAgaWYoSlNfVG9Cb29sKGN0eCwgZG9fcmVzdW1lKSkKICAgICAgcmV0dXJuIFRSVUU7CgogIHJldHVybiBGQUxTRTsKfQoKc3RhdGljIGludApsZXhlcl9sZXgoTGV4ZXIqIGxleCwgSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBpbnQgaWQgPSAtMTsKICBpbnQ2NF90IHNraXAgPSAwOwogIC8qCiAgICB7CiAgICAgIEpTVmFsdWUgbWFzayA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdGhpc192YWwsICJza2lwIik7CiAgICAgIGlmKEpTX0lzTnVtYmVyKG1hc2spKQogICAgICAgIEpTX1RvSW50NjQoY3R4LCAmc2tpcCwgbWFzayk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1hc2spOwogICAgfQogICovCiAgSlNWYWx1ZSBjYWxsYmFjayA9IEpTX1VOREVGSU5FRDsKCiAgaWYoYXJnYyA+PSAxICYmIChza2lwID0gbGV4ZXJfdG9fc3RhdGUobGV4LCBjdHgsIGFyZ3ZbMF0pKSkge30KCiAgY2FsbGJhY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAiY2FsbGJhY2siKTsKCiAgZm9yKDs7KSB7CiAgICBpZigoaWQgPSBsZXhlcl9wZWVrKGxleCwgc2tpcCA9PSAtMSA/IDAgOiBza2lwLCBjdHgpKSA+PSAwKSB7CiAgICAgIExleGVyUnVsZSogcnVsZSA9IGxleGVyX3J1bGVfYXQobGV4LCBpZCk7CgogICAgICAvLyBwcmludGYoInN0YXRlICVpIHJ1bGUgJXNcbiIsIGxleC0+c3RhdGUsIHJ1bGUtPm5hbWUpOwoKICAgICAgSlNMZXhlclJ1bGUqIGpzcnVsZSA9IHJ1bGUtPm9wYXF1ZTsKICAgICAgaWYoKHJ1bGUtPm1hc2sgJiBza2lwKSkgewogICAgICAgIGxleGVyX3NraXAobGV4KTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBpZihqc3J1bGUpIHsKICAgICAgICBCT09MIHNraXAgPSBGQUxTRTsKICAgICAgICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwganNydWxlLT5hY3Rpb24pKSB7CiAgICAgICAgICBKU1ZhbHVlIGRhdGFbMV0gPSB7SlNfTmV3QXJyYXkoY3R4KX07CiAgICAgICAgICBKU1ZhbHVlIGFyZ3NbXSA9IHtKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKSwgSlNfTmV3Q0Z1bmN0aW9uRGF0YShjdHgsIGxleGVyX2NvbnRpbnVlLCAwLCAwLCAxLCBkYXRhKX07CiAgICAgICAgICBKU1ZhbHVlIGRvX3NraXA7CiAgICAgICAgICAvKnJldCA9Ki9KU19DYWxsKGN0eCwganNydWxlLT5hY3Rpb24sIHRoaXNfdmFsLCAyLCBhcmdzKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogICAgICAgICAgZG9fc2tpcCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgZGF0YVswXSwgMCk7CgogICAgICAgICAgaWYoSlNfSXNCb29sKGRvX3NraXApKQogICAgICAgICAgICBza2lwID0gSlNfVG9Cb29sKGN0eCwgZG9fc2tpcCk7CgogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgZGF0YVswXSk7CiAgICAgICAgfQogICAgICAgIGlmKHNraXAgfHwganNydWxlLT5za2lwKSB7CiAgICAgICAgICBsZXhlcl9za2lwKGxleCk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBjYWxsYmFjaykpIHsKICAgICAgICBsZXhlcl9oYW5kbGUobGV4LCBjdHgsIHRoaXNfdmFsLCBjYWxsYmFjayk7CiAgICAgIH0KCiAgICB9IGVsc2UgaWYoaWQgPT0gTEVYRVJfRVJST1JfTk9NQVRDSCkgewogICAgICBKU1ZhbHVlIGhhbmRsZXIgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAiaGFuZGxlciIpOwogICAgICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgaGFuZGxlcikpIHsKCiAgICAgICAgaWYobGV4ZXJfaGFuZGxlKGxleCwgY3R4LCB0aGlzX3ZhbCwgaGFuZGxlcikgPT0gVFJVRSkKICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICBpZCA9IExFWEVSX0VSUk9SX05PTUFUQ0g7CiAgICAgIH0KICAgIH0KICAgIGJyZWFrOwogIH0KICByZXR1cm4gaWQ7Cn0KCnN0YXRpYyBCT09MCmxleGVyX2VzY2FwZV9wcmVkKGludCBjKSB7CiAgc3dpdGNoKGMpIHsKICAgIGNhc2UgJyonOgogICAgY2FzZSAnPyc6CiAgICBjYXNlICcrJzoKICAgIGNhc2UgJ1snOgogICAgY2FzZSAnXSc6CiAgICBjYXNlICcoJzoKICAgIGNhc2UgJyknOgogICAgY2FzZSAnLic6CiAgICBjYXNlICdeJzoKICAgIGNhc2UgJyQnOgogICAgY2FzZSAnfCc6CiAgICBjYXNlICdccic6CiAgICBjYXNlICdcbic6CiAgICBjYXNlICdcdCc6CiAgICBjYXNlICdcdic6CiAgICBjYXNlICdcZic6CiAgICBjYXNlICdcXCc6IHJldHVybiBUUlVFOwogIH0KICByZXR1cm4gRkFMU0U7Cn0Kc3RhdGljIEJPT0wKbGV4ZXJfdW5lc2NhcGVfcHJlZChpbnQgYykgewogIHN3aXRjaChjKSB7CiAgICBjYXNlICdyJzogcmV0dXJuICdccic7CiAgICBjYXNlICduJzogcmV0dXJuICdcbic7CiAgICBjYXNlICd0JzogcmV0dXJuICdcdCc7CiAgICBjYXNlICd2JzogcmV0dXJuICdcdic7CiAgICBjYXNlICdmJzogcmV0dXJuICdcZic7CiAgICBjYXNlICcvJzoKICAgICAgcmV0dXJuICcvJzsKICAgICAgLy8gY2FzZSAnXFwnOiByZXR1cm4gJ1xcJzsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBjaGFyKgpsZXhlcl9jdXJyZW50X2xpbmUoTGV4ZXIqIGxleCwgSlNDb250ZXh0KiBjdHgpIHsKICBzaXplX3Qgc3RhcnQsIGVuZCwgc2l6ZTsKICBzdGFydCA9IGxleC0+c3RhcnQ7CiAgZW5kID0gbGV4LT5pbnB1dC5wb3M7CiAgd2hpbGUoc3RhcnQgPiAwICYmIGxleC0+aW5wdXQuZGF0YVtzdGFydCAtIDFdICE9ICdcbicpIHN0YXJ0LS07CiAgc2l6ZSA9IGJ5dGVfY2hyKChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW3N0YXJ0XSwgbGV4LT5pbnB1dC5zaXplIC0gc3RhcnQsICdcbicpOwogIC8vIHdoaWxlKGVuZCA8IGxleC0+aW5wdXQuc2l6ZSAmJiBsZXgtPmlucHV0LmRhdGFbZW5kXSAhPSAnXG4nKSBlbmQrKzsKICByZXR1cm4ganNfc3RybmR1cChjdHgsIChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW3N0YXJ0XSwgc2l6ZSk7Cn0KCnN0YXRpYyBjaGFyKgpsZXhlcl9sZXhlbWVfcyhMZXhlciogbGV4LCBKU0NvbnRleHQqIGN0eCkgewogIHNpemVfdCBsZW47CiAgY2hhciogczsKCiAgcyA9IGxleGVyX2xleGVtZShsZXgsICZsZW4pOwoKICByZXR1cm4ganNfc3RybmR1cChjdHgsIHMsIGxlbik7Cn0KSlNWYWx1ZQpqc19sZXhlcl9uZXcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBwcm90bywgSlNWYWx1ZUNvbnN0IHZpbnB1dCwgSlNWYWx1ZUNvbnN0IHZtb2RlKSB7CiAgTGV4ZXIqIGxleDsKICBpbnQzMl90IG1vZGUgPSAwOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVEOwogIGlmKCEobGV4ID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihMZXhlcikpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKEpTX0lzTnVtYmVyKHZtb2RlKSkKICAgIEpTX1RvSW50MzIoY3R4LCAmbW9kZSwgdm1vZGUpOwogIGxleGVyX2luaXQobGV4LCBtb2RlLCBjdHgpOwoKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2xleGVyX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKICBKU19TZXRPcGFxdWUob2JqLCBsZXgpOwoKICBsZXgtPmlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCB2aW5wdXQpOwoKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2ZyZWUoY3R4LCBsZXgpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKSlNWYWx1ZQpqc19sZXhlcl93cmFwKEpTQ29udGV4dCogY3R4LCBMZXhlciogbGV4KSB7CiAgSlNWYWx1ZSBvYmo7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBsZXhlcl9wcm90bywganNfbGV4ZXJfY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIGxleCk7CiAgcmV0dXJuIG9iajsKfQoKSlNWYWx1ZQpqc19sZXhlcl9hZGRfcnVsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgTGV4ZXIqIGxleDsKICBjaGFyKiBuYW1lOwogIGludDY0X3QgbWFzayA9IC0xLCBza2lwID0gMDsKICBSZWdFeHAgZXhwcjsKICBKU0xleGVyUnVsZSoganNydWxlID0gMDsKCiAgaWYoIShsZXggPSBqc19sZXhlcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG5hbWUgPSAobWFnaWMgfHwgSlNfSXNTdHJpbmcoYXJndlswXSkpID8ganNfdG9zdHJpbmcoY3R4LCBhcmd2WzBdKSA6IDA7CiAgZXhwciA9IHJlZ2V4cF9mcm9tX2FyZ3YoYXJnYyAtIDEsICZhcmd2WzFdLCBjdHgpOwoKICBpZihKU19Jc051bWJlcihhcmd2WzJdKSkKICAgIEpTX1RvSW50NjQoY3R4LCAmbWFzaywgYXJndlsyXSk7CgogIEpTVmFsdWUgc2tpcHYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAic2tpcCIpOwogIGlmKEpTX0lzTnVtYmVyKHNraXB2KSkKICAgIEpTX1RvSW50NjQoY3R4LCAmc2tpcCwgc2tpcHYpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNraXB2KTsKCiAgaWYoYXJnYyA+IDMgfHwgSlNfSXNGdW5jdGlvbihjdHgsIGFyZ3ZbYXJnYyAtIDFdKSkgewogICAganNydWxlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTTGV4ZXJSdWxlKSk7CgogICAganNydWxlLT5hY3Rpb24gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbYXJnYyAtIDFdKTsKICAgIGpzcnVsZS0+c2tpcCA9ICEhKG1hc2sgJiBza2lwKTsKICB9CgogIGlmKG1hZ2ljKSB7CiAgICBpbnQgaW5kZXggPSBsZXhlcl9ydWxlX2FkZChsZXgsIG5hbWUsIGV4cHIuc291cmNlKTsKICAgIExleGVyUnVsZSogcnVsZSA9IGxleGVyX3J1bGVfYXQobGV4LCBpbmRleCk7CgogICAgcnVsZS0+b3BhcXVlID0ganNydWxlOwoKICAgIHJldHVybiBKU19OZXdJbnQzMihjdHgsIGluZGV4KTsKICB9IGVsc2UgewogICAgbGV4ZXJfZGVmaW5lKGxleCwgbmFtZSwgZXhwci5zb3VyY2UpOwogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKSlNWYWx1ZQpqc19sZXhlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgcmV0OwogIExleGVyKiBsZXg7CiAgaW50NjRfdCBtYXNrID0gTUFTS19BTEw7CiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICAgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IGxleGVyX3Byb3RvOyAvLyBKU19EdXBWYWx1ZShjdHgsIGxleGVyX3Byb3RvKTsKCiAgcmV0ID0ganNfbGV4ZXJfbmV3KGN0eCwgcHJvdG8sIGFyZ2MgPiAwID8gYXJndlswXSA6IEpTX1VOREVGSU5FRCwgYXJnYyA+IDEgPyBhcmd2WzFdIDogSlNfVU5ERUZJTkVEKTsKCiAgaWYoKGxleCA9IEpTX0dldE9wYXF1ZShyZXQsIGpzX2xleGVyX2NsYXNzX2lkKSkpIHsKICAgIGludCBpID0gMjsKCiAgICBpZihsZXgtPmxvYy5maWxlID09IDAgJiYgaSA8IGFyZ2MgJiYgSlNfSXNTdHJpbmcoYXJndltpXSkpCiAgICAgIGxleC0+bG9jLmZpbGUgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbaSsrXSk7CgogICAgaWYoaSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpIHsKICAgICAgdWludDMyX3QgbW9kZSA9IDA7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJm1vZGUsIGFyZ3ZbaSsrXSk7CiAgICAgIGxleC0+bW9kZSB8PSBtb2RlOwogICAgfQogICAgaWYoaSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpCiAgICAgIEpTX1RvSW50NjQoY3R4LCAmbWFzaywgYXJndltpKytdKTsKICB9CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJtYXNrIiwgSlNfTmV3SW50NjQoY3R4LCBtYXNrKSk7CgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBMZXhlciogbGV4OwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIExFWEVSX01FVEhPRF9TRVRfSU5QVVQ6IHsKICAgICAgTGV4ZXIqIG90aGVyOwogICAgICBJbnB1dEJ1ZmZlciBpbnB1dDsKICAgICAgTG9jYXRpb24gbG9jID0gezAsIDAsIDAsIC0xLCAwfTsKCiAgICAgIGlmKChvdGhlciA9IEpTX0dldE9wYXF1ZShhcmd2WzBdLCBqc19sZXhlcl9jbGFzc19pZCkpKSB7CiAgICAgICAgaW5wdXQgPSBpbnB1dF9idWZmZXJfY2xvbmUoJm90aGVyLT5pbnB1dCwgY3R4KTsKICAgICAgICBsb2MgPSBvdGhlci0+bG9jOwogICAgICAgIGxleC0+c3RhcnQgPSBvdGhlci0+c3RhcnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogICAgICB9CgogICAgICBpbnB1dF9idWZmZXJfZnJlZSgmbGV4LT5pbnB1dCwgY3R4KTsKICAgICAgbGV4LT5pbnB1dCA9IGlucHV0OwogICAgICBsb2NhdGlvbl9mcmVlX3J0KCZsZXgtPmxvYywgSlNfR2V0UnVudGltZShjdHgpKTsKICAgICAgbGV4LT5sb2MgPSBsb2M7CgogICAgICBpZihhcmdjID4gMSAmJiBKU19Jc1N0cmluZyhhcmd2WzFdKSkgewogICAgICAgIGlmKGxleC0+bG9jLmZpbGUpCiAgICAgICAgICBqc19mcmVlKGN0eCwgKGNoYXIqKWxleC0+bG9jLmZpbGUpOwogICAgICAgIGxleC0+bG9jLmZpbGUgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMV0pOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9TS0lQOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGxleGVyX3NraXAobGV4KSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX0JBQ0s6IHsKICAgICAgaW50IGk7CiAgICAgIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgICAgIFRva2VuKiB0b2s7CiAgICAgICAgTG9jYXRpb24qIGxvYzsKICAgICAgICBpZigobG9jID0ganNfbG9jYXRpb25fZGF0YShjdHgsIGFyZ3ZbaV0pKSkgewogICAgICAgICAgbGV4ZXJfc2V0X2xvY2F0aW9uKGxleCwgbG9jLCBjdHgpOwogICAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBsZXhlcl9wZWVrKGxleCwgMSA8PCBsZXgtPnN0YXRlLCBjdHgpKTsKICAgICAgICB9IGVsc2UgaWYoKHRvayA9IGpzX3Rva2VuX2RhdGEoY3R4LCBhcmd2W2ldKSkpIHsKICAgICAgICAgIGxleGVyX3NldF9sb2NhdGlvbihsZXgsICZ0b2stPmxvYywgY3R4KTsKICAgICAgICAgIGxleC0+Ynl0ZV9sZW5ndGggPSB0b2stPmJ5dGVfbGVuZ3RoOwogICAgICAgICAgbGV4LT5zZXEgPSB0b2stPnNlcTsKICAgICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgdG9rLT5pZCk7CiAgICAgICAgfSBlbHNlIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pKSB7CiAgICAgICAgICBzaXplX3QgbGVuOwogICAgICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgYXJndltpXSk7CiAgICAgICAgICBpZihsZXgtPmlucHV0LnBvcyA+PSBsZW4gJiYgIW1lbWNtcCgmbGV4LT5pbnB1dC5kYXRhW2xleC0+aW5wdXQucG9zIC0gbGVuXSwgc3RyLCBsZW4pKSB7CiAgICAgICAgICAgIExvY2F0aW9uIGRpZmY7CiAgICAgICAgICAgIGxvY2F0aW9uX3plcm8oJmRpZmYpOwogICAgICAgICAgICBsb2NhdGlvbl9jb3VudCgmZGlmZiwgKGNvbnN0IGNoYXIqKSZsZXgtPmlucHV0LmRhdGFbbGV4LT5pbnB1dC5wb3MgLSBsZW5dLCBsZW4pOwogICAgICAgICAgICBsb2NhdGlvbl9zdWIoJmxleC0+bG9jLCAmZGlmZik7CiAgICAgICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbGV4ZXJfcGVlayhsZXgsIDEgPDwgbGV4LT5zdGF0ZSwgY3R4KSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGFyKiBidWYgPSBieXRlX2VzY2FwZSgoY29uc3QgY2hhciopJmxleC0+aW5wdXQuZGF0YVtsZXgtPmlucHV0LnBvcyAtIGxlbl0sIGxlbik7CiAgICAgICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJMZXhlci5wcm90b3R5cGUuYmFjaygnJXMnKSBgJXNgIC4uLiIsIHN0ciwgYnVmKTsKICAgICAgICAgICAgZnJlZShidWYpOwogICAgICAgICAgfQogICAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9NRVRIT0RfUEVFS0M6IHsKICAgICAgaWYoIWlucHV0X2J1ZmZlcl9lb2YoJmxleC0+aW5wdXQpKSB7CiAgICAgICAgc2l6ZV90IGxlbjsKICAgICAgICBjb25zdCB1aW50OF90KiBidWYgPSBpbnB1dF9idWZmZXJfcGVlaygmbGV4LT5pbnB1dCwgJmxlbik7CiAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9HRVRDOiB7CiAgICAgIGlmKCFpbnB1dF9idWZmZXJfZW9mKCZsZXgtPmlucHV0KSkgewogICAgICAgIHNpemVfdCBsZW47CiAgICAgICAgY29uc3QgdWludDhfdCogYnVmID0gaW5wdXRfYnVmZmVyX2dldCgmbGV4LT5pbnB1dCwgJmxlbik7CiAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9TS0lQQzogewogICAgICBpZighaW5wdXRfYnVmZmVyX2VvZigmbGV4LT5pbnB1dCkpIHsKICAgICAgICBpbnQzMl90IG50aW1lcyA9IDE7CiAgICAgICAgY29uc3QgdWludDhfdCogcCA9IDA7CiAgICAgICAgc2l6ZV90IG47CiAgICAgICAgaWYoYXJnYyA+IDApCiAgICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm50aW1lcywgYXJndlswXSk7CiAgICAgICAgd2hpbGUobnRpbWVzLS0gPiAwKSB7IHAgPSBpbnB1dF9idWZmZXJfZ2V0KCZsZXgtPmlucHV0LCAmbik7IH0KICAgICAgICBpZihwKQogICAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKXAsIG4pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1NLSVBVTlRJTDogewogICAgICBpZighaW5wdXRfYnVmZmVyX2VvZigmbGV4LT5pbnB1dCkpIHsKICAgICAgICBKU1ZhbHVlQ29uc3QgcHJlZDsKICAgICAgICBpZighSlNfSXNGdW5jdGlvbihjdHgsIGFyZ3ZbMF0pKQogICAgICAgICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgICAgICBwcmVkID0gYXJndlswXTsKICAgICAgICB3aGlsZShsZXgtPmlucHV0LnBvcyA8IGxleC0+aW5wdXQuc2l6ZSkgewogICAgICAgICAgc2l6ZV90IG47CiAgICAgICAgICBjb25zdCB1aW50OF90KiBwID0gaW5wdXRfYnVmZmVyX3BlZWsoJmxleC0+aW5wdXQsICZuKTsKICAgICAgICAgIEpTVmFsdWUgc3RyID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKXAsIG4pOwogICAgICAgICAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKGN0eCwgcHJlZCwgdGhpc192YWwsIDEsICZzdHIpOwogICAgICAgICAgQk9PTCBiID0gSlNfVG9Cb29sKGN0eCwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICAgICAgICBpZihiKSB7CiAgICAgICAgICAgIHJldCA9IHN0cjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzdHIpOwogICAgICAgICAgaW5wdXRfYnVmZmVyX2dldGMoJmxleC0+aW5wdXQpOwogICAgICAgICAgbGV4LT5zdGFydCA9IGxleC0+aW5wdXQucG9zOwogICAgICAgIH0KICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9HRVRfUkFOR0U6IHsKICAgICAgc2l6ZV90IHN0YXJ0LCBlbmQ7CiAgICAgIHN0YXJ0ID0gbGV4LT5zdGFydDsKICAgICAgZW5kID0gbGV4LT5pbnB1dC5wb3M7CiAgICAgIGlmKGFyZ2MgPiAwKSB7CiAgICAgICAganNfdmFsdWVfdG9zaXplKGN0eCwgJnN0YXJ0LCBhcmd2WzBdKTsKICAgICAgICBpZihhcmdjID4gMSkKICAgICAgICAgIGpzX3ZhbHVlX3Rvc2l6ZShjdHgsICZlbmQsIGFyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW3N0YXJ0XSwgZW5kIC0gc3RhcnQpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9DVVJSRU5UX0xJTkU6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbGV4ZXJfY3VycmVudF9saW5lKGxleCwgY3R4KSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1RPS0VOX0NMQVNTOiB7CiAgICAgIFRva2VuKiB0b2s7CiAgICAgIExleGVyUnVsZSogcnVsZTsKICAgICAgaW50MzJfdCBpZCA9IC0xOwoKICAgICAgaWYoKHRvayA9IEpTX0dldE9wYXF1ZShhcmd2WzBdLCBqc190b2tlbl9jbGFzc19pZCkpKQogICAgICAgIGlkID0gdG9rLT5pZDsKICAgICAgZWxzZQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmaWQsIGFyZ3ZbMF0pOwoKICAgICAgaWYoKHJ1bGUgPSBsZXhlcl9ydWxlX2F0KGxleCwgaWQpKSkKICAgICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBydWxlLT5uYW1lKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9NRVRIT0RfR0VUX1JVTEU6IHsKICAgICAgTGV4ZXJSdWxlKiBydWxlOwoKICAgICAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgICAgICBzaXplX3QgbGVuOwogICAgICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCBhcmd2WzBdKTsKICAgICAgICBpZighKHJ1bGUgPSBsZXhlcl9ydWxlX2ZpbmQobGV4LCBuYW1lKSkpCiAgICAgICAgICBydWxlID0gbGV4ZXJfZmluZF9kZWZpbml0aW9uKGxleCwgbmFtZSwgbGVuKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGludDMyX3QgaWQgPSAtMTsKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJmlkLCBhcmd2WzBdKTsKICAgICAgICBydWxlID0gbGV4ZXJfcnVsZV9hdChsZXgsIGlkKTsKICAgICAgfQoKICAgICAgaWYocnVsZSkKICAgICAgICByZXQgPSBqc19sZXhlcl9ydWxlX25ldyhjdHgsIGxleCwgcnVsZSk7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9FUlJPUjogewogICAgICBTeW50YXhFcnJvciBlcnJvcjsKCiAgICAgIGVycm9yLm1lc3NhZ2UgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgICBlcnJvci5sb2MgPSBsb2NhdGlvbl9jbG9uZSgmbGV4LT5sb2MsIGN0eCk7CiAgICAgIGVycm9yLmxpbmUgPSBsZXhlcl9jdXJyZW50X2xpbmUobGV4LCBjdHgpOwogICAgICAvLyBwcmludGYoImxleGVyIFN5bnRheEVycm9yKCclcycsICV1OiV1KVxuIiwgZXJyb3IubWVzc2FnZSwgbGV4LT5sb2MubGluZQogICAgICAvLyArIDEsIGxleC0+bG9jLmNvbHVtbiArIDEpOwogICAgICByZXQgPSBqc19zeW50YXhlcnJvcl9uZXcoY3R4LCBlcnJvcik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1BVU0hfU1RBVEU6IHsKICAgICAgY29uc3QgY2hhciogc3RhdGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgICAgaW50IGlkOwoKICAgICAgaWQgPSBsZXhlcl9zdGF0ZV9wdXNoKGxleCwgc3RhdGUpOwogICAgICAvLyBwcmludGYoIlslenVdIHB1c2hTdGF0ZSgnJXMnKVxuIiwgbGV4ZXJfc3RhdGVfZGVwdGgobGV4KSwgc3RhdGUpOwogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGlkKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdGF0ZSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1BPUF9TVEFURTogewogICAgICBpbnQgaWQ7CiAgICAgIGlmKGxleGVyX3N0YXRlX2RlcHRoKGxleCkgPiAwKSB7CiAgICAgICAgaWQgPSBsZXhlcl9zdGF0ZV9wb3AobGV4KTsKICAgICAgICAvLyBwcmludGYoIlslenVdIHBvcFN0YXRlKCkgPSAnJXMnXG4iLCBsZXhlcl9zdGF0ZV9kZXB0aChsZXgpLAogICAgICAgIC8vIGxleGVyX3N0YXRlX25hbWUobGV4LCBpZCkpOwogICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJsZXhlciAoJXMpIGRlcHRoICV6dSIsIGxleGVyX3N0YXRlX3RvcG5hbWUobGV4KSwgbGV4ZXJfc3RhdGVfZGVwdGgobGV4KSk7CiAgICAgIH0KCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1RPUF9TVEFURTogewogICAgICBpbnQzMl90IGluZGV4ID0gMCwgaWQ7CiAgICAgIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmaW5kZXgsIGFyZ3ZbMF0pOwoKICAgICAgaWYoKGlkID0gbGV4ZXJfc3RhdGVfdG9wKGxleCwgaW5kZXgpKSA+PSAwKQogICAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIGxleGVyX3N0YXRlX25hbWUobGV4LCBpZCkpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19sZXhlcl9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTGV4ZXIqIGxleDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShsZXggPSBqc19sZXhlcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBMRVhFUl9QUk9QX1BPUzogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIGxleC0+aW5wdXQucG9zKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NJWkU6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBsZXgtPmlucHV0LnNpemUpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfU1RBUlQ6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBsZXgtPnN0YXJ0KTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX0VPRjogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgaW5wdXRfYnVmZmVyX2VvZigmbGV4LT5pbnB1dCkpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfRklMRU5BTUU6IHsKICAgICAgcmV0ID0gbGV4LT5sb2MuZmlsZSA/IEpTX05ld1N0cmluZyhjdHgsIGxleC0+bG9jLmZpbGUpIDogSlNfVU5ERUZJTkVEOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfTE9DOiB7CiAgICAgIHJldCA9IGpzX2xvY2F0aW9uX25ldyhjdHgsICZsZXgtPmxvYyk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfUFJPUF9SVUxFTkFNRVM6IHsKICAgICAgTGV4ZXJSdWxlKiBydWxlOwogICAgICB1aW50MzJfdCBpID0gMDsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICAgIHZlY3Rvcl9mb3JlYWNoX3QoJmxleC0+cnVsZXMsIHJ1bGUpIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgSlNfTmV3U3RyaW5nKGN0eCwgcnVsZS0+bmFtZSkpOyB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfUFJPUF9NT0RFOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbGV4LT5tb2RlKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX0JZVEVfTEVOR1RIOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGxleC0+Ynl0ZV9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfU1RBVEU6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBsZXgtPnN0YXRlKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NUQVRFUzogewogICAgICBzaXplX3QgaSA9IDA7CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgICAgIGZvcig7OykgewogICAgICAgIGNoYXIqIG5hbWU7CiAgICAgICAgaWYoKG5hbWUgPSBsZXhlcl9zdGF0ZV9uYW1lKGxleCwgaSkpID09IDApCiAgICAgICAgICBicmVhazsKICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSsrLCBKU19OZXdTdHJpbmcoY3R4LCBuYW1lKSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NUQVRFX0RFUFRIOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGxleGVyX3N0YXRlX2RlcHRoKGxleCkpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfU1RBVEVfU1RBQ0s6IHsKICAgICAgc2l6ZV90IGkgPSAwLCBuID0gdmVjdG9yX3NpemUoJmxleC0+c3RhdGVfc3RhY2ssIHNpemVvZihpbnQzMl90KSk7CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgICAgIGZvcig7IGkgPCBuOyBpKyspIHsKICAgICAgICBpbnQzMl90IHN0YXRlID0gKihpbnQzMl90Kil2ZWN0b3JfYXQoJmxleC0+c3RhdGVfc3RhY2ssIHNpemVvZihpbnQzMl90KSwgaSk7CiAgICAgICAgY2hhciogbmFtZTsKICAgICAgICBpZigobmFtZSA9IGxleGVyX3N0YXRlX25hbWUobGV4LCBzdGF0ZSkpID09IDApCiAgICAgICAgICBicmVhazsKICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSwgSlNfTmV3U3RyaW5nKGN0eCwgbmFtZSkpOwogICAgICB9CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19OZXdTdHJpbmcoY3R4LCBsZXhlcl9zdGF0ZV9uYW1lKGxleCwgbGV4LT5zdGF0ZSkpKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NPVVJDRTogewogICAgICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopbGV4LT5pbnB1dC5kYXRhLCBsZXgtPmlucHV0LnNpemUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTEVYRVJfUFJPUF9MRVhFTUU6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWxleC0+aW5wdXQuZGF0YSArIGxleC0+c3RhcnQsIGxleC0+aW5wdXQucG9zIC0gbGV4LT5zdGFydCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIExleGVyKiBsZXg7CgogIGlmKCEobGV4ID0ganNfbGV4ZXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgTEVYRVJfUFJPUF9QT1M6IHsKICAgICAgVG9rZW4qIHRvazsKICAgICAgaWYoKHRvayA9IGpzX3Rva2VuX2RhdGEoY3R4LCB2YWx1ZSkpKSB7CiAgICAgICAgbGV4LT5pbnB1dC5wb3MgPSB0b2stPmJ5dGVfb2Zmc2V0OwogICAgICAgIGxleC0+bG9jID0gdG9rLT5sb2M7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX0JZVEVfTEVOR1RIOiB7CiAgICAgIFRva2VuKiB0b2s7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkgewogICAgICAgIGpzX3ZhbHVlX3Rvc2l6ZShjdHgsICZsZXgtPmJ5dGVfbGVuZ3RoLCB2YWx1ZSk7CiAgICAgIH0gZWxzZSBpZigodG9rID0ganNfdG9rZW5fZGF0YShjdHgsIHZhbHVlKSkpIHsKICAgICAgICBsZXgtPmJ5dGVfbGVuZ3RoID0gdG9rLT5ieXRlX2xlbmd0aDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfRklMRU5BTUU6IHsKICAgICAgaWYobGV4LT5sb2MuZmlsZSkKICAgICAgICBqc19mcmVlKGN0eCwgKGNoYXIqKWxleC0+bG9jLmZpbGUpOwogICAgICBsZXgtPmxvYy5maWxlID0ganNfdG9zdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfUFJPUF9NT0RFOiB7CiAgICAgIGludDMyX3QgbTsKICAgICAgSlNfVG9JbnQzMihjdHgsICZtLCB2YWx1ZSk7CiAgICAgIGxleC0+bW9kZSA9IG07CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CkpTVmFsdWUKanNfbGV4ZXJfdG9rZW5zKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBMZXhlciogbGV4OwogIExleGVyUnVsZSogcnVsZTsKICBpbnQgaSA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEobGV4ID0ganNfbGV4ZXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICB2ZWN0b3JfZm9yZWFjaF90KCZsZXgtPnJ1bGVzLCBydWxlKSB7CiAgICBjb25zdCBjaGFyKiBuYW1lID0gcnVsZS0+bmFtZTsKCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSsrLCBKU19OZXdTdHJpbmcoY3R4LCBuYW1lKSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfc3RhdGVzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBMZXhlciogbGV4OwogIGNoYXIqKiBjb25kOwogIHVpbnQzMl90IGkgPSAwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgdmVjdG9yX2ZvcmVhY2hfdCgmbGV4LT5zdGF0ZXMsIGNvbmQpIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgSlNfTmV3U3RyaW5nKGN0eCwgKmNvbmQpKTsgfQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX3N0YXRlc3RhY2soSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCkgewogIExleGVyKiBsZXg7CiAgaW50MzJfdCogc3RhY2s7CiAgc2l6ZV90IHNpemU7CiAgSlNWYWx1ZSBjdG9yLCBidWYsIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShsZXggPSBqc19sZXhlcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHNpemUgPSB2ZWN0b3Jfc2l6ZSgmbGV4LT5zdGF0ZV9zdGFjaywgc2l6ZW9mKGludDMyX3QpKSArIDE7CiAgc3RhY2sgPSBqc19tYWxsb2NfcnQoSlNfR2V0UnVudGltZShjdHgpLCBzaXplb2YoaW50MzJfdCkgKiBzaXplKTsKCiAgbWVtY3B5KHN0YWNrLCB2ZWN0b3JfYmVnaW4oJmxleC0+c3RhdGVfc3RhY2spLCBzaXplb2YoaW50MzJfdCkgKiAoc2l6ZSAtIDEpKTsKCiAgc3RhY2tbc2l6ZSAtIDFdID0gbGV4LT5zdGF0ZTsKCiAgYnVmID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCAodm9pZCopc3RhY2ssIHNpemVvZihpbnQzMl90KSAqIHNpemUsIChKU0ZyZWVBcnJheUJ1ZmZlckRhdGFGdW5jKikmanNfZnJlZV9ydCwgc3RhY2ssIEZBTFNFKTsKCiAgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIkludDMyQXJyYXkiKTsKCiAgcmV0ID0gSlNfQ2FsbENvbnN0cnVjdG9yKGN0eCwgY3RvciwgMSwgJmJ1Zik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGJ1Zik7CgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfZXNjYXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBJbnB1dEJ1ZmZlciBpbnB1dCA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAgRHluQnVmIG91dHB1dDsKICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKICBtYWdpYyA/IGRidWZfcHV0X3VuZXNjYXBlZF9wcmVkKCZvdXRwdXQsIChjb25zdCBjaGFyKilpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBsZXhlcl91bmVzY2FwZV9wcmVkKQogICAgICAgIDogZGJ1Zl9wdXRfZXNjYXBlZF9wcmVkKCZvdXRwdXQsIChjb25zdCBjaGFyKilpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBsZXhlcl9lc2NhcGVfcHJlZCk7CiAgcmV0dXJuIGRidWZfdG9zdHJpbmdfZnJlZSgmb3V0cHV0LCBjdHgpOwp9CgpKU1ZhbHVlCmpzX2xleGVyX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGpzX2lzX3JlZ2V4cChjdHgsIGFyZ3ZbMF0pIHx8IEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBSZWdFeHAgcmU7CiAgICByZSA9IHJlZ2V4cF9mcm9tX2FyZ3YoYXJnYywgYXJndiwgY3R4KTsKICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHJlLnNvdXJjZSk7CiAgfSBlbHNlIHsKICAgIElucHV0QnVmZmVyIGlucHV0OwogICAgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWlucHV0LmRhdGEsIGlucHV0LnNpemUpOwogICAgaW5wdXRfYnVmZmVyX2ZyZWUoJmlucHV0LCBjdHgpOwogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX2xleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIExleGVyKiBsZXg7CiAgaW50IGlkLCBzdGF0ZSA9IC0xOwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+IDAgJiYgSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIHN0YXRlID0gbGV4ZXJfc3RhdGVfcHVzaChsZXgsIG5hbWUpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICB9CgogIGlkID0gbGV4ZXJfbGV4KGxleCwgY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndik7CgogIGlmKHN0YXRlID4gLTEpCiAgICBsZXhlcl9zdGF0ZV9wb3AobGV4KTsKCiAgc3dpdGNoKGlkKSB7CiAgICBjYXNlIExFWEVSX0VSUk9SX05PTUFUQ0g6IHsKICAgICAgY2hhciogbGV4ZW1lID0gbGV4ZXJfbGV4ZW1lX3MobGV4LCBjdHgpOwogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiVzOiUiIFBSSXUzMiAiOiUiIFBSSXUzMiAiOiBObyBtYXRjaGluZyB0b2tlbiAoJWQ6ICVzKSAnJXMnXG4lLipzXG4lKnMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4LT5sb2MuZmlsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxleC0+bG9jLmxpbmUgKyAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4LT5sb2MuY29sdW1uICsgMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxleGVyX3N0YXRlX3RvcChsZXgsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4ZXJfc3RhdGVfbmFtZShsZXgsIGxleGVyX3N0YXRlX3RvcChsZXgsIDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxleGVtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpbnQpKGJ5dGVfY2hyKChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW2xleC0+c3RhcnRdLCBsZXgtPmlucHV0LnNpemUgLSBsZXgtPnN0YXJ0LCAnXG4nKSArIGxleC0+bG9jLmNvbHVtbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbGV4LT5pbnB1dC5kYXRhW2xleC0+c3RhcnQgLSBsZXgtPmxvYy5jb2x1bW5dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4LT5sb2MuY29sdW1uICsgMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJeIik7CiAgICAgIGpzX2ZyZWUoY3R4LCBsZXhlbWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTEVYRVJfRU9GOiB7CiAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGlkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX25leHQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEJPT0wqIHBkb25lLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldDsKICBMZXhlciogbGV4OwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0ID0ganNfbGV4ZXJfbGV4KGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwoKICBpZihKU19Jc051bWJlcihyZXQpKSB7CiAgICBpbnQzMl90IGlkOwogICAgVG9rZW4qIHRvazsKICAgIHNpemVfdCBjaGFybGVuOwogICAgTG9jYXRpb24gbG9jOwoKICAgIEpTX1RvSW50MzIoY3R4LCAmaWQsIHJldCk7CiAgICBsb2MgPSBsZXgtPmxvYzsKCiAgICBjaGFybGVuID0gbGV4ZXJfc2tpcChsZXgpOwoKICAgIHRvayA9IGxleGVyX3Rva2VuKGxleCwgaWQsIGNoYXJsZW4sIGxvYywgY3R4KTsKICAgIHJldCA9IGpzX3Rva2VuX3dyYXAoY3R4LCB0b2spOwogIH0KCiAgKnBkb25lID0gSlNfSXNOdWxsKHJldCk7IC8vIGlucHV0X2J1ZmZlcl9lb2YoJmxleC0+aW5wdXQpOwoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX2NhbGwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jX29iaiwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IGZsYWdzKSB7CiAgTGV4ZXIqIGxleDsKICBpbnQzMl90IHJlc3VsdDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlQ29uc3QgYXJnID0gYXJnYyA+IDAgPyBhcmd2WzBdIDogSlNfVU5ERUZJTkVEOwoKICBpZighKGxleCA9IEpTX0dldE9wYXF1ZTIoY3R4LCBmdW5jX29iaiwganNfbGV4ZXJfY2xhc3NfaWQpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGZ1bmNfb2JqLCAibWFzayIsIEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSkpOwogIH0KCiAgaWYoYXJnYyA+IDEgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZnVuY19vYmosICJza2lwIiwgSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSk7CiAgfQoKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBmdW5jX29iaik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xleGVyX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBMZXhlciogbGV4OwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNWYWx1ZSBvYmogPSBKU19OZXdPYmplY3RQcm90byhjdHgsIGxleGVyX3Byb3RvKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN0YXJ0IiwgSlNfTmV3VWludDMyKGN0eCwgbGV4LT5zdGFydCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImJ5dGVsZW4iLCBKU19OZXdVaW50MzIoY3R4LCBsZXgtPmJ5dGVfbGVuZ3RoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAidG9raWQiLCBKU19OZXdJbnQzMihjdHgsIGxleC0+dG9rZW5faWQpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJzdGF0ZSIsIEpTX05ld0ludDMyKGN0eCwgbGV4LT5zdGF0ZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImVvZiIsIEpTX05ld0Jvb2woY3R4LCBpbnB1dF9idWZmZXJfZW9mKCZsZXgtPmlucHV0KSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxvYyIsIGpzX2xvY2F0aW9uX25ldyhjdHgsICZsZXgtPmxvYyksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInBvcyIsIEpTX05ld1VpbnQzMihjdHgsIGxleC0+aW5wdXQucG9zKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAic2l6ZSIsIEpTX05ld1VpbnQzMihjdHgsIGxleC0+aW5wdXQuc2l6ZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCnZvaWQKanNfbGV4ZXJfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTGV4ZXIqIGxleDsKCiAgaWYoKGxleCA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX2xleGVyX2NsYXNzX2lkKSkpCiAgICBsZXhlcl9mcmVlX3J0KGxleCwgcnQpOwogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19sZXhlcl9jbGFzcyA9IHsuY2xhc3NfbmFtZSA9ICJMZXhlciIsIC5maW5hbGl6ZXIgPSBqc19sZXhlcl9maW5hbGl6ZXIsIC5jYWxsID0ganNfbGV4ZXJfY2FsbH07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfbGV4ZXJfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0lURVJBVE9SX05FWFRfREVGKCJuZXh0IiwgMCwganNfbGV4ZXJfbmV4dCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic2l6ZSIsIGpzX2xleGVyX2dldCwganNfbGV4ZXJfc2V0LCBMRVhFUl9QUk9QX1NJWkUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInBvcyIsIGpzX2xleGVyX2dldCwganNfbGV4ZXJfc2V0LCBMRVhFUl9QUk9QX1BPUyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhcnQiLCBqc19sZXhlcl9nZXQsIDAsIExFWEVSX1BST1BfU1RBUlQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxvYyIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9MT0MpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImVvZiIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9FT0YpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm1vZGUiLCBqc19sZXhlcl9nZXQsIGpzX2xleGVyX3NldCwgTEVYRVJfUFJPUF9NT0RFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJieXRlTGVuZ3RoIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX0JZVEVfTEVOR1RIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGF0ZSIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9TVEFURSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhdGVzIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX1NUQVRFUyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhdGVEZXB0aCIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9TVEFURV9ERVBUSCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhdGVTdGFjayIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9TVEFURV9TVEFDSyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic291cmNlIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX1NPVVJDRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigibGV4ZW1lIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX0xFWEVNRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZmlsZU5hbWUiLCBqc19sZXhlcl9nZXQsIGpzX2xleGVyX3NldCwgTEVYRVJfUFJPUF9GSUxFTkFNRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldElucHV0IiwgMSwganNfbGV4ZXJfbWV0aG9kLCBMRVhFUl9NRVRIT0RfU0VUX0lOUFVUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic2tpcCIsIDAsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX1NLSVApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJza2lwVW50aWwiLCAxLCBqc19sZXhlcl9tZXRob2QsIExFWEVSX01FVEhPRF9TS0lQVU5USUwpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b2tlbkNsYXNzIiwgMSwganNfbGV4ZXJfbWV0aG9kLCBMRVhFUl9NRVRIT0RfVE9LRU5fQ0xBU1MpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJkZWZpbmUiLCAyLCBqc19sZXhlcl9hZGRfcnVsZSwgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImFkZFJ1bGUiLCAyLCBqc19sZXhlcl9hZGRfcnVsZSwgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFJ1bGUiLCAxLCBqc19sZXhlcl9tZXRob2QsIExFWEVSX01FVEhPRF9HRVRfUlVMRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInB1c2hTdGF0ZSIsIDEsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX1BVU0hfU1RBVEUpLAogICAgSlNfQUxJQVNfREVGKCJiZWdpbiIsICJwdXNoU3RhdGUiKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicG9wU3RhdGUiLCAwLCBqc19sZXhlcl9tZXRob2QsIExFWEVSX01FVEhPRF9QT1BfU1RBVEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b3BTdGF0ZSIsIDAsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX1RPUF9TVEFURSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImN1cnJlbnRMaW5lIiwgMCwganNfbGV4ZXJfbWV0aG9kLCBMRVhFUl9NRVRIT0RfQ1VSUkVOVF9MSU5FKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYmFjayIsIDAsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX0JBQ0spLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInJ1bGVOYW1lcyIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9SVUxFTkFNRVMpLAogICAgSlNfQ0ZVTkNfREVGKCJsZXgiLCAwLCBqc19sZXhlcl9sZXgpLAogICAgSlNfQ0ZVTkNfREVGKCJpbnNwZWN0IiwgMCwganNfbGV4ZXJfaW5zcGVjdCksCiAgICBKU19DR0VUU0VUX0RFRigidG9rZW5zIiwganNfbGV4ZXJfdG9rZW5zLCAwKSwKICAgIEpTX0NHRVRTRVRfREVGKCJzdGF0ZXMiLCBqc19sZXhlcl9zdGF0ZXMsIDApLAogICAgLy8gSlNfQ0dFVFNFVF9ERUYoInN0YXRlU3RhY2siLCBqc19sZXhlcl9zdGF0ZXN0YWNrLCAwKSwKICAgIC8vIEpTX0FMSUFTX0RFRigicG9zaXRpb24iLCAibG9jIiksCiAgICBKU19DRlVOQ19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgMCwganNfbGV4ZXJfaXRlcmF0b3IpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJMZXhlciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19sZXhlcl9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZXNjYXBlIiwgMSwganNfbGV4ZXJfZXNjYXBlLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidW5lc2NhcGUiLCAxLCBqc19sZXhlcl9lc2NhcGUsIDEpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b1N0cmluZyIsIDEsIGpzX2xleGVyX3Rvc3RyaW5nKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGSVJTVCIsIExFWEVSX0ZJUlNULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxPTkdFU1QiLCBMRVhFUl9MT05HRVNULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxBU1QiLCBMRVhFUl9MQVNULCBKU19QUk9QX0VOVU1FUkFCTEUpLAp9OwoKaW50CmpzX2xleGVyX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGpzX2xvY2F0aW9uX2luaXQoY3R4LCBtKTsKCiAgSlNfTmV3Q2xhc3NJRCgmanNfc3ludGF4ZXJyb3JfY2xhc3NfaWQpOwogIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfc3ludGF4ZXJyb3JfY2xhc3NfaWQsICZqc19zeW50YXhlcnJvcl9jbGFzcyk7CgogIHN5bnRheGVycm9yX3Byb3RvID0gSlNfTmV3RXJyb3IoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHN5bnRheGVycm9yX3Byb3RvLCBqc19zeW50YXhlcnJvcl9wcm90b19mdW5jcywgY291bnRvZihqc19zeW50YXhlcnJvcl9wcm90b19mdW5jcykpOwoKICAvLyBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBzeW50YXhlcnJvcl9wcm90bywganNfc3ludGF4ZXJyb3JfaW5zcGVjdCk7CgogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19zeW50YXhlcnJvcl9jbGFzc19pZCwgc3ludGF4ZXJyb3JfcHJvdG8pOwoKICBzeW50YXhlcnJvcl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3N5bnRheGVycm9yX2NvbnN0cnVjdG9yLCAiU3ludGF4RXJyb3IiLCAxLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc3ludGF4ZXJyb3JfY3Rvciwgc3ludGF4ZXJyb3JfcHJvdG8pOwoKICBKU19OZXdDbGFzc0lEKCZqc190b2tlbl9jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc190b2tlbl9jbGFzc19pZCwgJmpzX3Rva2VuX2NsYXNzKTsKCiAgdG9rZW5fcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHRva2VuX3Byb3RvLCBqc190b2tlbl9wcm90b19mdW5jcywgY291bnRvZihqc190b2tlbl9wcm90b19mdW5jcykpOwogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc190b2tlbl9jbGFzc19pZCwgdG9rZW5fcHJvdG8pOwoKICB0b2tlbl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3Rva2VuX2NvbnN0cnVjdG9yLCAiVG9rZW4iLCAxLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgdG9rZW5fY3RvciwgdG9rZW5fcHJvdG8pOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgdG9rZW5fY3RvciwganNfdG9rZW5fc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3Rva2VuX3N0YXRpY19mdW5jcykpOwoKICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCB0b2tlbl9wcm90bywganNfdG9rZW5faW5zcGVjdCk7CgogIEpTX05ld0NsYXNzSUQoJmpzX2xleGVyX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX2xleGVyX2NsYXNzX2lkLCAmanNfbGV4ZXJfY2xhc3MpOwoKICBsZXhlcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGV4ZXJfcHJvdG8sIGpzX2xleGVyX3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX2xleGVyX3Byb3RvX2Z1bmNzKSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX2xleGVyX2NsYXNzX2lkLCBsZXhlcl9wcm90byk7CgogIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIGxleGVyX3Byb3RvLCBqc19sZXhlcl9pbnNwZWN0KTsKCiAgbGV4ZXJfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19sZXhlcl9jb25zdHJ1Y3RvciwgIkxleGVyIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIGxleGVyX2N0b3IsIGxleGVyX3Byb3RvKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIGxleGVyX2N0b3IsIGpzX2xleGVyX3N0YXRpY19mdW5jcywgY291bnRvZihqc19sZXhlcl9zdGF0aWNfZnVuY3MpKTsKCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5bnRheEVycm9yIiwgc3ludGF4ZXJyb3JfY3Rvcik7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVG9rZW4iLCB0b2tlbl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJMZXhlciIsIGxleGVyX2N0b3IpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbGV4ZXIKI2VuZGlmCgpWSVNJQkxFIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBpZighKG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsICZqc19sZXhlcl9pbml0KSkpCiAgICByZXR1cm4gbTsKCiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkxvY2F0aW9uIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5bnRheEVycm9yIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRva2VuIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkxleGVyIik7CiAgcmV0dXJuIG07Cn0KAAAAAAAAAAB4rgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAU1cAAAAAAABhVwAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB4rgAAI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgPGxpYnJlZ2V4cC5oPgojaW5jbHVkZSAicXVpY2tqcy1sZXhlci5oIgojaW5jbHVkZSAicXVpY2tqcy1sb2NhdGlvbi5oIgojaW5jbHVkZSAidmVjdG9yLmgiCiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxzdGRpbnQuaD4KI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKZW51bSB7CiAgTEVYRVJfTUVUSE9EX1NFVF9JTlBVVCA9IDAsCiAgTEVYRVJfTUVUSE9EX1NLSVAsCiAgTEVYRVJfTUVUSE9EX0JBQ0ssCiAgTEVYRVJfTUVUSE9EX1BFRUtDLAogIExFWEVSX01FVEhPRF9HRVRDLAogIExFWEVSX01FVEhPRF9TS0lQQywKICBMRVhFUl9NRVRIT0RfR0VUX1JBTkdFLAogIExFWEVSX01FVEhPRF9DVVJSRU5UX0xJTkUsCiAgTEVYRVJfTUVUSE9EX1RPS0VOX0NMQVNTLAogIExFWEVSX01FVEhPRF9HRVRfUlVMRSwKICBMRVhFUl9NRVRIT0RfU0tJUFVOVElMLAogIExFWEVSX01FVEhPRF9FUlJPUiwKICBMRVhFUl9NRVRIT0RfUFVTSF9TVEFURSwKICBMRVhFUl9NRVRIT0RfUE9QX1NUQVRFLAogIExFWEVSX01FVEhPRF9UT1BfU1RBVEUKfTsKCmVudW0gewogIExFWEVSX1BST1BfU0laRSA9IDAsCiAgTEVYRVJfUFJPUF9QT1MsCiAgTEVYRVJfUFJPUF9TVEFSVCwKICBMRVhFUl9QUk9QX0VPRiwKICBMRVhFUl9QUk9QX0ZJTEVOQU1FLAogIExFWEVSX1BST1BfTE9DLAogIExFWEVSX1BST1BfUlVMRU5BTUVTLAogIExFWEVSX1BST1BfTU9ERSwKICBMRVhFUl9QUk9QX0JZVEVfTEVOR1RILAogIExFWEVSX1BST1BfU1RBVEUsCiAgTEVYRVJfUFJPUF9TVEFURVMsCiAgTEVYRVJfUFJPUF9TVEFURV9ERVBUSCwKICBMRVhFUl9QUk9QX1NUQVRFX1NUQUNLLAogIExFWEVSX1BST1BfU09VUkNFLAogIExFWEVSX1BST1BfTEVYRU1FCn07Cgp0eXBlZGVmIHN0cnVjdCB7CiAgSlNWYWx1ZSBhY3Rpb247CiAgQk9PTCBza2lwOwp9IEpTTGV4ZXJSdWxlOwoKdGhyZWFkX2xvY2FsIFZJU0lCTEUgSlNDbGFzc0lEIGpzX3N5bnRheGVycm9yX2NsYXNzX2lkID0gMCwganNfdG9rZW5fY2xhc3NfaWQgPSAwLCBqc19sZXhlcl9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHN5bnRheGVycm9yX3Byb3RvID0ge3tKU19UQUdfVU5ERUZJTkVEfX0sIHN5bnRheGVycm9yX2N0b3IgPSB7e0pTX1RBR19VTkRFRklORUR9fTsKdGhyZWFkX2xvY2FsIEpTVmFsdWUgdG9rZW5fcHJvdG8gPSB7e0pTX1RBR19VTkRFRklORUR9fSwgdG9rZW5fY3RvciA9IHt7SlNfVEFHX1VOREVGSU5FRH19Owp0aHJlYWRfbG9jYWwgSlNWYWx1ZSBsZXhlcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCBsZXhlcl9jdG9yID0ge3tKU19UQUdfVU5ERUZJTkVEfX07CgpzdGF0aWMgSlNWYWx1ZQpqc19sZXhlcl9ydWxlX25ldyhKU0NvbnRleHQqIGN0eCwgTGV4ZXIqIGxleCwgTGV4ZXJSdWxlKiBydWxlKSB7CgogIEpTVmFsdWUgcmV0LCBzdGF0ZXM7CiAgRHluQnVmIGRidWY7CiAgc2l6ZV90IGksIGo7CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogIGxleGVyX3J1bGVfZHVtcChsZXgsIHJ1bGUsICZkYnVmKTsKICBkYnVmXzAoJmRidWYpOwoKICBpZihydWxlLT5leHByWzBdID09ICc8JykgewogICAgYXNzZXJ0KCFzdHJuY21wKHJ1bGUtPmV4cHIsIChjb25zdCBjaGFyKilkYnVmLmJ1Ziwgc3RyX2NocihydWxlLT5leHByLCAnPicpKSk7CiAgfQoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIGpzX3NldF9wcm9wZXJ0eWludF9zdHJpbmcoY3R4LCByZXQsIDAsIHJ1bGUtPm5hbWUpOwogIGpzX3NldF9wcm9wZXJ0eWludF9zdHJpbmcoY3R4LCByZXQsIDEsIGxleGVyX3N0YXRlc19za2lwKChjaGFyKilkYnVmLmJ1ZikpOwoKICBzdGF0ZXMgPSBKU19OZXdBcnJheShjdHgpOwoKICBmb3IoaSA9IDAsIGogPSAwOyBpIDwgMzI7IGkrKykgewogICAgaWYocnVsZS0+bWFzayAmICgxIDw8IGkpKSB7CiAgICAgIGNoYXIqIG5hbWUgPSBsZXhlcl9zdGF0ZV9uYW1lKGxleCwgaSk7CgogICAgICBpZihuYW1lKQogICAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgc3RhdGVzLCBqKyssIEpTX05ld1N0cmluZyhjdHgsIG5hbWUpKTsKICAgIH0KICB9CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDIsIHN0YXRlcyk7CiAgLy8gSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX05ld0ludDY0KGN0eCwgcnVsZS0+bWFzaykpOwogIGRidWZfZnJlZSgmZGJ1Zik7CiAgcmV0dXJuIHJldDsKfQoKZW51bSBzeW50YXhlcnJvcl9nZXR0ZXJzIHsKICBTWU5UQVhFUlJPUl9QUk9QX0xPQyA9IDAsCiAgU1lOVEFYRVJST1JfUFJPUF9NRVNTQUdFLAogIFNZTlRBWEVSUk9SX1BST1BfTElORSwKfTsKCkpTVmFsdWUKanNfc3ludGF4ZXJyb3JfbmV3KEpTQ29udGV4dCogY3R4LCBTeW50YXhFcnJvciBhcmcpIHsKICBTeW50YXhFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVEOwoKICBpZighKGVyciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU3ludGF4RXJyb3IpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBtZW1jcHkoZXJyLCAmYXJnLCBzaXplb2YoU3ludGF4RXJyb3IpKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHN5bnRheGVycm9yX3Byb3RvLCBqc19zeW50YXhlcnJvcl9jbGFzc19pZCk7CiAgSlNfU2V0T3BhcXVlKG9iaiwgZXJyKTsKICBpZighbG9jYXRpb25faXNudWxsKCZlcnItPmxvYykpCiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgImxvYyIsIGpzX2xvY2F0aW9uX25ldyhjdHgsICZlcnItPmxvYykpOwogIGlmKGVyci0+bWVzc2FnZSkKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibWVzc2FnZSIsIEpTX05ld1N0cmluZyhjdHgsIGVyci0+bWVzc2FnZSkpOwogIGlmKGVyci0+bGluZSkKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAibGluZSIsIEpTX05ld1N0cmluZyhjdHgsIGVyci0+bGluZSkpOwogIHJldHVybiBvYmo7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3N5bnRheGVycm9yX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBTeW50YXhFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVEOwogIEpTVmFsdWUgcHJvdG87CiAgaW50IGk7CiAgaWYoIShlcnIgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKFN5bnRheEVycm9yKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3N5bnRheGVycm9yX2NsYXNzX2lkKTsKICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwoKICBmb3IoaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pICYmICFlcnItPm1lc3NhZ2UpIHsKICAgICAgZXJyLT5tZXNzYWdlID0ganNfdG9zdHJpbmcoY3R4LCBhcmd2W2ldKTsKICAgIH0gZWxzZSBpZihKU19Jc1N0cmluZyhhcmd2W2ldKSAmJiAhZXJyLT5saW5lKSB7CiAgICAgIGVyci0+bGluZSA9IGpzX3Rvc3RyaW5nKGN0eCwgYXJndltpXSk7CiAgICB9IGVsc2UgaWYoanNfaXNfbG9jYXRpb24oY3R4LCBhcmd2W2ldKSkgewogICAgICBlcnItPmxvYyA9IGpzX2xvY2F0aW9uX2Zyb20oY3R4LCBhcmd2W2ldKTsKICAgIH0KICB9CgogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeW50YXhlcnJvcl9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgU3ludGF4RXJyb3IqIGVycjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShlcnIgPSBqc19zeW50YXhlcnJvcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBTWU5UQVhFUlJPUl9QUk9QX0xPQzogewogICAgICByZXQgPSBqc19sb2NhdGlvbl9uZXcoY3R4LCAmZXJyLT5sb2MpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lOVEFYRVJST1JfUFJPUF9NRVNTQUdFOiB7CiAgICAgIHJldCA9IGVyci0+bWVzc2FnZSA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+bWVzc2FnZSkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lOVEFYRVJST1JfUFJPUF9MSU5FOiB7CiAgICAgIHJldCA9IGVyci0+bGluZSA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+bGluZSkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3ludGF4ZXJyb3JfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBTeW50YXhFcnJvciogZXJyOwogIER5bkJ1ZiBkYjsKICBKU1ZhbHVlIHJldDsKCiAgaWYoIShlcnIgPSBqc19zeW50YXhlcnJvcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGpzX2RidWZfaW5pdChjdHgsICZkYik7CiAgbG9jYXRpb25fcHJpbnQoJmVyci0+bG9jLCAmZGIpOwoKICBpZihlcnItPm1lc3NhZ2UpIHsKICAgIGRidWZfcHV0YygmZGIsICcgJyk7CiAgICBkYnVmX3B1dHN0cigmZGIsIGVyci0+bWVzc2FnZSk7CiAgfQoKICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopZGIuYnVmLCBkYi5zaXplKTsKICBkYnVmX2ZyZWUoJmRiKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeW50YXhlcnJvcl9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgU3ludGF4RXJyb3IqIGVycjsKCiAgaWYoIShlcnIgPSBqc19zeW50YXhlcnJvcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzeW50YXhlcnJvcl9wcm90byk7CgogIGlmKCFsb2NhdGlvbl9pc251bGwoJmVyci0+bG9jKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJsb2MiLCBqc19sb2NhdGlvbl9uZXcoY3R4LCAmZXJyLT5sb2MpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwoKICBpZihlcnItPmxpbmUpCiAgICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAibGluZSIsIEpTX05ld1N0cmluZyhjdHgsIGVyci0+bGluZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgaWYoZXJyLT5tZXNzYWdlKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIm1lc3NhZ2UiLCBKU19OZXdTdHJpbmcoY3R4LCBlcnItPm1lc3NhZ2UpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwoKICByZXR1cm4gb2JqOwp9CgpzdGF0aWMgdm9pZApqc19zeW50YXhlcnJvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBTeW50YXhFcnJvciogZXJyID0gSlNfR2V0T3BhcXVlKHZhbCwganNfc3ludGF4ZXJyb3JfY2xhc3NfaWQpOwogIGlmKGVycikgewogICAgaWYoZXJyLT5tZXNzYWdlKQogICAgICBqc19mcmVlX3J0KHJ0LCAoY2hhciopZXJyLT5tZXNzYWdlKTsKICAgIGlmKGVyci0+bGluZSkKICAgICAganNfZnJlZV9ydChydCwgKGNoYXIqKWVyci0+bGluZSk7CgogICAgbG9jYXRpb25fZnJlZV9ydCgmZXJyLT5sb2MsIHJ0KTsKICB9CiAgSlNfRnJlZVZhbHVlUlQocnQsIHZhbCk7Cn0KCnN0YXRpYyBKU0NsYXNzRGVmIGpzX3N5bnRheGVycm9yX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiU3ludGF4RXJyb3IiLAogICAgLmZpbmFsaXplciA9IGpzX3N5bnRheGVycm9yX2ZpbmFsaXplciwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zeW50YXhlcnJvcl9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxvYyIsIGpzX3N5bnRheGVycm9yX2dldCwgMCwgU1lOVEFYRVJST1JfUFJPUF9MT0MpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigibWVzc2FnZSIsIGpzX3N5bnRheGVycm9yX2dldCwgMCwgU1lOVEFYRVJST1JfUFJPUF9NRVNTQUdFKSwKICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAwLCBqc19zeW50YXhlcnJvcl90b3N0cmluZyksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIlN5bnRheEVycm9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKZW51bSB0b2tlbl9tZXRob2RzIHsKICBUT19TVFJJTkcgPSAwLAp9OwplbnVtIHRva2VuX2dldHRlcnMgewogIFRPS0VOX1BST1BfQllURUxFTkdUSCA9IDAsCiAgVE9LRU5fUFJPUF9CWVRFT0ZGU0VULAogIFRPS0VOX1BST1BfQ0hBUkxFTkdUSCwKICBUT0tFTl9QUk9QX1NUQVJULAogIFRPS0VOX1BST1BfRU5ELAogIFRPS0VOX1BST1BfQ0hBUlJBTkdFLAogIFRPS0VOX1BST1BfTEVYRU1FLAogIFRPS0VOX1BST1BfTE9DLAogIFRPS0VOX1BST1BfSUQsCiAgVE9LRU5fUFJPUF9TRVEsCiAgVE9LRU5fUFJPUF9UWVBFLAogIFRPS0VOX1BST1BfUlVMRSwKfTsKCnN0YXRpYyB2b2lkCnRva2VuX2ZyZWUoVG9rZW4qIHRvaywgSlNDb250ZXh0KiBjdHgpIHsKCiAgbG9jYXRpb25fZnJlZSgmdG9rLT5sb2MsIGN0eCk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZCh0b2stPmxvY192YWwpKQogICAganNfdmFsdWVfZnJlZShjdHgsIHRvay0+bG9jX3ZhbCk7CgogIGpzX2ZyZWUoY3R4LCB0b2stPmxleGVtZSk7CiAganNfZnJlZShjdHgsIHRvayk7Cn0KCnN0YXRpYyB2b2lkCnRva2VuX2ZyZWVfcnQoVG9rZW4qIHRvaywgSlNSdW50aW1lKiBydCkgewoKICBsb2NhdGlvbl9mcmVlX3J0KCZ0b2stPmxvYywgcnQpOwoKICBpZighSlNfSXNVbmRlZmluZWQodG9rLT5sb2NfdmFsKSkKICAgIGpzX3ZhbHVlX2ZyZWVfcnQocnQsIHRvay0+bG9jX3ZhbCk7CgogIGpzX2ZyZWVfcnQocnQsIHRvay0+bGV4ZW1lKTsKICBqc19mcmVlX3J0KHJ0LCB0b2spOwp9CgpUb2tlbioKanNfdG9rZW5fbmV3KEpTQ29udGV4dCogY3R4LCBpbnQgaWQsIGNvbnN0IGNoYXIqIGxleGVtZSwgY29uc3QgTG9jYXRpb24qIGxvYywgdWludDY0X3QgYnl0ZV9vZmZzZXQpIHsKICBUb2tlbiogdG9rOwoKICBpZighKHRvayA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoVG9rZW4pKSkpCiAgICByZXR1cm4gMDsKCiAgdG9rLT5pZCA9IGlkOwogIHRvay0+bGV4ZW1lID0ganNfc3RyZHVwKGN0eCwgbGV4ZW1lKTsKICB0b2stPmxvYyA9ICpsb2M7CiAgdG9rLT5sb2NfdmFsID0gSlNfVU5ERUZJTkVEOwogIHRvay0+Ynl0ZV9vZmZzZXQgPSBieXRlX29mZnNldDsKCiAgcmV0dXJuIHRvazsKfQoKSlNWYWx1ZQpqc190b2tlbl93cmFwKEpTQ29udGV4dCogY3R4LCBUb2tlbiogdG9rKSB7CiAgSlNWYWx1ZSBvYmogPSBKU19VTkRFRklORUQ7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCB0b2tlbl9wcm90bywganNfdG9rZW5fY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIHRvayk7CiAgcmV0dXJuIG9iajsKfQoKSlNWYWx1ZQpqc190b2tlbl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVG9rZW4qIHRvazsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBpZighKHRvayA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoVG9rZW4pKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfdG9rZW5fY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCB0b2spOwoKICB0b2stPmxvY192YWwgPSBKU19VTkRFRklORUQ7CgogIGlmKGFyZ2MgPiAwKQogICAgSlNfVG9JbnQzMihjdHgsICZ0b2stPmlkLCBhcmd2WzBdKTsKICBpZihhcmdjID4gMSkKICAgIHRvay0+bGV4ZW1lID0ganNfdG9zdHJpbmcoY3R4LCBhcmd2WzFdKTsKICBpZihhcmdjID4gMikKICAgIHRvay0+bG9jID0ganNfbG9jYXRpb25fZnJvbShjdHgsIGFyZ3ZbMl0pOwogIGlmKGFyZ2MgPiAzKQogICAgSlNfVG9JbnQ2NChjdHgsICZ0b2stPmxvYy5wb3MsIGFyZ3ZbM10pOwoKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2ZyZWUoY3R4LCB0b2spOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKSlNWYWx1ZQpqc190b2tlbl90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFRva2VuKiB0b2s7CiAgaWYoISh0b2sgPSBqc190b2tlbl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dXJuIEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKil0b2stPmxleGVtZSwgdG9rLT5ieXRlX2xlbmd0aCk7Cn0KCkpTVmFsdWUKanNfdG9rZW5fdG9wcmltaXRpdmUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBUb2tlbiogdG9rOwogIGNvbnN0IGNoYXIqIGhpbnQ7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoISh0b2sgPSBqc190b2tlbl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaGludCA9IGFyZ2MgPiAwID8gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSkgOiAwOwoKICBpZihoaW50ICYmICFzdHJjbXAoaGludCwgIm51bWJlciIpKQogICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCB0b2stPmlkKTsKICBlbHNlCiAgICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopdG9rLT5sZXhlbWUsIHRvay0+Ynl0ZV9sZW5ndGgpOwoKICBpZihoaW50KQogICAganNfY3N0cmluZ19mcmVlKGN0eCwgaGludCk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc190b2tlbl9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVG9rZW4qIHRvazsKICBMZXhlclJ1bGUqIHJ1bGU7CgogIGlmKCEodG9rID0ganNfdG9rZW5fZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU1ZhbHVlIG9iaiA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgdG9rZW5fcHJvdG8pOwogIHJ1bGUgPSBsZXhlcl9ydWxlX2F0KHRvay0+bGV4ZXIsIHRvay0+aWQpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaWQiLCBKU19OZXdVaW50MzIoY3R4LCB0b2stPmlkKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAic2VxIiwgSlNfTmV3VWludDMyKGN0eCwgdG9rLT5zZXEpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJ0eXBlIiwgSlNfTmV3U3RyaW5nKGN0eCwgcnVsZS0+bmFtZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxleGVtZSIsIEpTX05ld1N0cmluZyhjdHgsIHRvay0+bGV4ZW1lKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImJ5dGVPZmZzZXQiLCBKU19OZXdVaW50MzIoY3R4LCB0b2stPmJ5dGVfb2Zmc2V0KSwgMCk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImJ5dGVMZW5ndGgiLCBKU19OZXdVaW50MzIoY3R4LCB0b2stPmJ5dGVfbGVuZ3RoKSwgMCk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxlbmd0aCIsIEpTX05ld1VpbnQzMihjdHgsIHRvay0+Y2hhcl9sZW5ndGgpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAibG9jIiwgbG9jYXRpb25fdG92YWx1ZSgmdG9rLT5sb2MsIGN0eCksIDApOwogIHJldHVybiBvYmo7Cn0KCkpTVmFsdWUKanNfdG9rZW5fZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIFRva2VuKiB0b2s7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEodG9rID0ganNfdG9rZW5fZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gcmV0OwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgVE9LRU5fUFJPUF9CWVRFTEVOR1RIOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDY0KGN0eCwgdG9rLT5ieXRlX2xlbmd0aCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX0JZVEVPRkZTRVQ6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCB0b2stPmJ5dGVfb2Zmc2V0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRPS0VOX1BST1BfQ0hBUkxFTkdUSDogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHRvay0+Y2hhcl9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9TVEFSVDogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHRvay0+bG9jLnBvcyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX0VORDogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHRvay0+bG9jLnBvcyArIHRvay0+Y2hhcl9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9DSEFSUkFOR0U6IHsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgICAganNfc2V0X3Byb3BlcnR5aW50X2ludChjdHgsIHJldCwgMCwgdG9rLT5sb2MucG9zKTsKICAgICAganNfc2V0X3Byb3BlcnR5aW50X2ludChjdHgsIHJldCwgMSwgdG9rLT5sb2MucG9zICsgdG9rLT5jaGFyX2xlbmd0aCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX0xFWEVNRTogewogICAgICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopdG9rLT5sZXhlbWUsIHRvay0+Ynl0ZV9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9MT0M6IHsKICAgICAgaWYoSlNfSXNVbmRlZmluZWQodG9rLT5sb2NfdmFsKSkKICAgICAgICB0b2stPmxvY192YWwgPSBqc19sb2NhdGlvbl9uZXcoY3R4LCAmdG9rLT5sb2MpOwoKICAgICAgcmV0ID0gSlNfRHVwVmFsdWUoY3R4LCB0b2stPmxvY192YWwpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9JRDogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHRvay0+aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9TRVE6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgdG9rLT5zZXEpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVE9LRU5fUFJPUF9SVUxFOiB7CiAgICAgIExleGVyUnVsZSogcnVsZSA9IGxleGVyX3J1bGVfYXQodG9rLT5sZXhlciwgdG9rLT5pZCk7CiAgICAgIHJldCA9IGpzX2xleGVyX3J1bGVfbmV3KGN0eCwgdG9rLT5sZXhlciwgcnVsZSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBUT0tFTl9QUk9QX1RZUEU6IHsKICAgICAgTGV4ZXJSdWxlKiBydWxlID0gbGV4ZXJfcnVsZV9hdCh0b2stPmxleGVyLCB0b2stPmlkKTsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgcnVsZS0+bmFtZSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3Rva2VuX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIFRva2VuKiB0b2sgPSBKU19HZXRPcGFxdWUodmFsLCBqc190b2tlbl9jbGFzc19pZCk7CiAgaWYodG9rKSB7CiAgICB0b2tlbl9mcmVlX3J0KHRvaywgcnQpOwogIH0KICBKU19GcmVlVmFsdWVSVChydCwgdmFsKTsKfQoKc3RhdGljIEpTQ2xhc3NEZWYganNfdG9rZW5fY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJUb2tlbiIsCiAgICAuZmluYWxpemVyID0ganNfdG9rZW5fZmluYWxpemVyLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3Rva2VuX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiYnl0ZUxlbmd0aCIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9CWVRFTEVOR1RIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJieXRlT2Zmc2V0IiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0JZVEVPRkZTRVQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxlbmd0aCIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9DSEFSTEVOR1RIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGFydCIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9TVEFSVCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZW5kIiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0VORCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiY2hhclJhbmdlIiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0NIQVJSQU5HRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigibG9jIiwganNfdG9rZW5fZ2V0LCBOVUxMLCBUT0tFTl9QUk9QX0xPQyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiaWQiLCBqc190b2tlbl9nZXQsIE5VTEwsIFRPS0VOX1BST1BfSUQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInNlcSIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9TRVEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInR5cGUiLCBqc190b2tlbl9nZXQsIE5VTEwsIFRPS0VOX1BST1BfVFlQRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicnVsZSIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9SVUxFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJsZXhlbWUiLCBqc190b2tlbl9nZXQsIE5VTEwsIFRPS0VOX1BST1BfTEVYRU1FKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJ2YWx1ZSIsIGpzX3Rva2VuX2dldCwgTlVMTCwgVE9LRU5fUFJPUF9MRVhFTUUpLAogICAgLy8gSlNfQ0ZVTkNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3Rva2VuX3Rvc3RyaW5nKSwKICAgIC8vIEpTX0NGVU5DX0RFRigiW1N5bWJvbC50b1ByaW1pdGl2ZV0iLCAxLCBqc190b2tlbl90b3ByaW1pdGl2ZSksCiAgICBKU19BTElBU19ERUYoInBvc2l0aW9uIiwgImxvYyIpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJUb2tlbiIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc190b2tlbl9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFT0YiLCBMRVhFUl9FT0YsIEpTX1BST1BfRU5VTUVSQUJMRSksCn07CgpzdGF0aWMgVG9rZW4qCmxleGVyX3Rva2VuKExleGVyKiBsZXgsIGludCBpZCwgc2l6ZV90IGNoYXJsZW4sIExvY2F0aW9uIGxvYywgSlNDb250ZXh0KiBjdHgpIHsKICBUb2tlbiogdG9rOwogIGlmKCh0b2sgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKFRva2VuKSkpKSB7CiAgICB0b2stPmlkID0gaWQ7CiAgICB0b2stPmxvYyA9IGxvY2F0aW9uX2Nsb25lKCZsb2MsIGN0eCk7CiAgICB0b2stPmxvY192YWwgPSBKU19VTkRFRklORUQ7CiAgICB0b2stPmJ5dGVfbGVuZ3RoID0gbGV4LT5ieXRlX2xlbmd0aDsKICAgIHRvay0+Y2hhcl9sZW5ndGggPSBjaGFybGVuOwogICAgdG9rLT5sZXhlbWUgPSBqc19zdHJuZHVwKGN0eCwgKGNvbnN0IGNoYXIqKSZsZXgtPmlucHV0LmRhdGFbbGV4LT5zdGFydF0sIHRvay0+Ynl0ZV9sZW5ndGgpOwogICAgdG9rLT5ieXRlX29mZnNldCA9IGxleC0+c3RhcnQ7CiAgICB0b2stPmxleGVyID0gbGV4OwogICAgdG9rLT5zZXEgPSBsZXgtPnNlcTsKICB9CiAgcmV0dXJuIHRvazsKfQoKc3RhdGljIEpTVmFsdWUKbGV4ZXJfY29udGludWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgSlNWYWx1ZSogZGF0YSkgewogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgZGF0YVswXSwgMCwgSlNfTmV3Qm9vbChjdHgsIFRSVUUpKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgaW50MzJfdApsZXhlcl90b19zdGF0ZShMZXhlciogbGV4LCBKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaW50MzJfdCBudW07CiAgaWYoSlNfSXNOdW1iZXIodmFsdWUpKSB7CiAgICBKU19Ub0ludDMyKGN0eCwgJm51bSwgdmFsdWUpOwogIH0gZWxzZSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICBudW0gPSBsZXhlcl9zdGF0ZV9maW5kKGxleCwgc3RyKTsKICB9CiAgaWYobnVtID49IDAgJiYgKHNpemVfdCludW0gPCBsZXhlcl9udW1fc3RhdGVzKGxleCkpCiAgICByZXR1cm4gbnVtOwogIHJldHVybiAtMTsKfQoKc3RhdGljIEJPT0wKbGV4ZXJfaGFuZGxlKExleGVyKiBsZXgsIEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCBoYW5kbGVyKSB7CiAgSlNWYWx1ZSBkYXRhWzFdID0ge0pTX05ld0FycmF5KGN0eCl9OwogIEpTVmFsdWUgYXJnc1tdID0ge0pTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpLCBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwgbGV4ZXJfY29udGludWUsIDAsIDAsIDEsIGRhdGEpfTsKICBKU1ZhbHVlIGRvX3Jlc3VtZSA9IEpTX0ZBTFNFOwoKICAvKiAgIHJldCA9ICovIEpTX0NhbGwoY3R4LCBoYW5kbGVyLCB0aGlzX3ZhbCwgMiwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogIGRvX3Jlc3VtZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgZGF0YVswXSwgMCk7CgogIGlmKEpTX0lzQm9vbChkb19yZXN1bWUpKQogICAgaWYoSlNfVG9Cb29sKGN0eCwgZG9fcmVzdW1lKSkKICAgICAgcmV0dXJuIFRSVUU7CgogIHJldHVybiBGQUxTRTsKfQoKc3RhdGljIGludApsZXhlcl9sZXgoTGV4ZXIqIGxleCwgSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBpbnQgaWQgPSAtMTsKICBpbnQ2NF90IHNraXAgPSAwOwogIC8qCiAgICB7CiAgICAgIEpTVmFsdWUgbWFzayA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdGhpc192YWwsICJza2lwIik7CiAgICAgIGlmKEpTX0lzTnVtYmVyKG1hc2spKQogICAgICAgIEpTX1RvSW50NjQoY3R4LCAmc2tpcCwgbWFzayk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG1hc2spOwogICAgfQogICovCiAgSlNWYWx1ZSBjYWxsYmFjayA9IEpTX1VOREVGSU5FRDsKCiAgaWYoYXJnYyA+PSAxICYmIChza2lwID0gbGV4ZXJfdG9fc3RhdGUobGV4LCBjdHgsIGFyZ3ZbMF0pKSkge30KCiAgY2FsbGJhY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAiY2FsbGJhY2siKTsKCiAgZm9yKDs7KSB7CiAgICBpZigoaWQgPSBsZXhlcl9wZWVrKGxleCwgc2tpcCA9PSAtMSA/IDAgOiBza2lwLCBjdHgpKSA+PSAwKSB7CiAgICAgIExleGVyUnVsZSogcnVsZSA9IGxleGVyX3J1bGVfYXQobGV4LCBpZCk7CgogICAgICAvLyBwcmludGYoInN0YXRlICVpIHJ1bGUgJXNcbiIsIGxleC0+c3RhdGUsIHJ1bGUtPm5hbWUpOwoKICAgICAgSlNMZXhlclJ1bGUqIGpzcnVsZSA9IHJ1bGUtPm9wYXF1ZTsKICAgICAgaWYoKHJ1bGUtPm1hc2sgJiBza2lwKSkgewogICAgICAgIGxleGVyX3NraXAobGV4KTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBpZihqc3J1bGUpIHsKICAgICAgICBCT09MIHNraXAgPSBGQUxTRTsKICAgICAgICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwganNydWxlLT5hY3Rpb24pKSB7CiAgICAgICAgICBKU1ZhbHVlIGRhdGFbMV0gPSB7SlNfTmV3QXJyYXkoY3R4KX07CiAgICAgICAgICBKU1ZhbHVlIGFyZ3NbXSA9IHtKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKSwgSlNfTmV3Q0Z1bmN0aW9uRGF0YShjdHgsIGxleGVyX2NvbnRpbnVlLCAwLCAwLCAxLCBkYXRhKX07CiAgICAgICAgICBKU1ZhbHVlIGRvX3NraXA7CiAgICAgICAgICAvKnJldCA9Ki9KU19DYWxsKGN0eCwganNydWxlLT5hY3Rpb24sIHRoaXNfdmFsLCAyLCBhcmdzKTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMF0pOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CgogICAgICAgICAgZG9fc2tpcCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgZGF0YVswXSwgMCk7CgogICAgICAgICAgaWYoSlNfSXNCb29sKGRvX3NraXApKQogICAgICAgICAgICBza2lwID0gSlNfVG9Cb29sKGN0eCwgZG9fc2tpcCk7CgogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgZGF0YVswXSk7CiAgICAgICAgfQogICAgICAgIGlmKHNraXAgfHwganNydWxlLT5za2lwKSB7CiAgICAgICAgICBsZXhlcl9za2lwKGxleCk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBjYWxsYmFjaykpIHsKICAgICAgICBsZXhlcl9oYW5kbGUobGV4LCBjdHgsIHRoaXNfdmFsLCBjYWxsYmFjayk7CiAgICAgIH0KCiAgICB9IGVsc2UgaWYoaWQgPT0gTEVYRVJfRVJST1JfTk9NQVRDSCkgewogICAgICBKU1ZhbHVlIGhhbmRsZXIgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAiaGFuZGxlciIpOwogICAgICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgaGFuZGxlcikpIHsKCiAgICAgICAgaWYobGV4ZXJfaGFuZGxlKGxleCwgY3R4LCB0aGlzX3ZhbCwgaGFuZGxlcikgPT0gVFJVRSkKICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICBpZCA9IExFWEVSX0VSUk9SX05PTUFUQ0g7CiAgICAgIH0KICAgIH0KICAgIGJyZWFrOwogIH0KICByZXR1cm4gaWQ7Cn0KCnN0YXRpYyBCT09MCmxleGVyX2VzY2FwZV9wcmVkKGludCBjKSB7CiAgc3dpdGNoKGMpIHsKICAgIGNhc2UgJyonOgogICAgY2FzZSAnPyc6CiAgICBjYXNlICcrJzoKICAgIGNhc2UgJ1snOgogICAgY2FzZSAnXSc6CiAgICBjYXNlICcoJzoKICAgIGNhc2UgJyknOgogICAgY2FzZSAnLic6CiAgICBjYXNlICdeJzoKICAgIGNhc2UgJyQnOgogICAgY2FzZSAnfCc6CiAgICBjYXNlICdccic6CiAgICBjYXNlICdcbic6CiAgICBjYXNlICdcdCc6CiAgICBjYXNlICdcdic6CiAgICBjYXNlICdcZic6CiAgICBjYXNlICdcXCc6IHJldHVybiBUUlVFOwogIH0KICByZXR1cm4gRkFMU0U7Cn0Kc3RhdGljIEJPT0wKbGV4ZXJfdW5lc2NhcGVfcHJlZChpbnQgYykgewogIHN3aXRjaChjKSB7CiAgICBjYXNlICdyJzogcmV0dXJuICdccic7CiAgICBjYXNlICduJzogcmV0dXJuICdcbic7CiAgICBjYXNlICd0JzogcmV0dXJuICdcdCc7CiAgICBjYXNlICd2JzogcmV0dXJuICdcdic7CiAgICBjYXNlICdmJzogcmV0dXJuICdcZic7CiAgICBjYXNlICcvJzoKICAgICAgcmV0dXJuICcvJzsKICAgICAgLy8gY2FzZSAnXFwnOiByZXR1cm4gJ1xcJzsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBjaGFyKgpsZXhlcl9jdXJyZW50X2xpbmUoTGV4ZXIqIGxleCwgSlNDb250ZXh0KiBjdHgpIHsKICBzaXplX3Qgc3RhcnQsIGVuZCwgc2l6ZTsKICBzdGFydCA9IGxleC0+c3RhcnQ7CiAgZW5kID0gbGV4LT5pbnB1dC5wb3M7CiAgd2hpbGUoc3RhcnQgPiAwICYmIGxleC0+aW5wdXQuZGF0YVtzdGFydCAtIDFdICE9ICdcbicpIHN0YXJ0LS07CiAgc2l6ZSA9IGJ5dGVfY2hyKChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW3N0YXJ0XSwgbGV4LT5pbnB1dC5zaXplIC0gc3RhcnQsICdcbicpOwogIC8vIHdoaWxlKGVuZCA8IGxleC0+aW5wdXQuc2l6ZSAmJiBsZXgtPmlucHV0LmRhdGFbZW5kXSAhPSAnXG4nKSBlbmQrKzsKICByZXR1cm4ganNfc3RybmR1cChjdHgsIChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW3N0YXJ0XSwgc2l6ZSk7Cn0KCnN0YXRpYyBjaGFyKgpsZXhlcl9sZXhlbWVfcyhMZXhlciogbGV4LCBKU0NvbnRleHQqIGN0eCkgewogIHNpemVfdCBsZW47CiAgY2hhciogczsKCiAgcyA9IGxleGVyX2xleGVtZShsZXgsICZsZW4pOwoKICByZXR1cm4ganNfc3RybmR1cChjdHgsIHMsIGxlbik7Cn0KSlNWYWx1ZQpqc19sZXhlcl9uZXcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBwcm90bywgSlNWYWx1ZUNvbnN0IHZpbnB1dCwgSlNWYWx1ZUNvbnN0IHZtb2RlKSB7CiAgTGV4ZXIqIGxleDsKICBpbnQzMl90IG1vZGUgPSAwOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVEOwogIGlmKCEobGV4ID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihMZXhlcikpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKEpTX0lzTnVtYmVyKHZtb2RlKSkKICAgIEpTX1RvSW50MzIoY3R4LCAmbW9kZSwgdm1vZGUpOwogIGxleGVyX2luaXQobGV4LCBtb2RlLCBjdHgpOwoKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2xleGVyX2NsYXNzX2lkKTsKCiAgaWYoSlNfSXNFeGNlcHRpb24ob2JqKSkKICAgIGdvdG8gZmFpbDsKICBKU19TZXRPcGFxdWUob2JqLCBsZXgpOwoKICBsZXgtPmlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCB2aW5wdXQpOwoKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2ZyZWUoY3R4LCBsZXgpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKSlNWYWx1ZQpqc19sZXhlcl93cmFwKEpTQ29udGV4dCogY3R4LCBMZXhlciogbGV4KSB7CiAgSlNWYWx1ZSBvYmo7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBsZXhlcl9wcm90bywganNfbGV4ZXJfY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIGxleCk7CiAgcmV0dXJuIG9iajsKfQoKSlNWYWx1ZQpqc19sZXhlcl9hZGRfcnVsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgTGV4ZXIqIGxleDsKICBjaGFyKiBuYW1lOwogIGludDY0X3QgbWFzayA9IC0xLCBza2lwID0gMDsKICBSZWdFeHAgZXhwcjsKICBKU0xleGVyUnVsZSoganNydWxlID0gMDsKCiAgaWYoIShsZXggPSBqc19sZXhlcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG5hbWUgPSAobWFnaWMgfHwgSlNfSXNTdHJpbmcoYXJndlswXSkpID8ganNfdG9zdHJpbmcoY3R4LCBhcmd2WzBdKSA6IDA7CiAgZXhwciA9IHJlZ2V4cF9mcm9tX2FyZ3YoYXJnYyAtIDEsICZhcmd2WzFdLCBjdHgpOwoKICBpZihKU19Jc051bWJlcihhcmd2WzJdKSkKICAgIEpTX1RvSW50NjQoY3R4LCAmbWFzaywgYXJndlsyXSk7CgogIEpTVmFsdWUgc2tpcHYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAic2tpcCIpOwogIGlmKEpTX0lzTnVtYmVyKHNraXB2KSkKICAgIEpTX1RvSW50NjQoY3R4LCAmc2tpcCwgc2tpcHYpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHNraXB2KTsKCiAgaWYoYXJnYyA+IDMgfHwgSlNfSXNGdW5jdGlvbihjdHgsIGFyZ3ZbYXJnYyAtIDFdKSkgewogICAganNydWxlID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTTGV4ZXJSdWxlKSk7CgogICAganNydWxlLT5hY3Rpb24gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbYXJnYyAtIDFdKTsKICAgIGpzcnVsZS0+c2tpcCA9ICEhKG1hc2sgJiBza2lwKTsKICB9CgogIGlmKG1hZ2ljKSB7CiAgICBpbnQgaW5kZXggPSBsZXhlcl9ydWxlX2FkZChsZXgsIG5hbWUsIGV4cHIuc291cmNlKTsKICAgIExleGVyUnVsZSogcnVsZSA9IGxleGVyX3J1bGVfYXQobGV4LCBpbmRleCk7CgogICAgcnVsZS0+b3BhcXVlID0ganNydWxlOwoKICAgIHJldHVybiBKU19OZXdJbnQzMihjdHgsIGluZGV4KTsKICB9IGVsc2UgewogICAgbGV4ZXJfZGVmaW5lKGxleCwgbmFtZSwgZXhwci5zb3VyY2UpOwogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKSlNWYWx1ZQpqc19sZXhlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSBwcm90bywgcmV0OwogIExleGVyKiBsZXg7CiAgaW50NjRfdCBtYXNrID0gTUFTS19BTEw7CiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICAgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBwcm90byA9IGxleGVyX3Byb3RvOyAvLyBKU19EdXBWYWx1ZShjdHgsIGxleGVyX3Byb3RvKTsKCiAgcmV0ID0ganNfbGV4ZXJfbmV3KGN0eCwgcHJvdG8sIGFyZ2MgPiAwID8gYXJndlswXSA6IEpTX1VOREVGSU5FRCwgYXJnYyA+IDEgPyBhcmd2WzFdIDogSlNfVU5ERUZJTkVEKTsKCiAgaWYoKGxleCA9IEpTX0dldE9wYXF1ZShyZXQsIGpzX2xleGVyX2NsYXNzX2lkKSkpIHsKICAgIGludCBpID0gMjsKCiAgICBpZihsZXgtPmxvYy5maWxlID09IDAgJiYgaSA8IGFyZ2MgJiYgSlNfSXNTdHJpbmcoYXJndltpXSkpCiAgICAgIGxleC0+bG9jLmZpbGUgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbaSsrXSk7CgogICAgaWYoaSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpIHsKICAgICAgdWludDMyX3QgbW9kZSA9IDA7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJm1vZGUsIGFyZ3ZbaSsrXSk7CiAgICAgIGxleC0+bW9kZSB8PSBtb2RlOwogICAgfQogICAgaWYoaSA8IGFyZ2MgJiYgSlNfSXNOdW1iZXIoYXJndltpXSkpCiAgICAgIEpTX1RvSW50NjQoY3R4LCAmbWFzaywgYXJndltpKytdKTsKICB9CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJtYXNrIiwgSlNfTmV3SW50NjQoY3R4LCBtYXNrKSk7CgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBMZXhlciogbGV4OwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIExFWEVSX01FVEhPRF9TRVRfSU5QVVQ6IHsKICAgICAgTGV4ZXIqIG90aGVyOwogICAgICBJbnB1dEJ1ZmZlciBpbnB1dDsKICAgICAgTG9jYXRpb24gbG9jID0gezAsIDAsIDAsIC0xLCAwfTsKCiAgICAgIGlmKChvdGhlciA9IEpTX0dldE9wYXF1ZShhcmd2WzBdLCBqc19sZXhlcl9jbGFzc19pZCkpKSB7CiAgICAgICAgaW5wdXQgPSBpbnB1dF9idWZmZXJfY2xvbmUoJm90aGVyLT5pbnB1dCwgY3R4KTsKICAgICAgICBsb2MgPSBvdGhlci0+bG9jOwogICAgICAgIGxleC0+c3RhcnQgPSBvdGhlci0+c3RhcnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogICAgICB9CgogICAgICBpbnB1dF9idWZmZXJfZnJlZSgmbGV4LT5pbnB1dCwgY3R4KTsKICAgICAgbGV4LT5pbnB1dCA9IGlucHV0OwogICAgICBsb2NhdGlvbl9mcmVlX3J0KCZsZXgtPmxvYywgSlNfR2V0UnVudGltZShjdHgpKTsKICAgICAgbGV4LT5sb2MgPSBsb2M7CgogICAgICBpZihhcmdjID4gMSAmJiBKU19Jc1N0cmluZyhhcmd2WzFdKSkgewogICAgICAgIGlmKGxleC0+bG9jLmZpbGUpCiAgICAgICAgICBqc19mcmVlKGN0eCwgKGNoYXIqKWxleC0+bG9jLmZpbGUpOwogICAgICAgIGxleC0+bG9jLmZpbGUgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMV0pOwogICAgICB9CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9TS0lQOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGxleGVyX3NraXAobGV4KSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX0JBQ0s6IHsKICAgICAgaW50IGk7CiAgICAgIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgICAgIFRva2VuKiB0b2s7CiAgICAgICAgTG9jYXRpb24qIGxvYzsKICAgICAgICBpZigobG9jID0ganNfbG9jYXRpb25fZGF0YShjdHgsIGFyZ3ZbaV0pKSkgewogICAgICAgICAgbGV4ZXJfc2V0X2xvY2F0aW9uKGxleCwgbG9jLCBjdHgpOwogICAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBsZXhlcl9wZWVrKGxleCwgMSA8PCBsZXgtPnN0YXRlLCBjdHgpKTsKICAgICAgICB9IGVsc2UgaWYoKHRvayA9IGpzX3Rva2VuX2RhdGEoY3R4LCBhcmd2W2ldKSkpIHsKICAgICAgICAgIGxleGVyX3NldF9sb2NhdGlvbihsZXgsICZ0b2stPmxvYywgY3R4KTsKICAgICAgICAgIGxleC0+Ynl0ZV9sZW5ndGggPSB0b2stPmJ5dGVfbGVuZ3RoOwogICAgICAgICAgbGV4LT5zZXEgPSB0b2stPnNlcTsKICAgICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgdG9rLT5pZCk7CiAgICAgICAgfSBlbHNlIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbaV0pKSB7CiAgICAgICAgICBzaXplX3QgbGVuOwogICAgICAgICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgYXJndltpXSk7CiAgICAgICAgICBpZihsZXgtPmlucHV0LnBvcyA+PSBsZW4gJiYgIW1lbWNtcCgmbGV4LT5pbnB1dC5kYXRhW2xleC0+aW5wdXQucG9zIC0gbGVuXSwgc3RyLCBsZW4pKSB7CiAgICAgICAgICAgIExvY2F0aW9uIGRpZmY7CiAgICAgICAgICAgIGxvY2F0aW9uX3plcm8oJmRpZmYpOwogICAgICAgICAgICBsb2NhdGlvbl9jb3VudCgmZGlmZiwgKGNvbnN0IGNoYXIqKSZsZXgtPmlucHV0LmRhdGFbbGV4LT5pbnB1dC5wb3MgLSBsZW5dLCBsZW4pOwogICAgICAgICAgICBsb2NhdGlvbl9zdWIoJmxleC0+bG9jLCAmZGlmZik7CiAgICAgICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbGV4ZXJfcGVlayhsZXgsIDEgPDwgbGV4LT5zdGF0ZSwgY3R4KSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjaGFyKiBidWYgPSBieXRlX2VzY2FwZSgoY29uc3QgY2hhciopJmxleC0+aW5wdXQuZGF0YVtsZXgtPmlucHV0LnBvcyAtIGxlbl0sIGxlbik7CiAgICAgICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJMZXhlci5wcm90b3R5cGUuYmFjaygnJXMnKSBgJXNgIC4uLiIsIHN0ciwgYnVmKTsKICAgICAgICAgICAgZnJlZShidWYpOwogICAgICAgICAgfQogICAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9NRVRIT0RfUEVFS0M6IHsKICAgICAgaWYoIWlucHV0X2J1ZmZlcl9lb2YoJmxleC0+aW5wdXQpKSB7CiAgICAgICAgc2l6ZV90IGxlbjsKICAgICAgICBjb25zdCB1aW50OF90KiBidWYgPSBpbnB1dF9idWZmZXJfcGVlaygmbGV4LT5pbnB1dCwgJmxlbik7CiAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9HRVRDOiB7CiAgICAgIGlmKCFpbnB1dF9idWZmZXJfZW9mKCZsZXgtPmlucHV0KSkgewogICAgICAgIHNpemVfdCBsZW47CiAgICAgICAgY29uc3QgdWludDhfdCogYnVmID0gaW5wdXRfYnVmZmVyX2dldCgmbGV4LT5pbnB1dCwgJmxlbik7CiAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9TS0lQQzogewogICAgICBpZighaW5wdXRfYnVmZmVyX2VvZigmbGV4LT5pbnB1dCkpIHsKICAgICAgICBpbnQzMl90IG50aW1lcyA9IDE7CiAgICAgICAgY29uc3QgdWludDhfdCogcCA9IDA7CiAgICAgICAgc2l6ZV90IG47CiAgICAgICAgaWYoYXJnYyA+IDApCiAgICAgICAgICBKU19Ub0ludDMyKGN0eCwgJm50aW1lcywgYXJndlswXSk7CiAgICAgICAgd2hpbGUobnRpbWVzLS0gPiAwKSB7IHAgPSBpbnB1dF9idWZmZXJfZ2V0KCZsZXgtPmlucHV0LCAmbik7IH0KICAgICAgICBpZihwKQogICAgICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKXAsIG4pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1NLSVBVTlRJTDogewogICAgICBpZighaW5wdXRfYnVmZmVyX2VvZigmbGV4LT5pbnB1dCkpIHsKICAgICAgICBKU1ZhbHVlQ29uc3QgcHJlZDsKICAgICAgICBpZighSlNfSXNGdW5jdGlvbihjdHgsIGFyZ3ZbMF0pKQogICAgICAgICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgICAgICBwcmVkID0gYXJndlswXTsKICAgICAgICB3aGlsZShsZXgtPmlucHV0LnBvcyA8IGxleC0+aW5wdXQuc2l6ZSkgewogICAgICAgICAgc2l6ZV90IG47CiAgICAgICAgICBjb25zdCB1aW50OF90KiBwID0gaW5wdXRfYnVmZmVyX3BlZWsoJmxleC0+aW5wdXQsICZuKTsKICAgICAgICAgIEpTVmFsdWUgc3RyID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKXAsIG4pOwogICAgICAgICAgSlNWYWx1ZSByZXQgPSBKU19DYWxsKGN0eCwgcHJlZCwgdGhpc192YWwsIDEsICZzdHIpOwogICAgICAgICAgQk9PTCBiID0gSlNfVG9Cb29sKGN0eCwgcmV0KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICAgICAgICBpZihiKSB7CiAgICAgICAgICAgIHJldCA9IHN0cjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBzdHIpOwogICAgICAgICAgaW5wdXRfYnVmZmVyX2dldGMoJmxleC0+aW5wdXQpOwogICAgICAgICAgbGV4LT5zdGFydCA9IGxleC0+aW5wdXQucG9zOwogICAgICAgIH0KICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9HRVRfUkFOR0U6IHsKICAgICAgc2l6ZV90IHN0YXJ0LCBlbmQ7CiAgICAgIHN0YXJ0ID0gbGV4LT5zdGFydDsKICAgICAgZW5kID0gbGV4LT5pbnB1dC5wb3M7CiAgICAgIGlmKGFyZ2MgPiAwKSB7CiAgICAgICAganNfdmFsdWVfdG9zaXplKGN0eCwgJnN0YXJ0LCBhcmd2WzBdKTsKICAgICAgICBpZihhcmdjID4gMSkKICAgICAgICAgIGpzX3ZhbHVlX3Rvc2l6ZShjdHgsICZlbmQsIGFyZ3ZbMV0pOwogICAgICB9CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW3N0YXJ0XSwgZW5kIC0gc3RhcnQpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9DVVJSRU5UX0xJTkU6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nKGN0eCwgbGV4ZXJfY3VycmVudF9saW5lKGxleCwgY3R4KSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1RPS0VOX0NMQVNTOiB7CiAgICAgIFRva2VuKiB0b2s7CiAgICAgIExleGVyUnVsZSogcnVsZTsKICAgICAgaW50MzJfdCBpZCA9IC0xOwoKICAgICAgaWYoKHRvayA9IEpTX0dldE9wYXF1ZShhcmd2WzBdLCBqc190b2tlbl9jbGFzc19pZCkpKQogICAgICAgIGlkID0gdG9rLT5pZDsKICAgICAgZWxzZQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmaWQsIGFyZ3ZbMF0pOwoKICAgICAgaWYoKHJ1bGUgPSBsZXhlcl9ydWxlX2F0KGxleCwgaWQpKSkKICAgICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBydWxlLT5uYW1lKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9NRVRIT0RfR0VUX1JVTEU6IHsKICAgICAgTGV4ZXJSdWxlKiBydWxlOwoKICAgICAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgICAgICBzaXplX3QgbGVuOwogICAgICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCBhcmd2WzBdKTsKICAgICAgICBpZighKHJ1bGUgPSBsZXhlcl9ydWxlX2ZpbmQobGV4LCBuYW1lKSkpCiAgICAgICAgICBydWxlID0gbGV4ZXJfZmluZF9kZWZpbml0aW9uKGxleCwgbmFtZSwgbGVuKTsKICAgICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGludDMyX3QgaWQgPSAtMTsKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJmlkLCBhcmd2WzBdKTsKICAgICAgICBydWxlID0gbGV4ZXJfcnVsZV9hdChsZXgsIGlkKTsKICAgICAgfQoKICAgICAgaWYocnVsZSkKICAgICAgICByZXQgPSBqc19sZXhlcl9ydWxlX25ldyhjdHgsIGxleCwgcnVsZSk7CgogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX01FVEhPRF9FUlJPUjogewogICAgICBTeW50YXhFcnJvciBlcnJvcjsKCiAgICAgIGVycm9yLm1lc3NhZ2UgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgICBlcnJvci5sb2MgPSBsb2NhdGlvbl9jbG9uZSgmbGV4LT5sb2MsIGN0eCk7CiAgICAgIGVycm9yLmxpbmUgPSBsZXhlcl9jdXJyZW50X2xpbmUobGV4LCBjdHgpOwogICAgICAvLyBwcmludGYoImxleGVyIFN5bnRheEVycm9yKCclcycsICV1OiV1KVxuIiwgZXJyb3IubWVzc2FnZSwgbGV4LT5sb2MubGluZQogICAgICAvLyArIDEsIGxleC0+bG9jLmNvbHVtbiArIDEpOwogICAgICByZXQgPSBqc19zeW50YXhlcnJvcl9uZXcoY3R4LCBlcnJvcik7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1BVU0hfU1RBVEU6IHsKICAgICAgY29uc3QgY2hhciogc3RhdGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgICAgaW50IGlkOwoKICAgICAgaWQgPSBsZXhlcl9zdGF0ZV9wdXNoKGxleCwgc3RhdGUpOwogICAgICAvLyBwcmludGYoIlslenVdIHB1c2hTdGF0ZSgnJXMnKVxuIiwgbGV4ZXJfc3RhdGVfZGVwdGgobGV4KSwgc3RhdGUpOwogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGlkKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdGF0ZSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1BPUF9TVEFURTogewogICAgICBpbnQgaWQ7CiAgICAgIGlmKGxleGVyX3N0YXRlX2RlcHRoKGxleCkgPiAwKSB7CiAgICAgICAgaWQgPSBsZXhlcl9zdGF0ZV9wb3AobGV4KTsKICAgICAgICAvLyBwcmludGYoIlslenVdIHBvcFN0YXRlKCkgPSAnJXMnXG4iLCBsZXhlcl9zdGF0ZV9kZXB0aChsZXgpLAogICAgICAgIC8vIGxleGVyX3N0YXRlX25hbWUobGV4LCBpZCkpOwogICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJsZXhlciAoJXMpIGRlcHRoICV6dSIsIGxleGVyX3N0YXRlX3RvcG5hbWUobGV4KSwgbGV4ZXJfc3RhdGVfZGVwdGgobGV4KSk7CiAgICAgIH0KCiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfTUVUSE9EX1RPUF9TVEFURTogewogICAgICBpbnQzMl90IGluZGV4ID0gMCwgaWQ7CiAgICAgIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmaW5kZXgsIGFyZ3ZbMF0pOwoKICAgICAgaWYoKGlkID0gbGV4ZXJfc3RhdGVfdG9wKGxleCwgaW5kZXgpKSA+PSAwKQogICAgICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIGxleGVyX3N0YXRlX25hbWUobGV4LCBpZCkpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19sZXhlcl9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgTGV4ZXIqIGxleDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShsZXggPSBqc19sZXhlcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBMRVhFUl9QUk9QX1BPUzogewogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIGxleC0+aW5wdXQucG9zKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NJWkU6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBsZXgtPmlucHV0LnNpemUpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfU1RBUlQ6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBsZXgtPnN0YXJ0KTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX0VPRjogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgaW5wdXRfYnVmZmVyX2VvZigmbGV4LT5pbnB1dCkpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfRklMRU5BTUU6IHsKICAgICAgcmV0ID0gbGV4LT5sb2MuZmlsZSA/IEpTX05ld1N0cmluZyhjdHgsIGxleC0+bG9jLmZpbGUpIDogSlNfVU5ERUZJTkVEOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfTE9DOiB7CiAgICAgIHJldCA9IGpzX2xvY2F0aW9uX25ldyhjdHgsICZsZXgtPmxvYyk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfUFJPUF9SVUxFTkFNRVM6IHsKICAgICAgTGV4ZXJSdWxlKiBydWxlOwogICAgICB1aW50MzJfdCBpID0gMDsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICAgIHZlY3Rvcl9mb3JlYWNoX3QoJmxleC0+cnVsZXMsIHJ1bGUpIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgSlNfTmV3U3RyaW5nKGN0eCwgcnVsZS0+bmFtZSkpOyB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfUFJPUF9NT0RFOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgbGV4LT5tb2RlKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX0JZVEVfTEVOR1RIOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGxleC0+Ynl0ZV9sZW5ndGgpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfU1RBVEU6IHsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBsZXgtPnN0YXRlKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NUQVRFUzogewogICAgICBzaXplX3QgaSA9IDA7CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgICAgIGZvcig7OykgewogICAgICAgIGNoYXIqIG5hbWU7CiAgICAgICAgaWYoKG5hbWUgPSBsZXhlcl9zdGF0ZV9uYW1lKGxleCwgaSkpID09IDApCiAgICAgICAgICBicmVhazsKICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSsrLCBKU19OZXdTdHJpbmcoY3R4LCBuYW1lKSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NUQVRFX0RFUFRIOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGxleGVyX3N0YXRlX2RlcHRoKGxleCkpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfU1RBVEVfU1RBQ0s6IHsKICAgICAgc2l6ZV90IGkgPSAwLCBuID0gdmVjdG9yX3NpemUoJmxleC0+c3RhdGVfc3RhY2ssIHNpemVvZihpbnQzMl90KSk7CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgICAgIGZvcig7IGkgPCBuOyBpKyspIHsKICAgICAgICBpbnQzMl90IHN0YXRlID0gKihpbnQzMl90Kil2ZWN0b3JfYXQoJmxleC0+c3RhdGVfc3RhY2ssIHNpemVvZihpbnQzMl90KSwgaSk7CiAgICAgICAgY2hhciogbmFtZTsKICAgICAgICBpZigobmFtZSA9IGxleGVyX3N0YXRlX25hbWUobGV4LCBzdGF0ZSkpID09IDApCiAgICAgICAgICBicmVhazsKICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSwgSlNfTmV3U3RyaW5nKGN0eCwgbmFtZSkpOwogICAgICB9CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19OZXdTdHJpbmcoY3R4LCBsZXhlcl9zdGF0ZV9uYW1lKGxleCwgbGV4LT5zdGF0ZSkpKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX1NPVVJDRTogewogICAgICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopbGV4LT5pbnB1dC5kYXRhLCBsZXgtPmlucHV0LnNpemUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTEVYRVJfUFJPUF9MRVhFTUU6IHsKICAgICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWxleC0+aW5wdXQuZGF0YSArIGxleC0+c3RhcnQsIGxleC0+aW5wdXQucG9zIC0gbGV4LT5zdGFydCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIExleGVyKiBsZXg7CgogIGlmKCEobGV4ID0ganNfbGV4ZXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgTEVYRVJfUFJPUF9QT1M6IHsKICAgICAgVG9rZW4qIHRvazsKICAgICAgaWYoKHRvayA9IGpzX3Rva2VuX2RhdGEoY3R4LCB2YWx1ZSkpKSB7CiAgICAgICAgbGV4LT5pbnB1dC5wb3MgPSB0b2stPmJ5dGVfb2Zmc2V0OwogICAgICAgIGxleC0+bG9jID0gdG9rLT5sb2M7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMRVhFUl9QUk9QX0JZVEVfTEVOR1RIOiB7CiAgICAgIFRva2VuKiB0b2s7CiAgICAgIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkgewogICAgICAgIGpzX3ZhbHVlX3Rvc2l6ZShjdHgsICZsZXgtPmJ5dGVfbGVuZ3RoLCB2YWx1ZSk7CiAgICAgIH0gZWxzZSBpZigodG9rID0ganNfdG9rZW5fZGF0YShjdHgsIHZhbHVlKSkpIHsKICAgICAgICBsZXgtPmJ5dGVfbGVuZ3RoID0gdG9rLT5ieXRlX2xlbmd0aDsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExFWEVSX1BST1BfRklMRU5BTUU6IHsKICAgICAgaWYobGV4LT5sb2MuZmlsZSkKICAgICAgICBqc19mcmVlKGN0eCwgKGNoYXIqKWxleC0+bG9jLmZpbGUpOwogICAgICBsZXgtPmxvYy5maWxlID0ganNfdG9zdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgTEVYRVJfUFJPUF9NT0RFOiB7CiAgICAgIGludDMyX3QgbTsKICAgICAgSlNfVG9JbnQzMihjdHgsICZtLCB2YWx1ZSk7CiAgICAgIGxleC0+bW9kZSA9IG07CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CkpTVmFsdWUKanNfbGV4ZXJfdG9rZW5zKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBMZXhlciogbGV4OwogIExleGVyUnVsZSogcnVsZTsKICBpbnQgaSA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKCEobGV4ID0ganNfbGV4ZXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICB2ZWN0b3JfZm9yZWFjaF90KCZsZXgtPnJ1bGVzLCBydWxlKSB7CiAgICBjb25zdCBjaGFyKiBuYW1lID0gcnVsZS0+bmFtZTsKCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSsrLCBKU19OZXdTdHJpbmcoY3R4LCBuYW1lKSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfc3RhdGVzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBMZXhlciogbGV4OwogIGNoYXIqKiBjb25kOwogIHVpbnQzMl90IGkgPSAwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgdmVjdG9yX2ZvcmVhY2hfdCgmbGV4LT5zdGF0ZXMsIGNvbmQpIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgSlNfTmV3U3RyaW5nKGN0eCwgKmNvbmQpKTsgfQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX3N0YXRlc3RhY2soSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCkgewogIExleGVyKiBsZXg7CiAgaW50MzJfdCogc3RhY2s7CiAgc2l6ZV90IHNpemU7CiAgSlNWYWx1ZSBjdG9yLCBidWYsIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShsZXggPSBqc19sZXhlcl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHNpemUgPSB2ZWN0b3Jfc2l6ZSgmbGV4LT5zdGF0ZV9zdGFjaywgc2l6ZW9mKGludDMyX3QpKSArIDE7CiAgc3RhY2sgPSBqc19tYWxsb2NfcnQoSlNfR2V0UnVudGltZShjdHgpLCBzaXplb2YoaW50MzJfdCkgKiBzaXplKTsKCiAgbWVtY3B5KHN0YWNrLCB2ZWN0b3JfYmVnaW4oJmxleC0+c3RhdGVfc3RhY2spLCBzaXplb2YoaW50MzJfdCkgKiAoc2l6ZSAtIDEpKTsKCiAgc3RhY2tbc2l6ZSAtIDFdID0gbGV4LT5zdGF0ZTsKCiAgYnVmID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCAodm9pZCopc3RhY2ssIHNpemVvZihpbnQzMl90KSAqIHNpemUsIChKU0ZyZWVBcnJheUJ1ZmZlckRhdGFGdW5jKikmanNfZnJlZV9ydCwgc3RhY2ssIEZBTFNFKTsKCiAgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIkludDMyQXJyYXkiKTsKCiAgcmV0ID0gSlNfQ2FsbENvbnN0cnVjdG9yKGN0eCwgY3RvciwgMSwgJmJ1Zik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGJ1Zik7CgogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7Cn0KCkpTVmFsdWUKanNfbGV4ZXJfZXNjYXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBJbnB1dEJ1ZmZlciBpbnB1dCA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAgRHluQnVmIG91dHB1dDsKICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKICBtYWdpYyA/IGRidWZfcHV0X3VuZXNjYXBlZF9wcmVkKCZvdXRwdXQsIChjb25zdCBjaGFyKilpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBsZXhlcl91bmVzY2FwZV9wcmVkKQogICAgICAgIDogZGJ1Zl9wdXRfZXNjYXBlZF9wcmVkKCZvdXRwdXQsIChjb25zdCBjaGFyKilpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBsZXhlcl9lc2NhcGVfcHJlZCk7CiAgcmV0dXJuIGRidWZfdG9zdHJpbmdfZnJlZSgmb3V0cHV0LCBjdHgpOwp9CgpKU1ZhbHVlCmpzX2xleGVyX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGpzX2lzX3JlZ2V4cChjdHgsIGFyZ3ZbMF0pIHx8IEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBSZWdFeHAgcmU7CiAgICByZSA9IHJlZ2V4cF9mcm9tX2FyZ3YoYXJnYywgYXJndiwgY3R4KTsKICAgIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHJlLnNvdXJjZSk7CiAgfSBlbHNlIHsKICAgIElucHV0QnVmZmVyIGlucHV0OwogICAgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogICAgcmV0ID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWlucHV0LmRhdGEsIGlucHV0LnNpemUpOwogICAgaW5wdXRfYnVmZmVyX2ZyZWUoJmlucHV0LCBjdHgpOwogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX2xleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIExleGVyKiBsZXg7CiAgaW50IGlkLCBzdGF0ZSA9IC0xOwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+IDAgJiYgSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIHN0YXRlID0gbGV4ZXJfc3RhdGVfcHVzaChsZXgsIG5hbWUpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICB9CgogIGlkID0gbGV4ZXJfbGV4KGxleCwgY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndik7CgogIGlmKHN0YXRlID4gLTEpCiAgICBsZXhlcl9zdGF0ZV9wb3AobGV4KTsKCiAgc3dpdGNoKGlkKSB7CiAgICBjYXNlIExFWEVSX0VSUk9SX05PTUFUQ0g6IHsKICAgICAgY2hhciogbGV4ZW1lID0gbGV4ZXJfbGV4ZW1lX3MobGV4LCBjdHgpOwogICAgICByZXQgPSBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiVzOiUiIFBSSXUzMiAiOiUiIFBSSXUzMiAiOiBObyBtYXRjaGluZyB0b2tlbiAoJWQ6ICVzKSAnJXMnXG4lLipzXG4lKnMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4LT5sb2MuZmlsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxleC0+bG9jLmxpbmUgKyAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4LT5sb2MuY29sdW1uICsgMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxleGVyX3N0YXRlX3RvcChsZXgsIDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4ZXJfc3RhdGVfbmFtZShsZXgsIGxleGVyX3N0YXRlX3RvcChsZXgsIDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxleGVtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpbnQpKGJ5dGVfY2hyKChjb25zdCBjaGFyKikmbGV4LT5pbnB1dC5kYXRhW2xleC0+c3RhcnRdLCBsZXgtPmlucHV0LnNpemUgLSBsZXgtPnN0YXJ0LCAnXG4nKSArIGxleC0+bG9jLmNvbHVtbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbGV4LT5pbnB1dC5kYXRhW2xleC0+c3RhcnQgLSBsZXgtPmxvYy5jb2x1bW5dLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4LT5sb2MuY29sdW1uICsgMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJeIik7CiAgICAgIGpzX2ZyZWUoY3R4LCBsZXhlbWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTEVYRVJfRU9GOiB7CiAgICAgIHJldCA9IEpTX05VTEw7CiAgICAgIGJyZWFrOwogICAgfQogICAgZGVmYXVsdDogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGlkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX25leHQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEJPT0wqIHBkb25lLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldDsKICBMZXhlciogbGV4OwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0ID0ganNfbGV4ZXJfbGV4KGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwoKICBpZihKU19Jc051bWJlcihyZXQpKSB7CiAgICBpbnQzMl90IGlkOwogICAgVG9rZW4qIHRvazsKICAgIHNpemVfdCBjaGFybGVuOwogICAgTG9jYXRpb24gbG9jOwoKICAgIEpTX1RvSW50MzIoY3R4LCAmaWQsIHJldCk7CiAgICBsb2MgPSBsZXgtPmxvYzsKCiAgICBjaGFybGVuID0gbGV4ZXJfc2tpcChsZXgpOwoKICAgIHRvayA9IGxleGVyX3Rva2VuKGxleCwgaWQsIGNoYXJsZW4sIGxvYywgY3R4KTsKICAgIHJldCA9IGpzX3Rva2VuX3dyYXAoY3R4LCB0b2spOwogIH0KCiAgKnBkb25lID0gSlNfSXNOdWxsKHJldCk7IC8vIGlucHV0X2J1ZmZlcl9lb2YoJmxleC0+aW5wdXQpOwoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2xleGVyX2NhbGwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBmdW5jX29iaiwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IGZsYWdzKSB7CiAgTGV4ZXIqIGxleDsKICBpbnQzMl90IHJlc3VsdDsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlQ29uc3QgYXJnID0gYXJnYyA+IDAgPyBhcmd2WzBdIDogSlNfVU5ERUZJTkVEOwoKICBpZighKGxleCA9IEpTX0dldE9wYXF1ZTIoY3R4LCBmdW5jX29iaiwganNfbGV4ZXJfY2xhc3NfaWQpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGZ1bmNfb2JqLCAibWFzayIsIEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSkpOwogIH0KCiAgaWYoYXJnYyA+IDEgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZnVuY19vYmosICJza2lwIiwgSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKSk7CiAgfQoKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBmdW5jX29iaik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xleGVyX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBMZXhlciogbGV4OwoKICBpZighKGxleCA9IGpzX2xleGVyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgSlNWYWx1ZSBvYmogPSBKU19OZXdPYmplY3RQcm90byhjdHgsIGxleGVyX3Byb3RvKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN0YXJ0IiwgSlNfTmV3VWludDMyKGN0eCwgbGV4LT5zdGFydCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImJ5dGVsZW4iLCBKU19OZXdVaW50MzIoY3R4LCBsZXgtPmJ5dGVfbGVuZ3RoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAidG9raWQiLCBKU19OZXdJbnQzMihjdHgsIGxleC0+dG9rZW5faWQpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJzdGF0ZSIsIEpTX05ld0ludDMyKGN0eCwgbGV4LT5zdGF0ZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImVvZiIsIEpTX05ld0Jvb2woY3R4LCBpbnB1dF9idWZmZXJfZW9mKCZsZXgtPmlucHV0KSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxvYyIsIGpzX2xvY2F0aW9uX25ldyhjdHgsICZsZXgtPmxvYyksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInBvcyIsIEpTX05ld1VpbnQzMihjdHgsIGxleC0+aW5wdXQucG9zKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAic2l6ZSIsIEpTX05ld1VpbnQzMihjdHgsIGxleC0+aW5wdXQuc2l6ZSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCnZvaWQKanNfbGV4ZXJfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgTGV4ZXIqIGxleDsKCiAgaWYoKGxleCA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX2xleGVyX2NsYXNzX2lkKSkpCiAgICBsZXhlcl9mcmVlX3J0KGxleCwgcnQpOwogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19sZXhlcl9jbGFzcyA9IHsuY2xhc3NfbmFtZSA9ICJMZXhlciIsIC5maW5hbGl6ZXIgPSBqc19sZXhlcl9maW5hbGl6ZXIsIC5jYWxsID0ganNfbGV4ZXJfY2FsbH07CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfbGV4ZXJfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0lURVJBVE9SX05FWFRfREVGKCJuZXh0IiwgMCwganNfbGV4ZXJfbmV4dCwgMCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic2l6ZSIsIGpzX2xleGVyX2dldCwganNfbGV4ZXJfc2V0LCBMRVhFUl9QUk9QX1NJWkUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInBvcyIsIGpzX2xleGVyX2dldCwganNfbGV4ZXJfc2V0LCBMRVhFUl9QUk9QX1BPUyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhcnQiLCBqc19sZXhlcl9nZXQsIDAsIExFWEVSX1BST1BfU1RBUlQpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxvYyIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9MT0MpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImVvZiIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9FT0YpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm1vZGUiLCBqc19sZXhlcl9nZXQsIGpzX2xleGVyX3NldCwgTEVYRVJfUFJPUF9NT0RFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJieXRlTGVuZ3RoIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX0JZVEVfTEVOR1RIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGF0ZSIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9TVEFURSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhdGVzIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX1NUQVRFUyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhdGVEZXB0aCIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9TVEFURV9ERVBUSCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RhdGVTdGFjayIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9TVEFURV9TVEFDSyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic291cmNlIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX1NPVVJDRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigibGV4ZW1lIiwganNfbGV4ZXJfZ2V0LCAwLCBMRVhFUl9QUk9QX0xFWEVNRSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZmlsZU5hbWUiLCBqc19sZXhlcl9nZXQsIGpzX2xleGVyX3NldCwgTEVYRVJfUFJPUF9GSUxFTkFNRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldElucHV0IiwgMSwganNfbGV4ZXJfbWV0aG9kLCBMRVhFUl9NRVRIT0RfU0VUX0lOUFVUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic2tpcCIsIDAsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX1NLSVApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJza2lwVW50aWwiLCAxLCBqc19sZXhlcl9tZXRob2QsIExFWEVSX01FVEhPRF9TS0lQVU5USUwpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b2tlbkNsYXNzIiwgMSwganNfbGV4ZXJfbWV0aG9kLCBMRVhFUl9NRVRIT0RfVE9LRU5fQ0xBU1MpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJkZWZpbmUiLCAyLCBqc19sZXhlcl9hZGRfcnVsZSwgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImFkZFJ1bGUiLCAyLCBqc19sZXhlcl9hZGRfcnVsZSwgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFJ1bGUiLCAxLCBqc19sZXhlcl9tZXRob2QsIExFWEVSX01FVEhPRF9HRVRfUlVMRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInB1c2hTdGF0ZSIsIDEsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX1BVU0hfU1RBVEUpLAogICAgSlNfQUxJQVNfREVGKCJiZWdpbiIsICJwdXNoU3RhdGUiKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicG9wU3RhdGUiLCAwLCBqc19sZXhlcl9tZXRob2QsIExFWEVSX01FVEhPRF9QT1BfU1RBVEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b3BTdGF0ZSIsIDAsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX1RPUF9TVEFURSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImN1cnJlbnRMaW5lIiwgMCwganNfbGV4ZXJfbWV0aG9kLCBMRVhFUl9NRVRIT0RfQ1VSUkVOVF9MSU5FKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYmFjayIsIDAsIGpzX2xleGVyX21ldGhvZCwgTEVYRVJfTUVUSE9EX0JBQ0spLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInJ1bGVOYW1lcyIsIGpzX2xleGVyX2dldCwgMCwgTEVYRVJfUFJPUF9SVUxFTkFNRVMpLAogICAgSlNfQ0ZVTkNfREVGKCJsZXgiLCAwLCBqc19sZXhlcl9sZXgpLAogICAgSlNfQ0ZVTkNfREVGKCJpbnNwZWN0IiwgMCwganNfbGV4ZXJfaW5zcGVjdCksCiAgICBKU19DR0VUU0VUX0RFRigidG9rZW5zIiwganNfbGV4ZXJfdG9rZW5zLCAwKSwKICAgIEpTX0NHRVRTRVRfREVGKCJzdGF0ZXMiLCBqc19sZXhlcl9zdGF0ZXMsIDApLAogICAgLy8gSlNfQ0dFVFNFVF9ERUYoInN0YXRlU3RhY2siLCBqc19sZXhlcl9zdGF0ZXN0YWNrLCAwKSwKICAgIC8vIEpTX0FMSUFTX0RFRigicG9zaXRpb24iLCAibG9jIiksCiAgICBKU19DRlVOQ19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgMCwganNfbGV4ZXJfaXRlcmF0b3IpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJMZXhlciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19sZXhlcl9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZXNjYXBlIiwgMSwganNfbGV4ZXJfZXNjYXBlLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidW5lc2NhcGUiLCAxLCBqc19sZXhlcl9lc2NhcGUsIDEpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b1N0cmluZyIsIDEsIGpzX2xleGVyX3Rvc3RyaW5nKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGSVJTVCIsIExFWEVSX0ZJUlNULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxPTkdFU1QiLCBMRVhFUl9MT05HRVNULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkxBU1QiLCBMRVhFUl9MQVNULCBKU19QUk9QX0VOVU1FUkFCTEUpLAp9OwoKaW50CmpzX2xleGVyX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGpzX2xvY2F0aW9uX2luaXQoY3R4LCBtKTsKCiAgSlNfTmV3Q2xhc3NJRCgmanNfc3ludGF4ZXJyb3JfY2xhc3NfaWQpOwogIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfc3ludGF4ZXJyb3JfY2xhc3NfaWQsICZqc19zeW50YXhlcnJvcl9jbGFzcyk7CgogIHN5bnRheGVycm9yX3Byb3RvID0gSlNfTmV3RXJyb3IoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHN5bnRheGVycm9yX3Byb3RvLCBqc19zeW50YXhlcnJvcl9wcm90b19mdW5jcywgY291bnRvZihqc19zeW50YXhlcnJvcl9wcm90b19mdW5jcykpOwoKICAvLyBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBzeW50YXhlcnJvcl9wcm90bywganNfc3ludGF4ZXJyb3JfaW5zcGVjdCk7CgogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19zeW50YXhlcnJvcl9jbGFzc19pZCwgc3ludGF4ZXJyb3JfcHJvdG8pOwoKICBzeW50YXhlcnJvcl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3N5bnRheGVycm9yX2NvbnN0cnVjdG9yLCAiU3ludGF4RXJyb3IiLCAxLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc3ludGF4ZXJyb3JfY3Rvciwgc3ludGF4ZXJyb3JfcHJvdG8pOwoKICBKU19OZXdDbGFzc0lEKCZqc190b2tlbl9jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc190b2tlbl9jbGFzc19pZCwgJmpzX3Rva2VuX2NsYXNzKTsKCiAgdG9rZW5fcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHRva2VuX3Byb3RvLCBqc190b2tlbl9wcm90b19mdW5jcywgY291bnRvZihqc190b2tlbl9wcm90b19mdW5jcykpOwogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc190b2tlbl9jbGFzc19pZCwgdG9rZW5fcHJvdG8pOwoKICB0b2tlbl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3Rva2VuX2NvbnN0cnVjdG9yLCAiVG9rZW4iLCAxLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgdG9rZW5fY3RvciwgdG9rZW5fcHJvdG8pOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgdG9rZW5fY3RvciwganNfdG9rZW5fc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3Rva2VuX3N0YXRpY19mdW5jcykpOwoKICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCB0b2tlbl9wcm90bywganNfdG9rZW5faW5zcGVjdCk7CgogIEpTX05ld0NsYXNzSUQoJmpzX2xleGVyX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX2xleGVyX2NsYXNzX2lkLCAmanNfbGV4ZXJfY2xhc3MpOwoKICBsZXhlcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGV4ZXJfcHJvdG8sIGpzX2xleGVyX3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX2xleGVyX3Byb3RvX2Z1bmNzKSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX2xleGVyX2NsYXNzX2lkLCBsZXhlcl9wcm90byk7CgogIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIGxleGVyX3Byb3RvLCBqc19sZXhlcl9pbnNwZWN0KTsKCiAgbGV4ZXJfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19sZXhlcl9jb25zdHJ1Y3RvciwgIkxleGVyIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIGxleGVyX2N0b3IsIGxleGVyX3Byb3RvKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIGxleGVyX2N0b3IsIGpzX2xleGVyX3N0YXRpY19mdW5jcywgY291bnRvZihqc19sZXhlcl9zdGF0aWNfZnVuY3MpKTsKCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5bnRheEVycm9yIiwgc3ludGF4ZXJyb3JfY3Rvcik7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVG9rZW4iLCB0b2tlbl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJMZXhlciIsIGxleGVyX2N0b3IpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfbGV4ZXIKI2VuZGlmCgpWSVNJQkxFIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBpZighKG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsICZqc19sZXhlcl9pbml0KSkpCiAgICByZXR1cm4gbTsKCiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkxvY2F0aW9uIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5bnRheEVycm9yIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRva2VuIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkxleGVyIik7CiAgcmV0dXJuIG07Cn0KAAAAAAAAAAB4rgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAU1cAAAAAAABhVwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "buffer-utils.c",
			"settings":
			{
				"buffer_size": 11684,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					20,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACkLQAAI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAidXRpbHMuaCIKCnNpemVfdAphbnNpX2xlbmd0aChjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4pIHsKICBzaXplX3QgaSwgbiA9IDAsIHA7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOykgewogICAgaWYoc3RyW2ldID09IDB4MWIgJiYgKHAgPSBhbnNpX3NraXAoJnN0cltpXSwgbGVuIC0gaSkpID4gMCkgewogICAgICBpICs9IHA7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgbisrOwogICAgaSsrOwogIH0KICByZXR1cm4gbjsKfQoKc2l6ZV90CmFuc2lfc2tpcChjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4pIHsKICBzaXplX3QgcG9zID0gMDsKICBpZihzdHJbcG9zXSA9PSAweDFiKSB7CiAgICBpZigrK3BvcyA8IGxlbiAmJiBzdHJbcG9zXSA9PSAnWycpIHsKICAgICAgd2hpbGUoKytwb3MgPCBsZW4pCiAgICAgICAgaWYoaXNfYWxwaGFudW1lcmljX2NoYXIoc3RyW3Bvc10pKQogICAgICAgICAgYnJlYWs7CiAgICAgIGlmKCsrcG9zIDwgbGVuICYmIHN0cltwb3NdID09ICd+JykKICAgICAgICArK3BvczsKICAgICAgcmV0dXJuIHBvczsKICAgIH0KICB9CiAgcmV0dXJuIDA7Cn0KCnNpemVfdAphbnNpX3RydW5jYXRlKGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgc2l6ZV90IGxpbWl0KSB7CiAgc2l6ZV90IGksIG4gPSAwLCBwOwogIGZvcihpID0gMDsgaSA8IGxlbjspIHsKICAgIGlmKChwID0gYW5zaV9za2lwKCZzdHJbaV0sIGxlbiAtIGkpKSA+IDApIHsKICAgICAgaSArPSBwOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIG4gKz0gaXNfZXNjYXBlX2NoYXIoc3RyW2ldKSA/IDIgOiAxOwoKICAgIGkrKzsKICAgIGlmKG4gPiBsaW1pdCkKICAgICAgYnJlYWs7CiAgfQogIHJldHVybiBpOwp9CgppbnQ2NF90CmFycmF5X3NlYXJjaCh2b2lkKiBhLCBzaXplX3QgbSwgc2l6ZV90IGVsc3osIHZvaWQqIG5lZWRsZSkgewogIGNoYXIqIHB0ciA9IGE7CiAgaW50NjRfdCBuLCByZXQ7CiAgbiA9IG0gLyBlbHN6OwogIGZvcihyZXQgPSAwOyByZXQgPCBuOyByZXQrKykgewogICAgaWYoIW1lbWNtcChwdHIsIG5lZWRsZSwgZWxzeikpCiAgICAgIHJldHVybiByZXQ7CgogICAgcHRyICs9IGVsc3o7CiAgfQogIHJldHVybiAtMTsKfQoKY2hhcioKc3RyX2VzY2FwZShjb25zdCBjaGFyKiBzKSB7CiAgRHluQnVmIGRidWY7CiAgZGJ1Zl9pbml0MigmZGJ1ZiwgMCwgMCk7CiAgZGJ1Zl9wdXRfZXNjYXBlZCgmZGJ1Ziwgcywgc3RybGVuKHMpKTsKICBkYnVmXzAoJmRidWYpOwogIHJldHVybiAoY2hhciopZGJ1Zi5idWY7Cn0KCmNoYXIqCmJ5dGVfZXNjYXBlKGNvbnN0IHZvaWQqIHMsIHNpemVfdCBuKSB7CiAgRHluQnVmIGRidWY7CiAgZGJ1Zl9pbml0MigmZGJ1ZiwgMCwgMCk7CiAgZGJ1Zl9wdXRfZXNjYXBlZCgmZGJ1Ziwgcywgbik7CiAgZGJ1Zl8wKCZkYnVmKTsKICByZXR1cm4gKGNoYXIqKWRidWYuYnVmOwp9CgpzaXplX3QKYnl0ZV9maW5kYihjb25zdCB2b2lkKiBoYXlzdGFjaywgc2l6ZV90IGhsZW4sIGNvbnN0IHZvaWQqIHdoYXQsIHNpemVfdCB3bGVuKSB7CiAgc2l6ZV90IGksIGxhc3Q7CiAgY29uc3QgY2hhciogcyA9IChjb25zdCBjaGFyKiloYXlzdGFjazsKICBpZihobGVuIDwgd2xlbikKICAgIHJldHVybiBobGVuOwogIGxhc3QgPSBobGVuIC0gd2xlbjsKICBmb3IoaSA9IDA7IGkgPD0gbGFzdDsgaSsrKSB7CiAgICBpZihieXRlX2VxdWFsKHMsIHdsZW4sIHdoYXQpKQogICAgICByZXR1cm4gaTsKICAgIHMrKzsKICB9CiAgcmV0dXJuIGhsZW47Cn0KCnNpemVfdApieXRlX2ZpbmRzKGNvbnN0IHZvaWQqIGhheXN0YWNrLCBzaXplX3QgaGxlbiwgY29uc3QgY2hhciogd2hhdCkgewogIHJldHVybiBieXRlX2ZpbmRiKGhheXN0YWNrLCBobGVuLCB3aGF0LCBzdHJsZW4od2hhdCkpOwp9CgpzaXplX3QKYnl0ZV9lcXVhbChjb25zdCB2b2lkKiBzLCBzaXplX3QgbiwgY29uc3Qgdm9pZCogdCkgewogIHJldHVybiBtZW1jbXAocywgdCwgbikgPT0gMDsKfQoKY2hhcioKZGJ1Zl9hdF9uKGNvbnN0IER5bkJ1ZiogZGIsIHNpemVfdCBpLCBzaXplX3QqIG4sIGNoYXIgc2VwKSB7CiAgc2l6ZV90IHAsIGwgPSAwOwogIGZvcihwID0gMDsgcCA8IGRiLT5zaXplOyArK3ApIHsKICAgIGlmKGwgPT0gaSkgewogICAgICAqbiA9IGJ5dGVfY2hyKChjb25zdCBjaGFyKikmZGItPmJ1ZltwXSwgZGItPnNpemUgLSBwLCBzZXApOwogICAgICByZXR1cm4gKGNoYXIqKSZkYi0+YnVmW3BdOwogICAgfQogICAgaWYoZGItPmJ1ZltwXSA9PSBzZXApCiAgICAgICsrbDsKICB9CiAgKm4gPSAwOwogIHJldHVybiAwOwp9Cgpjb25zdCBjaGFyKgpkYnVmX2xhc3RfbGluZShEeW5CdWYqIGRiLCBzaXplX3QqIGxlbikgewogIHNpemVfdCBpOwoKICBpZigoaSA9IGJ5dGVfcmNocihkYi0+YnVmLCBkYi0+c2l6ZSwgJ1xuJykpIDwgZGItPnNpemUpCiAgICBpKys7CiAgZWxzZQogICAgaSA9IDA7CgogIGlmKGxlbikKICAgICpsZW4gPSBkYi0+c2l6ZSAtIGk7CgogIHJldHVybiAoY29uc3QgY2hhciopJmRiLT5idWZbaV07Cn0KCmludApkYnVmX3ByZXBlbmQoRHluQnVmKiBzLCBjb25zdCB1aW50OF90KiBkYXRhLCBzaXplX3QgbGVuKSB7CiAgaW50IHJldDsKICBpZighKHJldCA9IGRidWZfcmVzZXJ2ZV9zdGFydChzLCBsZW4pKSkKICAgIG1lbWNweShzLT5idWYsIGRhdGEsIGxlbik7CgogIHJldHVybiAwOwp9Cgp2b2lkCmRidWZfcHV0X2NvbG9yc3RyKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogY29sb3IsIGludCB3aXRoX2NvbG9yKSB7CiAgaWYod2l0aF9jb2xvcikKICAgIGRidWZfcHV0c3RyKGRiLCBjb2xvcik7CgogIGRidWZfcHV0c3RyKGRiLCBzdHIpOwogIGlmKHdpdGhfY29sb3IpCiAgICBkYnVmX3B1dHN0cihkYiwgQ09MT1JfTk9ORSk7Cn0KCnZvaWQKZGJ1Zl9wdXRfZXNjYXBlZF9wcmVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgaW50ICgqcHJlZCkoaW50KSkgewogIHNpemVfdCBpID0gMCwgajsKICBjaGFyIGM7CiAgd2hpbGUoaSA8IGxlbikgewogICAgaWYoKGogPSBwcmVkaWNhdGVfZmluZCgmc3RyW2ldLCBsZW4gLSBpLCBwcmVkKSkpIHsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kikmc3RyW2ldLCBqKTsKICAgICAgaSArPSBqOwogICAgfQogICAgaWYoaSA9PSBsZW4pCiAgICAgIGJyZWFrOwogICAgZGJ1Zl9wdXRjKGRiLCAnXFwnKTsKCiAgICBpZihzdHJbaV0gPT0gMHgxYikgewogICAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKSJ4MWIiLCAzKTsKICAgIH0gZWxzZSB7CiAgICAgIGludCByID0gcHJlZChzdHJbaV0pOwoKICAgICAgZGJ1Zl9wdXRjKGRiLCAociA+IDEgJiYgciA8PSAxMjcpID8gciA6IChjID0gZXNjYXBlX2NoYXJfbGV0dGVyKHN0cltpXSkpID8gYyA6IHN0cltpXSk7CgogICAgICBpZihyID09ICd1JyB8fCByID09ICd4JykKICAgICAgICBkYnVmX3ByaW50ZihkYiwgciA9PSAndScgPyAiJTA0eCIgOiAiJTAyeCIsIHN0cltpXSk7CiAgICB9CiAgICBpKys7CiAgfQp9Cgp2b2lkCmRidWZfcHV0X2VzY2FwZWRfdGFibGUoRHluQnVmKiBkYiwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBjb25zdCBjaGFyIHRhYmxlWzI1Nl0pIHsKICBzaXplX3QgaSA9IDAsIGo7CiAgY2hhciBjOwogIHdoaWxlKGkgPCBsZW4pIHsKICAgIGlmKChqID0gbG9va3VwX2ZpbmQoJnN0cltpXSwgbGVuIC0gaSwgdGFibGUpKSkgewogICAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKSZzdHJbaV0sIGopOwogICAgICBpICs9IGo7CiAgICB9CiAgICBpZihpID09IGxlbikKICAgICAgYnJlYWs7CiAgICBkYnVmX3B1dGMoZGIsICdcXCcpOwoKICAgIGlmKHN0cltpXSA9PSAweDFiKSB7CiAgICAgIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopIngxYiIsIDMpOwogICAgfSBlbHNlIHsKICAgICAgaW50IHIgPSB0YWJsZVsodW5zaWduZWQgY2hhcilzdHJbaV1dOwoKICAgICAgZGJ1Zl9wdXRjKGRiLCAociA+IDEgJiYgciA8PSAxMjcpID8gciA6IChjID0gZXNjYXBlX2NoYXJfbGV0dGVyKHN0cltpXSkpID8gYyA6IHN0cltpXSk7CgogICAgICBpZihyID09ICd1JyB8fCByID09ICd4JykKICAgICAgICBkYnVmX3ByaW50ZihkYiwgciA9PSAndScgPyAiJTA0eCIgOiAiJTAyeCIsIHN0cltpXSk7CiAgICB9CiAgICBpKys7CiAgfQp9Cgp2b2lkCmRidWZfcHV0X3VuZXNjYXBlZF9wcmVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgaW50ICgqcHJlZCkoaW50KSkgewogIHNpemVfdCBpID0gMCwgajsKICBjaGFyIGM7CiAgaW50IHI7CiAgd2hpbGUoaSA8IGxlbikgewogICAgaWYoKGogPSBieXRlX2Nocigmc3RyW2ldLCBsZW4gLSBpLCAnXFwnKSkpIHsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kikmc3RyW2ldLCBqKTsKICAgICAgaSArPSBqOwogICAgfQogICAgaWYoaSA9PSBsZW4pCiAgICAgIGJyZWFrOwoKICAgIGlmKCEociA9IHByZWQoc3RyWysraV0pKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXFwnKTsKCiAgICBkYnVmX3B1dGMoZGIsIChyID4gMSAmJiByIDwgMjU2KSA/IHIgOiBzdHJbaV0pOwogICAgaSsrOwogIH0KfQoKdm9pZApkYnVmX3B1dF9lc2NhcGVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbikgewogIHN0YXRpYyBjb25zdCBjaGFyIHRhYlsyNTZdID0gewogICAgICAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgMHg2MiwgMHg3NCwgMHg2ZSwgMHg3NiwgMHg2NiwgMHg3MiwgJ3gnLCAgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsCiAgICAgICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAweDI3LCAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAweDVjLCAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgJ3gnLCAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLAogIH07CgogIHJldHVybiBkYnVmX3B1dF9lc2NhcGVkX3RhYmxlKGRiLCBzdHIsIGxlbiwgdGFiKTsKfQoKdm9pZApkYnVmX3B1dF92YWx1ZShEeW5CdWYqIGRiLCBKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogc3RyOwogIHNpemVfdCBsZW47CiAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogIGRidWZfYXBwZW5kKGRiLCBzdHIsIGxlbik7CiAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKfQoKaW50CmRidWZfcmVzZXJ2ZV9zdGFydChEeW5CdWYqIHMsIHNpemVfdCBsZW4pIHsKICBpZih1bmxpa2VseSgocy0+c2l6ZSArIGxlbikgPiBzLT5hbGxvY2F0ZWRfc2l6ZSkpIHsKICAgIGlmKGRidWZfcmVhbGxvYyhzLCBzLT5zaXplICsgbGVuKSkKICAgICAgcmV0dXJuIC0xOwogIH0KICBpZihzLT5zaXplID4gMCkKICAgIG1lbWNweShzLT5idWYgKyBsZW4sIHMtPmJ1Ziwgcy0+c2l6ZSk7CgogIHMtPnNpemUgKz0gbGVuOwogIHJldHVybiAwOwp9CgpzaXplX3QKZGJ1Zl90b2tlbl9wb3AoRHluQnVmKiBkYiwgY2hhciBkZWxpbSkgewogIHNpemVfdCBuLCBwLCBsZW47CiAgbGVuID0gZGItPnNpemU7CiAgZm9yKG4gPSBkYi0+c2l6ZTsgbiA+IDA7KSB7CiAgICBpZigocCA9IGJ5dGVfcmNocihkYi0+YnVmLCBuLCBkZWxpbSkpID09IG4pIHsKICAgICAgZGItPnNpemUgPSAwOwogICAgICBicmVhazsKICAgIH0KICAgIGlmKHAgPiAwICYmIGRiLT5idWZbcCAtIDFdID09ICdcXCcpIHsKICAgICAgbiA9IHAgLSAxOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIGRiLT5zaXplID0gcDsKICAgIGJyZWFrOwogIH0KICByZXR1cm4gbGVuIC0gZGItPnNpemU7Cn0KCnNpemVfdApkYnVmX3Rva2VuX3B1c2goRHluQnVmKiBkYiwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBjaGFyIGRlbGltKSB7CiAgc2l6ZV90IHBvczsKICBpZihkYi0+c2l6ZSkKICAgIGRidWZfcHV0YyhkYiwgZGVsaW0pOwoKICBwb3MgPSBkYi0+c2l6ZTsKICBkYnVmX3B1dF9lc2NhcGVkX3ByZWQoZGIsIHN0ciwgbGVuLCBpc19kb3RfY2hhcik7CiAgcmV0dXJuIGRiLT5zaXplIC0gcG9zOwp9CgpKU1ZhbHVlCmRidWZfdG9zdHJpbmdfZnJlZShEeW5CdWYqIHMsIEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSByOwogIHIgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBzLT5idWYgPyAoY29uc3QgY2hhciopcy0+YnVmIDogIiIsIHMtPmJ1ZiA/IHMtPnNpemUgOiAwKTsKICBkYnVmX2ZyZWUocyk7CiAgcmV0dXJuIHI7Cn0KCnNzaXplX3QKZGJ1Zl9sb2FkKER5bkJ1ZiogcywgY29uc3QgY2hhciogZmlsZW5hbWUpIHsKICBGSUxFKiBmcDsKICBzaXplX3QgbmJ5dGVzID0gMDsKICBpZigoZnAgPSBmb3BlbihmaWxlbmFtZSwgInJiIikpKSB7CiAgICBjaGFyIGJ1Zls0MDk2XTsKICAgIHNpemVfdCByOwogICAgd2hpbGUoIWZlb2YoZnApKSB7CiAgICAgIGlmKChyID0gZnJlYWQoYnVmLCAxLCBzaXplb2YoYnVmKSwgZnApKSA9PSAwKQogICAgICAgIHJldHVybiAtMTsKICAgICAgZGJ1Zl9wdXQocywgKHVpbnQ4X3QgY29uc3QqKWJ1Ziwgcik7CiAgICAgIG5ieXRlcyArPSByOwogICAgfQogICAgZmNsb3NlKGZwKTsKICB9CiAgcmV0dXJuIG5ieXRlczsKfQoKSW5wdXRCdWZmZXIKanNfaW5wdXRfYnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBJbnB1dEJ1ZmZlciByZXQgPSB7MCwgMCwgMCwgJmlucHV0X2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgaW50NjRfdCBvZmZzZXQgPSAwLCBsZW5ndGggPSBJTlQ2NF9NQVg7CgogIG9mZnNldF9pbml0KCZyZXQucmFuZ2UpOwoKICBpZihqc19pc190eXBlZGFycmF5KHZhbHVlKSB8fCBqc19pc19kYXRhdmlldyhjdHgsIHZhbHVlKSkgewogICAgSlNWYWx1ZSBhcnJheWJ1ZiwgYnl0ZW9mZnMsIGJ5dGVsZW47CiAgICBhcnJheWJ1ZiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJidWZmZXIiKTsKICAgIGJ5dGVsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZUxlbmd0aCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZWxlbikpCiAgICAgIEpTX1RvSW50NjQoY3R4LCAmbGVuZ3RoLCBieXRlbGVuKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGJ5dGVsZW4pOwogICAgYnl0ZW9mZnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZU9mZnNldCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZW9mZnMpKQogICAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYnl0ZW9mZnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgYnl0ZW9mZnMpOwogICAgdmFsdWUgPSBhcnJheWJ1ZjsKICB9CgogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSKSB8fCBqc19pc19hcnJheWJ1ZmZlcihjdHgsIHZhbHVlKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgICByZXQuZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJnJldC5zaXplLCByZXQudmFsdWUpOwogIH0gZWxzZSB7CiAgICByZXQudmFsdWUgPSBKU19FWENFUFRJT047CiAgICAvLyBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJJbnZhbGlkIHR5cGUgZm9yIGlucHV0IGJ1ZmZlciIpOwogIH0KCiAgaWYob2Zmc2V0IDwgMCkKICAgIHJldC5yYW5nZS5vZmZzZXQgPSByZXQuc2l6ZSArIG9mZnNldCAlIHJldC5zaXplOwogIGVsc2UgaWYob2Zmc2V0ID4gcmV0LnNpemUpCiAgICByZXQucmFuZ2Uub2Zmc2V0ID0gcmV0LnNpemU7CiAgZWxzZQogICAgcmV0LnJhbmdlLm9mZnNldCA9IG9mZnNldDsKCiAgaWYobGVuZ3RoID49IDAgJiYgbGVuZ3RoIDwgcmV0LnNpemUpCiAgICByZXQucmFuZ2UubGVuZ3RoID0gbGVuZ3RoOwoKICByZXR1cm4gcmV0Owp9CgpJbnB1dEJ1ZmZlcgpqc19pbnB1dF9jaGFycyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSW5wdXRCdWZmZXIgcmV0ID0gezAsIDAsIDAsICZpbnB1dF9idWZmZXJfZnJlZV9kZWZhdWx0LCBKU19VTkRFRklORUR9OwogIGludDY0X3Qgb2Zmc2V0ID0gMCwgbGVuZ3RoID0gSU5UNjRfTUFYOwoKICBvZmZzZXRfaW5pdCgmcmV0LnJhbmdlKTsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogICAgcmV0LmZyZWUgPSAmaW5wdXRfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKICB9IGVsc2UgewogICAgcmV0ID0ganNfaW5wdXRfYnVmZmVyKGN0eCwgdmFsdWUpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKQk9PTAppbnB1dF9idWZmZXJfdmFsaWQoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpJbnB1dEJ1ZmZlcgppbnB1dF9idWZmZXJfY2xvbmUoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIElucHV0QnVmZmVyIHJldCA9IGpzX2lucHV0X2J1ZmZlcihjdHgsIGluLT52YWx1ZSk7CgogIHJldC5wb3MgPSBpbi0+cG9zOwogIHJldC5zaXplID0gaW4tPnNpemU7CiAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsKCiAgcmV0dXJuIHJldDsKfQoKdm9pZAppbnB1dF9idWZmZXJfZHVtcChjb25zdCBJbnB1dEJ1ZmZlciogaW4sIER5bkJ1ZiogZGIpIHsKICBkYnVmX3ByaW50ZihkYiwgIihJbnB1dEJ1ZmZlcil7IC5kYXRhID0gJXAsIC5zaXplID0gJXp1LCAucG9zID0gJXp1LCAuZnJlZSA9ICVwIH0iLCBpbi0+ZGF0YSwgaW4tPnNpemUsIGluLT5wb3MsIGluLT5mcmVlKTsKfQoKdm9pZAppbnB1dF9idWZmZXJfZnJlZShJbnB1dEJ1ZmZlciogaW4sIEpTQ29udGV4dCogY3R4KSB7CiAgaWYoaW4tPmRhdGEpIHsKICAgIGluLT5mcmVlKGN0eCwgKGNvbnN0IGNoYXIqKWluLT5kYXRhLCBpbi0+dmFsdWUpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnBvcyA9IDA7CiAgICBpbi0+dmFsdWUgPSBKU19VTkRFRklORUQ7CiAgfQp9Cgpjb25zdCB1aW50OF90KgppbnB1dF9idWZmZXJfcGVlayhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCkgewogIGlucHV0X2J1ZmZlcl9wZWVrYyhpbiwgbGVucCk7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGluLT5wb3M7Cn0KCmNvbnN0IHVpbnQ4X3QqCmlucHV0X2J1ZmZlcl9nZXQoSW5wdXRCdWZmZXIqIGluLCBzaXplX3QqIGxlbnApIHsKICBzaXplX3QgbjsKICBjb25zdCB1aW50OF90KiByZXQ7CiAgaWYobGVucCA9PSAwKQogICAgbGVucCA9ICZuOwogIHJldCA9IGlucHV0X2J1ZmZlcl9wZWVrKGluLCBsZW5wKTsKICBpbi0+cG9zICs9ICpsZW5wOwogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmlucHV0X2J1ZmZlcl9jdXJyZW50bGluZShJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVuKSB7CiAgc2l6ZV90IGk7CgogIGlmKChpID0gYnl0ZV9yY2hyKGlucHV0X2J1ZmZlcl9kYXRhKGluKSwgaW4tPnBvcywgJ1xuJykpIDwgaW4tPnBvcykKICAgIGkrKzsKCiAgaWYobGVuKQogICAgKmxlbiA9IGluLT5wb3MgLSBpOwoKICByZXR1cm4gKGNvbnN0IGNoYXIqKSZpbnB1dF9idWZmZXJfZGF0YShpbilbaV07Cn0KCnNpemVfdAppbnB1dF9idWZmZXJfY29sdW1uKElucHV0QnVmZmVyKiBpbiwgc2l6ZV90KiBsZW4pIHsKICBzaXplX3QgaTsKCiAgaWYoKGkgPSBieXRlX3JjaHIoaW5wdXRfYnVmZmVyX2RhdGEoaW4pLCBpbi0+cG9zLCAnXG4nKSkgPCBpbi0+cG9zKQogICAgaSsrOwoKICByZXR1cm4gaW4tPnBvcyAtIGk7Cn0KCmludApqc19vZmZzZXRfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBpbnQ2NF90IHNpemUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBPZmZzZXRMZW5ndGgqIG9mZl9sZW5fcCkgewogIGludCByZXQgPSAwOwogIGludDY0X3Qgb2ZmID0gMCwgbGVuID0gc2l6ZTsKCiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBpZighSlNfVG9JbnQ2NChjdHgsICZvZmYsIGFyZ3ZbMF0pKQogICAgICByZXQgPSAxOwogIH0KICBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIGlmKCFKU19Ub0ludDY0KGN0eCwgJmxlbiwgYXJndlsxXSkpCiAgICAgIHJldCA9IDI7CiAgfQoKICAvKiBpZihvZmYgPj0gMCkKICAgICBvZmYgPSBNSU5fTlVNKG9mZiwgc2l6ZSk7CiAgIGVsc2UKICAqLwogIGlmKHNpemUpCiAgICBvZmYgPSAoKG9mZiAlIHNpemUpICsgb2ZmKSAlIHNpemU7CgogIGlmKGxlbiA+PSAwKQogICAgbGVuID0gTUlOX05VTShsZW4sIHNpemUgLSBvZmYpOwogIGVsc2UKICAgIGxlbiA9IHNpemUgLSBvZmY7CgogIGlmKG9mZl9sZW5fcCkgewogICAgb2ZmX2xlbl9wLT5vZmZzZXQgPSBvZmY7CiAgICBvZmZfbGVuX3AtPmxlbmd0aCA9IGxlbjsKICB9CiAgcmV0dXJuIHJldDsKfQoAAAAAAAAAAKQtAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQScAAAAAAABBJwAAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACkLQAAI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAidXRpbHMuaCIKCnNpemVfdAphbnNpX2xlbmd0aChjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4pIHsKICBzaXplX3QgaSwgbiA9IDAsIHA7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOykgewogICAgaWYoc3RyW2ldID09IDB4MWIgJiYgKHAgPSBhbnNpX3NraXAoJnN0cltpXSwgbGVuIC0gaSkpID4gMCkgewogICAgICBpICs9IHA7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgbisrOwogICAgaSsrOwogIH0KICByZXR1cm4gbjsKfQoKc2l6ZV90CmFuc2lfc2tpcChjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4pIHsKICBzaXplX3QgcG9zID0gMDsKICBpZihzdHJbcG9zXSA9PSAweDFiKSB7CiAgICBpZigrK3BvcyA8IGxlbiAmJiBzdHJbcG9zXSA9PSAnWycpIHsKICAgICAgd2hpbGUoKytwb3MgPCBsZW4pCiAgICAgICAgaWYoaXNfYWxwaGFudW1lcmljX2NoYXIoc3RyW3Bvc10pKQogICAgICAgICAgYnJlYWs7CiAgICAgIGlmKCsrcG9zIDwgbGVuICYmIHN0cltwb3NdID09ICd+JykKICAgICAgICArK3BvczsKICAgICAgcmV0dXJuIHBvczsKICAgIH0KICB9CiAgcmV0dXJuIDA7Cn0KCnNpemVfdAphbnNpX3RydW5jYXRlKGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgc2l6ZV90IGxpbWl0KSB7CiAgc2l6ZV90IGksIG4gPSAwLCBwOwogIGZvcihpID0gMDsgaSA8IGxlbjspIHsKICAgIGlmKChwID0gYW5zaV9za2lwKCZzdHJbaV0sIGxlbiAtIGkpKSA+IDApIHsKICAgICAgaSArPSBwOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIG4gKz0gaXNfZXNjYXBlX2NoYXIoc3RyW2ldKSA/IDIgOiAxOwoKICAgIGkrKzsKICAgIGlmKG4gPiBsaW1pdCkKICAgICAgYnJlYWs7CiAgfQogIHJldHVybiBpOwp9CgppbnQ2NF90CmFycmF5X3NlYXJjaCh2b2lkKiBhLCBzaXplX3QgbSwgc2l6ZV90IGVsc3osIHZvaWQqIG5lZWRsZSkgewogIGNoYXIqIHB0ciA9IGE7CiAgaW50NjRfdCBuLCByZXQ7CiAgbiA9IG0gLyBlbHN6OwogIGZvcihyZXQgPSAwOyByZXQgPCBuOyByZXQrKykgewogICAgaWYoIW1lbWNtcChwdHIsIG5lZWRsZSwgZWxzeikpCiAgICAgIHJldHVybiByZXQ7CgogICAgcHRyICs9IGVsc3o7CiAgfQogIHJldHVybiAtMTsKfQoKY2hhcioKc3RyX2VzY2FwZShjb25zdCBjaGFyKiBzKSB7CiAgRHluQnVmIGRidWY7CiAgZGJ1Zl9pbml0MigmZGJ1ZiwgMCwgMCk7CiAgZGJ1Zl9wdXRfZXNjYXBlZCgmZGJ1Ziwgcywgc3RybGVuKHMpKTsKICBkYnVmXzAoJmRidWYpOwogIHJldHVybiAoY2hhciopZGJ1Zi5idWY7Cn0KCmNoYXIqCmJ5dGVfZXNjYXBlKGNvbnN0IHZvaWQqIHMsIHNpemVfdCBuKSB7CiAgRHluQnVmIGRidWY7CiAgZGJ1Zl9pbml0MigmZGJ1ZiwgMCwgMCk7CiAgZGJ1Zl9wdXRfZXNjYXBlZCgmZGJ1Ziwgcywgbik7CiAgZGJ1Zl8wKCZkYnVmKTsKICByZXR1cm4gKGNoYXIqKWRidWYuYnVmOwp9CgpzaXplX3QKYnl0ZV9maW5kYihjb25zdCB2b2lkKiBoYXlzdGFjaywgc2l6ZV90IGhsZW4sIGNvbnN0IHZvaWQqIHdoYXQsIHNpemVfdCB3bGVuKSB7CiAgc2l6ZV90IGksIGxhc3Q7CiAgY29uc3QgY2hhciogcyA9IChjb25zdCBjaGFyKiloYXlzdGFjazsKICBpZihobGVuIDwgd2xlbikKICAgIHJldHVybiBobGVuOwogIGxhc3QgPSBobGVuIC0gd2xlbjsKICBmb3IoaSA9IDA7IGkgPD0gbGFzdDsgaSsrKSB7CiAgICBpZihieXRlX2VxdWFsKHMsIHdsZW4sIHdoYXQpKQogICAgICByZXR1cm4gaTsKICAgIHMrKzsKICB9CiAgcmV0dXJuIGhsZW47Cn0KCnNpemVfdApieXRlX2ZpbmRzKGNvbnN0IHZvaWQqIGhheXN0YWNrLCBzaXplX3QgaGxlbiwgY29uc3QgY2hhciogd2hhdCkgewogIHJldHVybiBieXRlX2ZpbmRiKGhheXN0YWNrLCBobGVuLCB3aGF0LCBzdHJsZW4od2hhdCkpOwp9CgpzaXplX3QKYnl0ZV9lcXVhbChjb25zdCB2b2lkKiBzLCBzaXplX3QgbiwgY29uc3Qgdm9pZCogdCkgewogIHJldHVybiBtZW1jbXAocywgdCwgbikgPT0gMDsKfQoKY2hhcioKZGJ1Zl9hdF9uKGNvbnN0IER5bkJ1ZiogZGIsIHNpemVfdCBpLCBzaXplX3QqIG4sIGNoYXIgc2VwKSB7CiAgc2l6ZV90IHAsIGwgPSAwOwogIGZvcihwID0gMDsgcCA8IGRiLT5zaXplOyArK3ApIHsKICAgIGlmKGwgPT0gaSkgewogICAgICAqbiA9IGJ5dGVfY2hyKChjb25zdCBjaGFyKikmZGItPmJ1ZltwXSwgZGItPnNpemUgLSBwLCBzZXApOwogICAgICByZXR1cm4gKGNoYXIqKSZkYi0+YnVmW3BdOwogICAgfQogICAgaWYoZGItPmJ1ZltwXSA9PSBzZXApCiAgICAgICsrbDsKICB9CiAgKm4gPSAwOwogIHJldHVybiAwOwp9Cgpjb25zdCBjaGFyKgpkYnVmX2xhc3RfbGluZShEeW5CdWYqIGRiLCBzaXplX3QqIGxlbikgewogIHNpemVfdCBpOwoKICBpZigoaSA9IGJ5dGVfcmNocihkYi0+YnVmLCBkYi0+c2l6ZSwgJ1xuJykpIDwgZGItPnNpemUpCiAgICBpKys7CiAgZWxzZQogICAgaSA9IDA7CgogIGlmKGxlbikKICAgICpsZW4gPSBkYi0+c2l6ZSAtIGk7CgogIHJldHVybiAoY29uc3QgY2hhciopJmRiLT5idWZbaV07Cn0KCmludApkYnVmX3ByZXBlbmQoRHluQnVmKiBzLCBjb25zdCB1aW50OF90KiBkYXRhLCBzaXplX3QgbGVuKSB7CiAgaW50IHJldDsKICBpZighKHJldCA9IGRidWZfcmVzZXJ2ZV9zdGFydChzLCBsZW4pKSkKICAgIG1lbWNweShzLT5idWYsIGRhdGEsIGxlbik7CgogIHJldHVybiAwOwp9Cgp2b2lkCmRidWZfcHV0X2NvbG9yc3RyKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogY29sb3IsIGludCB3aXRoX2NvbG9yKSB7CiAgaWYod2l0aF9jb2xvcikKICAgIGRidWZfcHV0c3RyKGRiLCBjb2xvcik7CgogIGRidWZfcHV0c3RyKGRiLCBzdHIpOwogIGlmKHdpdGhfY29sb3IpCiAgICBkYnVmX3B1dHN0cihkYiwgQ09MT1JfTk9ORSk7Cn0KCnZvaWQKZGJ1Zl9wdXRfZXNjYXBlZF9wcmVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgaW50ICgqcHJlZCkoaW50KSkgewogIHNpemVfdCBpID0gMCwgajsKICBjaGFyIGM7CiAgd2hpbGUoaSA8IGxlbikgewogICAgaWYoKGogPSBwcmVkaWNhdGVfZmluZCgmc3RyW2ldLCBsZW4gLSBpLCBwcmVkKSkpIHsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kikmc3RyW2ldLCBqKTsKICAgICAgaSArPSBqOwogICAgfQogICAgaWYoaSA9PSBsZW4pCiAgICAgIGJyZWFrOwogICAgZGJ1Zl9wdXRjKGRiLCAnXFwnKTsKCiAgICBpZihzdHJbaV0gPT0gMHgxYikgewogICAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKSJ4MWIiLCAzKTsKICAgIH0gZWxzZSB7CiAgICAgIGludCByID0gcHJlZChzdHJbaV0pOwoKICAgICAgZGJ1Zl9wdXRjKGRiLCAociA+IDEgJiYgciA8PSAxMjcpID8gciA6IChjID0gZXNjYXBlX2NoYXJfbGV0dGVyKHN0cltpXSkpID8gYyA6IHN0cltpXSk7CgogICAgICBpZihyID09ICd1JyB8fCByID09ICd4JykKICAgICAgICBkYnVmX3ByaW50ZihkYiwgciA9PSAndScgPyAiJTA0eCIgOiAiJTAyeCIsIHN0cltpXSk7CiAgICB9CiAgICBpKys7CiAgfQp9Cgp2b2lkCmRidWZfcHV0X2VzY2FwZWRfdGFibGUoRHluQnVmKiBkYiwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBjb25zdCBjaGFyIHRhYmxlWzI1Nl0pIHsKICBzaXplX3QgaSA9IDAsIGo7CiAgY2hhciBjOwogIHdoaWxlKGkgPCBsZW4pIHsKICAgIGlmKChqID0gbG9va3VwX2ZpbmQoJnN0cltpXSwgbGVuIC0gaSwgdGFibGUpKSkgewogICAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKSZzdHJbaV0sIGopOwogICAgICBpICs9IGo7CiAgICB9CiAgICBpZihpID09IGxlbikKICAgICAgYnJlYWs7CiAgICBkYnVmX3B1dGMoZGIsICdcXCcpOwoKICAgIGlmKHN0cltpXSA9PSAweDFiKSB7CiAgICAgIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopIngxYiIsIDMpOwogICAgfSBlbHNlIHsKICAgICAgaW50IHIgPSB0YWJsZVsodW5zaWduZWQgY2hhcilzdHJbaV1dOwoKICAgICAgZGJ1Zl9wdXRjKGRiLCAociA+IDEgJiYgciA8PSAxMjcpID8gciA6IChjID0gZXNjYXBlX2NoYXJfbGV0dGVyKHN0cltpXSkpID8gYyA6IHN0cltpXSk7CgogICAgICBpZihyID09ICd1JyB8fCByID09ICd4JykKICAgICAgICBkYnVmX3ByaW50ZihkYiwgciA9PSAndScgPyAiJTA0eCIgOiAiJTAyeCIsIHN0cltpXSk7CiAgICB9CiAgICBpKys7CiAgfQp9Cgp2b2lkCmRidWZfcHV0X3VuZXNjYXBlZF9wcmVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgaW50ICgqcHJlZCkoaW50KSkgewogIHNpemVfdCBpID0gMCwgajsKICBjaGFyIGM7CiAgaW50IHI7CiAgd2hpbGUoaSA8IGxlbikgewogICAgaWYoKGogPSBieXRlX2Nocigmc3RyW2ldLCBsZW4gLSBpLCAnXFwnKSkpIHsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kikmc3RyW2ldLCBqKTsKICAgICAgaSArPSBqOwogICAgfQogICAgaWYoaSA9PSBsZW4pCiAgICAgIGJyZWFrOwoKICAgIGlmKCEociA9IHByZWQoc3RyWysraV0pKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXFwnKTsKCiAgICBkYnVmX3B1dGMoZGIsIChyID4gMSAmJiByIDwgMjU2KSA/IHIgOiBzdHJbaV0pOwogICAgaSsrOwogIH0KfQoKdm9pZApkYnVmX3B1dF9lc2NhcGVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbikgewogIHN0YXRpYyBjb25zdCBjaGFyIHRhYlsyNTZdID0gewogICAgICAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgMHg2MiwgMHg3NCwgMHg2ZSwgMHg3NiwgMHg2NiwgMHg3MiwgJ3gnLCAgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsCiAgICAgICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAweDI3LCAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAweDVjLCAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgJ3gnLCAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLAogIH07CgogIHJldHVybiBkYnVmX3B1dF9lc2NhcGVkX3RhYmxlKGRiLCBzdHIsIGxlbiwgdGFiKTsKfQoKdm9pZApkYnVmX3B1dF92YWx1ZShEeW5CdWYqIGRiLCBKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogc3RyOwogIHNpemVfdCBsZW47CiAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogIGRidWZfYXBwZW5kKGRiLCBzdHIsIGxlbik7CiAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKfQoKaW50CmRidWZfcmVzZXJ2ZV9zdGFydChEeW5CdWYqIHMsIHNpemVfdCBsZW4pIHsKICBpZih1bmxpa2VseSgocy0+c2l6ZSArIGxlbikgPiBzLT5hbGxvY2F0ZWRfc2l6ZSkpIHsKICAgIGlmKGRidWZfcmVhbGxvYyhzLCBzLT5zaXplICsgbGVuKSkKICAgICAgcmV0dXJuIC0xOwogIH0KICBpZihzLT5zaXplID4gMCkKICAgIG1lbWNweShzLT5idWYgKyBsZW4sIHMtPmJ1Ziwgcy0+c2l6ZSk7CgogIHMtPnNpemUgKz0gbGVuOwogIHJldHVybiAwOwp9CgpzaXplX3QKZGJ1Zl90b2tlbl9wb3AoRHluQnVmKiBkYiwgY2hhciBkZWxpbSkgewogIHNpemVfdCBuLCBwLCBsZW47CiAgbGVuID0gZGItPnNpemU7CiAgZm9yKG4gPSBkYi0+c2l6ZTsgbiA+IDA7KSB7CiAgICBpZigocCA9IGJ5dGVfcmNocihkYi0+YnVmLCBuLCBkZWxpbSkpID09IG4pIHsKICAgICAgZGItPnNpemUgPSAwOwogICAgICBicmVhazsKICAgIH0KICAgIGlmKHAgPiAwICYmIGRiLT5idWZbcCAtIDFdID09ICdcXCcpIHsKICAgICAgbiA9IHAgLSAxOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIGRiLT5zaXplID0gcDsKICAgIGJyZWFrOwogIH0KICByZXR1cm4gbGVuIC0gZGItPnNpemU7Cn0KCnNpemVfdApkYnVmX3Rva2VuX3B1c2goRHluQnVmKiBkYiwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBjaGFyIGRlbGltKSB7CiAgc2l6ZV90IHBvczsKICBpZihkYi0+c2l6ZSkKICAgIGRidWZfcHV0YyhkYiwgZGVsaW0pOwoKICBwb3MgPSBkYi0+c2l6ZTsKICBkYnVmX3B1dF9lc2NhcGVkX3ByZWQoZGIsIHN0ciwgbGVuLCBpc19kb3RfY2hhcik7CiAgcmV0dXJuIGRiLT5zaXplIC0gcG9zOwp9CgpKU1ZhbHVlCmRidWZfdG9zdHJpbmdfZnJlZShEeW5CdWYqIHMsIEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSByOwogIHIgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBzLT5idWYgPyAoY29uc3QgY2hhciopcy0+YnVmIDogIiIsIHMtPmJ1ZiA/IHMtPnNpemUgOiAwKTsKICBkYnVmX2ZyZWUocyk7CiAgcmV0dXJuIHI7Cn0KCnNzaXplX3QKZGJ1Zl9sb2FkKER5bkJ1ZiogcywgY29uc3QgY2hhciogZmlsZW5hbWUpIHsKICBGSUxFKiBmcDsKICBzaXplX3QgbmJ5dGVzID0gMDsKICBpZigoZnAgPSBmb3BlbihmaWxlbmFtZSwgInJiIikpKSB7CiAgICBjaGFyIGJ1Zls0MDk2XTsKICAgIHNpemVfdCByOwogICAgd2hpbGUoIWZlb2YoZnApKSB7CiAgICAgIGlmKChyID0gZnJlYWQoYnVmLCAxLCBzaXplb2YoYnVmKSwgZnApKSA9PSAwKQogICAgICAgIHJldHVybiAtMTsKICAgICAgZGJ1Zl9wdXQocywgKHVpbnQ4X3QgY29uc3QqKWJ1Ziwgcik7CiAgICAgIG5ieXRlcyArPSByOwogICAgfQogICAgZmNsb3NlKGZwKTsKICB9CiAgcmV0dXJuIG5ieXRlczsKfQoKSW5wdXRCdWZmZXIKanNfaW5wdXRfYnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBJbnB1dEJ1ZmZlciByZXQgPSB7MCwgMCwgMCwgJmlucHV0X2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgaW50NjRfdCBvZmZzZXQgPSAwLCBsZW5ndGggPSBJTlQ2NF9NQVg7CgogIG9mZnNldF9pbml0KCZyZXQucmFuZ2UpOwoKICBpZihqc19pc190eXBlZGFycmF5KHZhbHVlKSB8fCBqc19pc19kYXRhdmlldyhjdHgsIHZhbHVlKSkgewogICAgSlNWYWx1ZSBhcnJheWJ1ZiwgYnl0ZW9mZnMsIGJ5dGVsZW47CiAgICBhcnJheWJ1ZiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJidWZmZXIiKTsKICAgIGJ5dGVsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZUxlbmd0aCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZWxlbikpCiAgICAgIEpTX1RvSW50NjQoY3R4LCAmbGVuZ3RoLCBieXRlbGVuKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGJ5dGVsZW4pOwogICAgYnl0ZW9mZnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZU9mZnNldCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZW9mZnMpKQogICAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYnl0ZW9mZnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgYnl0ZW9mZnMpOwogICAgdmFsdWUgPSBhcnJheWJ1ZjsKICB9CgogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSKSB8fCBqc19pc19hcnJheWJ1ZmZlcihjdHgsIHZhbHVlKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgICByZXQuZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJnJldC5zaXplLCByZXQudmFsdWUpOwogIH0gZWxzZSB7CiAgICByZXQudmFsdWUgPSBKU19FWENFUFRJT047CiAgICAvLyBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJJbnZhbGlkIHR5cGUgZm9yIGlucHV0IGJ1ZmZlciIpOwogIH0KCiAgaWYob2Zmc2V0IDwgMCkKICAgIHJldC5yYW5nZS5vZmZzZXQgPSByZXQuc2l6ZSArIG9mZnNldCAlIHJldC5zaXplOwogIGVsc2UgaWYob2Zmc2V0ID4gcmV0LnNpemUpCiAgICByZXQucmFuZ2Uub2Zmc2V0ID0gcmV0LnNpemU7CiAgZWxzZQogICAgcmV0LnJhbmdlLm9mZnNldCA9IG9mZnNldDsKCiAgaWYobGVuZ3RoID49IDAgJiYgbGVuZ3RoIDwgcmV0LnNpemUpCiAgICByZXQucmFuZ2UubGVuZ3RoID0gbGVuZ3RoOwoKICByZXR1cm4gcmV0Owp9CgpJbnB1dEJ1ZmZlcgpqc19pbnB1dF9jaGFycyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSW5wdXRCdWZmZXIgcmV0ID0gezAsIDAsIDAsICZpbnB1dF9idWZmZXJfZnJlZV9kZWZhdWx0LCBKU19VTkRFRklORUR9OwogIGludDY0X3Qgb2Zmc2V0ID0gMCwgbGVuZ3RoID0gSU5UNjRfTUFYOwoKICBvZmZzZXRfaW5pdCgmcmV0LnJhbmdlKTsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogICAgcmV0LmZyZWUgPSAmaW5wdXRfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKICB9IGVsc2UgewogICAgcmV0ID0ganNfaW5wdXRfYnVmZmVyKGN0eCwgdmFsdWUpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKQk9PTAppbnB1dF9idWZmZXJfdmFsaWQoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpJbnB1dEJ1ZmZlcgppbnB1dF9idWZmZXJfY2xvbmUoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIElucHV0QnVmZmVyIHJldCA9IGpzX2lucHV0X2J1ZmZlcihjdHgsIGluLT52YWx1ZSk7CgogIHJldC5wb3MgPSBpbi0+cG9zOwogIHJldC5zaXplID0gaW4tPnNpemU7CiAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsKCiAgcmV0dXJuIHJldDsKfQoKdm9pZAppbnB1dF9idWZmZXJfZHVtcChjb25zdCBJbnB1dEJ1ZmZlciogaW4sIER5bkJ1ZiogZGIpIHsKICBkYnVmX3ByaW50ZihkYiwgIihJbnB1dEJ1ZmZlcil7IC5kYXRhID0gJXAsIC5zaXplID0gJXp1LCAucG9zID0gJXp1LCAuZnJlZSA9ICVwIH0iLCBpbi0+ZGF0YSwgaW4tPnNpemUsIGluLT5wb3MsIGluLT5mcmVlKTsKfQoKdm9pZAppbnB1dF9idWZmZXJfZnJlZShJbnB1dEJ1ZmZlciogaW4sIEpTQ29udGV4dCogY3R4KSB7CiAgaWYoaW4tPmRhdGEpIHsKICAgIGluLT5mcmVlKGN0eCwgKGNvbnN0IGNoYXIqKWluLT5kYXRhLCBpbi0+dmFsdWUpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnBvcyA9IDA7CiAgICBpbi0+dmFsdWUgPSBKU19VTkRFRklORUQ7CiAgfQp9Cgpjb25zdCB1aW50OF90KgppbnB1dF9idWZmZXJfcGVlayhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCkgewogIGlucHV0X2J1ZmZlcl9wZWVrYyhpbiwgbGVucCk7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGluLT5wb3M7Cn0KCmNvbnN0IHVpbnQ4X3QqCmlucHV0X2J1ZmZlcl9nZXQoSW5wdXRCdWZmZXIqIGluLCBzaXplX3QqIGxlbnApIHsKICBzaXplX3QgbjsKICBjb25zdCB1aW50OF90KiByZXQ7CiAgaWYobGVucCA9PSAwKQogICAgbGVucCA9ICZuOwogIHJldCA9IGlucHV0X2J1ZmZlcl9wZWVrKGluLCBsZW5wKTsKICBpbi0+cG9zICs9ICpsZW5wOwogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmlucHV0X2J1ZmZlcl9jdXJyZW50bGluZShJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVuKSB7CiAgc2l6ZV90IGk7CgogIGlmKChpID0gYnl0ZV9yY2hyKGlucHV0X2J1ZmZlcl9kYXRhKGluKSwgaW4tPnBvcywgJ1xuJykpIDwgaW4tPnBvcykKICAgIGkrKzsKCiAgaWYobGVuKQogICAgKmxlbiA9IGluLT5wb3MgLSBpOwoKICByZXR1cm4gKGNvbnN0IGNoYXIqKSZpbnB1dF9idWZmZXJfZGF0YShpbilbaV07Cn0KCnNpemVfdAppbnB1dF9idWZmZXJfY29sdW1uKElucHV0QnVmZmVyKiBpbiwgc2l6ZV90KiBsZW4pIHsKICBzaXplX3QgaTsKCiAgaWYoKGkgPSBieXRlX3JjaHIoaW5wdXRfYnVmZmVyX2RhdGEoaW4pLCBpbi0+cG9zLCAnXG4nKSkgPCBpbi0+cG9zKQogICAgaSsrOwoKICByZXR1cm4gaW4tPnBvcyAtIGk7Cn0KCmludApqc19vZmZzZXRfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBpbnQ2NF90IHNpemUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBPZmZzZXRMZW5ndGgqIG9mZl9sZW5fcCkgewogIGludCByZXQgPSAwOwogIGludDY0X3Qgb2ZmID0gMCwgbGVuID0gc2l6ZTsKCiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBpZighSlNfVG9JbnQ2NChjdHgsICZvZmYsIGFyZ3ZbMF0pKQogICAgICByZXQgPSAxOwogIH0KICBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIGlmKCFKU19Ub0ludDY0KGN0eCwgJmxlbiwgYXJndlsxXSkpCiAgICAgIHJldCA9IDI7CiAgfQoKICAvKiBpZihvZmYgPj0gMCkKICAgICBvZmYgPSBNSU5fTlVNKG9mZiwgc2l6ZSk7CiAgIGVsc2UKICAqLwogIGlmKHNpemUpCiAgICBvZmYgPSAoKG9mZiAlIHNpemUpICsgb2ZmKSAlIHNpemU7CgogIGlmKGxlbiA+PSAwKQogICAgbGVuID0gTUlOX05VTShsZW4sIHNpemUgLSBvZmYpOwogIGVsc2UKICAgIGxlbiA9IHNpemUgLSBvZmY7CgogIGlmKG9mZl9sZW5fcCkgewogICAgb2ZmX2xlbl9wLT5vZmZzZXQgPSBvZmY7CiAgICBvZmZfbGVuX3AtPmxlbmd0aCA9IGxlbjsKICB9CiAgcmV0dXJuIHJldDsKfQoAAAAAAAAAAKQtAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQScAAAAAAABBJwAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACkLQAAI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAidXRpbHMuaCIKCnNpemVfdAphbnNpX2xlbmd0aChjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4pIHsKICBzaXplX3QgaSwgbiA9IDAsIHA7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOykgewogICAgaWYoc3RyW2ldID09IDB4MWIgJiYgKHAgPSBhbnNpX3NraXAoJnN0cltpXSwgbGVuIC0gaSkpID4gMCkgewogICAgICBpICs9IHA7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgbisrOwogICAgaSsrOwogIH0KICByZXR1cm4gbjsKfQoKc2l6ZV90CmFuc2lfc2tpcChjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4pIHsKICBzaXplX3QgcG9zID0gMDsKICBpZihzdHJbcG9zXSA9PSAweDFiKSB7CiAgICBpZigrK3BvcyA8IGxlbiAmJiBzdHJbcG9zXSA9PSAnWycpIHsKICAgICAgd2hpbGUoKytwb3MgPCBsZW4pCiAgICAgICAgaWYoaXNfYWxwaGFudW1lcmljX2NoYXIoc3RyW3Bvc10pKQogICAgICAgICAgYnJlYWs7CiAgICAgIGlmKCsrcG9zIDwgbGVuICYmIHN0cltwb3NdID09ICd+JykKICAgICAgICArK3BvczsKICAgICAgcmV0dXJuIHBvczsKICAgIH0KICB9CiAgcmV0dXJuIDA7Cn0KCnNpemVfdAphbnNpX3RydW5jYXRlKGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgc2l6ZV90IGxpbWl0KSB7CiAgc2l6ZV90IGksIG4gPSAwLCBwOwogIGZvcihpID0gMDsgaSA8IGxlbjspIHsKICAgIGlmKChwID0gYW5zaV9za2lwKCZzdHJbaV0sIGxlbiAtIGkpKSA+IDApIHsKICAgICAgaSArPSBwOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIG4gKz0gaXNfZXNjYXBlX2NoYXIoc3RyW2ldKSA/IDIgOiAxOwoKICAgIGkrKzsKICAgIGlmKG4gPiBsaW1pdCkKICAgICAgYnJlYWs7CiAgfQogIHJldHVybiBpOwp9CgppbnQ2NF90CmFycmF5X3NlYXJjaCh2b2lkKiBhLCBzaXplX3QgbSwgc2l6ZV90IGVsc3osIHZvaWQqIG5lZWRsZSkgewogIGNoYXIqIHB0ciA9IGE7CiAgaW50NjRfdCBuLCByZXQ7CiAgbiA9IG0gLyBlbHN6OwogIGZvcihyZXQgPSAwOyByZXQgPCBuOyByZXQrKykgewogICAgaWYoIW1lbWNtcChwdHIsIG5lZWRsZSwgZWxzeikpCiAgICAgIHJldHVybiByZXQ7CgogICAgcHRyICs9IGVsc3o7CiAgfQogIHJldHVybiAtMTsKfQoKY2hhcioKc3RyX2VzY2FwZShjb25zdCBjaGFyKiBzKSB7CiAgRHluQnVmIGRidWY7CiAgZGJ1Zl9pbml0MigmZGJ1ZiwgMCwgMCk7CiAgZGJ1Zl9wdXRfZXNjYXBlZCgmZGJ1Ziwgcywgc3RybGVuKHMpKTsKICBkYnVmXzAoJmRidWYpOwogIHJldHVybiAoY2hhciopZGJ1Zi5idWY7Cn0KCmNoYXIqCmJ5dGVfZXNjYXBlKGNvbnN0IHZvaWQqIHMsIHNpemVfdCBuKSB7CiAgRHluQnVmIGRidWY7CiAgZGJ1Zl9pbml0MigmZGJ1ZiwgMCwgMCk7CiAgZGJ1Zl9wdXRfZXNjYXBlZCgmZGJ1Ziwgcywgbik7CiAgZGJ1Zl8wKCZkYnVmKTsKICByZXR1cm4gKGNoYXIqKWRidWYuYnVmOwp9CgpzaXplX3QKYnl0ZV9maW5kYihjb25zdCB2b2lkKiBoYXlzdGFjaywgc2l6ZV90IGhsZW4sIGNvbnN0IHZvaWQqIHdoYXQsIHNpemVfdCB3bGVuKSB7CiAgc2l6ZV90IGksIGxhc3Q7CiAgY29uc3QgY2hhciogcyA9IChjb25zdCBjaGFyKiloYXlzdGFjazsKICBpZihobGVuIDwgd2xlbikKICAgIHJldHVybiBobGVuOwogIGxhc3QgPSBobGVuIC0gd2xlbjsKICBmb3IoaSA9IDA7IGkgPD0gbGFzdDsgaSsrKSB7CiAgICBpZihieXRlX2VxdWFsKHMsIHdsZW4sIHdoYXQpKQogICAgICByZXR1cm4gaTsKICAgIHMrKzsKICB9CiAgcmV0dXJuIGhsZW47Cn0KCnNpemVfdApieXRlX2ZpbmRzKGNvbnN0IHZvaWQqIGhheXN0YWNrLCBzaXplX3QgaGxlbiwgY29uc3QgY2hhciogd2hhdCkgewogIHJldHVybiBieXRlX2ZpbmRiKGhheXN0YWNrLCBobGVuLCB3aGF0LCBzdHJsZW4od2hhdCkpOwp9CgpzaXplX3QKYnl0ZV9lcXVhbChjb25zdCB2b2lkKiBzLCBzaXplX3QgbiwgY29uc3Qgdm9pZCogdCkgewogIHJldHVybiBtZW1jbXAocywgdCwgbikgPT0gMDsKfQoKY2hhcioKZGJ1Zl9hdF9uKGNvbnN0IER5bkJ1ZiogZGIsIHNpemVfdCBpLCBzaXplX3QqIG4sIGNoYXIgc2VwKSB7CiAgc2l6ZV90IHAsIGwgPSAwOwogIGZvcihwID0gMDsgcCA8IGRiLT5zaXplOyArK3ApIHsKICAgIGlmKGwgPT0gaSkgewogICAgICAqbiA9IGJ5dGVfY2hyKChjb25zdCBjaGFyKikmZGItPmJ1ZltwXSwgZGItPnNpemUgLSBwLCBzZXApOwogICAgICByZXR1cm4gKGNoYXIqKSZkYi0+YnVmW3BdOwogICAgfQogICAgaWYoZGItPmJ1ZltwXSA9PSBzZXApCiAgICAgICsrbDsKICB9CiAgKm4gPSAwOwogIHJldHVybiAwOwp9Cgpjb25zdCBjaGFyKgpkYnVmX2xhc3RfbGluZShEeW5CdWYqIGRiLCBzaXplX3QqIGxlbikgewogIHNpemVfdCBpOwoKICBpZigoaSA9IGJ5dGVfcmNocihkYi0+YnVmLCBkYi0+c2l6ZSwgJ1xuJykpIDwgZGItPnNpemUpCiAgICBpKys7CiAgZWxzZQogICAgaSA9IDA7CgogIGlmKGxlbikKICAgICpsZW4gPSBkYi0+c2l6ZSAtIGk7CgogIHJldHVybiAoY29uc3QgY2hhciopJmRiLT5idWZbaV07Cn0KCmludApkYnVmX3ByZXBlbmQoRHluQnVmKiBzLCBjb25zdCB1aW50OF90KiBkYXRhLCBzaXplX3QgbGVuKSB7CiAgaW50IHJldDsKICBpZighKHJldCA9IGRidWZfcmVzZXJ2ZV9zdGFydChzLCBsZW4pKSkKICAgIG1lbWNweShzLT5idWYsIGRhdGEsIGxlbik7CgogIHJldHVybiAwOwp9Cgp2b2lkCmRidWZfcHV0X2NvbG9yc3RyKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogY29sb3IsIGludCB3aXRoX2NvbG9yKSB7CiAgaWYod2l0aF9jb2xvcikKICAgIGRidWZfcHV0c3RyKGRiLCBjb2xvcik7CgogIGRidWZfcHV0c3RyKGRiLCBzdHIpOwogIGlmKHdpdGhfY29sb3IpCiAgICBkYnVmX3B1dHN0cihkYiwgQ09MT1JfTk9ORSk7Cn0KCnZvaWQKZGJ1Zl9wdXRfZXNjYXBlZF9wcmVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgaW50ICgqcHJlZCkoaW50KSkgewogIHNpemVfdCBpID0gMCwgajsKICBjaGFyIGM7CiAgd2hpbGUoaSA8IGxlbikgewogICAgaWYoKGogPSBwcmVkaWNhdGVfZmluZCgmc3RyW2ldLCBsZW4gLSBpLCBwcmVkKSkpIHsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kikmc3RyW2ldLCBqKTsKICAgICAgaSArPSBqOwogICAgfQogICAgaWYoaSA9PSBsZW4pCiAgICAgIGJyZWFrOwogICAgZGJ1Zl9wdXRjKGRiLCAnXFwnKTsKCiAgICBpZihzdHJbaV0gPT0gMHgxYikgewogICAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKSJ4MWIiLCAzKTsKICAgIH0gZWxzZSB7CiAgICAgIGludCByID0gcHJlZChzdHJbaV0pOwoKICAgICAgZGJ1Zl9wdXRjKGRiLCAociA+IDEgJiYgciA8PSAxMjcpID8gciA6IChjID0gZXNjYXBlX2NoYXJfbGV0dGVyKHN0cltpXSkpID8gYyA6IHN0cltpXSk7CgogICAgICBpZihyID09ICd1JyB8fCByID09ICd4JykKICAgICAgICBkYnVmX3ByaW50ZihkYiwgciA9PSAndScgPyAiJTA0eCIgOiAiJTAyeCIsIHN0cltpXSk7CiAgICB9CiAgICBpKys7CiAgfQp9Cgp2b2lkCmRidWZfcHV0X2VzY2FwZWRfdGFibGUoRHluQnVmKiBkYiwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBjb25zdCBjaGFyIHRhYmxlWzI1Nl0pIHsKICBzaXplX3QgaSA9IDAsIGo7CiAgY2hhciBjOwogIHdoaWxlKGkgPCBsZW4pIHsKICAgIGlmKChqID0gbG9va3VwX2ZpbmQoJnN0cltpXSwgbGVuIC0gaSwgdGFibGUpKSkgewogICAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKSZzdHJbaV0sIGopOwogICAgICBpICs9IGo7CiAgICB9CiAgICBpZihpID09IGxlbikKICAgICAgYnJlYWs7CiAgICBkYnVmX3B1dGMoZGIsICdcXCcpOwoKICAgIGlmKHN0cltpXSA9PSAweDFiKSB7CiAgICAgIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopIngxYiIsIDMpOwogICAgfSBlbHNlIHsKICAgICAgaW50IHIgPSB0YWJsZVsodW5zaWduZWQgY2hhcilzdHJbaV1dOwoKICAgICAgZGJ1Zl9wdXRjKGRiLCAociA+IDEgJiYgciA8PSAxMjcpID8gciA6IChjID0gZXNjYXBlX2NoYXJfbGV0dGVyKHN0cltpXSkpID8gYyA6IHN0cltpXSk7CgogICAgICBpZihyID09ICd1JyB8fCByID09ICd4JykKICAgICAgICBkYnVmX3ByaW50ZihkYiwgciA9PSAndScgPyAiJTA0eCIgOiAiJTAyeCIsIHN0cltpXSk7CiAgICB9CiAgICBpKys7CiAgfQp9Cgp2b2lkCmRidWZfcHV0X3VuZXNjYXBlZF9wcmVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbiwgaW50ICgqcHJlZCkoaW50KSkgewogIHNpemVfdCBpID0gMCwgajsKICBjaGFyIGM7CiAgaW50IHI7CiAgd2hpbGUoaSA8IGxlbikgewogICAgaWYoKGogPSBieXRlX2Nocigmc3RyW2ldLCBsZW4gLSBpLCAnXFwnKSkpIHsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kikmc3RyW2ldLCBqKTsKICAgICAgaSArPSBqOwogICAgfQogICAgaWYoaSA9PSBsZW4pCiAgICAgIGJyZWFrOwoKICAgIGlmKCEociA9IHByZWQoc3RyWysraV0pKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXFwnKTsKCiAgICBkYnVmX3B1dGMoZGIsIChyID4gMSAmJiByIDwgMjU2KSA/IHIgOiBzdHJbaV0pOwogICAgaSsrOwogIH0KfQoKdm9pZApkYnVmX3B1dF9lc2NhcGVkKER5bkJ1ZiogZGIsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbikgewogIHN0YXRpYyBjb25zdCBjaGFyIHRhYlsyNTZdID0gewogICAgICAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgMHg2MiwgMHg3NCwgMHg2ZSwgMHg3NiwgMHg2NiwgMHg3MiwgJ3gnLCAgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsCiAgICAgICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAneCcsIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAweDI3LCAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAweDVjLCAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgJ3gnLCAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAwLAogIH07CgogIHJldHVybiBkYnVmX3B1dF9lc2NhcGVkX3RhYmxlKGRiLCBzdHIsIGxlbiwgdGFiKTsKfQoKdm9pZApkYnVmX3B1dF92YWx1ZShEeW5CdWYqIGRiLCBKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogc3RyOwogIHNpemVfdCBsZW47CiAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogIGRidWZfYXBwZW5kKGRiLCBzdHIsIGxlbik7CiAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKfQoKaW50CmRidWZfcmVzZXJ2ZV9zdGFydChEeW5CdWYqIHMsIHNpemVfdCBsZW4pIHsKICBpZih1bmxpa2VseSgocy0+c2l6ZSArIGxlbikgPiBzLT5hbGxvY2F0ZWRfc2l6ZSkpIHsKICAgIGlmKGRidWZfcmVhbGxvYyhzLCBzLT5zaXplICsgbGVuKSkKICAgICAgcmV0dXJuIC0xOwogIH0KICBpZihzLT5zaXplID4gMCkKICAgIG1lbWNweShzLT5idWYgKyBsZW4sIHMtPmJ1Ziwgcy0+c2l6ZSk7CgogIHMtPnNpemUgKz0gbGVuOwogIHJldHVybiAwOwp9CgpzaXplX3QKZGJ1Zl90b2tlbl9wb3AoRHluQnVmKiBkYiwgY2hhciBkZWxpbSkgewogIHNpemVfdCBuLCBwLCBsZW47CiAgbGVuID0gZGItPnNpemU7CiAgZm9yKG4gPSBkYi0+c2l6ZTsgbiA+IDA7KSB7CiAgICBpZigocCA9IGJ5dGVfcmNocihkYi0+YnVmLCBuLCBkZWxpbSkpID09IG4pIHsKICAgICAgZGItPnNpemUgPSAwOwogICAgICBicmVhazsKICAgIH0KICAgIGlmKHAgPiAwICYmIGRiLT5idWZbcCAtIDFdID09ICdcXCcpIHsKICAgICAgbiA9IHAgLSAxOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIGRiLT5zaXplID0gcDsKICAgIGJyZWFrOwogIH0KICByZXR1cm4gbGVuIC0gZGItPnNpemU7Cn0KCnNpemVfdApkYnVmX3Rva2VuX3B1c2goRHluQnVmKiBkYiwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBjaGFyIGRlbGltKSB7CiAgc2l6ZV90IHBvczsKICBpZihkYi0+c2l6ZSkKICAgIGRidWZfcHV0YyhkYiwgZGVsaW0pOwoKICBwb3MgPSBkYi0+c2l6ZTsKICBkYnVmX3B1dF9lc2NhcGVkX3ByZWQoZGIsIHN0ciwgbGVuLCBpc19kb3RfY2hhcik7CiAgcmV0dXJuIGRiLT5zaXplIC0gcG9zOwp9CgpKU1ZhbHVlCmRidWZfdG9zdHJpbmdfZnJlZShEeW5CdWYqIHMsIEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSByOwogIHIgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBzLT5idWYgPyAoY29uc3QgY2hhciopcy0+YnVmIDogIiIsIHMtPmJ1ZiA/IHMtPnNpemUgOiAwKTsKICBkYnVmX2ZyZWUocyk7CiAgcmV0dXJuIHI7Cn0KCnNzaXplX3QKZGJ1Zl9sb2FkKER5bkJ1ZiogcywgY29uc3QgY2hhciogZmlsZW5hbWUpIHsKICBGSUxFKiBmcDsKICBzaXplX3QgbmJ5dGVzID0gMDsKICBpZigoZnAgPSBmb3BlbihmaWxlbmFtZSwgInJiIikpKSB7CiAgICBjaGFyIGJ1Zls0MDk2XTsKICAgIHNpemVfdCByOwogICAgd2hpbGUoIWZlb2YoZnApKSB7CiAgICAgIGlmKChyID0gZnJlYWQoYnVmLCAxLCBzaXplb2YoYnVmKSwgZnApKSA9PSAwKQogICAgICAgIHJldHVybiAtMTsKICAgICAgZGJ1Zl9wdXQocywgKHVpbnQ4X3QgY29uc3QqKWJ1Ziwgcik7CiAgICAgIG5ieXRlcyArPSByOwogICAgfQogICAgZmNsb3NlKGZwKTsKICB9CiAgcmV0dXJuIG5ieXRlczsKfQoKSW5wdXRCdWZmZXIKanNfaW5wdXRfYnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBJbnB1dEJ1ZmZlciByZXQgPSB7MCwgMCwgMCwgJmlucHV0X2J1ZmZlcl9mcmVlX2RlZmF1bHQsIEpTX1VOREVGSU5FRH07CiAgaW50NjRfdCBvZmZzZXQgPSAwLCBsZW5ndGggPSBJTlQ2NF9NQVg7CgogIG9mZnNldF9pbml0KCZyZXQucmFuZ2UpOwoKICBpZihqc19pc190eXBlZGFycmF5KHZhbHVlKSB8fCBqc19pc19kYXRhdmlldyhjdHgsIHZhbHVlKSkgewogICAgSlNWYWx1ZSBhcnJheWJ1ZiwgYnl0ZW9mZnMsIGJ5dGVsZW47CiAgICBhcnJheWJ1ZiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJidWZmZXIiKTsKICAgIGJ5dGVsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZUxlbmd0aCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZWxlbikpCiAgICAgIEpTX1RvSW50NjQoY3R4LCAmbGVuZ3RoLCBieXRlbGVuKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGJ5dGVsZW4pOwogICAgYnl0ZW9mZnMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiYnl0ZU9mZnNldCIpOwogICAgaWYoSlNfSXNOdW1iZXIoYnl0ZW9mZnMpKQogICAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYnl0ZW9mZnMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgYnl0ZW9mZnMpOwogICAgdmFsdWUgPSBhcnJheWJ1ZjsKICB9CgogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSKSB8fCBqc19pc19hcnJheWJ1ZmZlcihjdHgsIHZhbHVlKSkgewogICAgcmV0LnZhbHVlID0gSlNfRHVwVmFsdWUoY3R4LCB2YWx1ZSk7CiAgICByZXQuZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJnJldC5zaXplLCByZXQudmFsdWUpOwogIH0gZWxzZSB7CiAgICByZXQudmFsdWUgPSBKU19FWENFUFRJT047CiAgICAvLyBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJJbnZhbGlkIHR5cGUgZm9yIGlucHV0IGJ1ZmZlciIpOwogIH0KCiAgaWYob2Zmc2V0IDwgMCkKICAgIHJldC5yYW5nZS5vZmZzZXQgPSByZXQuc2l6ZSArIG9mZnNldCAlIHJldC5zaXplOwogIGVsc2UgaWYob2Zmc2V0ID4gcmV0LnNpemUpCiAgICByZXQucmFuZ2Uub2Zmc2V0ID0gcmV0LnNpemU7CiAgZWxzZQogICAgcmV0LnJhbmdlLm9mZnNldCA9IG9mZnNldDsKCiAgaWYobGVuZ3RoID49IDAgJiYgbGVuZ3RoIDwgcmV0LnNpemUpCiAgICByZXQucmFuZ2UubGVuZ3RoID0gbGVuZ3RoOwoKICByZXR1cm4gcmV0Owp9CgpJbnB1dEJ1ZmZlcgpqc19pbnB1dF9jaGFycyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSW5wdXRCdWZmZXIgcmV0ID0gezAsIDAsIDAsICZpbnB1dF9idWZmZXJfZnJlZV9kZWZhdWx0LCBKU19VTkRFRklORUR9OwogIGludDY0X3Qgb2Zmc2V0ID0gMCwgbGVuZ3RoID0gSU5UNjRfTUFYOwoKICBvZmZzZXRfaW5pdCgmcmV0LnJhbmdlKTsKCiAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKSB7CiAgICByZXQuZGF0YSA9ICh1aW50OF90KilKU19Ub0NTdHJpbmdMZW4oY3R4LCAmcmV0LnNpemUsIHZhbHVlKTsKICAgIHJldC52YWx1ZSA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogICAgcmV0LmZyZWUgPSAmaW5wdXRfYnVmZmVyX2ZyZWVfZGVmYXVsdDsKICB9IGVsc2UgewogICAgcmV0ID0ganNfaW5wdXRfYnVmZmVyKGN0eCwgdmFsdWUpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKQk9PTAppbnB1dF9idWZmZXJfdmFsaWQoY29uc3QgSW5wdXRCdWZmZXIqIGluKSB7CiAgcmV0dXJuICFKU19Jc0V4Y2VwdGlvbihpbi0+dmFsdWUpOwp9CgpJbnB1dEJ1ZmZlcgppbnB1dF9idWZmZXJfY2xvbmUoY29uc3QgSW5wdXRCdWZmZXIqIGluLCBKU0NvbnRleHQqIGN0eCkgewogIElucHV0QnVmZmVyIHJldCA9IGpzX2lucHV0X2J1ZmZlcihjdHgsIGluLT52YWx1ZSk7CgogIHJldC5wb3MgPSBpbi0+cG9zOwogIHJldC5zaXplID0gaW4tPnNpemU7CiAgcmV0LmZyZWUgPSBpbi0+ZnJlZTsKCiAgcmV0dXJuIHJldDsKfQoKdm9pZAppbnB1dF9idWZmZXJfZHVtcChjb25zdCBJbnB1dEJ1ZmZlciogaW4sIER5bkJ1ZiogZGIpIHsKICBkYnVmX3ByaW50ZihkYiwgIihJbnB1dEJ1ZmZlcil7IC5kYXRhID0gJXAsIC5zaXplID0gJXp1LCAucG9zID0gJXp1LCAuZnJlZSA9ICVwIH0iLCBpbi0+ZGF0YSwgaW4tPnNpemUsIGluLT5wb3MsIGluLT5mcmVlKTsKfQoKdm9pZAppbnB1dF9idWZmZXJfZnJlZShJbnB1dEJ1ZmZlciogaW4sIEpTQ29udGV4dCogY3R4KSB7CiAgaWYoaW4tPmRhdGEpIHsKICAgIGluLT5mcmVlKGN0eCwgKGNvbnN0IGNoYXIqKWluLT5kYXRhLCBpbi0+dmFsdWUpOwogICAgaW4tPmRhdGEgPSAwOwogICAgaW4tPnNpemUgPSAwOwogICAgaW4tPnBvcyA9IDA7CiAgICBpbi0+dmFsdWUgPSBKU19VTkRFRklORUQ7CiAgfQp9Cgpjb25zdCB1aW50OF90KgppbnB1dF9idWZmZXJfcGVlayhJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVucCkgewogIGlucHV0X2J1ZmZlcl9wZWVrYyhpbiwgbGVucCk7CiAgcmV0dXJuIGlucHV0X2J1ZmZlcl9kYXRhKGluKSArIGluLT5wb3M7Cn0KCmNvbnN0IHVpbnQ4X3QqCmlucHV0X2J1ZmZlcl9nZXQoSW5wdXRCdWZmZXIqIGluLCBzaXplX3QqIGxlbnApIHsKICBzaXplX3QgbjsKICBjb25zdCB1aW50OF90KiByZXQ7CiAgaWYobGVucCA9PSAwKQogICAgbGVucCA9ICZuOwogIHJldCA9IGlucHV0X2J1ZmZlcl9wZWVrKGluLCBsZW5wKTsKICBpbi0+cG9zICs9ICpsZW5wOwogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmlucHV0X2J1ZmZlcl9jdXJyZW50bGluZShJbnB1dEJ1ZmZlciogaW4sIHNpemVfdCogbGVuKSB7CiAgc2l6ZV90IGk7CgogIGlmKChpID0gYnl0ZV9yY2hyKGlucHV0X2J1ZmZlcl9kYXRhKGluKSwgaW4tPnBvcywgJ1xuJykpIDwgaW4tPnBvcykKICAgIGkrKzsKCiAgaWYobGVuKQogICAgKmxlbiA9IGluLT5wb3MgLSBpOwoKICByZXR1cm4gKGNvbnN0IGNoYXIqKSZpbnB1dF9idWZmZXJfZGF0YShpbilbaV07Cn0KCnNpemVfdAppbnB1dF9idWZmZXJfY29sdW1uKElucHV0QnVmZmVyKiBpbiwgc2l6ZV90KiBsZW4pIHsKICBzaXplX3QgaTsKCiAgaWYoKGkgPSBieXRlX3JjaHIoaW5wdXRfYnVmZmVyX2RhdGEoaW4pLCBpbi0+cG9zLCAnXG4nKSkgPCBpbi0+cG9zKQogICAgaSsrOwoKICByZXR1cm4gaW4tPnBvcyAtIGk7Cn0KCmludApqc19vZmZzZXRfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBpbnQ2NF90IHNpemUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBPZmZzZXRMZW5ndGgqIG9mZl9sZW5fcCkgewogIGludCByZXQgPSAwOwogIGludDY0X3Qgb2ZmID0gMCwgbGVuID0gc2l6ZTsKCiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBpZighSlNfVG9JbnQ2NChjdHgsICZvZmYsIGFyZ3ZbMF0pKQogICAgICByZXQgPSAxOwogIH0KICBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIGlmKCFKU19Ub0ludDY0KGN0eCwgJmxlbiwgYXJndlsxXSkpCiAgICAgIHJldCA9IDI7CiAgfQoKICAvKiBpZihvZmYgPj0gMCkKICAgICBvZmYgPSBNSU5fTlVNKG9mZiwgc2l6ZSk7CiAgIGVsc2UKICAqLwogIGlmKHNpemUpCiAgICBvZmYgPSAoKG9mZiAlIHNpemUpICsgb2ZmKSAlIHNpemU7CgogIGlmKGxlbiA+PSAwKQogICAgbGVuID0gTUlOX05VTShsZW4sIHNpemUgLSBvZmYpOwogIGVsc2UKICAgIGxlbiA9IHNpemUgLSBvZmY7CgogIGlmKG9mZl9sZW5fcCkgewogICAgb2ZmX2xlbl9wLT5vZmZzZXQgPSBvZmY7CiAgICBvZmZfbGVuX3AtPmxlbmd0aCA9IGxlbjsKICB9CiAgcmV0dXJuIHJldDsKfQoAAAAAAAAAAKQtAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQScAAAAAAABBJwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "quickjs-internal.h",
			"settings":
			{
				"buffer_size": 37634,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAACkwAAI2lmbmRlZiBRSlNfTU9EVUxFU19JTlRFUk5BTF9ICiNkZWZpbmUgUUpTX01PRFVMRVNfSU5URVJOQUxfSAoKI2luY2x1ZGUgPGxpc3QuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8c3RkZGVmLmg+CiNpbmNsdWRlIDxzeXMvdHlwZXMuaD4KCiNpbmNsdWRlIDxxdWlja2pzLWNvbmZpZy5oPgoKI2lmZGVmIENPTkZJR19CSUdOVU0KI2luY2x1ZGUgPGxpYmJmLmg+CiNlbmRpZgojaWZkZWYgQ09ORklHX0RFQlVHR0VSCiNpbmNsdWRlIDxxdWlja2pzLWRlYnVnZ2VyLmg+CiNlbmRpZgojaWZkZWYgVVNFX1dPUktFUgojaW5jbHVkZSA8cHRocmVhZC5oPgojZW5kaWYKCmVudW0gSlNDbGFzc0lkcyB7CiAgLyogY2xhc3NpZCB0YWcgICAgICAgICovIC8qIHVuaW9uIHVzYWdlICAgfCBwcm9wZXJ0aWVzICovCiAgSlNfQ0xBU1NfT0JKRUNUID0gMSwgICAgIC8qIG11c3QgYmUgZmlyc3QgKi8KICBKU19DTEFTU19BUlJBWSwgICAgICAgICAgLyogdS5hcnJheSAgICAgICB8IGxlbmd0aCAqLwogIEpTX0NMQVNTX0VSUk9SLAogIEpTX0NMQVNTX05VTUJFUiwgICAgICAgICAgIC8qIHUub2JqZWN0X2RhdGEgKi8KICBKU19DTEFTU19TVFJJTkcsICAgICAgICAgICAvKiB1Lm9iamVjdF9kYXRhICovCiAgSlNfQ0xBU1NfQk9PTEVBTiwgICAgICAgICAgLyogdS5vYmplY3RfZGF0YSAqLwogIEpTX0NMQVNTX1NZTUJPTCwgICAgICAgICAgIC8qIHUub2JqZWN0X2RhdGEgKi8KICBKU19DTEFTU19BUkdVTUVOVFMsICAgICAgICAvKiB1LmFycmF5ICAgICAgIHwgbGVuZ3RoICovCiAgSlNfQ0xBU1NfTUFQUEVEX0FSR1VNRU5UUywgLyogICAgICAgICAgICAgICB8IGxlbmd0aCAqLwogIEpTX0NMQVNTX0RBVEUsICAgICAgICAgICAgIC8qIHUub2JqZWN0X2RhdGEgKi8KICBKU19DTEFTU19NT0RVTEVfTlMsCiAgSlNfQ0xBU1NfQ19GVU5DVElPTiwgICAgICAgICAgLyogdS5jZnVuYyAqLwogIEpTX0NMQVNTX0JZVEVDT0RFX0ZVTkNUSU9OLCAgIC8qIHUuZnVuYyAqLwogIEpTX0NMQVNTX0JPVU5EX0ZVTkNUSU9OLCAgICAgIC8qIHUuYm91bmRfZnVuY3Rpb24gKi8KICBKU19DTEFTU19DX0ZVTkNUSU9OX0RBVEEsICAgICAvKiB1LmNfZnVuY3Rpb25fZGF0YV9yZWNvcmQgKi8KICBKU19DTEFTU19DX0NMT1NVUkUsICAgICAgICAgICAvKiB1LmNfY2xvc3VyZV9yZWNvcmQgKi8KICBKU19DTEFTU19HRU5FUkFUT1JfRlVOQ1RJT04sICAvKiB1LmZ1bmMgKi8KICBKU19DTEFTU19GT1JfSU5fSVRFUkFUT1IsICAgICAvKiB1LmZvcl9pbl9pdGVyYXRvciAqLwogIEpTX0NMQVNTX1JFR0VYUCwgICAgICAgICAgICAgIC8qIHUucmVnZXhwICovCiAgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSLCAgICAgICAgLyogdS5hcnJheV9idWZmZXIgKi8KICBKU19DTEFTU19TSEFSRURfQVJSQVlfQlVGRkVSLCAvKiB1LmFycmF5X2J1ZmZlciAqLwogIEpTX0NMQVNTX1VJTlQ4Q19BUlJBWSwgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0lOVDhfQVJSQVksICAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX1VJTlQ4X0FSUkFZLCAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0lOVDE2X0FSUkFZLCAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX1VJTlQxNl9BUlJBWSwgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0lOVDMyX0FSUkFZLCAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX1VJTlQzMl9BUlJBWSwgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwojaWZkZWYgQ09ORklHX0JJR05VTQogIEpTX0NMQVNTX0JJR19JTlQ2NF9BUlJBWSwgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0JJR19VSU5UNjRfQVJSQVksIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwojZW5kaWYKICBKU19DTEFTU19GTE9BVDMyX0FSUkFZLCAvKiB1LmFycmF5ICh0eXBlZF9hcnJheSkgKi8KICBKU19DTEFTU19GTE9BVDY0X0FSUkFZLCAvKiB1LmFycmF5ICh0eXBlZF9hcnJheSkgKi8KICBKU19DTEFTU19EQVRBVklFVywgICAgICAvKiB1LnR5cGVkX2FycmF5ICovCiNpZmRlZiBDT05GSUdfQklHTlVNCiAgSlNfQ0xBU1NfQklHX0lOVCwgICAgICAvKiB1Lm9iamVjdF9kYXRhICovCiAgSlNfQ0xBU1NfQklHX0ZMT0FULCAgICAvKiB1Lm9iamVjdF9kYXRhICovCiAgSlNfQ0xBU1NfRkxPQVRfRU5WLCAgICAvKiB1LmZsb2F0X2VudiAqLwogIEpTX0NMQVNTX0JJR19ERUNJTUFMLCAgLyogdS5vYmplY3RfZGF0YSAqLwogIEpTX0NMQVNTX09QRVJBVE9SX1NFVCwgLyogdS5vcGVyYXRvcl9zZXQgKi8KI2VuZGlmCiAgSlNfQ0xBU1NfTUFQLCAgICAgICAgICAgICAgICAgICAgICAvKiB1Lm1hcF9zdGF0ZSAqLwogIEpTX0NMQVNTX1NFVCwgICAgICAgICAgICAgICAgICAgICAgLyogdS5tYXBfc3RhdGUgKi8KICBKU19DTEFTU19XRUFLTUFQLCAgICAgICAgICAgICAgICAgIC8qIHUubWFwX3N0YXRlICovCiAgSlNfQ0xBU1NfV0VBS1NFVCwgICAgICAgICAgICAgICAgICAvKiB1Lm1hcF9zdGF0ZSAqLwogIEpTX0NMQVNTX01BUF9JVEVSQVRPUiwgICAgICAgICAgICAgLyogdS5tYXBfaXRlcmF0b3JfZGF0YSAqLwogIEpTX0NMQVNTX1NFVF9JVEVSQVRPUiwgICAgICAgICAgICAgLyogdS5tYXBfaXRlcmF0b3JfZGF0YSAqLwogIEpTX0NMQVNTX0FSUkFZX0lURVJBVE9SLCAgICAgICAgICAgLyogdS5hcnJheV9pdGVyYXRvcl9kYXRhICovCiAgSlNfQ0xBU1NfU1RSSU5HX0lURVJBVE9SLCAgICAgICAgICAvKiB1LmFycmF5X2l0ZXJhdG9yX2RhdGEgKi8KICBKU19DTEFTU19SRUdFWFBfU1RSSU5HX0lURVJBVE9SLCAgIC8qIHUucmVnZXhwX3N0cmluZ19pdGVyYXRvcl9kYXRhICovCiAgSlNfQ0xBU1NfR0VORVJBVE9SLCAgICAgICAgICAgICAgICAvKiB1LmdlbmVyYXRvcl9kYXRhICovCiAgSlNfQ0xBU1NfUFJPWFksICAgICAgICAgICAgICAgICAgICAvKiB1LnByb3h5X2RhdGEgKi8KICBKU19DTEFTU19QUk9NSVNFLCAgICAgICAgICAgICAgICAgIC8qIHUucHJvbWlzZV9kYXRhICovCiAgSlNfQ0xBU1NfUFJPTUlTRV9SRVNPTFZFX0ZVTkNUSU9OLCAvKiB1LnByb21pc2VfZnVuY3Rpb25fZGF0YSAqLwogIEpTX0NMQVNTX1BST01JU0VfUkVKRUNUX0ZVTkNUSU9OLCAgLyogdS5wcm9taXNlX2Z1bmN0aW9uX2RhdGEgKi8KICBKU19DTEFTU19BU1lOQ19GVU5DVElPTiwgICAgICAgICAgIC8qIHUuZnVuYyAqLwogIEpTX0NMQVNTX0FTWU5DX0ZVTkNUSU9OX1JFU09MVkUsICAgLyogdS5hc3luY19mdW5jdGlvbl9kYXRhICovCiAgSlNfQ0xBU1NfQVNZTkNfRlVOQ1RJT05fUkVKRUNULCAgICAvKiB1LmFzeW5jX2Z1bmN0aW9uX2RhdGEgKi8KICBKU19DTEFTU19BU1lOQ19GUk9NX1NZTkNfSVRFUkFUT1IsIC8qIHUuYXN5bmNfZnJvbV9zeW5jX2l0ZXJhdG9yX2RhdGEgKi8KICBKU19DTEFTU19BU1lOQ19HRU5FUkFUT1JfRlVOQ1RJT04sIC8qIHUuZnVuYyAqLwogIEpTX0NMQVNTX0FTWU5DX0dFTkVSQVRPUiwgICAgICAgICAgLyogdS5hc3luY19nZW5lcmF0b3JfZGF0YSAqLwoKICBKU19DTEFTU19JTklUX0NPVU5ULCAvKiBsYXN0IGVudHJ5IGZvciBwcmVkZWZpbmVkIGNsYXNzZXMgKi8KfTsKCnR5cGVkZWYgZW51bSBKU0Vycm9yRW51bSB7CiAgSlNfRVZBTF9FUlJPUiwKICBKU19SQU5HRV9FUlJPUiwKICBKU19SRUZFUkVOQ0VfRVJST1IsCiAgSlNfU1lOVEFYX0VSUk9SLAogIEpTX1RZUEVfRVJST1IsCiAgSlNfVVJJX0VSUk9SLAogIEpTX0lOVEVSTkFMX0VSUk9SLAogIEpTX0FHR1JFR0FURV9FUlJPUiwKICBKU19OQVRJVkVfRVJST1JfQ09VTlQKfSBKU0Vycm9yRW51bTsKCnR5cGVkZWYgZW51bSBPUENvZGVFbnVtIE9QQ29kZUVudW07Cgp0eXBlZGVmIHN0cnVjdCBKU1N0cmluZyBKU1N0cmluZzsKdHlwZWRlZiBzdHJ1Y3QgSlNTdHJpbmcgSlNBdG9tU3RydWN0Owp0eXBlZGVmIHN0cnVjdCBKU1NoYXBlIEpTU2hhcGU7Cgp0eXBlZGVmIGVudW0gewogIEpTX0dDX1BIQVNFX05PTkUsCiAgSlNfR0NfUEhBU0VfREVDUkVGLAogIEpTX0dDX1BIQVNFX1JFTU9WRV9DWUNMRVMsCn0gSlNHQ1BoYXNlRW51bTsKCiNpZmRlZiBDT05GSUdfQklHTlVNCi8qIGZ1bmN0aW9uIHBvaW50ZXJzIGFyZSB1c2VkIGZvciBudW1lcmljIG9wZXJhdGlvbnMgc28gdGhhdCBpdCBpcwogICBwb3NzaWJsZSB0byByZW1vdmUgc29tZSBudW1lcmljIHR5cGVzICovCnR5cGVkZWYgc3RydWN0IHsKICBKU1ZhbHVlICgqdG9fc3RyaW5nKShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbCk7CiAgSlNWYWx1ZSAoKmZyb21fc3RyaW5nKShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogYnVmLCBpbnQgcmFkaXgsIGludCBmbGFncywgc2xpbWJfdCogcGV4cG9uZW50KTsKICBpbnQgKCp1bmFyeV9hcml0aCkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHByZXMsIE9QQ29kZUVudW0gb3AsIEpTVmFsdWUgb3AxKTsKICBpbnQgKCpiaW5hcnlfYXJpdGgpKEpTQ29udGV4dCogY3R4LCBPUENvZGVFbnVtIG9wLCBKU1ZhbHVlKiBwcmVzLCBKU1ZhbHVlIG9wMSwgSlNWYWx1ZSBvcDIpOwogIGludCAoKmNvbXBhcmUpKEpTQ29udGV4dCogY3R4LCBPUENvZGVFbnVtIG9wLCBKU1ZhbHVlIG9wMSwgSlNWYWx1ZSBvcDIpOwogIC8qIG9ubHkgZm9yIGJpZ2Zsb2F0OiAqLwogIEpTVmFsdWUgKCptdWxfcG93MTBfdG9fZmxvYXQ2NCkoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGJmX3QqIGEsIGludDY0X3QgZXhwb25lbnQpOwogIGludCAoKm11bF9wb3cxMCkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHNwKTsKfSBKU051bWVyaWNPcGVyYXRpb25zOwojZW5kaWYKCnR5cGVkZWYgc3RydWN0IEpTUnVudGltZSB7CiAgSlNNYWxsb2NGdW5jdGlvbnMgbWY7CiAgSlNNYWxsb2NTdGF0ZSBtYWxsb2Nfc3RhdGU7CiAgY29uc3QgY2hhciogcnRfaW5mbzsKICBpbnQgYXRvbV9oYXNoX3NpemU7CiAgaW50IGF0b21fY291bnQ7CiAgaW50IGF0b21fc2l6ZTsKICBpbnQgYXRvbV9jb3VudF9yZXNpemU7CiAgdWludDMyX3QqIGF0b21faGFzaDsKICBKU0F0b21TdHJ1Y3QqKiBhdG9tX2FycmF5OwogIGludCBhdG9tX2ZyZWVfaW5kZXg7CiAgaW50IGNsYXNzX2NvdW50OwogIEpTQ2xhc3MqIGNsYXNzX2FycmF5OwogIHN0cnVjdCBsaXN0X2hlYWQgY29udGV4dF9saXN0OwogIHN0cnVjdCBsaXN0X2hlYWQgZ2Nfb2JqX2xpc3Q7CiAgc3RydWN0IGxpc3RfaGVhZCBnY196ZXJvX3JlZl9jb3VudF9saXN0OwogIHN0cnVjdCBsaXN0X2hlYWQgdG1wX29ial9saXN0OwogIEpTR0NQaGFzZUVudW0gZ2NfcGhhc2UgOiA4OwogIHNpemVfdCBtYWxsb2NfZ2NfdGhyZXNob2xkOwojaWZkZWYgRFVNUF9MRUFLUwogIHN0cnVjdCBsaXN0X2hlYWQgc3RyaW5nX2xpc3Q7CiNlbmRpZgogIHVpbnRwdHJfdCBzdGFja19zaXplOwogIHVpbnRwdHJfdCBzdGFja190b3A7CiAgdWludHB0cl90IHN0YWNrX2xpbWl0OwogIEpTVmFsdWUgY3VycmVudF9leGNlcHRpb247CiAgQk9PTCBpbl9vdXRfb2ZfbWVtb3J5IDogODsKICBzdHJ1Y3QgSlNTdGFja0ZyYW1lKiBjdXJyZW50X3N0YWNrX2ZyYW1lOwogIEpTSW50ZXJydXB0SGFuZGxlciogaW50ZXJydXB0X2hhbmRsZXI7CiAgdm9pZCogaW50ZXJydXB0X29wYXF1ZTsKICBKU0hvc3RQcm9taXNlUmVqZWN0aW9uVHJhY2tlciogaG9zdF9wcm9taXNlX3JlamVjdGlvbl90cmFja2VyOwogIHZvaWQqIGhvc3RfcHJvbWlzZV9yZWplY3Rpb25fdHJhY2tlcl9vcGFxdWU7CiAgc3RydWN0IGxpc3RfaGVhZCBqb2JfbGlzdDsKICBKU01vZHVsZU5vcm1hbGl6ZUZ1bmMqIG1vZHVsZV9ub3JtYWxpemVfZnVuYzsKICBKU01vZHVsZUxvYWRlckZ1bmMqIG1vZHVsZV9sb2FkZXJfZnVuYzsKICB2b2lkKiBtb2R1bGVfbG9hZGVyX29wYXF1ZTsKICBCT09MIGNhbl9ibG9jayA6IDg7CiAgSlNTaGFyZWRBcnJheUJ1ZmZlckZ1bmN0aW9ucyBzYWJfZnVuY3M7CiAgaW50IHNoYXBlX2hhc2hfYml0czsKICBpbnQgc2hhcGVfaGFzaF9zaXplOwogIGludCBzaGFwZV9oYXNoX2NvdW50OwogIEpTU2hhcGUqKiBzaGFwZV9oYXNoOwojaWZkZWYgQ09ORklHX0JJR05VTQogIGJmX2NvbnRleHRfdCBiZl9jdHg7CiAgSlNOdW1lcmljT3BlcmF0aW9ucyBiaWdpbnRfb3BzOwogIEpTTnVtZXJpY09wZXJhdGlvbnMgYmlnZmxvYXRfb3BzOwogIEpTTnVtZXJpY09wZXJhdGlvbnMgYmlnZGVjaW1hbF9vcHM7CiAgdWludDMyX3Qgb3BlcmF0b3JfY291bnQ7CiNlbmRpZgogIHZvaWQqIHVzZXJfb3BhcXVlOwp9IEpTUnVudGltZTsKCnN0cnVjdCBKU0NsYXNzIHsKICB1aW50MzJfdCBjbGFzc19pZDsgLyogMCBtZWFucyBmcmVlIGVudHJ5ICovCiAgSlNBdG9tIGNsYXNzX25hbWU7CiAgSlNDbGFzc0ZpbmFsaXplciogZmluYWxpemVyOwogIEpTQ2xhc3NHQ01hcmsqIGdjX21hcms7CiAgSlNDbGFzc0NhbGwqIGNhbGw7CiAgLyogcG9pbnRlcnMgZm9yIGV4b3RpYyBiZWhhdmlvciwgY2FuIGJlIE5VTEwgaWYgbm9uZSBhcmUgcHJlc2VudCAqLwogIGNvbnN0IEpTQ2xhc3NFeG90aWNNZXRob2RzKiBleG90aWM7Cn07CgojZGVmaW5lIEpTX01PREVfU1RSSUNUICgxIDw8IDApCiNkZWZpbmUgSlNfTU9ERV9TVFJJUCAoMSA8PCAxKQojZGVmaW5lIEpTX01PREVfTUFUSCAoMSA8PCAyKQoKdHlwZWRlZiBzdHJ1Y3QgSlNTdGFja0ZyYW1lIHsKICBzdHJ1Y3QgSlNTdGFja0ZyYW1lKiBwcmV2X2ZyYW1lOwogIEpTVmFsdWUgY3VyX2Z1bmM7CiAgSlNWYWx1ZSogYXJnX2J1ZjsgICAgICAgICAgICAgIC8qIGFyZ3VtZW50cyAqLwogIEpTVmFsdWUqIHZhcl9idWY7ICAgICAgICAgICAgICAvKiB2YXJpYWJsZXMgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIHZhcl9yZWZfbGlzdDsgLyogbGlzdCBvZiBKU1ZhclJlZi5saW5rICovCiAgY29uc3QgdWludDhfdCogY3VyX3BjOyAgICAgICAgIC8qIGJ5dGVjb2RlIGZ1bmN0aW9ucyA6IFBDIG9mIHRoZSBpbnN0cnVjdGlvbiBhZnRlciB0aGUgY2FsbCAqLwogIGludCBhcmdfY291bnQ7CiAgaW50IGpzX21vZGU7IC8qIDAgb3IgSlNfTU9ERV9NQVRIIGZvciBDIGZ1bmN0aW9ucyAqLwogIC8qIG9ubHkgdXNlZCBpbiBnZW5lcmF0b3JzLiBDdXJyZW50IHN0YWNrIHBvaW50ZXIgdmFsdWUgb3IgTlVMTCBpZiB0aGUKICAgKiBmdW5jdGlvbiBpcyBydW5uaW5nLiAqLwogIEpTVmFsdWUqIGN1cl9zcDsKfSBKU1N0YWNrRnJhbWU7Cgp0eXBlZGVmIGVudW0gewogIEpTX0dDX09CSl9UWVBFX0pTX09CSkVDVCwKICBKU19HQ19PQkpfVFlQRV9GVU5DVElPTl9CWVRFQ09ERSwKICBKU19HQ19PQkpfVFlQRV9TSEFQRSwKICBKU19HQ19PQkpfVFlQRV9WQVJfUkVGLAogIEpTX0dDX09CSl9UWVBFX0FTWU5DX0ZVTkNUSU9OLAogIEpTX0dDX09CSl9UWVBFX0pTX0NPTlRFWFQsCn0gSlNHQ09iamVjdFR5cGVFbnVtOwoKc3RydWN0IEpTR0NPYmplY3RIZWFkZXIgewogIGludCByZWZfY291bnQ7CiAgSlNHQ09iamVjdFR5cGVFbnVtIGdjX29ial90eXBlIDogNDsKICB1aW50OF90IG1hcmsgOiA0OwogIHVpbnQ4X3QgZHVtbXkxOwogIHVpbnQxNl90IGR1bW15MjsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07Cgp0eXBlZGVmIHN0cnVjdCBKU1ZhclJlZiB7CiAgdW5pb24gewogICAgSlNHQ09iamVjdEhlYWRlciBoZWFkZXI7CiAgICBzdHJ1Y3QgewogICAgICBpbnQgX19nY19yZWZfY291bnQ7CiAgICAgIHVpbnQ4X3QgX19nY19tYXJrOwogICAgICAvKiAwIDogdGhlIEpTVmFyUmVmIGlzIG9uIHRoZSBzdGFjay4gaGVhZGVyLmxpbmsgaXMgYW4gZWxlbWVudAogICAgICAgICBvZiBKU1N0YWNrRnJhbWUudmFyX3JlZl9saXN0LgogICAgICAgICAxIDogdGhlIEpTVmFyUmVmIGlzIGRldGFjaGVkLiBoZWFkZXIubGluayBoYXMgdGhlIG5vcm1hbCBtZWFubmluZwogICAgICAqLwogICAgICB1aW50OF90IGlzX2RldGFjaGVkIDogMTsKICAgICAgdWludDhfdCBpc19hcmcgOiAxOwogICAgICB1aW50MTZfdCB2YXJfaWR4OyAvKiBpbmRleCBvZiB0aGUgY29ycmVzcG9uZGluZyBmdW5jdGlvbiB2YXJpYWJsZSBvbiB0aGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sgKi8KICAgIH07CiAgfTsKICBKU1ZhbHVlKiBwdmFsdWU7IC8qIHBvaW50ZXIgdG8gdGhlIHZhbHVlLCBlaXRoZXIgb24gdGhlIHN0YWNrIG9yIHRvICd2YWx1ZScgKi8KICBKU1ZhbHVlIHZhbHVlOyAgIC8qIHVzZWQgd2hlbiB0aGUgdmFyaWFibGUgaXMgbm8gbG9uZ2VyIG9uIHRoZSBzdGFjayAqLwp9IEpTVmFyUmVmOwoKdHlwZWRlZiBzdHJ1Y3QgSlNGbG9hdEVudiB7CiAgdWludHB0cl90IHByZWM7CiAgdWludDMyX3QgZmxhZ3M7CiAgdW5zaWduZWQgaW50IHN0YXR1czsKfSBKU0Zsb2F0RW52OwoKI2lmZGVmIENPTkZJR19CSUdOVU0KLyogdGhlIHNhbWUgc3RydWN0dXJlIGlzIHVzZWQgZm9yIGJpZyBpbnRlZ2VycyBhbmQgYmlnIGZsb2F0cy4gQmlnCiAgIGludGVnZXJzIGFyZSBuZXZlciBpbmZpbml0ZSBvciBOYU5zICovCnR5cGVkZWYgc3RydWN0IEpTQmlnRmxvYXQgewogIEpTUmVmQ291bnRIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QsIDMyLWJpdCAqLwogIGJmX3QgbnVtOwp9IEpTQmlnRmxvYXQ7Cgp0eXBlZGVmIHN0cnVjdCBKU0JpZ0RlY2ltYWwgewogIEpTUmVmQ291bnRIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QsIDMyLWJpdCAqLwogIGJmZGVjX3QgbnVtOwp9IEpTQmlnRGVjaW1hbDsKI2VuZGlmCgp0eXBlZGVmIGVudW0gewogIEpTX0FVVE9JTklUX0lEX1BST1RPVFlQRSwKICBKU19BVVRPSU5JVF9JRF9NT0RVTEVfTlMsCiAgSlNfQVVUT0lOSVRfSURfUFJPUCwKfSBKU0F1dG9Jbml0SURFbnVtOwoKLyogbXVzdCBiZSBsYXJnZSBlbm91Z2ggdG8gaGF2ZSBhIG5lZ2xpZ2libGUgcnVudGltZSBjb3N0IGFuZCBzbWFsbCBlbm91Z2ggdG8KICogY2FsbCB0aGUgaW50ZXJydXB0IGNhbGxiYWNrIG9mdGVuLiAqLwojZGVmaW5lIEpTX0lOVEVSUlVQVF9DT1VOVEVSX0lOSVQgMTAwMDAKCnN0cnVjdCBKU0NvbnRleHQgewogIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QgKi8KICBKU1J1bnRpbWUqIHJ0OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKCiAgdWludDE2X3QgYmluYXJ5X29iamVjdF9jb3VudDsKICBpbnQgYmluYXJ5X29iamVjdF9zaXplOwoKICBKU1NoYXBlKiBhcnJheV9zaGFwZTsgLyogaW5pdGlhbCBzaGFwZSBmb3IgQXJyYXkgb2JqZWN0cyAqLwoKICBKU1ZhbHVlKiBjbGFzc19wcm90bzsKICBKU1ZhbHVlIGZ1bmN0aW9uX3Byb3RvOwogIEpTVmFsdWUgZnVuY3Rpb25fY3RvcjsKICBKU1ZhbHVlIGFycmF5X2N0b3I7CiAgSlNWYWx1ZSByZWdleHBfY3RvcjsKICBKU1ZhbHVlIHByb21pc2VfY3RvcjsKICBKU1ZhbHVlIG5hdGl2ZV9lcnJvcl9wcm90b1tKU19OQVRJVkVfRVJST1JfQ09VTlRdOwogIEpTVmFsdWUgaXRlcmF0b3JfcHJvdG87CiAgSlNWYWx1ZSBhc3luY19pdGVyYXRvcl9wcm90bzsKICBKU1ZhbHVlIGFycmF5X3Byb3RvX3ZhbHVlczsKICBKU1ZhbHVlIHRocm93X3R5cGVfZXJyb3I7CiAgSlNWYWx1ZSBldmFsX29iajsKCiAgSlNWYWx1ZSBnbG9iYWxfb2JqOyAgICAgLyogZ2xvYmFsIG9iamVjdCAqLwogIEpTVmFsdWUgZ2xvYmFsX3Zhcl9vYmo7IC8qIGNvbnRhaW5zIHRoZSBnbG9iYWwgbGV0L2NvbnN0IGRlZmluaXRpb25zICovCgogIHVpbnQ2NF90IHJhbmRvbV9zdGF0ZTsKI2lmZGVmIENPTkZJR19CSUdOVU0KICAvKmJmX2NvbnRleHRfdCovIHZvaWQqIGJmX2N0eDsgLyogcG9pbnRzIHRvIHJ0LT5iZl9jdHgsIHNoYXJlZCBieSBhbGwgY29udGV4dHMgKi8KICBKU0Zsb2F0RW52IGZwX2VudjsgICAgICAgICAgICAgLyogZ2xvYmFsIEZQIGVudmlyb25tZW50ICovCiAgQk9PTCBiaWdudW1fZXh0IDogODsgICAgICAgICAgIC8qIGVuYWJsZSBtYXRoIG1vZGUgKi8KICBCT09MIGFsbG93X29wZXJhdG9yX292ZXJsb2FkaW5nIDogODsKI2VuZGlmCiAgLyogd2hlbiB0aGUgY291bnRlciByZWFjaGVzIHplcm8sIEpTUnV0aW1lLmludGVycnVwdF9oYW5kbGVyIGlzIGNhbGxlZCAqLwogIGludCBpbnRlcnJ1cHRfY291bnRlcjsKICBCT09MIGlzX2Vycm9yX3Byb3BlcnR5X2VuYWJsZWQ7CgogIHN0cnVjdCBsaXN0X2hlYWQgbG9hZGVkX21vZHVsZXM7IC8qIGxpc3Qgb2YgSlNNb2R1bGVEZWYubGluayAqLwoKICAvKiBpZiBOVUxMLCBSZWdFeHAgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCAqLwogIEpTVmFsdWUgKCpjb21waWxlX3JlZ2V4cCkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBwYXR0ZXJuLCBKU1ZhbHVlQ29uc3QgZmxhZ3MpOwogIC8qIGlmIE5VTEwsIGV2YWwgaXMgbm90IHN1cHBvcnRlZCAqLwogIEpTVmFsdWUgKCpldmFsX2ludGVybmFsKSgKICAgICAgSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogaW5wdXQsIHNpemVfdCBpbnB1dF9sZW4sIGNvbnN0IGNoYXIqIGZpbGVuYW1lLCBpbnQgZmxhZ3MsIGludCBzY29wZV9pZHgpOwogIHZvaWQqIHVzZXJfb3BhcXVlOwp9OwoKc3RydWN0IEpTU3RyaW5nIHsKICBKU1JlZkNvdW50SGVhZGVyIGhlYWRlcjsKICB1aW50MzJfdCBsZW4gOiAzMTsKICB1aW50OF90IGlzX3dpZGVfY2hhciA6IDE7CiAgdWludDMyX3QgaGFzaCA6IDMwOwogIHVpbnQ4X3QgYXRvbV90eXBlIDogMjsKICB1aW50MzJfdCBoYXNoX25leHQ7CiNpZmRlZiBEVU1QX0xFQUtTCiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwojZW5kaWYKICB1bmlvbiB7CiAgICB1aW50OF90IHN0cjhbMF07CiAgICB1aW50MTZfdCBzdHIxNlswXTsKICB9IHU7Cn07Cgp0eXBlZGVmIHN0cnVjdCBKU0Nsb3N1cmVWYXIgewogIHVpbnQ4X3QgaXNfbG9jYWwgOiAxOwogIHVpbnQ4X3QgaXNfYXJnIDogMTsKICB1aW50OF90IGlzX2NvbnN0IDogMTsKICB1aW50OF90IGlzX2xleGljYWwgOiAxOwogIHVpbnQ4X3QgdmFyX2tpbmQgOiA0OyAvKiBzZWUgSlNWYXJLaW5kRW51bSAqLwogIC8qIDggYml0cyBhdmFpbGFibGUgKi8KICB1aW50MTZfdCB2YXJfaWR4OyAvKiBpc19sb2NhbCA9IFRSVUU6IGluZGV4IHRvIGEgbm9ybWFsIHZhcmlhYmxlIG9mIHRoZQogICAgICAgICAgICAgICAgICBwYXJlbnQgZnVuY3Rpb24uIG90aGVyd2lzZTogaW5kZXggdG8gYSBjbG9zdXJlCiAgICAgICAgICAgICAgICAgIHZhcmlhYmxlIG9mIHRoZSBwYXJlbnQgZnVuY3Rpb24gKi8KICBKU0F0b20gdmFyX25hbWU7Cn0gSlNDbG9zdXJlVmFyOwoKdHlwZWRlZiBzdHJ1Y3QgSlNWYXJTY29wZSB7CiAgaW50IHBhcmVudDsgLyogaW5kZXggaW50byBmZC0+c2NvcGVzIG9mIHRoZSBlbmNsb3Npbmcgc2NvcGUgKi8KICBpbnQgZmlyc3Q7ICAvKiBpbmRleCBpbnRvIGZkLT52YXJzIG9mIHRoZSBsYXN0IHZhcmlhYmxlIGluIHRoaXMgc2NvcGUgKi8KfSBKU1ZhclNjb3BlOwoKdHlwZWRlZiBlbnVtIHsKICAvKiBYWFg6IGFkZCBtb3JlIHZhcmlhYmxlIGtpbmRzIGhlcmUgaW5zdGVhZCBvZiB1c2luZyBiaXQgZmllbGRzICovCiAgSlNfVkFSX05PUk1BTCwKICBKU19WQVJfRlVOQ1RJT05fREVDTCwgICAgIC8qIGxleGljYWwgdmFyIHdpdGggZnVuY3Rpb24gZGVjbGFyYXRpb24gKi8KICBKU19WQVJfTkVXX0ZVTkNUSU9OX0RFQ0wsIC8qIGxleGljYWwgdmFyIHdpdGggYXN5bmMvZ2VuZXJhdG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZWNsYXJhdGlvbiAqLwogIEpTX1ZBUl9DQVRDSCwKICBKU19WQVJfRlVOQ1RJT05fTkFNRSwgLyogZnVuY3Rpb24gZXhwcmVzc2lvbiBuYW1lICovCiAgSlNfVkFSX1BSSVZBVEVfRklFTEQsCiAgSlNfVkFSX1BSSVZBVEVfTUVUSE9ELAogIEpTX1ZBUl9QUklWQVRFX0dFVFRFUiwKICBKU19WQVJfUFJJVkFURV9TRVRURVIsICAgICAgICAvKiBtdXN0IGNvbWUgYWZ0ZXIgSlNfVkFSX1BSSVZBVEVfR0VUVEVSICovCiAgSlNfVkFSX1BSSVZBVEVfR0VUVEVSX1NFVFRFUiwgLyogbXVzdCBjb21lIGFmdGVyIEpTX1ZBUl9QUklWQVRFX1NFVFRFUiAqLwp9IEpTVmFyS2luZEVudW07CgovKiBYWFg6IGNvdWxkIHVzZSBhIGRpZmZlcmVudCBzdHJ1Y3R1cmUgaW4gYnl0ZWNvZGUgZnVuY3Rpb25zIHRvIHNhdmUKICAgbWVtb3J5ICovCnR5cGVkZWYgc3RydWN0IEpTVmFyRGVmIHsKICBKU0F0b20gdmFyX25hbWU7CiAgLyogaW5kZXggaW50byBmZC0+c2NvcGVzIG9mIHRoaXMgdmFyaWFibGUgbGV4aWNhbCBzY29wZSAqLwogIGludCBzY29wZV9sZXZlbDsKICAvKiBkdXJpbmcgY29tcGlsYXRpb246CiAgICAgIC0gaWYgc2NvcGVfbGV2ZWwgPSAwOiBzY29wZSBpbiB3aGljaCB0aGUgdmFyaWFibGUgaXMgZGVmaW5lZAogICAgICAtIGlmIHNjb3BlX2xldmVsICE9IDA6IGluZGV4IGludG8gZmQtPnZhcnMgb2YgdGhlIG5leHQKICAgICAgICB2YXJpYWJsZSBpbiB0aGUgc2FtZSBvciBlbmNsb3NpbmcgbGV4aWNhbCBzY29wZQogICAgIGluIGEgYnl0ZWNvZGUgZnVuY3Rpb246CiAgICAgaW5kZXggaW50byBmZC0+dmFycyBvZiB0aGUgbmV4dAogICAgIHZhcmlhYmxlIGluIHRoZSBzYW1lIG9yIGVuY2xvc2luZyBsZXhpY2FsIHNjb3BlCiAgKi8KICBpbnQgc2NvcGVfbmV4dDsKICB1aW50OF90IGlzX2NvbnN0IDogMTsKICB1aW50OF90IGlzX2xleGljYWwgOiAxOwogIHVpbnQ4X3QgaXNfY2FwdHVyZWQgOiAxOwogIHVpbnQ4X3QgdmFyX2tpbmQgOiA0OyAvKiBzZWUgSlNWYXJLaW5kRW51bSAqLwogIC8qIG9ubHkgdXNlZCBkdXJpbmcgY29tcGlsYXRpb246IGZ1bmN0aW9uIHBvb2wgaW5kZXggZm9yIGxleGljYWwKICAgICB2YXJpYWJsZXMgd2l0aCB2YXJfa2luZCA9CiAgICAgSlNfVkFSX0ZVTkNUSU9OX0RFQ0wvSlNfVkFSX05FV19GVU5DVElPTl9ERUNMIG9yIHNjb3BlIGxldmVsIG9mCiAgICAgdGhlIGRlZmluaXRpb24gb2YgdGhlICd2YXInIHZhcmlhYmxlcyAodGhleSBoYXZlIHNjb3BlX2xldmVsID0KICAgICAwKSAqLwogIGludCBmdW5jX3Bvb2xfaWR4IDogMjQ7IC8qIG9ubHkgdXNlZCBkdXJpbmcgY29tcGlsYXRpb24gOiBpbmRleCBpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBjb25zdGFudCBwb29sIGZvciBob2lzdGVkIGZ1bmN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbiAqLwp9IEpTVmFyRGVmOwoKdHlwZWRlZiBlbnVtIEpTRnVuY3Rpb25LaW5kRW51bSB7CiAgSlNfRlVOQ19OT1JNQUwgPSAwLAogIEpTX0ZVTkNfR0VORVJBVE9SID0gKDEgPDwgMCksCiAgSlNfRlVOQ19BU1lOQyA9ICgxIDw8IDEpLAogIEpTX0ZVTkNfQVNZTkNfR0VORVJBVE9SID0gKEpTX0ZVTkNfR0VORVJBVE9SIHwgSlNfRlVOQ19BU1lOQyksCn0gSlNGdW5jdGlvbktpbmRFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNGdW5jdGlvbkJ5dGVjb2RlIHsKICBKU0dDT2JqZWN0SGVhZGVyIGhlYWRlcjsgLyogbXVzdCBjb21lIGZpcnN0ICovCiAgdWludDhfdCBqc19tb2RlOwogIHVpbnQ4X3QgaGFzX3Byb3RvdHlwZSA6IDE7IC8qIHRydWUgaWYgYSBwcm90b3R5cGUgZmllbGQgaXMgbmVjZXNzYXJ5ICovCiAgdWludDhfdCBoYXNfc2ltcGxlX3BhcmFtZXRlcl9saXN0IDogMTsKICB1aW50OF90IGlzX2Rlcml2ZWRfY2xhc3NfY29uc3RydWN0b3IgOiAxOwogIC8qIHRydWUgaWYgaG9tZV9vYmplY3QgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgKi8KICB1aW50OF90IG5lZWRfaG9tZV9vYmplY3QgOiAxOwogIHVpbnQ4X3QgZnVuY19raW5kIDogMjsKICB1aW50OF90IG5ld190YXJnZXRfYWxsb3dlZCA6IDE7CiAgdWludDhfdCBzdXBlcl9jYWxsX2FsbG93ZWQgOiAxOwogIHVpbnQ4X3Qgc3VwZXJfYWxsb3dlZCA6IDE7CiAgdWludDhfdCBhcmd1bWVudHNfYWxsb3dlZCA6IDE7CiAgdWludDhfdCBoYXNfZGVidWcgOiAxOwogIHVpbnQ4X3QgYmFja3RyYWNlX2JhcnJpZXIgOiAxOyAvKiBzdG9wIGJhY2t0cmFjZSBvbiB0aGlzIGZ1bmN0aW9uICovCiAgdWludDhfdCByZWFkX29ubHlfYnl0ZWNvZGUgOiAxOwogIC8qIFhYWDogNCBiaXRzIGF2YWlsYWJsZSAqLwogIHVpbnQ4X3QqIGJ5dGVfY29kZV9idWY7IC8qIChzZWxmIHBvaW50ZXIpICovCiAgaW50IGJ5dGVfY29kZV9sZW47CiAgSlNBdG9tIGZ1bmNfbmFtZTsKICBKU1ZhckRlZiogdmFyZGVmczsgICAgICAgICAvKiBhcmd1bWVudHMgKyBsb2NhbCB2YXJpYWJsZXMgKGFyZ19jb3VudCArIHZhcl9jb3VudCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VsZiBwb2ludGVyKSAqLwogIEpTQ2xvc3VyZVZhciogY2xvc3VyZV92YXI7IC8qIGxpc3Qgb2YgdmFyaWFibGVzIGluIHRoZSBjbG9zdXJlIChzZWxmIHBvaW50ZXIpICovCiAgdWludDE2X3QgYXJnX2NvdW50OwogIHVpbnQxNl90IHZhcl9jb3VudDsKICB1aW50MTZfdCBkZWZpbmVkX2FyZ19jb3VudDsgLyogZm9yIGxlbmd0aCBmdW5jdGlvbiBwcm9wZXJ0eSAqLwogIHVpbnQxNl90IHN0YWNrX3NpemU7ICAgICAgICAvKiBtYXhpbXVtIHN0YWNrIHNpemUgKi8KICBKU0NvbnRleHQqIHJlYWxtOyAgICAgICAgICAgLyogZnVuY3Rpb24gcmVhbG0gKi8KICBKU1ZhbHVlKiBjcG9vbDsgICAgICAgICAgICAgLyogY29uc3RhbnQgcG9vbCAoc2VsZiBwb2ludGVyKSAqLwogIGludCBjcG9vbF9jb3VudDsKICBpbnQgY2xvc3VyZV92YXJfY291bnQ7CiAgc3RydWN0IHsKICAgIC8qIGRlYnVnIGluZm8sIG1vdmUgdG8gc2VwYXJhdGUgc3RydWN0dXJlIHRvIHNhdmUgbWVtb3J5PyAqLwogICAgSlNBdG9tIGZpbGVuYW1lOwogICAgaW50IGxpbmVfbnVtOwogICAgaW50IHNvdXJjZV9sZW47CiAgICBpbnQgcGMybGluZV9sZW47CiAgICB1aW50OF90KiBwYzJsaW5lX2J1ZjsKICAgIGNoYXIqIHNvdXJjZTsKICB9IGRlYnVnOwojaWZkZWYgQ09ORklHX0RFQlVHR0VSCiAgc3RydWN0IEpTRGVidWdnZXJGdW5jdGlvbkluZm8gZGVidWdnZXI7CiNlbmRpZgp9IEpTRnVuY3Rpb25CeXRlY29kZTsKCnR5cGVkZWYgc3RydWN0IEpTUHJvcGVydHkgewogIHVuaW9uIHsKICAgIEpTVmFsdWUgdmFsdWU7ICAgICAgLyogSlNfUFJPUF9OT1JNQUwgKi8KICAgIHN0cnVjdCB7ICAgICAgICAgICAgLyogSlNfUFJPUF9HRVRTRVQgKi8KICAgICAgSlNPYmplY3QqIGdldHRlcjsgLyogTlVMTCBpZiB1bmRlZmluZWQgKi8KICAgICAgSlNPYmplY3QqIHNldHRlcjsgLyogTlVMTCBpZiB1bmRlZmluZWQgKi8KICAgIH0gZ2V0c2V0OwogICAgSlNWYXJSZWYqIHZhcl9yZWY7IC8qIEpTX1BST1BfVkFSUkVGICovCiAgICBzdHJ1Y3QgeyAgICAgICAgICAgLyogSlNfUFJPUF9BVVRPSU5JVCAqLwogICAgICAvKiBpbiBvcmRlciB0byB1c2Ugb25seSAyIHBvaW50ZXJzLCB3ZSBjb21wcmVzcyB0aGUgcmVhbG0KICAgICAgICAgYW5kIHRoZSBpbml0IGZ1bmN0aW9uIHBvaW50ZXIgKi8KICAgICAgdWludHB0cl90IHJlYWxtX2FuZF9pZDsgLyogcmVhbG0gYW5kIGluaXRfaWQgKEpTX0FVVE9JTklUX0lEX3gpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSAyIGxvdyBiaXRzICovCiAgICAgIHZvaWQqIG9wYXF1ZTsKICAgIH0gaW5pdDsKICB9IHU7Cn0gSlNQcm9wZXJ0eTsKCiNkZWZpbmUgSlNfUFJPUF9JTklUSUFMX1NJWkUgMgojZGVmaW5lIEpTX1BST1BfSU5JVElBTF9IQVNIX1NJWkUgNCAvKiBtdXN0IGJlIGEgcG93ZXIgb2YgdHdvICovCiNkZWZpbmUgSlNfQVJSQVlfSU5JVElBTF9TSVpFIDIKCnR5cGVkZWYgc3RydWN0IEpTU2hhcGVQcm9wZXJ0eSB7CiAgdWludDMyX3QgaGFzaF9uZXh0IDogMjY7IC8qIDAgaWYgbGFzdCBpbiBsaXN0ICovCiAgdWludDMyX3QgZmxhZ3MgOiA2OyAgICAgIC8qIEpTX1BST1BfWFhYICovCiAgSlNBdG9tIGF0b207ICAgICAgICAgICAgIC8qIEpTX0FUT01fTlVMTCA9IGZyZWUgcHJvcGVydHkgZW50cnkgKi8KfSBKU1NoYXBlUHJvcGVydHk7CgpzdHJ1Y3QgSlNTaGFwZSB7CiAgLyogaGFzaCB0YWJsZSBvZiBzaXplIGhhc2hfbWFzayArIDEgYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUKICAgICBzdHJ1Y3R1cmUgKHNlZSBwcm9wX2hhc2hfZW5kKCkpLiAqLwogIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOwogIC8qIHRydWUgaWYgdGhlIHNoYXBlIGlzIGluc2VydGVkIGluIHRoZSBzaGFwZSBoYXNoIHRhYmxlLiBJZiBub3QsCiAgICAgSlNTaGFwZS5oYXNoIGlzIG5vdCB2YWxpZCAqLwogIHVpbnQ4X3QgaXNfaGFzaGVkOwogIC8qIElmIHRydWUsIHRoZSBzaGFwZSBtYXkgaGF2ZSBzbWFsbCBhcnJheSBpbmRleCBwcm9wZXJ0aWVzICduJyB3aXRoIDAKICAgICA8PSBuIDw9IDJeMzEtMS4gSWYgZmFsc2UsIHRoZSBzaGFwZSBpcyBndWFyYW50ZWVkIG5vdCB0byBoYXZlCiAgICAgc21hbGwgYXJyYXkgaW5kZXggcHJvcGVydGllcyAqLwogIHVpbnQ4X3QgaGFzX3NtYWxsX2FycmF5X2luZGV4OwogIHVpbnQzMl90IGhhc2g7IC8qIGN1cnJlbnQgaGFzaCB2YWx1ZSAqLwogIHVpbnQzMl90IHByb3BfaGFzaF9tYXNrOwogIGludCBwcm9wX3NpemU7ICAvKiBhbGxvY2F0ZWQgcHJvcGVydGllcyAqLwogIGludCBwcm9wX2NvdW50OyAvKiBpbmNsdWRlIGRlbGV0ZWQgcHJvcGVydGllcyAqLwogIGludCBkZWxldGVkX3Byb3BfY291bnQ7CiAgSlNTaGFwZSogc2hhcGVfaGFzaF9uZXh0OyAvKiBpbiBKU1J1bnRpbWUuc2hhcGVfaGFzaFtoXSBsaXN0ICovCiAgSlNPYmplY3QqIHByb3RvOwogIEpTU2hhcGVQcm9wZXJ0eSBwcm9wWzBdOyAvKiBwcm9wX3NpemUgZWxlbWVudHMgKi8KfTsKCnR5cGVkZWYgc3RydWN0IEpTUmVnRXhwIHsKICBKU1N0cmluZyogcGF0dGVybjsKICBKU1N0cmluZyogYnl0ZWNvZGU7IC8qIGFsc28gY29udGFpbnMgdGhlIGZsYWdzICovCn0gSlNSZWdFeHA7Cgp0eXBlZGVmIHN0cnVjdCBKU1Byb3h5RGF0YSB7CiAgSlNWYWx1ZSB0YXJnZXQ7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIHVpbnQ4X3QgaXNfZnVuYzsKICB1aW50OF90IGlzX3Jldm9rZWQ7Cn0gSlNQcm94eURhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU0FycmF5QnVmZmVyIHsKICBpbnQgYnl0ZV9sZW5ndGg7IC8qIDAgaWYgZGV0YWNoZWQgKi8KICB1aW50OF90IGRldGFjaGVkOwogIHVpbnQ4X3Qgc2hhcmVkOyAvKiBpZiBzaGFyZWQsIHRoZSBhcnJheSBidWZmZXIgY2Fubm90IGJlIGRldGFjaGVkICovCiAgdWludDhfdCogZGF0YTsgIC8qIE5VTEwgaWYgZGV0YWNoZWQgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIGFycmF5X2xpc3Q7CiAgdm9pZCogb3BhcXVlOwogIEpTRnJlZUFycmF5QnVmZmVyRGF0YUZ1bmMqIGZyZWVfZnVuYzsKfSBKU0FycmF5QnVmZmVyOwoKdHlwZWRlZiBzdHJ1Y3QgSlNUeXBlZEFycmF5IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7IC8qIGxpbmsgdG8gYXJyYXlidWZmZXIgKi8KICBKU09iamVjdCogb2JqOyAgICAgICAgIC8qIGJhY2sgcG9pbnRlciB0byB0aGUgVHlwZWRBcnJheS9EYXRhVmlldyBvYmplY3QgKi8KICBKU09iamVjdCogYnVmZmVyOyAgICAgIC8qIGJhc2VkIGFycmF5IGJ1ZmZlciAqLwogIHVpbnQzMl90IG9mZnNldDsgICAgICAgLyogb2Zmc2V0IGluIHRoZSBhcnJheSBidWZmZXIgKi8KICB1aW50MzJfdCBsZW5ndGg7ICAgICAgIC8qIGxlbmd0aCBpbiB0aGUgYXJyYXkgYnVmZmVyICovCn0gSlNUeXBlZEFycmF5OwoKdHlwZWRlZiBzdHJ1Y3QgSlNBc3luY0Z1bmN0aW9uU3RhdGUgewogIEpTVmFsdWUgdGhpc192YWw7IC8qICd0aGlzJyBnZW5lcmF0b3IgYXJndW1lbnQgKi8KICBpbnQgYXJnYzsgICAgICAgICAvKiBudW1iZXIgb2YgZnVuY3Rpb24gYXJndW1lbnRzICovCiAgQk9PTCB0aHJvd19mbGFnOyAgLyogdXNlZCB0byB0aHJvdyBhbiBleGNlcHRpb24gaW4gSlNfQ2FsbEludGVybmFsKCkgKi8KICBKU1N0YWNrRnJhbWUgZnJhbWU7Cn0gSlNBc3luY0Z1bmN0aW9uU3RhdGU7CgovKiBYWFg6IGNvdWxkIHVzZSBhbiBvYmplY3QgaW5zdGVhZCB0byBhdm9pZCB0aGUKICAgSlNfVEFHX0FTWU5DX0ZVTkNUSU9OIHRhZyBmb3IgdGhlIEdDICovCnR5cGVkZWYgc3RydWN0IEpTQXN5bmNGdW5jdGlvbkRhdGEgewogIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QgKi8KICBKU1ZhbHVlIHJlc29sdmluZ19mdW5jc1syXTsKICBCT09MIGlzX2FjdGl2ZTsgLyogdHJ1ZSBpZiB0aGUgYXN5bmMgZnVuY3Rpb24gc3RhdGUgaXMgdmFsaWQgKi8KICBKU0FzeW5jRnVuY3Rpb25TdGF0ZSBmdW5jX3N0YXRlOwp9IEpTQXN5bmNGdW5jdGlvbkRhdGE7CgpzdHJ1Y3QgSlNPYmplY3QgewogIHVuaW9uIHsKICAgIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOwogICAgc3RydWN0IHsKICAgICAgaW50IF9fZ2NfcmVmX2NvdW50OyAvKiBjb3JyZXNwb25kcyB0byBoZWFkZXIucmVmX2NvdW50ICovCiAgICAgIHVpbnQ4X3QgX19nY19tYXJrOyAgLyogY29ycmVzcG9uZHMgdG8gaGVhZGVyLm1hcmsvZ2Nfb2JqX3R5cGUgKi8KCiAgICAgIHVpbnQ4X3QgZXh0ZW5zaWJsZSA6IDE7CiAgICAgIHVpbnQ4X3QgZnJlZV9tYXJrIDogMTsgICAgICAgICAgICAvKiBvbmx5IHVzZWQgd2hlbiBmcmVlaW5nIG9iamVjdHMgd2l0aCBjeWNsZXMgKi8KICAgICAgdWludDhfdCBpc19leG90aWMgOiAxOyAgICAgICAgICAgIC8qIFRSVUUgaWYgb2JqZWN0IGhhcyBleG90aWMgcHJvcGVydHkgaGFuZGxlcnMgKi8KICAgICAgdWludDhfdCBmYXN0X2FycmF5IDogMTsgICAgICAgICAgIC8qIFRSVUUgaWYgdS5hcnJheSBpcyB1c2VkIGZvciBnZXQvcHV0IChmb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NMQVNTX0FSUkFZLCBKU19DTEFTU19BUkdVTUVOVFMgYW5kIHR5cGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheXMpICovCiAgICAgIHVpbnQ4X3QgaXNfY29uc3RydWN0b3IgOiAxOyAgICAgICAvKiBUUlVFIGlmIG9iamVjdCBpcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uICovCiAgICAgIHVpbnQ4X3QgaXNfdW5jYXRjaGFibGVfZXJyb3IgOiAxOyAvKiBpZiBUUlVFLCBlcnJvciBpcyBub3QgY2F0Y2hhYmxlICovCiAgICAgIHVpbnQ4X3QgdG1wX21hcmsgOiAxOyAgICAgICAgICAgICAvKiB1c2VkIGluIEpTX1dyaXRlT2JqZWN0UmVjKCkgKi8KICAgICAgdWludDhfdCBpc19IVE1MRERBIDogMTsgICAgICAgICAgIC8qIHNwZWNpZmljIGFubmV4IEIgSXNIdG1sRERBIGJlaGF2aW9yICovCiAgICAgIHVpbnQxNl90IGNsYXNzX2lkOyAgICAgICAgICAgICAgICAvKiBzZWUgSlNfQ0xBU1NfeCAqLwogICAgfTsKICB9OwogIC8qIGJ5dGUgb2Zmc2V0czogMTYvMjQgKi8KICBKU1NoYXBlKiBzaGFwZTsgICAvKiBwcm90b3R5cGUgYW5kIHByb3BlcnR5IG5hbWVzICsgZmxhZyAqLwogIEpTUHJvcGVydHkqIHByb3A7IC8qIGFycmF5IG9mIHByb3BlcnRpZXMgKi8KICAvKiBieXRlIG9mZnNldHM6IDI0LzQwICovCiAgc3RydWN0IEpTTWFwUmVjb3JkKiBmaXJzdF93ZWFrX3JlZjsgLyogWFhYOiB1c2UgYSBiaXQgYW5kIGFuIGV4dGVybmFsIGhhc2ggdGFibGU/ICovCiAgLyogYnl0ZSBvZmZzZXRzOiAyOC80OCAqLwogIHVuaW9uIHsKICAgIHZvaWQqIG9wYXF1ZTsKICAgIHN0cnVjdCBKU0JvdW5kRnVuY3Rpb24qIGJvdW5kX2Z1bmN0aW9uOyAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0JPVU5EX0ZVTkNUSU9OICovCiAgICBzdHJ1Y3QgSlNDRnVuY3Rpb25EYXRhUmVjb3JkKiBjX2Z1bmN0aW9uX2RhdGFfcmVjb3JkOyAvKiBKU19DTEFTU19DX0ZVTkNUSU9OX0RBVEEgKi8KICAgIHN0cnVjdCBKU0ZvckluSXRlcmF0b3IqIGZvcl9pbl9pdGVyYXRvcjsgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0ZPUl9JTl9JVEVSQVRPUiAqLwogICAgc3RydWN0IEpTQXJyYXlCdWZmZXIqIGFycmF5X2J1ZmZlcjsgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQVJSQVlfQlVGRkVSLCBKU19DTEFTU19TSEFSRURfQVJSQVlfQlVGRkVSICovCiAgICBzdHJ1Y3QgSlNUeXBlZEFycmF5KiB0eXBlZF9hcnJheTsgICAgICAgICAgICAgICAgICAgICAvKiBKU19DTEFTU19VSU5UOENfQVJSQVkuLkpTX0NMQVNTX0RBVEFWSUVXICovCiNpZmRlZiBDT05GSUdfQklHTlVNCiAgICBzdHJ1Y3QgSlNGbG9hdEVudiogZmxvYXRfZW52OyAgICAgICAgICAgLyogSlNfQ0xBU1NfRkxPQVRfRU5WICovCiAgICBzdHJ1Y3QgSlNPcGVyYXRvclNldERhdGEqIG9wZXJhdG9yX3NldDsgLyogSlNfQ0xBU1NfT1BFUkFUT1JfU0VUICovCiNlbmRpZgogICAgc3RydWN0IEpTTWFwU3RhdGUqIG1hcF9zdGF0ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX01BUC4uSlNfQ0xBU1NfV0VBS1NFVCAqLwogICAgc3RydWN0IEpTTWFwSXRlcmF0b3JEYXRhKiBtYXBfaXRlcmF0b3JfZGF0YTsgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX01BUF9JVEVSQVRPUiwgSlNfQ0xBU1NfU0VUX0lURVJBVE9SICovCiAgICBzdHJ1Y3QgSlNBcnJheUl0ZXJhdG9yRGF0YSogYXJyYXlfaXRlcmF0b3JfZGF0YTsgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQVJSQVlfSVRFUkFUT1IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0xBU1NfU1RSSU5HX0lURVJBVE9SICovCiAgICBzdHJ1Y3QgSlNSZWdFeHBTdHJpbmdJdGVyYXRvckRhdGEqIHJlZ2V4cF9zdHJpbmdfaXRlcmF0b3JfZGF0YTsgICAgLyogSlNfQ0xBU1NfUkVHRVhQX1NUUklOR19JVEVSQVRPUiAqLwogICAgc3RydWN0IEpTR2VuZXJhdG9yRGF0YSogZ2VuZXJhdG9yX2RhdGE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0dFTkVSQVRPUiAqLwogICAgc3RydWN0IEpTUHJveHlEYXRhKiBwcm94eV9kYXRhOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX1BST1hZICovCiAgICBzdHJ1Y3QgSlNQcm9taXNlRGF0YSogcHJvbWlzZV9kYXRhOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfUFJPTUlTRSAqLwogICAgc3RydWN0IEpTUHJvbWlzZUZ1bmN0aW9uRGF0YSogcHJvbWlzZV9mdW5jdGlvbl9kYXRhOyAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX1BST01JU0VfUkVTT0xWRV9GVU5DVElPTiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DTEFTU19QUk9NSVNFX1JFSkVDVF9GVU5DVElPTiAqLwogICAgc3RydWN0IEpTQXN5bmNGdW5jdGlvbkRhdGEqIGFzeW5jX2Z1bmN0aW9uX2RhdGE7ICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0FTWU5DX0ZVTkNUSU9OX1JFU09MVkUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0xBU1NfQVNZTkNfRlVOQ1RJT05fUkVKRUNUICovCiAgICBzdHJ1Y3QgSlNBc3luY0Zyb21TeW5jSXRlcmF0b3JEYXRhKiBhc3luY19mcm9tX3N5bmNfaXRlcmF0b3JfZGF0YTsgLyogSlNfQ0xBU1NfQVNZTkNfRlJPTV9TWU5DX0lURVJBVE9SICovCiAgICBzdHJ1Y3QgSlNBc3luY0dlbmVyYXRvckRhdGEqIGFzeW5jX2dlbmVyYXRvcl9kYXRhOyAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQVNZTkNfR0VORVJBVE9SICovCiAgICBzdHJ1Y3QgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQllURUNPREVfRlVOQ1RJT046IDEyLzI0IGJ5dGVzICovCiAgICAgIC8qIGFsc28gdXNlZCBieSBKU19DTEFTU19HRU5FUkFUT1JfRlVOQ1RJT04sIEpTX0NMQVNTX0FTWU5DX0ZVTkNUSU9OIGFuZAogICAgICAgKiBKU19DTEFTU19BU1lOQ19HRU5FUkFUT1JfRlVOQ1RJT04gKi8KICAgICAgc3RydWN0IEpTRnVuY3Rpb25CeXRlY29kZSogZnVuY3Rpb25fYnl0ZWNvZGU7CiAgICAgIEpTVmFyUmVmKiogdmFyX3JlZnM7CiAgICAgIEpTT2JqZWN0KiBob21lX29iamVjdDsgLyogZm9yICdzdXBlcicgYWNjZXNzICovCiAgICB9IGZ1bmM7CiAgICBzdHJ1Y3QgeyAvKiBKU19DTEFTU19DX0ZVTkNUSU9OOiAxMi8yMCBieXRlcyAqLwogICAgICBKU0NvbnRleHQqIHJlYWxtOwogICAgICBKU0NGdW5jdGlvblR5cGUgY19mdW5jdGlvbjsKICAgICAgdWludDhfdCBsZW5ndGg7CiAgICAgIHVpbnQ4X3QgY3Byb3RvOwogICAgICBpbnQxNl90IG1hZ2ljOwogICAgfSBjZnVuYzsKICAgIC8qIGFycmF5IHBhcnQgZm9yIGZhc3QgYXJyYXlzIGFuZCB0eXBlZCBhcnJheXMgKi8KICAgIHN0cnVjdCB7IC8qIEpTX0NMQVNTX0FSUkFZLCBKU19DTEFTU19BUkdVTUVOVFMsCiAgICAgICAgICAgICAgICBKU19DTEFTU19VSU5UOENfQVJSQVkuLkpTX0NMQVNTX0ZMT0FUNjRfQVJSQVkgKi8KICAgICAgdW5pb24gewogICAgICAgIHVpbnQzMl90IHNpemU7ICAgICAgICAgICAgICAgICAgICAvKiBKU19DTEFTU19BUlJBWSwgSlNfQ0xBU1NfQVJHVU1FTlRTICovCiAgICAgICAgc3RydWN0IEpTVHlwZWRBcnJheSogdHlwZWRfYXJyYXk7IC8qIEpTX0NMQVNTX1VJTlQ4Q19BUlJBWS4uSlNfQ0xBU1NfRkxPQVQ2NF9BUlJBWSAqLwogICAgICB9IHUxOwogICAgICB1bmlvbiB7CiAgICAgICAgSlNWYWx1ZSogdmFsdWVzOyAgICAgIC8qIEpTX0NMQVNTX0FSUkFZLCBKU19DTEFTU19BUkdVTUVOVFMgKi8KICAgICAgICB2b2lkKiBwdHI7ICAgICAgICAgICAgLyogSlNfQ0xBU1NfVUlOVDhDX0FSUkFZLi5KU19DTEFTU19GTE9BVDY0X0FSUkFZICovCiAgICAgICAgaW50OF90KiBpbnQ4X3B0cjsgICAgIC8qIEpTX0NMQVNTX0lOVDhfQVJSQVkgKi8KICAgICAgICB1aW50OF90KiB1aW50OF9wdHI7ICAgLyogSlNfQ0xBU1NfVUlOVDhfQVJSQVksIEpTX0NMQVNTX1VJTlQ4Q19BUlJBWSAqLwogICAgICAgIGludDE2X3QqIGludDE2X3B0cjsgICAvKiBKU19DTEFTU19JTlQxNl9BUlJBWSAqLwogICAgICAgIHVpbnQxNl90KiB1aW50MTZfcHRyOyAvKiBKU19DTEFTU19VSU5UMTZfQVJSQVkgKi8KICAgICAgICBpbnQzMl90KiBpbnQzMl9wdHI7ICAgLyogSlNfQ0xBU1NfSU5UMzJfQVJSQVkgKi8KICAgICAgICB1aW50MzJfdCogdWludDMyX3B0cjsgLyogSlNfQ0xBU1NfVUlOVDMyX0FSUkFZICovCiAgICAgICAgaW50NjRfdCogaW50NjRfcHRyOyAgIC8qIEpTX0NMQVNTX0lOVDY0X0FSUkFZICovCiAgICAgICAgdWludDY0X3QqIHVpbnQ2NF9wdHI7IC8qIEpTX0NMQVNTX1VJTlQ2NF9BUlJBWSAqLwogICAgICAgIGZsb2F0KiBmbG9hdF9wdHI7ICAgICAvKiBKU19DTEFTU19GTE9BVDMyX0FSUkFZICovCiAgICAgICAgZG91YmxlKiBkb3VibGVfcHRyOyAgIC8qIEpTX0NMQVNTX0ZMT0FUNjRfQVJSQVkgKi8KICAgICAgfSB1OwogICAgICB1aW50MzJfdCBjb3VudDsgICAgLyogPD0gMl4zMS0xLiAwIGZvciBhIGRldGFjaGVkIHR5cGVkIGFycmF5ICovCiAgICB9IGFycmF5OyAgICAgICAgICAgICAvKiAxMi8yMCBieXRlcyAqLwogICAgSlNSZWdFeHAgcmVnZXhwOyAgICAgLyogSlNfQ0xBU1NfUkVHRVhQOiA4LzE2IGJ5dGVzICovCiAgICBKU1ZhbHVlIG9iamVjdF9kYXRhOyAvKiBmb3IgSlNfU2V0T2JqZWN0RGF0YSgpOiA4LzE2LzE2IGJ5dGVzICovCiAgfSB1OwogIC8qIGJ5dGUgc2l6ZXM6IDQwLzQ4LzcyICovCn07CgojaWZuZGVmIFNIT1JUX09QQ09ERVMKI2RlZmluZSBTSE9SVF9PUENPREVTIDEKI2VuZGlmCgp0eXBlZGVmIGVudW0gT1BDb2RlRm9ybWF0IHsKI2RlZmluZSBGTVQoZikgT1BfRk1UXyMjZiwKI2RlZmluZSBERUYoaWQsIHNpemUsIG5fcG9wLCBuX3B1c2gsIGYpCiNpbmNsdWRlIDxxdWlja2pzLW9wY29kZS5oPgojdW5kZWYgREVGCiN1bmRlZiBGTVQKfSBPUENvZGVGb3JtYXQ7CgplbnVtIE9QQ29kZUVudW0gewojZGVmaW5lIEZNVChmKQojZGVmaW5lIERFRihpZCwgc2l6ZSwgbl9wb3AsIG5fcHVzaCwgZikgT1BfIyNpZCwKI2RlZmluZSBkZWYoaWQsIHNpemUsIG5fcG9wLCBuX3B1c2gsIGYpCiNpbmNsdWRlIDxxdWlja2pzLW9wY29kZS5oPgojdW5kZWYgZGVmCiN1bmRlZiBERUYKI3VuZGVmIEZNVAogIE9QX0NPVU5ULCAvKiBleGNsdWRpbmcgdGVtcG9yYXJ5IG9wY29kZXMgKi8KICAvKiB0ZW1wb3Jhcnkgb3Bjb2RlcyA6IG92ZXJsYXAgd2l0aCB0aGUgc2hvcnQgb3Bjb2RlcyAqLwogIE9QX1RFTVBfU1RBUlQgPSBPUF9ub3AgKyAxLAogIE9QX19fZHVtbXkgPSBPUF9URU1QX1NUQVJUIC0gMSwKI2RlZmluZSBGTVQoZikKI2RlZmluZSBERUYoaWQsIHNpemUsIG5fcG9wLCBuX3B1c2gsIGYpCiNkZWZpbmUgZGVmKGlkLCBzaXplLCBuX3BvcCwgbl9wdXNoLCBmKSBPUF8jI2lkLAojaW5jbHVkZSA8cXVpY2tqcy1vcGNvZGUuaD4KI3VuZGVmIGRlZgojdW5kZWYgREVGCiN1bmRlZiBGTVQKICBPUF9URU1QX0VORCwKfTsKLyogSlNBdG9tIHN1cHBvcnQgKi8KCiNkZWZpbmUgSlNfQVRPTV9UQUdfSU5UICgxVSA8PCAzMSkKI2RlZmluZSBKU19BVE9NX01BWF9JTlQgKEpTX0FUT01fVEFHX0lOVCAtIDEpCiNkZWZpbmUgSlNfQVRPTV9NQVggKCgxVSA8PCAzMCkgLSAxKQoKdHlwZWRlZiBzdHJ1Y3QgU3RyaW5nQnVmZmVyIHsKICBKU0NvbnRleHQqIGN0eDsKICBKU1N0cmluZyogc3RyOwogIGludCBsZW47CiAgaW50IHNpemU7CiAgaW50IGlzX3dpZGVfY2hhcjsKICBpbnQgZXJyb3Jfc3RhdHVzOwp9IFN0cmluZ0J1ZmZlcjsKCnR5cGVkZWYgc3RydWN0IEpTQ0Z1bmN0aW9uRGF0YVJlY29yZCB7CiAgSlNDRnVuY3Rpb25EYXRhKiBmdW5jOwogIHVpbnQ4X3QgbGVuZ3RoOwogIHVpbnQ4X3QgZGF0YV9sZW47CiAgdWludDE2X3QgbWFnaWM7CiAgSlNWYWx1ZSBkYXRhWzBdOwp9IEpTQ0Z1bmN0aW9uRGF0YVJlY29yZDsKCnR5cGVkZWYgc3RydWN0IEpTQ0Nsb3N1cmVSZWNvcmQgewogIEpTQ0Nsb3N1cmUqIGZ1bmM7CiAgdWludDE2X3QgbGVuZ3RoOwogIHVpbnQxNl90IG1hZ2ljOwogIHZvaWQqIG9wYXF1ZTsKICB2b2lkICgqb3BhcXVlX2ZpbmFsaXplKSh2b2lkKik7Cn0gSlNDQ2xvc3VyZVJlY29yZDsKCnR5cGVkZWYgc3RydWN0IEpTTWVtb3J5VXNhZ2VfaGVscGVyIHsKICBkb3VibGUgbWVtb3J5X3VzZWRfY291bnQ7CiAgZG91YmxlIHN0cl9jb3VudDsKICBkb3VibGUgc3RyX3NpemU7CiAgaW50NjRfdCBqc19mdW5jX2NvdW50OwogIGRvdWJsZSBqc19mdW5jX3NpemU7CiAgaW50NjRfdCBqc19mdW5jX2NvZGVfc2l6ZTsKICBpbnQ2NF90IGpzX2Z1bmNfcGMybGluZV9jb3VudDsKICBpbnQ2NF90IGpzX2Z1bmNfcGMybGluZV9zaXplOwp9IEpTTWVtb3J5VXNhZ2VfaGVscGVyOwoKdHlwZWRlZiBlbnVtIEpTR2VuZXJhdG9yU3RhdGVFbnVtIHsKICBKU19HRU5FUkFUT1JfU1RBVEVfU1VTUEVOREVEX1NUQVJULAogIEpTX0dFTkVSQVRPUl9TVEFURV9TVVNQRU5ERURfWUlFTEQsCiAgSlNfR0VORVJBVE9SX1NUQVRFX1NVU1BFTkRFRF9ZSUVMRF9TVEFSLAogIEpTX0dFTkVSQVRPUl9TVEFURV9FWEVDVVRJTkcsCiAgSlNfR0VORVJBVE9SX1NUQVRFX0NPTVBMRVRFRCwKfSBKU0dlbmVyYXRvclN0YXRlRW51bTsKCnR5cGVkZWYgc3RydWN0IEpTR2VuZXJhdG9yRGF0YSB7CiAgSlNHZW5lcmF0b3JTdGF0ZUVudW0gc3RhdGU7CiAgSlNBc3luY0Z1bmN0aW9uU3RhdGUgZnVuY19zdGF0ZTsKfSBKU0dlbmVyYXRvckRhdGE7Cgp0eXBlZGVmIGVudW0gSlNBc3luY0dlbmVyYXRvclN0YXRlRW51bSB7CiAgSlNfQVNZTkNfR0VORVJBVE9SX1NUQVRFX1NVU1BFTkRFRF9TVEFSVCwKICBKU19BU1lOQ19HRU5FUkFUT1JfU1RBVEVfU1VTUEVOREVEX1lJRUxELAogIEpTX0FTWU5DX0dFTkVSQVRPUl9TVEFURV9TVVNQRU5ERURfWUlFTERfU1RBUiwKICBKU19BU1lOQ19HRU5FUkFUT1JfU1RBVEVfRVhFQ1VUSU5HLAogIEpTX0FTWU5DX0dFTkVSQVRPUl9TVEFURV9BV0FJVElOR19SRVRVUk4sCiAgSlNfQVNZTkNfR0VORVJBVE9SX1NUQVRFX0NPTVBMRVRFRCwKfSBKU0FzeW5jR2VuZXJhdG9yU3RhdGVFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNBc3luY0dlbmVyYXRvclJlcXVlc3QgewogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKICAvKiBjb21wbGV0aW9uICovCiAgaW50IGNvbXBsZXRpb25fdHlwZTsgLyogR0VOX01BR0lDX3ggKi8KICBKU1ZhbHVlIHJlc3VsdDsKICAvKiBwcm9taXNlIGNhcGFiaWxpdHkgKi8KICBKU1ZhbHVlIHByb21pc2U7CiAgSlNWYWx1ZSByZXNvbHZpbmdfZnVuY3NbMl07Cn0gSlNBc3luY0dlbmVyYXRvclJlcXVlc3Q7Cgp0eXBlZGVmIHN0cnVjdCBKU0FzeW5jR2VuZXJhdG9yRGF0YSB7CiAgSlNPYmplY3QqIGdlbmVyYXRvcjsgLyogYmFjayBwb2ludGVyIHRvIHRoZSBvYmplY3QgKGNvbnN0KSAqLwogIEpTQXN5bmNHZW5lcmF0b3JTdGF0ZUVudW0gc3RhdGU7CiAgSlNBc3luY0Z1bmN0aW9uU3RhdGUgZnVuY19zdGF0ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIHF1ZXVlOyAvKiBsaXN0IG9mIEpTQXN5bmNHZW5lcmF0b3JSZXF1ZXN0LmxpbmsgKi8KfSBKU0FzeW5jR2VuZXJhdG9yRGF0YTsKCnR5cGVkZWYgZW51bSBKU1Byb21pc2VTdGF0ZUVudW0gewogIEpTX1BST01JU0VfUEVORElORywKICBKU19QUk9NSVNFX0ZVTEZJTExFRCwKICBKU19QUk9NSVNFX1JFSkVDVEVELAp9IEpTUHJvbWlzZVN0YXRlRW51bTsKCnR5cGVkZWYgc3RydWN0IEpTUHJvbWlzZURhdGEgewogIEpTUHJvbWlzZVN0YXRlRW51bSBwcm9taXNlX3N0YXRlOwogIC8qIDA9ZnVsZmlsbCwgMT1yZWplY3QsIGxpc3Qgb2YgSlNQcm9taXNlUmVhY3Rpb25EYXRhLmxpbmsgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIHByb21pc2VfcmVhY3Rpb25zWzJdOwogIEJPT0wgaXNfaGFuZGxlZDsgLyogTm90ZTogb25seSB1c2VmdWwgdG8gZGVidWcgKi8KICBKU1ZhbHVlIHByb21pc2VfcmVzdWx0Owp9IEpTUHJvbWlzZURhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU1Byb21pc2VGdW5jdGlvbkRhdGFSZXNvbHZlZCB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIGFscmVhZHlfcmVzb2x2ZWQ7Cn0gSlNQcm9taXNlRnVuY3Rpb25EYXRhUmVzb2x2ZWQ7Cgp0eXBlZGVmIHN0cnVjdCBKU1Byb21pc2VGdW5jdGlvbkRhdGEgewogIEpTVmFsdWUgcHJvbWlzZTsKICBKU1Byb21pc2VGdW5jdGlvbkRhdGFSZXNvbHZlZCogcHJlc29sdmVkOwp9IEpTUHJvbWlzZUZ1bmN0aW9uRGF0YTsKCnR5cGVkZWYgc3RydWN0IEpTUHJvbWlzZVJlYWN0aW9uRGF0YSB7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOyAvKiBub3QgdXNlZCBpbiBwcm9taXNlX3JlYWN0aW9uX2pvYiAqLwogIEpTVmFsdWUgcmVzb2x2aW5nX2Z1bmNzWzJdOwogIEpTVmFsdWUgaGFuZGxlcjsKfSBKU1Byb21pc2VSZWFjdGlvbkRhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU0JvdW5kRnVuY3Rpb24gewogIEpTVmFsdWUgZnVuY19vYmo7CiAgSlNWYWx1ZSB0aGlzX3ZhbDsKICBpbnQgYXJnYzsKICBKU1ZhbHVlIGFyZ3ZbMF07Cn0gSlNCb3VuZEZ1bmN0aW9uOwoKdHlwZWRlZiBlbnVtIEpTSXRlcmF0b3JLaW5kRW51bSB7CiAgSlNfSVRFUkFUT1JfS0lORF9LRVksCiAgSlNfSVRFUkFUT1JfS0lORF9WQUxVRSwKICBKU19JVEVSQVRPUl9LSU5EX0tFWV9BTkRfVkFMVUUsCn0gSlNJdGVyYXRvcktpbmRFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNGb3JJbkl0ZXJhdG9yIHsKICBKU1ZhbHVlIG9iajsKICBCT09MIGlzX2FycmF5OwogIHVpbnQzMl90IGFycmF5X2xlbmd0aDsKICB1aW50MzJfdCBpZHg7Cn0gSlNGb3JJbkl0ZXJhdG9yOwoKdHlwZWRlZiBlbnVtIHsKICAvKiBiaW5hcnkgb3BlcmF0b3JzICovCiAgSlNfT1ZPUF9BREQsCiAgSlNfT1ZPUF9TVUIsCiAgSlNfT1ZPUF9NVUwsCiAgSlNfT1ZPUF9ESVYsCiAgSlNfT1ZPUF9NT0QsCiAgSlNfT1ZPUF9QT1csCiAgSlNfT1ZPUF9PUiwKICBKU19PVk9QX0FORCwKICBKU19PVk9QX1hPUiwKICBKU19PVk9QX1NITCwKICBKU19PVk9QX1NBUiwKICBKU19PVk9QX1NIUiwKICBKU19PVk9QX0VRLAogIEpTX09WT1BfTEVTUywKCiAgSlNfT1ZPUF9CSU5BUllfQ09VTlQsCiAgLyogdW5hcnkgb3BlcmF0b3JzICovCiAgSlNfT1ZPUF9QT1MgPSBKU19PVk9QX0JJTkFSWV9DT1VOVCwKICBKU19PVk9QX05FRywKICBKU19PVk9QX0lOQywKICBKU19PVk9QX0RFQywKICBKU19PVk9QX05PVCwKCiAgSlNfT1ZPUF9DT1VOVCwKfSBKU092ZXJsb2FkYWJsZU9wZXJhdG9yRW51bTsKCnR5cGVkZWYgc3RydWN0IHsKICB1aW50MzJfdCBvcGVyYXRvcl9pbmRleDsKICBKU09iamVjdCogb3BzW0pTX09WT1BfQklOQVJZX0NPVU5UXTsgLyogc2VsZiBvcGVyYXRvcnMgKi8KfSBKU0JpbmFyeU9wZXJhdG9yRGVmRW50cnk7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IGNvdW50OwogIEpTQmluYXJ5T3BlcmF0b3JEZWZFbnRyeSogdGFiOwp9IEpTQmluYXJ5T3BlcmF0b3JEZWY7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgdWludDMyX3Qgb3BlcmF0b3JfY291bnRlcjsKICBCT09MIGlzX3ByaW1pdGl2ZTsgLyogT3BlcmF0b3JTZXQgZm9yIGEgcHJpbWl0aXZlIHR5cGUgKi8KICAvKiBOVUxMIGlmIG5vIG9wZXJhdG9yIGlzIGRlZmluZWQgKi8KICBKU09iamVjdCogc2VsZl9vcHNbSlNfT1ZPUF9DT1VOVF07IC8qIHNlbGYgb3BlcmF0b3JzICovCiAgSlNCaW5hcnlPcGVyYXRvckRlZiBsZWZ0OwogIEpTQmluYXJ5T3BlcmF0b3JEZWYgcmlnaHQ7Cn0gSlNPcGVyYXRvclNldERhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU1JlcU1vZHVsZUVudHJ5IHsKICBKU0F0b20gbW9kdWxlX25hbWU7CiAgSlNNb2R1bGVEZWYqIG1vZHVsZTsgLyogdXNlZCB1c2luZyByZXNvbHV0aW9uICovCn0gSlNSZXFNb2R1bGVFbnRyeTsKCnR5cGVkZWYgZW51bSBKU0V4cG9ydFR5cGVFbnVtIHsKICBKU19FWFBPUlRfVFlQRV9MT0NBTCwKICBKU19FWFBPUlRfVFlQRV9JTkRJUkVDVCwKfSBKU0V4cG9ydFR5cGVFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNFeHBvcnRFbnRyeSB7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgaW50IHZhcl9pZHg7ICAgICAgIC8qIGNsb3N1cmUgdmFyaWFibGUgaW5kZXggKi8KICAgICAgSlNWYXJSZWYqIHZhcl9yZWY7IC8qIGlmICE9IE5VTEwsIHJlZmVyZW5jZSB0byB0aGUgdmFyaWFibGUgKi8KICAgIH0gbG9jYWw7ICAgICAgICAgICAgIC8qIGZvciBsb2NhbCBleHBvcnQgKi8KICAgIGludCByZXFfbW9kdWxlX2lkeDsgIC8qIG1vZHVsZSBmb3IgaW5kaXJlY3QgZXhwb3J0ICovCiAgfSB1OwogIEpTRXhwb3J0VHlwZUVudW0gZXhwb3J0X3R5cGU7CiAgSlNBdG9tIGxvY2FsX25hbWU7ICAvKiAnKicgaWYgZXhwb3J0IG5zIGZyb20uIG5vdCB1c2VkIGZvciBsb2NhbAogICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0IGFmdGVyIGNvbXBpbGF0aW9uICovCiAgSlNBdG9tIGV4cG9ydF9uYW1lOyAvKiBleHBvcnRlZCB2YXJpYWJsZSBuYW1lICovCn0gSlNFeHBvcnRFbnRyeTsKCnR5cGVkZWYgc3RydWN0IEpTU3RhckV4cG9ydEVudHJ5IHsKICBpbnQgcmVxX21vZHVsZV9pZHg7IC8qIGluIHJlcV9tb2R1bGVfZW50cmllcyAqLwp9IEpTU3RhckV4cG9ydEVudHJ5OwoKdHlwZWRlZiBzdHJ1Y3QgSlNJbXBvcnRFbnRyeSB7CiAgaW50IHZhcl9pZHg7IC8qIGNsb3N1cmUgdmFyaWFibGUgaW5kZXggKi8KICBKU0F0b20gaW1wb3J0X25hbWU7CiAgaW50IHJlcV9tb2R1bGVfaWR4OyAvKiBpbiByZXFfbW9kdWxlX2VudHJpZXMgKi8KfSBKU0ltcG9ydEVudHJ5OwoKc3RydWN0IEpTTW9kdWxlRGVmIHsKICBKU1JlZkNvdW50SGVhZGVyIGhlYWRlcjsgLyogbXVzdCBjb21lIGZpcnN0LCAzMi1iaXQgKi8KICBKU0F0b20gbW9kdWxlX25hbWU7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwoKICBKU1JlcU1vZHVsZUVudHJ5KiByZXFfbW9kdWxlX2VudHJpZXM7CiAgaW50IHJlcV9tb2R1bGVfZW50cmllc19jb3VudDsKICBpbnQgcmVxX21vZHVsZV9lbnRyaWVzX3NpemU7CgogIEpTRXhwb3J0RW50cnkqIGV4cG9ydF9lbnRyaWVzOwogIGludCBleHBvcnRfZW50cmllc19jb3VudDsKICBpbnQgZXhwb3J0X2VudHJpZXNfc2l6ZTsKCiAgSlNTdGFyRXhwb3J0RW50cnkqIHN0YXJfZXhwb3J0X2VudHJpZXM7CiAgaW50IHN0YXJfZXhwb3J0X2VudHJpZXNfY291bnQ7CiAgaW50IHN0YXJfZXhwb3J0X2VudHJpZXNfc2l6ZTsKCiAgSlNJbXBvcnRFbnRyeSogaW1wb3J0X2VudHJpZXM7CiAgaW50IGltcG9ydF9lbnRyaWVzX2NvdW50OwogIGludCBpbXBvcnRfZW50cmllc19zaXplOwoKICBKU1ZhbHVlIG1vZHVsZV9uczsKICBKU1ZhbHVlIGZ1bmNfb2JqOyAgICAgICAgICAgIC8qIG9ubHkgdXNlZCBmb3IgSlMgbW9kdWxlcyAqLwogIEpTTW9kdWxlSW5pdEZ1bmMqIGluaXRfZnVuYzsgLyogb25seSB1c2VkIGZvciBDIG1vZHVsZXMgKi8KICBCT09MIHJlc29sdmVkIDogODsKICBCT09MIGZ1bmNfY3JlYXRlZCA6IDg7CiAgQk9PTCBpbnN0YW50aWF0ZWQgOiA4OwogIEJPT0wgZXZhbHVhdGVkIDogODsKICBCT09MIGV2YWxfbWFyayA6IDg7IC8qIHRlbXBvcmFyeSB1c2UgZHVyaW5nIGpzX2V2YWx1YXRlX21vZHVsZSgpICovCiAgLyogdHJ1ZSBpZiBldmFsdWF0aW9uIHlpZWxkZWQgYW4gZXhjZXB0aW9uLiBJdCBpcyBzYXZlZCBpbgogICAgIGV2YWxfZXhjZXB0aW9uICovCiAgQk9PTCBldmFsX2hhc19leGNlcHRpb24gOiA4OwogIEpTVmFsdWUgZXZhbF9leGNlcHRpb247CiAgSlNWYWx1ZSBtZXRhX29iajsgLyogZm9yIGltcG9ydC5tZXRhICovCn07Cgp0eXBlZGVmIHN0cnVjdCBKU0pvYkVudHJ5IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgSlNDb250ZXh0KiBjdHg7CiAgSlNKb2JGdW5jKiBqb2JfZnVuYzsKICBpbnQgYXJnYzsKICBKU1ZhbHVlIGFyZ3ZbMF07Cn0gSlNKb2JFbnRyeTsKCi8qIFNldC9NYXAvV2Vha1NldC9XZWFrTWFwICovCgp0eXBlZGVmIHN0cnVjdCBKU01hcFJlY29yZCB7CiAgaW50IHJlZl9jb3VudDsgLyogdXNlZCBkdXJpbmcgZW51bWVyYXRpb24gdG8gYXZvaWQgZnJlZWluZyB0aGUgcmVjb3JkICovCiAgQk9PTCBlbXB0eTsgICAgLyogVFJVRSBpZiB0aGUgcmVjb3JkIGlzIGRlbGV0ZWQgKi8KICBzdHJ1Y3QgSlNNYXBTdGF0ZSogbWFwOwogIHN0cnVjdCBKU01hcFJlY29yZCogbmV4dF93ZWFrX3JlZjsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgc3RydWN0IGxpc3RfaGVhZCBoYXNoX2xpbms7CiAgSlNWYWx1ZSBrZXk7CiAgSlNWYWx1ZSB2YWx1ZTsKfSBKU01hcFJlY29yZDsKCnR5cGVkZWYgc3RydWN0IEpTTWFwU3RhdGUgewogIEJPT0wgaXNfd2VhazsgICAgICAgICAgICAgLyogVFJVRSBpZiBXZWFrU2V0L1dlYWtNYXAgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIHJlY29yZHM7IC8qIGxpc3Qgb2YgSlNNYXBSZWNvcmQubGluayAqLwogIHVpbnQzMl90IHJlY29yZF9jb3VudDsKICBzdHJ1Y3QgbGlzdF9oZWFkKiBoYXNoX3RhYmxlOwogIHVpbnQzMl90IGhhc2hfc2l6ZTsgICAgICAgICAgICAgIC8qIG11c3QgYmUgYSBwb3dlciBvZiB0d28gKi8KICB1aW50MzJfdCByZWNvcmRfY291bnRfdGhyZXNob2xkOyAvKiBjb3VudCBhdCB3aGljaCBhIGhhc2ggdGFibGUgcmVzaXplIGlzIG5lZWRlZCAqLwp9IEpTTWFwU3RhdGU7CgojZGVmaW5lIE1BR0lDX1NFVCAoMSA8PCAwKQojZGVmaW5lIE1BR0lDX1dFQUsgKDEgPDwgMSkKCnR5cGVkZWYgc3RydWN0IEpTTWFwSXRlcmF0b3JEYXRhIHsKICBKU1ZhbHVlIG9iajsKICBKU0l0ZXJhdG9yS2luZEVudW0ga2luZDsKICBKU01hcFJlY29yZCogY3VyX3JlY29yZDsKfSBKU01hcEl0ZXJhdG9yRGF0YTsKCnR5cGVkZWYgc3RydWN0IEpTT3BDb2RlIHsKICB1aW50OF90IHNpemU7IC8qIGluIGJ5dGVzICovCiAgLyogdGhlIG9wY29kZXMgcmVtb3ZlIG5fcG9wIGl0ZW1zIGZyb20gdGhlIHRvcCBvZiB0aGUgc3RhY2ssIHRoZW4KICAgICBwdXNoZXMgbl9wdXNoIGl0ZW1zICovCiAgdWludDhfdCBuX3BvcDsKICB1aW50OF90IG5fcHVzaDsKICB1aW50OF90IGZtdDsKICBjb25zdCBjaGFyKiBuYW1lOwp9IEpTT3BDb2RlOwoKI2lmIFNIT1JUX09QQ09ERVMKLyogQWZ0ZXIgdGhlIGZpbmFsIGNvbXBpbGF0aW9uIHBhc3MsIHNob3J0IG9wY29kZXMgYXJlIHVzZWQuIFRoZWlyCiAgIG9wY29kZXMgb3ZlcmxhcCB3aXRoIHRoZSB0ZW1wb3Jhcnkgb3Bjb2RlcyB3aGljaCBjYW5ub3QgYXBwZWFyIGluCiAgIHRoZSBmaW5hbCBieXRlY29kZS4gVGhlaXIgZGVzY3JpcHRpb24gaXMgYWZ0ZXIgdGhlIHRlbXBvcmFyeQogICBvcGNvZGVzIGluIG9wY29kZV9pbmZvW10uICovCiNkZWZpbmUgc2hvcnRfb3Bjb2RlX2luZm8ob3ApIG9wY29kZV9pbmZvWyhvcCkgPj0gT1BfVEVNUF9TVEFSVCA/IChvcCkgKyAoT1BfVEVNUF9FTkQgLSBPUF9URU1QX1NUQVJUKSA6IChvcCldCiNlbHNlCiNkZWZpbmUgc2hvcnRfb3Bjb2RlX2luZm8ob3ApIG9wY29kZV9pbmZvW29wXQojZW5kaWYKCmV4dGVybiBjb25zdCBKU09wQ29kZSBqc19vcGNvZGVzW09QX0NPVU5UICsgKE9QX1RFTVBfRU5EIC0gT1BfVEVNUF9TVEFSVCldOwoKdHlwZWRlZiBzdHJ1Y3QgSlNQYXJzZVBvcyB7CiAgaW50IGxhc3RfbGluZV9udW07CiAgaW50IGxpbmVfbnVtOwogIEJPT0wgZ290X2xmOwogIGNvbnN0IHVpbnQ4X3QqIHB0cjsKfSBKU1BhcnNlUG9zOwoKdHlwZWRlZiBzdHJ1Y3QgSlNSZXNvbHZlRW50cnkgewogIEpTTW9kdWxlRGVmKiBtb2R1bGU7CiAgSlNBdG9tIG5hbWU7Cn0gSlNSZXNvbHZlRW50cnk7Cgp0eXBlZGVmIHN0cnVjdCBKU1Jlc29sdmVTdGF0ZSB7CiAgSlNSZXNvbHZlRW50cnkqIGFycmF5OwogIGludCBzaXplOwogIGludCBjb3VudDsKfSBKU1Jlc29sdmVTdGF0ZTsKCnR5cGVkZWYgZW51bSB7CiAgRVhQT1JURURfTkFNRV9BTUJJR1VPVVMsCiAgRVhQT1JURURfTkFNRV9OT1JNQUwsCiAgRVhQT1JURURfTkFNRV9OUywKfSBFeHBvcnRlZE5hbWVFbnRyeUVudW07Cgp0eXBlZGVmIHN0cnVjdCBFeHBvcnRlZE5hbWVFbnRyeSB7CiAgSlNBdG9tIGV4cG9ydF9uYW1lOwogIEV4cG9ydGVkTmFtZUVudHJ5RW51bSBleHBvcnRfdHlwZTsKICB1bmlvbiB7CiAgICBKU0V4cG9ydEVudHJ5KiBtZTsgICAvKiB1c2luZyB3aGVuIHRoZSBsaXN0IGlzIGJ1aWx0ICovCiAgICBKU1ZhclJlZiogdmFyX3JlZjsgICAvKiBFWFBPUlRFRF9OQU1FX05PUk1BTCAqLwogICAgSlNNb2R1bGVEZWYqIG1vZHVsZTsgLyogZm9yIEVYUE9SVEVEX05BTUVfTlMgKi8KICB9IHU7Cn0gRXhwb3J0ZWROYW1lRW50cnk7Cgp0eXBlZGVmIHN0cnVjdCBHZXRFeHBvcnROYW1lc1N0YXRlIHsKICBKU01vZHVsZURlZioqIG1vZHVsZXM7CiAgaW50IG1vZHVsZXNfc2l6ZTsKICBpbnQgbW9kdWxlc19jb3VudDsKCiAgRXhwb3J0ZWROYW1lRW50cnkqIGV4cG9ydGVkX25hbWVzOwogIGludCBleHBvcnRlZF9uYW1lc19zaXplOwogIGludCBleHBvcnRlZF9uYW1lc19jb3VudDsKfSBHZXRFeHBvcnROYW1lc1N0YXRlOwoKdHlwZWRlZiBzdHJ1Y3QgQ29kZUNvbnRleHQgewogIGNvbnN0IHVpbnQ4X3QqIGJjX2J1ZjsgLyogY29kZSBidWZmZXIgKi8KICBpbnQgYmNfbGVuOyAgICAgICAgICAgIC8qIGxlbmd0aCBvZiB0aGUgY29kZSBidWZmZXIgKi8KICBpbnQgcG9zOyAgICAgICAgICAgICAgIC8qIHBvc2l0aW9uIHBhc3QgdGhlIG1hdGNoZWQgY29kZSBwYXR0ZXJuICovCiAgaW50IGxpbmVfbnVtOyAgICAgICAgICAvKiBsYXN0IHZpc2l0ZWQgT1BfbGluZV9udW0gcGFyYW1ldGVyIG9yIC0xICovCiAgaW50IG9wOwogIGludCBpZHg7CiAgaW50IGxhYmVsOwogIGludCB2YWw7CiAgSlNBdG9tIGF0b207Cn0gQ29kZUNvbnRleHQ7Cgp0eXBlZGVmIHN0cnVjdCBTdGFja1NpemVTdGF0ZSB7CiAgaW50IGJjX2xlbjsKICBpbnQgc3RhY2tfbGVuX21heDsKICB1aW50MTZfdCogc3RhY2tfbGV2ZWxfdGFiOwogIGludCogcGNfc3RhY2s7CiAgaW50IHBjX3N0YWNrX2xlbjsKICBpbnQgcGNfc3RhY2tfc2l6ZTsKfSBTdGFja1NpemVTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IHsKICBKU09iamVjdCogb2JqOwogIHVpbnQzMl90IGhhc2hfbmV4dDsgLyogLTEgaWYgbm8gbmV4dCBlbnRyeSAqLwp9IEpTT2JqZWN0TGlzdEVudHJ5OwoKLyogWFhYOiByZXVzZSBpdCB0byBvcHRpbWl6ZSB3ZWFrIHJlZmVyZW5jZXMgKi8KdHlwZWRlZiBzdHJ1Y3QgewogIEpTT2JqZWN0TGlzdEVudHJ5KiBvYmplY3RfdGFiOwogIGludCBvYmplY3RfY291bnQ7CiAgaW50IG9iamVjdF9zaXplOwogIHVpbnQzMl90KiBoYXNoX3RhYmxlOwogIHVpbnQzMl90IGhhc2hfc2l6ZTsKfSBKU09iamVjdExpc3Q7Cgp0eXBlZGVmIGVudW0gQkNUYWdFbnVtIHsKICBCQ19UQUdfTlVMTCA9IDEsCiAgQkNfVEFHX1VOREVGSU5FRCwKICBCQ19UQUdfQk9PTF9GQUxTRSwKICBCQ19UQUdfQk9PTF9UUlVFLAogIEJDX1RBR19JTlQzMiwKICBCQ19UQUdfRkxPQVQ2NCwKICBCQ19UQUdfU1RSSU5HLAogIEJDX1RBR19PQkpFQ1QsCiAgQkNfVEFHX0FSUkFZLAogIEJDX1RBR19CSUdfSU5ULAogIEJDX1RBR19CSUdfRkxPQVQsCiAgQkNfVEFHX0JJR19ERUNJTUFMLAogIEJDX1RBR19URU1QTEFURV9PQkpFQ1QsCiAgQkNfVEFHX0ZVTkNUSU9OX0JZVEVDT0RFLAogIEJDX1RBR19NT0RVTEUsCiAgQkNfVEFHX1RZUEVEX0FSUkFZLAogIEJDX1RBR19BUlJBWV9CVUZGRVIsCiAgQkNfVEFHX1NIQVJFRF9BUlJBWV9CVUZGRVIsCiAgQkNfVEFHX0RBVEUsCiAgQkNfVEFHX09CSkVDVF9WQUxVRSwKICBCQ19UQUdfT0JKRUNUX1JFRkVSRU5DRSwKfSBCQ1RhZ0VudW07CgojaWZkZWYgQ09ORklHX0JJR05VTQojZGVmaW5lIEJDX0JBU0VfVkVSU0lPTiAyCiNlbHNlCiNkZWZpbmUgQkNfQkFTRV9WRVJTSU9OIDEKI2VuZGlmCiNkZWZpbmUgQkNfQkVfVkVSU0lPTiAweDQwCiNpZmRlZiBXT1JEU19CSUdFTkRJQU4KI2RlZmluZSBCQ19WRVJTSU9OIChCQ19CQVNFX1ZFUlNJT04gfCBCQ19CRV9WRVJTSU9OKQojZWxzZQojZGVmaW5lIEJDX1ZFUlNJT04gQkNfQkFTRV9WRVJTSU9OCiNlbmRpZgoKdHlwZWRlZiBzdHJ1Y3QgQkNXcml0ZXJTdGF0ZSB7CiAgSlNDb250ZXh0KiBjdHg7CiAgRHluQnVmIGRidWY7CiAgQk9PTCBieXRlX3N3YXAgOiA4OwogIEJPT0wgYWxsb3dfYnl0ZWNvZGUgOiA4OwogIEJPT0wgYWxsb3dfc2FiIDogODsKICBCT09MIGFsbG93X3JlZmVyZW5jZSA6IDg7CiAgdWludDMyX3QgZmlyc3RfYXRvbTsKICB1aW50MzJfdCogYXRvbV90b19pZHg7CiAgaW50IGF0b21fdG9faWR4X3NpemU7CiAgSlNBdG9tKiBpZHhfdG9fYXRvbTsKICBpbnQgaWR4X3RvX2F0b21fY291bnQ7CiAgaW50IGlkeF90b19hdG9tX3NpemU7CiAgdWludDhfdCoqIHNhYl90YWI7CiAgaW50IHNhYl90YWJfbGVuOwogIGludCBzYWJfdGFiX3NpemU7CiAgLyogbGlzdCBvZiByZWZlcmVuY2VkIG9iamVjdHMgKHVzZWQgaWYgYWxsb3dfcmVmZXJlbmNlID0gVFJVRSkgKi8KICBKU09iamVjdExpc3Qgb2JqZWN0X2xpc3Q7Cn0gQkNXcml0ZXJTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IEJDUmVhZGVyU3RhdGUgewogIEpTQ29udGV4dCogY3R4OwogIGNvbnN0IHVpbnQ4X3QgKmJ1Zl9zdGFydCwgKnB0ciwgKmJ1Zl9lbmQ7CiAgdWludDMyX3QgZmlyc3RfYXRvbTsKICB1aW50MzJfdCBpZHhfdG9fYXRvbV9jb3VudDsKICBKU0F0b20qIGlkeF90b19hdG9tOwogIGludCBlcnJvcl9zdGF0ZTsKICBCT09MIGFsbG93X3NhYiA6IDg7CiAgQk9PTCBhbGxvd19ieXRlY29kZSA6IDg7CiAgQk9PTCBpc19yb21fZGF0YSA6IDg7CiAgQk9PTCBhbGxvd19yZWZlcmVuY2UgOiA4OwogIC8qIG9iamVjdCByZWZlcmVuY2VzICovCiAgSlNPYmplY3QqKiBvYmplY3RzOwogIGludCBvYmplY3RzX2NvdW50OwogIGludCBvYmplY3RzX3NpemU7CgojaWZkZWYgRFVNUF9SRUFEX09CSkVDVAogIGNvbnN0IHVpbnQ4X3QqIHB0cl9sYXN0OwogIGludCBsZXZlbDsKI2VuZGlmCn0gQkNSZWFkZXJTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgaW50IGZkOwogIEpTVmFsdWUgcndfZnVuY1syXTsKICBzc2l6ZV90IGlwZmQ7Cn0gSlNPU1JXSGFuZGxlcjsKCnR5cGVkZWYgc3RydWN0IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgaW50IHNpZ19udW07CiAgSlNWYWx1ZSBmdW5jOwp9IEpTT1NTaWduYWxIYW5kbGVyOwoKdHlwZWRlZiBzdHJ1Y3QgewogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKICBCT09MIGhhc19vYmplY3Q7CiAgaW50NjRfdCB0aW1lb3V0OwogIEpTVmFsdWUgZnVuYzsKfSBKU09TVGltZXI7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwogIHVpbnQ4X3QqIGRhdGE7CiAgc2l6ZV90IGRhdGFfbGVuOwogIC8qIGxpc3Qgb2YgU2hhcmVkQXJyYXlCdWZmZXJzLCBuZWNlc3NhcnkgdG8gZnJlZSB0aGUgbWVzc2FnZSAqLwogIHVpbnQ4X3QqKiBzYWJfdGFiOwogIHNpemVfdCBzYWJfdGFiX2xlbjsKfSBKU1dvcmtlck1lc3NhZ2U7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IHJlZl9jb3VudDsKI2lmZGVmIFVTRV9XT1JLRVIKICBwdGhyZWFkX211dGV4X3QgbXV0ZXg7CiNlbmRpZgogIHN0cnVjdCBsaXN0X2hlYWQgbXNnX3F1ZXVlOyAvKiBsaXN0IG9mIEpTV29ya2VyTWVzc2FnZS5saW5rICovCiAgaW50IHJlYWRfZmQ7CiAgaW50IHdyaXRlX2ZkOwogIHNzaXplX3QgaXBmZDsKfSBKU1dvcmtlck1lc3NhZ2VQaXBlOwoKdHlwZWRlZiBzdHJ1Y3QgewogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKICBKU1dvcmtlck1lc3NhZ2VQaXBlKiByZWN2X3BpcGU7CiAgSlNWYWx1ZSBvbl9tZXNzYWdlX2Z1bmM7Cn0gSlNXb3JrZXJNZXNzYWdlSGFuZGxlcjsKCnR5cGVkZWYgc3RydWN0IEpTVGhyZWFkU3RhdGUgewogIHN0cnVjdCBsaXN0X2hlYWQgb3NfcndfaGFuZGxlcnM7ICAgICAvKiBsaXN0IG9mIEpTT1NSV0hhbmRsZXIubGluayAqLwogIHN0cnVjdCBsaXN0X2hlYWQgb3Nfc2lnbmFsX2hhbmRsZXJzOyAvKiBsaXN0IEpTT1NTaWduYWxIYW5kbGVyLmxpbmsgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsgICAgICAgICAgLyogbGlzdCBvZiBKU09TVGltZXIubGluayAqLwogIHN0cnVjdCBsaXN0X2hlYWQgcG9ydF9saXN0OyAgICAgICAgICAvKiBsaXN0IG9mIEpTV29ya2VyTWVzc2FnZUhhbmRsZXIubGluayAqLwogIGludCBldmFsX3NjcmlwdF9yZWN1cnNlOyAgICAgICAgICAgICAvKiBvbmx5IHVzZWQgaW4gdGhlIG1haW4gdGhyZWFkICovCiAgLyogbm90IHVzZWQgaW4gdGhlIG1haW4gdGhyZWFkICovCiAgSlNXb3JrZXJNZXNzYWdlUGlwZSAqcmVjdl9waXBlLCAqc2VuZF9waXBlOwp9IEpTVGhyZWFkU3RhdGU7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IHJlZl9jb3VudDsKICB1aW50NjRfdCBidWZbMF07Cn0gSlNTQUJIZWFkZXI7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgRklMRSogZjsKICBCT09MIGNsb3NlX2luX2ZpbmFsaXplcjsKICBCT09MIGlzX3BvcGVuOwp9IEpTU1RERmlsZTsKCkJPT0wgSlNfSXNVbmNhdGNoYWJsZUVycm9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CgojZW5kaWYgLyogZGVmaW5lZChRSlNfTU9EVUxFU19JTlRFUk5BTF9IKSAqLwoAAAAAAAAAAAKTAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA91YAAAAAAAABVwAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAACkwAAI2lmbmRlZiBRSlNfTU9EVUxFU19JTlRFUk5BTF9ICiNkZWZpbmUgUUpTX01PRFVMRVNfSU5URVJOQUxfSAoKI2luY2x1ZGUgPGxpc3QuaD4KI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8c3RkZGVmLmg+CiNpbmNsdWRlIDxzeXMvdHlwZXMuaD4KCiNpbmNsdWRlIDxxdWlja2pzLWNvbmZpZy5oPgoKI2lmZGVmIENPTkZJR19CSUdOVU0KI2luY2x1ZGUgPGxpYmJmLmg+CiNlbmRpZgojaWZkZWYgQ09ORklHX0RFQlVHR0VSCiNpbmNsdWRlIDxxdWlja2pzLWRlYnVnZ2VyLmg+CiNlbmRpZgojaWZkZWYgVVNFX1dPUktFUgojaW5jbHVkZSA8cHRocmVhZC5oPgojZW5kaWYKCmVudW0gSlNDbGFzc0lkcyB7CiAgLyogY2xhc3NpZCB0YWcgICAgICAgICovIC8qIHVuaW9uIHVzYWdlICAgfCBwcm9wZXJ0aWVzICovCiAgSlNfQ0xBU1NfT0JKRUNUID0gMSwgICAgIC8qIG11c3QgYmUgZmlyc3QgKi8KICBKU19DTEFTU19BUlJBWSwgICAgICAgICAgLyogdS5hcnJheSAgICAgICB8IGxlbmd0aCAqLwogIEpTX0NMQVNTX0VSUk9SLAogIEpTX0NMQVNTX05VTUJFUiwgICAgICAgICAgIC8qIHUub2JqZWN0X2RhdGEgKi8KICBKU19DTEFTU19TVFJJTkcsICAgICAgICAgICAvKiB1Lm9iamVjdF9kYXRhICovCiAgSlNfQ0xBU1NfQk9PTEVBTiwgICAgICAgICAgLyogdS5vYmplY3RfZGF0YSAqLwogIEpTX0NMQVNTX1NZTUJPTCwgICAgICAgICAgIC8qIHUub2JqZWN0X2RhdGEgKi8KICBKU19DTEFTU19BUkdVTUVOVFMsICAgICAgICAvKiB1LmFycmF5ICAgICAgIHwgbGVuZ3RoICovCiAgSlNfQ0xBU1NfTUFQUEVEX0FSR1VNRU5UUywgLyogICAgICAgICAgICAgICB8IGxlbmd0aCAqLwogIEpTX0NMQVNTX0RBVEUsICAgICAgICAgICAgIC8qIHUub2JqZWN0X2RhdGEgKi8KICBKU19DTEFTU19NT0RVTEVfTlMsCiAgSlNfQ0xBU1NfQ19GVU5DVElPTiwgICAgICAgICAgLyogdS5jZnVuYyAqLwogIEpTX0NMQVNTX0JZVEVDT0RFX0ZVTkNUSU9OLCAgIC8qIHUuZnVuYyAqLwogIEpTX0NMQVNTX0JPVU5EX0ZVTkNUSU9OLCAgICAgIC8qIHUuYm91bmRfZnVuY3Rpb24gKi8KICBKU19DTEFTU19DX0ZVTkNUSU9OX0RBVEEsICAgICAvKiB1LmNfZnVuY3Rpb25fZGF0YV9yZWNvcmQgKi8KICBKU19DTEFTU19DX0NMT1NVUkUsICAgICAgICAgICAvKiB1LmNfY2xvc3VyZV9yZWNvcmQgKi8KICBKU19DTEFTU19HRU5FUkFUT1JfRlVOQ1RJT04sICAvKiB1LmZ1bmMgKi8KICBKU19DTEFTU19GT1JfSU5fSVRFUkFUT1IsICAgICAvKiB1LmZvcl9pbl9pdGVyYXRvciAqLwogIEpTX0NMQVNTX1JFR0VYUCwgICAgICAgICAgICAgIC8qIHUucmVnZXhwICovCiAgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSLCAgICAgICAgLyogdS5hcnJheV9idWZmZXIgKi8KICBKU19DTEFTU19TSEFSRURfQVJSQVlfQlVGRkVSLCAvKiB1LmFycmF5X2J1ZmZlciAqLwogIEpTX0NMQVNTX1VJTlQ4Q19BUlJBWSwgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0lOVDhfQVJSQVksICAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX1VJTlQ4X0FSUkFZLCAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0lOVDE2X0FSUkFZLCAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX1VJTlQxNl9BUlJBWSwgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0lOVDMyX0FSUkFZLCAgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX1VJTlQzMl9BUlJBWSwgICAgICAgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwojaWZkZWYgQ09ORklHX0JJR05VTQogIEpTX0NMQVNTX0JJR19JTlQ2NF9BUlJBWSwgIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwogIEpTX0NMQVNTX0JJR19VSU5UNjRfQVJSQVksIC8qIHUuYXJyYXkgKHR5cGVkX2FycmF5KSAqLwojZW5kaWYKICBKU19DTEFTU19GTE9BVDMyX0FSUkFZLCAvKiB1LmFycmF5ICh0eXBlZF9hcnJheSkgKi8KICBKU19DTEFTU19GTE9BVDY0X0FSUkFZLCAvKiB1LmFycmF5ICh0eXBlZF9hcnJheSkgKi8KICBKU19DTEFTU19EQVRBVklFVywgICAgICAvKiB1LnR5cGVkX2FycmF5ICovCiNpZmRlZiBDT05GSUdfQklHTlVNCiAgSlNfQ0xBU1NfQklHX0lOVCwgICAgICAvKiB1Lm9iamVjdF9kYXRhICovCiAgSlNfQ0xBU1NfQklHX0ZMT0FULCAgICAvKiB1Lm9iamVjdF9kYXRhICovCiAgSlNfQ0xBU1NfRkxPQVRfRU5WLCAgICAvKiB1LmZsb2F0X2VudiAqLwogIEpTX0NMQVNTX0JJR19ERUNJTUFMLCAgLyogdS5vYmplY3RfZGF0YSAqLwogIEpTX0NMQVNTX09QRVJBVE9SX1NFVCwgLyogdS5vcGVyYXRvcl9zZXQgKi8KI2VuZGlmCiAgSlNfQ0xBU1NfTUFQLCAgICAgICAgICAgICAgICAgICAgICAvKiB1Lm1hcF9zdGF0ZSAqLwogIEpTX0NMQVNTX1NFVCwgICAgICAgICAgICAgICAgICAgICAgLyogdS5tYXBfc3RhdGUgKi8KICBKU19DTEFTU19XRUFLTUFQLCAgICAgICAgICAgICAgICAgIC8qIHUubWFwX3N0YXRlICovCiAgSlNfQ0xBU1NfV0VBS1NFVCwgICAgICAgICAgICAgICAgICAvKiB1Lm1hcF9zdGF0ZSAqLwogIEpTX0NMQVNTX01BUF9JVEVSQVRPUiwgICAgICAgICAgICAgLyogdS5tYXBfaXRlcmF0b3JfZGF0YSAqLwogIEpTX0NMQVNTX1NFVF9JVEVSQVRPUiwgICAgICAgICAgICAgLyogdS5tYXBfaXRlcmF0b3JfZGF0YSAqLwogIEpTX0NMQVNTX0FSUkFZX0lURVJBVE9SLCAgICAgICAgICAgLyogdS5hcnJheV9pdGVyYXRvcl9kYXRhICovCiAgSlNfQ0xBU1NfU1RSSU5HX0lURVJBVE9SLCAgICAgICAgICAvKiB1LmFycmF5X2l0ZXJhdG9yX2RhdGEgKi8KICBKU19DTEFTU19SRUdFWFBfU1RSSU5HX0lURVJBVE9SLCAgIC8qIHUucmVnZXhwX3N0cmluZ19pdGVyYXRvcl9kYXRhICovCiAgSlNfQ0xBU1NfR0VORVJBVE9SLCAgICAgICAgICAgICAgICAvKiB1LmdlbmVyYXRvcl9kYXRhICovCiAgSlNfQ0xBU1NfUFJPWFksICAgICAgICAgICAgICAgICAgICAvKiB1LnByb3h5X2RhdGEgKi8KICBKU19DTEFTU19QUk9NSVNFLCAgICAgICAgICAgICAgICAgIC8qIHUucHJvbWlzZV9kYXRhICovCiAgSlNfQ0xBU1NfUFJPTUlTRV9SRVNPTFZFX0ZVTkNUSU9OLCAvKiB1LnByb21pc2VfZnVuY3Rpb25fZGF0YSAqLwogIEpTX0NMQVNTX1BST01JU0VfUkVKRUNUX0ZVTkNUSU9OLCAgLyogdS5wcm9taXNlX2Z1bmN0aW9uX2RhdGEgKi8KICBKU19DTEFTU19BU1lOQ19GVU5DVElPTiwgICAgICAgICAgIC8qIHUuZnVuYyAqLwogIEpTX0NMQVNTX0FTWU5DX0ZVTkNUSU9OX1JFU09MVkUsICAgLyogdS5hc3luY19mdW5jdGlvbl9kYXRhICovCiAgSlNfQ0xBU1NfQVNZTkNfRlVOQ1RJT05fUkVKRUNULCAgICAvKiB1LmFzeW5jX2Z1bmN0aW9uX2RhdGEgKi8KICBKU19DTEFTU19BU1lOQ19GUk9NX1NZTkNfSVRFUkFUT1IsIC8qIHUuYXN5bmNfZnJvbV9zeW5jX2l0ZXJhdG9yX2RhdGEgKi8KICBKU19DTEFTU19BU1lOQ19HRU5FUkFUT1JfRlVOQ1RJT04sIC8qIHUuZnVuYyAqLwogIEpTX0NMQVNTX0FTWU5DX0dFTkVSQVRPUiwgICAgICAgICAgLyogdS5hc3luY19nZW5lcmF0b3JfZGF0YSAqLwoKICBKU19DTEFTU19JTklUX0NPVU5ULCAvKiBsYXN0IGVudHJ5IGZvciBwcmVkZWZpbmVkIGNsYXNzZXMgKi8KfTsKCnR5cGVkZWYgZW51bSBKU0Vycm9yRW51bSB7CiAgSlNfRVZBTF9FUlJPUiwKICBKU19SQU5HRV9FUlJPUiwKICBKU19SRUZFUkVOQ0VfRVJST1IsCiAgSlNfU1lOVEFYX0VSUk9SLAogIEpTX1RZUEVfRVJST1IsCiAgSlNfVVJJX0VSUk9SLAogIEpTX0lOVEVSTkFMX0VSUk9SLAogIEpTX0FHR1JFR0FURV9FUlJPUiwKICBKU19OQVRJVkVfRVJST1JfQ09VTlQKfSBKU0Vycm9yRW51bTsKCnR5cGVkZWYgZW51bSBPUENvZGVFbnVtIE9QQ29kZUVudW07Cgp0eXBlZGVmIHN0cnVjdCBKU1N0cmluZyBKU1N0cmluZzsKdHlwZWRlZiBzdHJ1Y3QgSlNTdHJpbmcgSlNBdG9tU3RydWN0Owp0eXBlZGVmIHN0cnVjdCBKU1NoYXBlIEpTU2hhcGU7Cgp0eXBlZGVmIGVudW0gewogIEpTX0dDX1BIQVNFX05PTkUsCiAgSlNfR0NfUEhBU0VfREVDUkVGLAogIEpTX0dDX1BIQVNFX1JFTU9WRV9DWUNMRVMsCn0gSlNHQ1BoYXNlRW51bTsKCiNpZmRlZiBDT05GSUdfQklHTlVNCi8qIGZ1bmN0aW9uIHBvaW50ZXJzIGFyZSB1c2VkIGZvciBudW1lcmljIG9wZXJhdGlvbnMgc28gdGhhdCBpdCBpcwogICBwb3NzaWJsZSB0byByZW1vdmUgc29tZSBudW1lcmljIHR5cGVzICovCnR5cGVkZWYgc3RydWN0IHsKICBKU1ZhbHVlICgqdG9fc3RyaW5nKShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbCk7CiAgSlNWYWx1ZSAoKmZyb21fc3RyaW5nKShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogYnVmLCBpbnQgcmFkaXgsIGludCBmbGFncywgc2xpbWJfdCogcGV4cG9uZW50KTsKICBpbnQgKCp1bmFyeV9hcml0aCkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHByZXMsIE9QQ29kZUVudW0gb3AsIEpTVmFsdWUgb3AxKTsKICBpbnQgKCpiaW5hcnlfYXJpdGgpKEpTQ29udGV4dCogY3R4LCBPUENvZGVFbnVtIG9wLCBKU1ZhbHVlKiBwcmVzLCBKU1ZhbHVlIG9wMSwgSlNWYWx1ZSBvcDIpOwogIGludCAoKmNvbXBhcmUpKEpTQ29udGV4dCogY3R4LCBPUENvZGVFbnVtIG9wLCBKU1ZhbHVlIG9wMSwgSlNWYWx1ZSBvcDIpOwogIC8qIG9ubHkgZm9yIGJpZ2Zsb2F0OiAqLwogIEpTVmFsdWUgKCptdWxfcG93MTBfdG9fZmxvYXQ2NCkoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGJmX3QqIGEsIGludDY0X3QgZXhwb25lbnQpOwogIGludCAoKm11bF9wb3cxMCkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHNwKTsKfSBKU051bWVyaWNPcGVyYXRpb25zOwojZW5kaWYKCnR5cGVkZWYgc3RydWN0IEpTUnVudGltZSB7CiAgSlNNYWxsb2NGdW5jdGlvbnMgbWY7CiAgSlNNYWxsb2NTdGF0ZSBtYWxsb2Nfc3RhdGU7CiAgY29uc3QgY2hhciogcnRfaW5mbzsKICBpbnQgYXRvbV9oYXNoX3NpemU7CiAgaW50IGF0b21fY291bnQ7CiAgaW50IGF0b21fc2l6ZTsKICBpbnQgYXRvbV9jb3VudF9yZXNpemU7CiAgdWludDMyX3QqIGF0b21faGFzaDsKICBKU0F0b21TdHJ1Y3QqKiBhdG9tX2FycmF5OwogIGludCBhdG9tX2ZyZWVfaW5kZXg7CiAgaW50IGNsYXNzX2NvdW50OwogIEpTQ2xhc3MqIGNsYXNzX2FycmF5OwogIHN0cnVjdCBsaXN0X2hlYWQgY29udGV4dF9saXN0OwogIHN0cnVjdCBsaXN0X2hlYWQgZ2Nfb2JqX2xpc3Q7CiAgc3RydWN0IGxpc3RfaGVhZCBnY196ZXJvX3JlZl9jb3VudF9saXN0OwogIHN0cnVjdCBsaXN0X2hlYWQgdG1wX29ial9saXN0OwogIEpTR0NQaGFzZUVudW0gZ2NfcGhhc2UgOiA4OwogIHNpemVfdCBtYWxsb2NfZ2NfdGhyZXNob2xkOwojaWZkZWYgRFVNUF9MRUFLUwogIHN0cnVjdCBsaXN0X2hlYWQgc3RyaW5nX2xpc3Q7CiNlbmRpZgogIHVpbnRwdHJfdCBzdGFja19zaXplOwogIHVpbnRwdHJfdCBzdGFja190b3A7CiAgdWludHB0cl90IHN0YWNrX2xpbWl0OwogIEpTVmFsdWUgY3VycmVudF9leGNlcHRpb247CiAgQk9PTCBpbl9vdXRfb2ZfbWVtb3J5IDogODsKICBzdHJ1Y3QgSlNTdGFja0ZyYW1lKiBjdXJyZW50X3N0YWNrX2ZyYW1lOwogIEpTSW50ZXJydXB0SGFuZGxlciogaW50ZXJydXB0X2hhbmRsZXI7CiAgdm9pZCogaW50ZXJydXB0X29wYXF1ZTsKICBKU0hvc3RQcm9taXNlUmVqZWN0aW9uVHJhY2tlciogaG9zdF9wcm9taXNlX3JlamVjdGlvbl90cmFja2VyOwogIHZvaWQqIGhvc3RfcHJvbWlzZV9yZWplY3Rpb25fdHJhY2tlcl9vcGFxdWU7CiAgc3RydWN0IGxpc3RfaGVhZCBqb2JfbGlzdDsKICBKU01vZHVsZU5vcm1hbGl6ZUZ1bmMqIG1vZHVsZV9ub3JtYWxpemVfZnVuYzsKICBKU01vZHVsZUxvYWRlckZ1bmMqIG1vZHVsZV9sb2FkZXJfZnVuYzsKICB2b2lkKiBtb2R1bGVfbG9hZGVyX29wYXF1ZTsKICBCT09MIGNhbl9ibG9jayA6IDg7CiAgSlNTaGFyZWRBcnJheUJ1ZmZlckZ1bmN0aW9ucyBzYWJfZnVuY3M7CiAgaW50IHNoYXBlX2hhc2hfYml0czsKICBpbnQgc2hhcGVfaGFzaF9zaXplOwogIGludCBzaGFwZV9oYXNoX2NvdW50OwogIEpTU2hhcGUqKiBzaGFwZV9oYXNoOwojaWZkZWYgQ09ORklHX0JJR05VTQogIGJmX2NvbnRleHRfdCBiZl9jdHg7CiAgSlNOdW1lcmljT3BlcmF0aW9ucyBiaWdpbnRfb3BzOwogIEpTTnVtZXJpY09wZXJhdGlvbnMgYmlnZmxvYXRfb3BzOwogIEpTTnVtZXJpY09wZXJhdGlvbnMgYmlnZGVjaW1hbF9vcHM7CiAgdWludDMyX3Qgb3BlcmF0b3JfY291bnQ7CiNlbmRpZgogIHZvaWQqIHVzZXJfb3BhcXVlOwp9IEpTUnVudGltZTsKCnN0cnVjdCBKU0NsYXNzIHsKICB1aW50MzJfdCBjbGFzc19pZDsgLyogMCBtZWFucyBmcmVlIGVudHJ5ICovCiAgSlNBdG9tIGNsYXNzX25hbWU7CiAgSlNDbGFzc0ZpbmFsaXplciogZmluYWxpemVyOwogIEpTQ2xhc3NHQ01hcmsqIGdjX21hcms7CiAgSlNDbGFzc0NhbGwqIGNhbGw7CiAgLyogcG9pbnRlcnMgZm9yIGV4b3RpYyBiZWhhdmlvciwgY2FuIGJlIE5VTEwgaWYgbm9uZSBhcmUgcHJlc2VudCAqLwogIGNvbnN0IEpTQ2xhc3NFeG90aWNNZXRob2RzKiBleG90aWM7Cn07CgojZGVmaW5lIEpTX01PREVfU1RSSUNUICgxIDw8IDApCiNkZWZpbmUgSlNfTU9ERV9TVFJJUCAoMSA8PCAxKQojZGVmaW5lIEpTX01PREVfTUFUSCAoMSA8PCAyKQoKdHlwZWRlZiBzdHJ1Y3QgSlNTdGFja0ZyYW1lIHsKICBzdHJ1Y3QgSlNTdGFja0ZyYW1lKiBwcmV2X2ZyYW1lOwogIEpTVmFsdWUgY3VyX2Z1bmM7CiAgSlNWYWx1ZSogYXJnX2J1ZjsgICAgICAgICAgICAgIC8qIGFyZ3VtZW50cyAqLwogIEpTVmFsdWUqIHZhcl9idWY7ICAgICAgICAgICAgICAvKiB2YXJpYWJsZXMgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIHZhcl9yZWZfbGlzdDsgLyogbGlzdCBvZiBKU1ZhclJlZi5saW5rICovCiAgY29uc3QgdWludDhfdCogY3VyX3BjOyAgICAgICAgIC8qIGJ5dGVjb2RlIGZ1bmN0aW9ucyA6IFBDIG9mIHRoZSBpbnN0cnVjdGlvbiBhZnRlciB0aGUgY2FsbCAqLwogIGludCBhcmdfY291bnQ7CiAgaW50IGpzX21vZGU7IC8qIDAgb3IgSlNfTU9ERV9NQVRIIGZvciBDIGZ1bmN0aW9ucyAqLwogIC8qIG9ubHkgdXNlZCBpbiBnZW5lcmF0b3JzLiBDdXJyZW50IHN0YWNrIHBvaW50ZXIgdmFsdWUgb3IgTlVMTCBpZiB0aGUKICAgKiBmdW5jdGlvbiBpcyBydW5uaW5nLiAqLwogIEpTVmFsdWUqIGN1cl9zcDsKfSBKU1N0YWNrRnJhbWU7Cgp0eXBlZGVmIGVudW0gewogIEpTX0dDX09CSl9UWVBFX0pTX09CSkVDVCwKICBKU19HQ19PQkpfVFlQRV9GVU5DVElPTl9CWVRFQ09ERSwKICBKU19HQ19PQkpfVFlQRV9TSEFQRSwKICBKU19HQ19PQkpfVFlQRV9WQVJfUkVGLAogIEpTX0dDX09CSl9UWVBFX0FTWU5DX0ZVTkNUSU9OLAogIEpTX0dDX09CSl9UWVBFX0pTX0NPTlRFWFQsCn0gSlNHQ09iamVjdFR5cGVFbnVtOwoKc3RydWN0IEpTR0NPYmplY3RIZWFkZXIgewogIGludCByZWZfY291bnQ7CiAgSlNHQ09iamVjdFR5cGVFbnVtIGdjX29ial90eXBlIDogNDsKICB1aW50OF90IG1hcmsgOiA0OwogIHVpbnQ4X3QgZHVtbXkxOwogIHVpbnQxNl90IGR1bW15MjsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Cn07Cgp0eXBlZGVmIHN0cnVjdCBKU1ZhclJlZiB7CiAgdW5pb24gewogICAgSlNHQ09iamVjdEhlYWRlciBoZWFkZXI7CiAgICBzdHJ1Y3QgewogICAgICBpbnQgX19nY19yZWZfY291bnQ7CiAgICAgIHVpbnQ4X3QgX19nY19tYXJrOwogICAgICAvKiAwIDogdGhlIEpTVmFyUmVmIGlzIG9uIHRoZSBzdGFjay4gaGVhZGVyLmxpbmsgaXMgYW4gZWxlbWVudAogICAgICAgICBvZiBKU1N0YWNrRnJhbWUudmFyX3JlZl9saXN0LgogICAgICAgICAxIDogdGhlIEpTVmFyUmVmIGlzIGRldGFjaGVkLiBoZWFkZXIubGluayBoYXMgdGhlIG5vcm1hbCBtZWFubmluZwogICAgICAqLwogICAgICB1aW50OF90IGlzX2RldGFjaGVkIDogMTsKICAgICAgdWludDhfdCBpc19hcmcgOiAxOwogICAgICB1aW50MTZfdCB2YXJfaWR4OyAvKiBpbmRleCBvZiB0aGUgY29ycmVzcG9uZGluZyBmdW5jdGlvbiB2YXJpYWJsZSBvbiB0aGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sgKi8KICAgIH07CiAgfTsKICBKU1ZhbHVlKiBwdmFsdWU7IC8qIHBvaW50ZXIgdG8gdGhlIHZhbHVlLCBlaXRoZXIgb24gdGhlIHN0YWNrIG9yIHRvICd2YWx1ZScgKi8KICBKU1ZhbHVlIHZhbHVlOyAgIC8qIHVzZWQgd2hlbiB0aGUgdmFyaWFibGUgaXMgbm8gbG9uZ2VyIG9uIHRoZSBzdGFjayAqLwp9IEpTVmFyUmVmOwoKdHlwZWRlZiBzdHJ1Y3QgSlNGbG9hdEVudiB7CiAgdWludHB0cl90IHByZWM7CiAgdWludDMyX3QgZmxhZ3M7CiAgdW5zaWduZWQgaW50IHN0YXR1czsKfSBKU0Zsb2F0RW52OwoKI2lmZGVmIENPTkZJR19CSUdOVU0KLyogdGhlIHNhbWUgc3RydWN0dXJlIGlzIHVzZWQgZm9yIGJpZyBpbnRlZ2VycyBhbmQgYmlnIGZsb2F0cy4gQmlnCiAgIGludGVnZXJzIGFyZSBuZXZlciBpbmZpbml0ZSBvciBOYU5zICovCnR5cGVkZWYgc3RydWN0IEpTQmlnRmxvYXQgewogIEpTUmVmQ291bnRIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QsIDMyLWJpdCAqLwogIGJmX3QgbnVtOwp9IEpTQmlnRmxvYXQ7Cgp0eXBlZGVmIHN0cnVjdCBKU0JpZ0RlY2ltYWwgewogIEpTUmVmQ291bnRIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QsIDMyLWJpdCAqLwogIGJmZGVjX3QgbnVtOwp9IEpTQmlnRGVjaW1hbDsKI2VuZGlmCgp0eXBlZGVmIGVudW0gewogIEpTX0FVVE9JTklUX0lEX1BST1RPVFlQRSwKICBKU19BVVRPSU5JVF9JRF9NT0RVTEVfTlMsCiAgSlNfQVVUT0lOSVRfSURfUFJPUCwKfSBKU0F1dG9Jbml0SURFbnVtOwoKLyogbXVzdCBiZSBsYXJnZSBlbm91Z2ggdG8gaGF2ZSBhIG5lZ2xpZ2libGUgcnVudGltZSBjb3N0IGFuZCBzbWFsbCBlbm91Z2ggdG8KICogY2FsbCB0aGUgaW50ZXJydXB0IGNhbGxiYWNrIG9mdGVuLiAqLwojZGVmaW5lIEpTX0lOVEVSUlVQVF9DT1VOVEVSX0lOSVQgMTAwMDAKCnN0cnVjdCBKU0NvbnRleHQgewogIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QgKi8KICBKU1J1bnRpbWUqIHJ0OwogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKCiAgdWludDE2X3QgYmluYXJ5X29iamVjdF9jb3VudDsKICBpbnQgYmluYXJ5X29iamVjdF9zaXplOwoKICBKU1NoYXBlKiBhcnJheV9zaGFwZTsgLyogaW5pdGlhbCBzaGFwZSBmb3IgQXJyYXkgb2JqZWN0cyAqLwoKICBKU1ZhbHVlKiBjbGFzc19wcm90bzsKICBKU1ZhbHVlIGZ1bmN0aW9uX3Byb3RvOwogIEpTVmFsdWUgZnVuY3Rpb25fY3RvcjsKICBKU1ZhbHVlIGFycmF5X2N0b3I7CiAgSlNWYWx1ZSByZWdleHBfY3RvcjsKICBKU1ZhbHVlIHByb21pc2VfY3RvcjsKICBKU1ZhbHVlIG5hdGl2ZV9lcnJvcl9wcm90b1tKU19OQVRJVkVfRVJST1JfQ09VTlRdOwogIEpTVmFsdWUgaXRlcmF0b3JfcHJvdG87CiAgSlNWYWx1ZSBhc3luY19pdGVyYXRvcl9wcm90bzsKICBKU1ZhbHVlIGFycmF5X3Byb3RvX3ZhbHVlczsKICBKU1ZhbHVlIHRocm93X3R5cGVfZXJyb3I7CiAgSlNWYWx1ZSBldmFsX29iajsKCiAgSlNWYWx1ZSBnbG9iYWxfb2JqOyAgICAgLyogZ2xvYmFsIG9iamVjdCAqLwogIEpTVmFsdWUgZ2xvYmFsX3Zhcl9vYmo7IC8qIGNvbnRhaW5zIHRoZSBnbG9iYWwgbGV0L2NvbnN0IGRlZmluaXRpb25zICovCgogIHVpbnQ2NF90IHJhbmRvbV9zdGF0ZTsKI2lmZGVmIENPTkZJR19CSUdOVU0KICAvKmJmX2NvbnRleHRfdCovIHZvaWQqIGJmX2N0eDsgLyogcG9pbnRzIHRvIHJ0LT5iZl9jdHgsIHNoYXJlZCBieSBhbGwgY29udGV4dHMgKi8KICBKU0Zsb2F0RW52IGZwX2VudjsgICAgICAgICAgICAgLyogZ2xvYmFsIEZQIGVudmlyb25tZW50ICovCiAgQk9PTCBiaWdudW1fZXh0IDogODsgICAgICAgICAgIC8qIGVuYWJsZSBtYXRoIG1vZGUgKi8KICBCT09MIGFsbG93X29wZXJhdG9yX292ZXJsb2FkaW5nIDogODsKI2VuZGlmCiAgLyogd2hlbiB0aGUgY291bnRlciByZWFjaGVzIHplcm8sIEpTUnV0aW1lLmludGVycnVwdF9oYW5kbGVyIGlzIGNhbGxlZCAqLwogIGludCBpbnRlcnJ1cHRfY291bnRlcjsKICBCT09MIGlzX2Vycm9yX3Byb3BlcnR5X2VuYWJsZWQ7CgogIHN0cnVjdCBsaXN0X2hlYWQgbG9hZGVkX21vZHVsZXM7IC8qIGxpc3Qgb2YgSlNNb2R1bGVEZWYubGluayAqLwoKICAvKiBpZiBOVUxMLCBSZWdFeHAgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCAqLwogIEpTVmFsdWUgKCpjb21waWxlX3JlZ2V4cCkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBwYXR0ZXJuLCBKU1ZhbHVlQ29uc3QgZmxhZ3MpOwogIC8qIGlmIE5VTEwsIGV2YWwgaXMgbm90IHN1cHBvcnRlZCAqLwogIEpTVmFsdWUgKCpldmFsX2ludGVybmFsKSgKICAgICAgSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogaW5wdXQsIHNpemVfdCBpbnB1dF9sZW4sIGNvbnN0IGNoYXIqIGZpbGVuYW1lLCBpbnQgZmxhZ3MsIGludCBzY29wZV9pZHgpOwogIHZvaWQqIHVzZXJfb3BhcXVlOwp9OwoKc3RydWN0IEpTU3RyaW5nIHsKICBKU1JlZkNvdW50SGVhZGVyIGhlYWRlcjsKICB1aW50MzJfdCBsZW4gOiAzMTsKICB1aW50OF90IGlzX3dpZGVfY2hhciA6IDE7CiAgdWludDMyX3QgaGFzaCA6IDMwOwogIHVpbnQ4X3QgYXRvbV90eXBlIDogMjsKICB1aW50MzJfdCBoYXNoX25leHQ7CiNpZmRlZiBEVU1QX0xFQUtTCiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwojZW5kaWYKICB1bmlvbiB7CiAgICB1aW50OF90IHN0cjhbMF07CiAgICB1aW50MTZfdCBzdHIxNlswXTsKICB9IHU7Cn07Cgp0eXBlZGVmIHN0cnVjdCBKU0Nsb3N1cmVWYXIgewogIHVpbnQ4X3QgaXNfbG9jYWwgOiAxOwogIHVpbnQ4X3QgaXNfYXJnIDogMTsKICB1aW50OF90IGlzX2NvbnN0IDogMTsKICB1aW50OF90IGlzX2xleGljYWwgOiAxOwogIHVpbnQ4X3QgdmFyX2tpbmQgOiA0OyAvKiBzZWUgSlNWYXJLaW5kRW51bSAqLwogIC8qIDggYml0cyBhdmFpbGFibGUgKi8KICB1aW50MTZfdCB2YXJfaWR4OyAvKiBpc19sb2NhbCA9IFRSVUU6IGluZGV4IHRvIGEgbm9ybWFsIHZhcmlhYmxlIG9mIHRoZQogICAgICAgICAgICAgICAgICBwYXJlbnQgZnVuY3Rpb24uIG90aGVyd2lzZTogaW5kZXggdG8gYSBjbG9zdXJlCiAgICAgICAgICAgICAgICAgIHZhcmlhYmxlIG9mIHRoZSBwYXJlbnQgZnVuY3Rpb24gKi8KICBKU0F0b20gdmFyX25hbWU7Cn0gSlNDbG9zdXJlVmFyOwoKdHlwZWRlZiBzdHJ1Y3QgSlNWYXJTY29wZSB7CiAgaW50IHBhcmVudDsgLyogaW5kZXggaW50byBmZC0+c2NvcGVzIG9mIHRoZSBlbmNsb3Npbmcgc2NvcGUgKi8KICBpbnQgZmlyc3Q7ICAvKiBpbmRleCBpbnRvIGZkLT52YXJzIG9mIHRoZSBsYXN0IHZhcmlhYmxlIGluIHRoaXMgc2NvcGUgKi8KfSBKU1ZhclNjb3BlOwoKdHlwZWRlZiBlbnVtIHsKICAvKiBYWFg6IGFkZCBtb3JlIHZhcmlhYmxlIGtpbmRzIGhlcmUgaW5zdGVhZCBvZiB1c2luZyBiaXQgZmllbGRzICovCiAgSlNfVkFSX05PUk1BTCwKICBKU19WQVJfRlVOQ1RJT05fREVDTCwgICAgIC8qIGxleGljYWwgdmFyIHdpdGggZnVuY3Rpb24gZGVjbGFyYXRpb24gKi8KICBKU19WQVJfTkVXX0ZVTkNUSU9OX0RFQ0wsIC8qIGxleGljYWwgdmFyIHdpdGggYXN5bmMvZ2VuZXJhdG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZWNsYXJhdGlvbiAqLwogIEpTX1ZBUl9DQVRDSCwKICBKU19WQVJfRlVOQ1RJT05fTkFNRSwgLyogZnVuY3Rpb24gZXhwcmVzc2lvbiBuYW1lICovCiAgSlNfVkFSX1BSSVZBVEVfRklFTEQsCiAgSlNfVkFSX1BSSVZBVEVfTUVUSE9ELAogIEpTX1ZBUl9QUklWQVRFX0dFVFRFUiwKICBKU19WQVJfUFJJVkFURV9TRVRURVIsICAgICAgICAvKiBtdXN0IGNvbWUgYWZ0ZXIgSlNfVkFSX1BSSVZBVEVfR0VUVEVSICovCiAgSlNfVkFSX1BSSVZBVEVfR0VUVEVSX1NFVFRFUiwgLyogbXVzdCBjb21lIGFmdGVyIEpTX1ZBUl9QUklWQVRFX1NFVFRFUiAqLwp9IEpTVmFyS2luZEVudW07CgovKiBYWFg6IGNvdWxkIHVzZSBhIGRpZmZlcmVudCBzdHJ1Y3R1cmUgaW4gYnl0ZWNvZGUgZnVuY3Rpb25zIHRvIHNhdmUKICAgbWVtb3J5ICovCnR5cGVkZWYgc3RydWN0IEpTVmFyRGVmIHsKICBKU0F0b20gdmFyX25hbWU7CiAgLyogaW5kZXggaW50byBmZC0+c2NvcGVzIG9mIHRoaXMgdmFyaWFibGUgbGV4aWNhbCBzY29wZSAqLwogIGludCBzY29wZV9sZXZlbDsKICAvKiBkdXJpbmcgY29tcGlsYXRpb246CiAgICAgIC0gaWYgc2NvcGVfbGV2ZWwgPSAwOiBzY29wZSBpbiB3aGljaCB0aGUgdmFyaWFibGUgaXMgZGVmaW5lZAogICAgICAtIGlmIHNjb3BlX2xldmVsICE9IDA6IGluZGV4IGludG8gZmQtPnZhcnMgb2YgdGhlIG5leHQKICAgICAgICB2YXJpYWJsZSBpbiB0aGUgc2FtZSBvciBlbmNsb3NpbmcgbGV4aWNhbCBzY29wZQogICAgIGluIGEgYnl0ZWNvZGUgZnVuY3Rpb246CiAgICAgaW5kZXggaW50byBmZC0+dmFycyBvZiB0aGUgbmV4dAogICAgIHZhcmlhYmxlIGluIHRoZSBzYW1lIG9yIGVuY2xvc2luZyBsZXhpY2FsIHNjb3BlCiAgKi8KICBpbnQgc2NvcGVfbmV4dDsKICB1aW50OF90IGlzX2NvbnN0IDogMTsKICB1aW50OF90IGlzX2xleGljYWwgOiAxOwogIHVpbnQ4X3QgaXNfY2FwdHVyZWQgOiAxOwogIHVpbnQ4X3QgdmFyX2tpbmQgOiA0OyAvKiBzZWUgSlNWYXJLaW5kRW51bSAqLwogIC8qIG9ubHkgdXNlZCBkdXJpbmcgY29tcGlsYXRpb246IGZ1bmN0aW9uIHBvb2wgaW5kZXggZm9yIGxleGljYWwKICAgICB2YXJpYWJsZXMgd2l0aCB2YXJfa2luZCA9CiAgICAgSlNfVkFSX0ZVTkNUSU9OX0RFQ0wvSlNfVkFSX05FV19GVU5DVElPTl9ERUNMIG9yIHNjb3BlIGxldmVsIG9mCiAgICAgdGhlIGRlZmluaXRpb24gb2YgdGhlICd2YXInIHZhcmlhYmxlcyAodGhleSBoYXZlIHNjb3BlX2xldmVsID0KICAgICAwKSAqLwogIGludCBmdW5jX3Bvb2xfaWR4IDogMjQ7IC8qIG9ubHkgdXNlZCBkdXJpbmcgY29tcGlsYXRpb24gOiBpbmRleCBpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBjb25zdGFudCBwb29sIGZvciBob2lzdGVkIGZ1bmN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbiAqLwp9IEpTVmFyRGVmOwoKdHlwZWRlZiBlbnVtIEpTRnVuY3Rpb25LaW5kRW51bSB7CiAgSlNfRlVOQ19OT1JNQUwgPSAwLAogIEpTX0ZVTkNfR0VORVJBVE9SID0gKDEgPDwgMCksCiAgSlNfRlVOQ19BU1lOQyA9ICgxIDw8IDEpLAogIEpTX0ZVTkNfQVNZTkNfR0VORVJBVE9SID0gKEpTX0ZVTkNfR0VORVJBVE9SIHwgSlNfRlVOQ19BU1lOQyksCn0gSlNGdW5jdGlvbktpbmRFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNGdW5jdGlvbkJ5dGVjb2RlIHsKICBKU0dDT2JqZWN0SGVhZGVyIGhlYWRlcjsgLyogbXVzdCBjb21lIGZpcnN0ICovCiAgdWludDhfdCBqc19tb2RlOwogIHVpbnQ4X3QgaGFzX3Byb3RvdHlwZSA6IDE7IC8qIHRydWUgaWYgYSBwcm90b3R5cGUgZmllbGQgaXMgbmVjZXNzYXJ5ICovCiAgdWludDhfdCBoYXNfc2ltcGxlX3BhcmFtZXRlcl9saXN0IDogMTsKICB1aW50OF90IGlzX2Rlcml2ZWRfY2xhc3NfY29uc3RydWN0b3IgOiAxOwogIC8qIHRydWUgaWYgaG9tZV9vYmplY3QgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgKi8KICB1aW50OF90IG5lZWRfaG9tZV9vYmplY3QgOiAxOwogIHVpbnQ4X3QgZnVuY19raW5kIDogMjsKICB1aW50OF90IG5ld190YXJnZXRfYWxsb3dlZCA6IDE7CiAgdWludDhfdCBzdXBlcl9jYWxsX2FsbG93ZWQgOiAxOwogIHVpbnQ4X3Qgc3VwZXJfYWxsb3dlZCA6IDE7CiAgdWludDhfdCBhcmd1bWVudHNfYWxsb3dlZCA6IDE7CiAgdWludDhfdCBoYXNfZGVidWcgOiAxOwogIHVpbnQ4X3QgYmFja3RyYWNlX2JhcnJpZXIgOiAxOyAvKiBzdG9wIGJhY2t0cmFjZSBvbiB0aGlzIGZ1bmN0aW9uICovCiAgdWludDhfdCByZWFkX29ubHlfYnl0ZWNvZGUgOiAxOwogIC8qIFhYWDogNCBiaXRzIGF2YWlsYWJsZSAqLwogIHVpbnQ4X3QqIGJ5dGVfY29kZV9idWY7IC8qIChzZWxmIHBvaW50ZXIpICovCiAgaW50IGJ5dGVfY29kZV9sZW47CiAgSlNBdG9tIGZ1bmNfbmFtZTsKICBKU1ZhckRlZiogdmFyZGVmczsgICAgICAgICAvKiBhcmd1bWVudHMgKyBsb2NhbCB2YXJpYWJsZXMgKGFyZ19jb3VudCArIHZhcl9jb3VudCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VsZiBwb2ludGVyKSAqLwogIEpTQ2xvc3VyZVZhciogY2xvc3VyZV92YXI7IC8qIGxpc3Qgb2YgdmFyaWFibGVzIGluIHRoZSBjbG9zdXJlIChzZWxmIHBvaW50ZXIpICovCiAgdWludDE2X3QgYXJnX2NvdW50OwogIHVpbnQxNl90IHZhcl9jb3VudDsKICB1aW50MTZfdCBkZWZpbmVkX2FyZ19jb3VudDsgLyogZm9yIGxlbmd0aCBmdW5jdGlvbiBwcm9wZXJ0eSAqLwogIHVpbnQxNl90IHN0YWNrX3NpemU7ICAgICAgICAvKiBtYXhpbXVtIHN0YWNrIHNpemUgKi8KICBKU0NvbnRleHQqIHJlYWxtOyAgICAgICAgICAgLyogZnVuY3Rpb24gcmVhbG0gKi8KICBKU1ZhbHVlKiBjcG9vbDsgICAgICAgICAgICAgLyogY29uc3RhbnQgcG9vbCAoc2VsZiBwb2ludGVyKSAqLwogIGludCBjcG9vbF9jb3VudDsKICBpbnQgY2xvc3VyZV92YXJfY291bnQ7CiAgc3RydWN0IHsKICAgIC8qIGRlYnVnIGluZm8sIG1vdmUgdG8gc2VwYXJhdGUgc3RydWN0dXJlIHRvIHNhdmUgbWVtb3J5PyAqLwogICAgSlNBdG9tIGZpbGVuYW1lOwogICAgaW50IGxpbmVfbnVtOwogICAgaW50IHNvdXJjZV9sZW47CiAgICBpbnQgcGMybGluZV9sZW47CiAgICB1aW50OF90KiBwYzJsaW5lX2J1ZjsKICAgIGNoYXIqIHNvdXJjZTsKICB9IGRlYnVnOwojaWZkZWYgQ09ORklHX0RFQlVHR0VSCiAgc3RydWN0IEpTRGVidWdnZXJGdW5jdGlvbkluZm8gZGVidWdnZXI7CiNlbmRpZgp9IEpTRnVuY3Rpb25CeXRlY29kZTsKCnR5cGVkZWYgc3RydWN0IEpTUHJvcGVydHkgewogIHVuaW9uIHsKICAgIEpTVmFsdWUgdmFsdWU7ICAgICAgLyogSlNfUFJPUF9OT1JNQUwgKi8KICAgIHN0cnVjdCB7ICAgICAgICAgICAgLyogSlNfUFJPUF9HRVRTRVQgKi8KICAgICAgSlNPYmplY3QqIGdldHRlcjsgLyogTlVMTCBpZiB1bmRlZmluZWQgKi8KICAgICAgSlNPYmplY3QqIHNldHRlcjsgLyogTlVMTCBpZiB1bmRlZmluZWQgKi8KICAgIH0gZ2V0c2V0OwogICAgSlNWYXJSZWYqIHZhcl9yZWY7IC8qIEpTX1BST1BfVkFSUkVGICovCiAgICBzdHJ1Y3QgeyAgICAgICAgICAgLyogSlNfUFJPUF9BVVRPSU5JVCAqLwogICAgICAvKiBpbiBvcmRlciB0byB1c2Ugb25seSAyIHBvaW50ZXJzLCB3ZSBjb21wcmVzcyB0aGUgcmVhbG0KICAgICAgICAgYW5kIHRoZSBpbml0IGZ1bmN0aW9uIHBvaW50ZXIgKi8KICAgICAgdWludHB0cl90IHJlYWxtX2FuZF9pZDsgLyogcmVhbG0gYW5kIGluaXRfaWQgKEpTX0FVVE9JTklUX0lEX3gpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSAyIGxvdyBiaXRzICovCiAgICAgIHZvaWQqIG9wYXF1ZTsKICAgIH0gaW5pdDsKICB9IHU7Cn0gSlNQcm9wZXJ0eTsKCiNkZWZpbmUgSlNfUFJPUF9JTklUSUFMX1NJWkUgMgojZGVmaW5lIEpTX1BST1BfSU5JVElBTF9IQVNIX1NJWkUgNCAvKiBtdXN0IGJlIGEgcG93ZXIgb2YgdHdvICovCiNkZWZpbmUgSlNfQVJSQVlfSU5JVElBTF9TSVpFIDIKCnR5cGVkZWYgc3RydWN0IEpTU2hhcGVQcm9wZXJ0eSB7CiAgdWludDMyX3QgaGFzaF9uZXh0IDogMjY7IC8qIDAgaWYgbGFzdCBpbiBsaXN0ICovCiAgdWludDMyX3QgZmxhZ3MgOiA2OyAgICAgIC8qIEpTX1BST1BfWFhYICovCiAgSlNBdG9tIGF0b207ICAgICAgICAgICAgIC8qIEpTX0FUT01fTlVMTCA9IGZyZWUgcHJvcGVydHkgZW50cnkgKi8KfSBKU1NoYXBlUHJvcGVydHk7CgpzdHJ1Y3QgSlNTaGFwZSB7CiAgLyogaGFzaCB0YWJsZSBvZiBzaXplIGhhc2hfbWFzayArIDEgYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUKICAgICBzdHJ1Y3R1cmUgKHNlZSBwcm9wX2hhc2hfZW5kKCkpLiAqLwogIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOwogIC8qIHRydWUgaWYgdGhlIHNoYXBlIGlzIGluc2VydGVkIGluIHRoZSBzaGFwZSBoYXNoIHRhYmxlLiBJZiBub3QsCiAgICAgSlNTaGFwZS5oYXNoIGlzIG5vdCB2YWxpZCAqLwogIHVpbnQ4X3QgaXNfaGFzaGVkOwogIC8qIElmIHRydWUsIHRoZSBzaGFwZSBtYXkgaGF2ZSBzbWFsbCBhcnJheSBpbmRleCBwcm9wZXJ0aWVzICduJyB3aXRoIDAKICAgICA8PSBuIDw9IDJeMzEtMS4gSWYgZmFsc2UsIHRoZSBzaGFwZSBpcyBndWFyYW50ZWVkIG5vdCB0byBoYXZlCiAgICAgc21hbGwgYXJyYXkgaW5kZXggcHJvcGVydGllcyAqLwogIHVpbnQ4X3QgaGFzX3NtYWxsX2FycmF5X2luZGV4OwogIHVpbnQzMl90IGhhc2g7IC8qIGN1cnJlbnQgaGFzaCB2YWx1ZSAqLwogIHVpbnQzMl90IHByb3BfaGFzaF9tYXNrOwogIGludCBwcm9wX3NpemU7ICAvKiBhbGxvY2F0ZWQgcHJvcGVydGllcyAqLwogIGludCBwcm9wX2NvdW50OyAvKiBpbmNsdWRlIGRlbGV0ZWQgcHJvcGVydGllcyAqLwogIGludCBkZWxldGVkX3Byb3BfY291bnQ7CiAgSlNTaGFwZSogc2hhcGVfaGFzaF9uZXh0OyAvKiBpbiBKU1J1bnRpbWUuc2hhcGVfaGFzaFtoXSBsaXN0ICovCiAgSlNPYmplY3QqIHByb3RvOwogIEpTU2hhcGVQcm9wZXJ0eSBwcm9wWzBdOyAvKiBwcm9wX3NpemUgZWxlbWVudHMgKi8KfTsKCnR5cGVkZWYgc3RydWN0IEpTUmVnRXhwIHsKICBKU1N0cmluZyogcGF0dGVybjsKICBKU1N0cmluZyogYnl0ZWNvZGU7IC8qIGFsc28gY29udGFpbnMgdGhlIGZsYWdzICovCn0gSlNSZWdFeHA7Cgp0eXBlZGVmIHN0cnVjdCBKU1Byb3h5RGF0YSB7CiAgSlNWYWx1ZSB0YXJnZXQ7CiAgSlNWYWx1ZSBoYW5kbGVyOwogIHVpbnQ4X3QgaXNfZnVuYzsKICB1aW50OF90IGlzX3Jldm9rZWQ7Cn0gSlNQcm94eURhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU0FycmF5QnVmZmVyIHsKICBpbnQgYnl0ZV9sZW5ndGg7IC8qIDAgaWYgZGV0YWNoZWQgKi8KICB1aW50OF90IGRldGFjaGVkOwogIHVpbnQ4X3Qgc2hhcmVkOyAvKiBpZiBzaGFyZWQsIHRoZSBhcnJheSBidWZmZXIgY2Fubm90IGJlIGRldGFjaGVkICovCiAgdWludDhfdCogZGF0YTsgIC8qIE5VTEwgaWYgZGV0YWNoZWQgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIGFycmF5X2xpc3Q7CiAgdm9pZCogb3BhcXVlOwogIEpTRnJlZUFycmF5QnVmZmVyRGF0YUZ1bmMqIGZyZWVfZnVuYzsKfSBKU0FycmF5QnVmZmVyOwoKdHlwZWRlZiBzdHJ1Y3QgSlNUeXBlZEFycmF5IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7IC8qIGxpbmsgdG8gYXJyYXlidWZmZXIgKi8KICBKU09iamVjdCogb2JqOyAgICAgICAgIC8qIGJhY2sgcG9pbnRlciB0byB0aGUgVHlwZWRBcnJheS9EYXRhVmlldyBvYmplY3QgKi8KICBKU09iamVjdCogYnVmZmVyOyAgICAgIC8qIGJhc2VkIGFycmF5IGJ1ZmZlciAqLwogIHVpbnQzMl90IG9mZnNldDsgICAgICAgLyogb2Zmc2V0IGluIHRoZSBhcnJheSBidWZmZXIgKi8KICB1aW50MzJfdCBsZW5ndGg7ICAgICAgIC8qIGxlbmd0aCBpbiB0aGUgYXJyYXkgYnVmZmVyICovCn0gSlNUeXBlZEFycmF5OwoKdHlwZWRlZiBzdHJ1Y3QgSlNBc3luY0Z1bmN0aW9uU3RhdGUgewogIEpTVmFsdWUgdGhpc192YWw7IC8qICd0aGlzJyBnZW5lcmF0b3IgYXJndW1lbnQgKi8KICBpbnQgYXJnYzsgICAgICAgICAvKiBudW1iZXIgb2YgZnVuY3Rpb24gYXJndW1lbnRzICovCiAgQk9PTCB0aHJvd19mbGFnOyAgLyogdXNlZCB0byB0aHJvdyBhbiBleGNlcHRpb24gaW4gSlNfQ2FsbEludGVybmFsKCkgKi8KICBKU1N0YWNrRnJhbWUgZnJhbWU7Cn0gSlNBc3luY0Z1bmN0aW9uU3RhdGU7CgovKiBYWFg6IGNvdWxkIHVzZSBhbiBvYmplY3QgaW5zdGVhZCB0byBhdm9pZCB0aGUKICAgSlNfVEFHX0FTWU5DX0ZVTkNUSU9OIHRhZyBmb3IgdGhlIEdDICovCnR5cGVkZWYgc3RydWN0IEpTQXN5bmNGdW5jdGlvbkRhdGEgewogIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOyAvKiBtdXN0IGNvbWUgZmlyc3QgKi8KICBKU1ZhbHVlIHJlc29sdmluZ19mdW5jc1syXTsKICBCT09MIGlzX2FjdGl2ZTsgLyogdHJ1ZSBpZiB0aGUgYXN5bmMgZnVuY3Rpb24gc3RhdGUgaXMgdmFsaWQgKi8KICBKU0FzeW5jRnVuY3Rpb25TdGF0ZSBmdW5jX3N0YXRlOwp9IEpTQXN5bmNGdW5jdGlvbkRhdGE7CgpzdHJ1Y3QgSlNPYmplY3QgewogIHVuaW9uIHsKICAgIEpTR0NPYmplY3RIZWFkZXIgaGVhZGVyOwogICAgc3RydWN0IHsKICAgICAgaW50IF9fZ2NfcmVmX2NvdW50OyAvKiBjb3JyZXNwb25kcyB0byBoZWFkZXIucmVmX2NvdW50ICovCiAgICAgIHVpbnQ4X3QgX19nY19tYXJrOyAgLyogY29ycmVzcG9uZHMgdG8gaGVhZGVyLm1hcmsvZ2Nfb2JqX3R5cGUgKi8KCiAgICAgIHVpbnQ4X3QgZXh0ZW5zaWJsZSA6IDE7CiAgICAgIHVpbnQ4X3QgZnJlZV9tYXJrIDogMTsgICAgICAgICAgICAvKiBvbmx5IHVzZWQgd2hlbiBmcmVlaW5nIG9iamVjdHMgd2l0aCBjeWNsZXMgKi8KICAgICAgdWludDhfdCBpc19leG90aWMgOiAxOyAgICAgICAgICAgIC8qIFRSVUUgaWYgb2JqZWN0IGhhcyBleG90aWMgcHJvcGVydHkgaGFuZGxlcnMgKi8KICAgICAgdWludDhfdCBmYXN0X2FycmF5IDogMTsgICAgICAgICAgIC8qIFRSVUUgaWYgdS5hcnJheSBpcyB1c2VkIGZvciBnZXQvcHV0IChmb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NMQVNTX0FSUkFZLCBKU19DTEFTU19BUkdVTUVOVFMgYW5kIHR5cGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheXMpICovCiAgICAgIHVpbnQ4X3QgaXNfY29uc3RydWN0b3IgOiAxOyAgICAgICAvKiBUUlVFIGlmIG9iamVjdCBpcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uICovCiAgICAgIHVpbnQ4X3QgaXNfdW5jYXRjaGFibGVfZXJyb3IgOiAxOyAvKiBpZiBUUlVFLCBlcnJvciBpcyBub3QgY2F0Y2hhYmxlICovCiAgICAgIHVpbnQ4X3QgdG1wX21hcmsgOiAxOyAgICAgICAgICAgICAvKiB1c2VkIGluIEpTX1dyaXRlT2JqZWN0UmVjKCkgKi8KICAgICAgdWludDhfdCBpc19IVE1MRERBIDogMTsgICAgICAgICAgIC8qIHNwZWNpZmljIGFubmV4IEIgSXNIdG1sRERBIGJlaGF2aW9yICovCiAgICAgIHVpbnQxNl90IGNsYXNzX2lkOyAgICAgICAgICAgICAgICAvKiBzZWUgSlNfQ0xBU1NfeCAqLwogICAgfTsKICB9OwogIC8qIGJ5dGUgb2Zmc2V0czogMTYvMjQgKi8KICBKU1NoYXBlKiBzaGFwZTsgICAvKiBwcm90b3R5cGUgYW5kIHByb3BlcnR5IG5hbWVzICsgZmxhZyAqLwogIEpTUHJvcGVydHkqIHByb3A7IC8qIGFycmF5IG9mIHByb3BlcnRpZXMgKi8KICAvKiBieXRlIG9mZnNldHM6IDI0LzQwICovCiAgc3RydWN0IEpTTWFwUmVjb3JkKiBmaXJzdF93ZWFrX3JlZjsgLyogWFhYOiB1c2UgYSBiaXQgYW5kIGFuIGV4dGVybmFsIGhhc2ggdGFibGU/ICovCiAgLyogYnl0ZSBvZmZzZXRzOiAyOC80OCAqLwogIHVuaW9uIHsKICAgIHZvaWQqIG9wYXF1ZTsKICAgIHN0cnVjdCBKU0JvdW5kRnVuY3Rpb24qIGJvdW5kX2Z1bmN0aW9uOyAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0JPVU5EX0ZVTkNUSU9OICovCiAgICBzdHJ1Y3QgSlNDRnVuY3Rpb25EYXRhUmVjb3JkKiBjX2Z1bmN0aW9uX2RhdGFfcmVjb3JkOyAvKiBKU19DTEFTU19DX0ZVTkNUSU9OX0RBVEEgKi8KICAgIHN0cnVjdCBKU0ZvckluSXRlcmF0b3IqIGZvcl9pbl9pdGVyYXRvcjsgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0ZPUl9JTl9JVEVSQVRPUiAqLwogICAgc3RydWN0IEpTQXJyYXlCdWZmZXIqIGFycmF5X2J1ZmZlcjsgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQVJSQVlfQlVGRkVSLCBKU19DTEFTU19TSEFSRURfQVJSQVlfQlVGRkVSICovCiAgICBzdHJ1Y3QgSlNUeXBlZEFycmF5KiB0eXBlZF9hcnJheTsgICAgICAgICAgICAgICAgICAgICAvKiBKU19DTEFTU19VSU5UOENfQVJSQVkuLkpTX0NMQVNTX0RBVEFWSUVXICovCiNpZmRlZiBDT05GSUdfQklHTlVNCiAgICBzdHJ1Y3QgSlNGbG9hdEVudiogZmxvYXRfZW52OyAgICAgICAgICAgLyogSlNfQ0xBU1NfRkxPQVRfRU5WICovCiAgICBzdHJ1Y3QgSlNPcGVyYXRvclNldERhdGEqIG9wZXJhdG9yX3NldDsgLyogSlNfQ0xBU1NfT1BFUkFUT1JfU0VUICovCiNlbmRpZgogICAgc3RydWN0IEpTTWFwU3RhdGUqIG1hcF9zdGF0ZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX01BUC4uSlNfQ0xBU1NfV0VBS1NFVCAqLwogICAgc3RydWN0IEpTTWFwSXRlcmF0b3JEYXRhKiBtYXBfaXRlcmF0b3JfZGF0YTsgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX01BUF9JVEVSQVRPUiwgSlNfQ0xBU1NfU0VUX0lURVJBVE9SICovCiAgICBzdHJ1Y3QgSlNBcnJheUl0ZXJhdG9yRGF0YSogYXJyYXlfaXRlcmF0b3JfZGF0YTsgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQVJSQVlfSVRFUkFUT1IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0xBU1NfU1RSSU5HX0lURVJBVE9SICovCiAgICBzdHJ1Y3QgSlNSZWdFeHBTdHJpbmdJdGVyYXRvckRhdGEqIHJlZ2V4cF9zdHJpbmdfaXRlcmF0b3JfZGF0YTsgICAgLyogSlNfQ0xBU1NfUkVHRVhQX1NUUklOR19JVEVSQVRPUiAqLwogICAgc3RydWN0IEpTR2VuZXJhdG9yRGF0YSogZ2VuZXJhdG9yX2RhdGE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0dFTkVSQVRPUiAqLwogICAgc3RydWN0IEpTUHJveHlEYXRhKiBwcm94eV9kYXRhOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX1BST1hZICovCiAgICBzdHJ1Y3QgSlNQcm9taXNlRGF0YSogcHJvbWlzZV9kYXRhOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfUFJPTUlTRSAqLwogICAgc3RydWN0IEpTUHJvbWlzZUZ1bmN0aW9uRGF0YSogcHJvbWlzZV9mdW5jdGlvbl9kYXRhOyAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX1BST01JU0VfUkVTT0xWRV9GVU5DVElPTiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DTEFTU19QUk9NSVNFX1JFSkVDVF9GVU5DVElPTiAqLwogICAgc3RydWN0IEpTQXN5bmNGdW5jdGlvbkRhdGEqIGFzeW5jX2Z1bmN0aW9uX2RhdGE7ICAgICAgICAgICAgICAgICAgIC8qIEpTX0NMQVNTX0FTWU5DX0ZVTkNUSU9OX1JFU09MVkUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0xBU1NfQVNZTkNfRlVOQ1RJT05fUkVKRUNUICovCiAgICBzdHJ1Y3QgSlNBc3luY0Zyb21TeW5jSXRlcmF0b3JEYXRhKiBhc3luY19mcm9tX3N5bmNfaXRlcmF0b3JfZGF0YTsgLyogSlNfQ0xBU1NfQVNZTkNfRlJPTV9TWU5DX0lURVJBVE9SICovCiAgICBzdHJ1Y3QgSlNBc3luY0dlbmVyYXRvckRhdGEqIGFzeW5jX2dlbmVyYXRvcl9kYXRhOyAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQVNZTkNfR0VORVJBVE9SICovCiAgICBzdHJ1Y3QgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogSlNfQ0xBU1NfQllURUNPREVfRlVOQ1RJT046IDEyLzI0IGJ5dGVzICovCiAgICAgIC8qIGFsc28gdXNlZCBieSBKU19DTEFTU19HRU5FUkFUT1JfRlVOQ1RJT04sIEpTX0NMQVNTX0FTWU5DX0ZVTkNUSU9OIGFuZAogICAgICAgKiBKU19DTEFTU19BU1lOQ19HRU5FUkFUT1JfRlVOQ1RJT04gKi8KICAgICAgc3RydWN0IEpTRnVuY3Rpb25CeXRlY29kZSogZnVuY3Rpb25fYnl0ZWNvZGU7CiAgICAgIEpTVmFyUmVmKiogdmFyX3JlZnM7CiAgICAgIEpTT2JqZWN0KiBob21lX29iamVjdDsgLyogZm9yICdzdXBlcicgYWNjZXNzICovCiAgICB9IGZ1bmM7CiAgICBzdHJ1Y3QgeyAvKiBKU19DTEFTU19DX0ZVTkNUSU9OOiAxMi8yMCBieXRlcyAqLwogICAgICBKU0NvbnRleHQqIHJlYWxtOwogICAgICBKU0NGdW5jdGlvblR5cGUgY19mdW5jdGlvbjsKICAgICAgdWludDhfdCBsZW5ndGg7CiAgICAgIHVpbnQ4X3QgY3Byb3RvOwogICAgICBpbnQxNl90IG1hZ2ljOwogICAgfSBjZnVuYzsKICAgIC8qIGFycmF5IHBhcnQgZm9yIGZhc3QgYXJyYXlzIGFuZCB0eXBlZCBhcnJheXMgKi8KICAgIHN0cnVjdCB7IC8qIEpTX0NMQVNTX0FSUkFZLCBKU19DTEFTU19BUkdVTUVOVFMsCiAgICAgICAgICAgICAgICBKU19DTEFTU19VSU5UOENfQVJSQVkuLkpTX0NMQVNTX0ZMT0FUNjRfQVJSQVkgKi8KICAgICAgdW5pb24gewogICAgICAgIHVpbnQzMl90IHNpemU7ICAgICAgICAgICAgICAgICAgICAvKiBKU19DTEFTU19BUlJBWSwgSlNfQ0xBU1NfQVJHVU1FTlRTICovCiAgICAgICAgc3RydWN0IEpTVHlwZWRBcnJheSogdHlwZWRfYXJyYXk7IC8qIEpTX0NMQVNTX1VJTlQ4Q19BUlJBWS4uSlNfQ0xBU1NfRkxPQVQ2NF9BUlJBWSAqLwogICAgICB9IHUxOwogICAgICB1bmlvbiB7CiAgICAgICAgSlNWYWx1ZSogdmFsdWVzOyAgICAgIC8qIEpTX0NMQVNTX0FSUkFZLCBKU19DTEFTU19BUkdVTUVOVFMgKi8KICAgICAgICB2b2lkKiBwdHI7ICAgICAgICAgICAgLyogSlNfQ0xBU1NfVUlOVDhDX0FSUkFZLi5KU19DTEFTU19GTE9BVDY0X0FSUkFZICovCiAgICAgICAgaW50OF90KiBpbnQ4X3B0cjsgICAgIC8qIEpTX0NMQVNTX0lOVDhfQVJSQVkgKi8KICAgICAgICB1aW50OF90KiB1aW50OF9wdHI7ICAgLyogSlNfQ0xBU1NfVUlOVDhfQVJSQVksIEpTX0NMQVNTX1VJTlQ4Q19BUlJBWSAqLwogICAgICAgIGludDE2X3QqIGludDE2X3B0cjsgICAvKiBKU19DTEFTU19JTlQxNl9BUlJBWSAqLwogICAgICAgIHVpbnQxNl90KiB1aW50MTZfcHRyOyAvKiBKU19DTEFTU19VSU5UMTZfQVJSQVkgKi8KICAgICAgICBpbnQzMl90KiBpbnQzMl9wdHI7ICAgLyogSlNfQ0xBU1NfSU5UMzJfQVJSQVkgKi8KICAgICAgICB1aW50MzJfdCogdWludDMyX3B0cjsgLyogSlNfQ0xBU1NfVUlOVDMyX0FSUkFZICovCiAgICAgICAgaW50NjRfdCogaW50NjRfcHRyOyAgIC8qIEpTX0NMQVNTX0lOVDY0X0FSUkFZICovCiAgICAgICAgdWludDY0X3QqIHVpbnQ2NF9wdHI7IC8qIEpTX0NMQVNTX1VJTlQ2NF9BUlJBWSAqLwogICAgICAgIGZsb2F0KiBmbG9hdF9wdHI7ICAgICAvKiBKU19DTEFTU19GTE9BVDMyX0FSUkFZICovCiAgICAgICAgZG91YmxlKiBkb3VibGVfcHRyOyAgIC8qIEpTX0NMQVNTX0ZMT0FUNjRfQVJSQVkgKi8KICAgICAgfSB1OwogICAgICB1aW50MzJfdCBjb3VudDsgICAgLyogPD0gMl4zMS0xLiAwIGZvciBhIGRldGFjaGVkIHR5cGVkIGFycmF5ICovCiAgICB9IGFycmF5OyAgICAgICAgICAgICAvKiAxMi8yMCBieXRlcyAqLwogICAgSlNSZWdFeHAgcmVnZXhwOyAgICAgLyogSlNfQ0xBU1NfUkVHRVhQOiA4LzE2IGJ5dGVzICovCiAgICBKU1ZhbHVlIG9iamVjdF9kYXRhOyAvKiBmb3IgSlNfU2V0T2JqZWN0RGF0YSgpOiA4LzE2LzE2IGJ5dGVzICovCiAgfSB1OwogIC8qIGJ5dGUgc2l6ZXM6IDQwLzQ4LzcyICovCn07CgojaWZuZGVmIFNIT1JUX09QQ09ERVMKI2RlZmluZSBTSE9SVF9PUENPREVTIDEKI2VuZGlmCgp0eXBlZGVmIGVudW0gT1BDb2RlRm9ybWF0IHsKI2RlZmluZSBGTVQoZikgT1BfRk1UXyMjZiwKI2RlZmluZSBERUYoaWQsIHNpemUsIG5fcG9wLCBuX3B1c2gsIGYpCiNpbmNsdWRlIDxxdWlja2pzLW9wY29kZS5oPgojdW5kZWYgREVGCiN1bmRlZiBGTVQKfSBPUENvZGVGb3JtYXQ7CgplbnVtIE9QQ29kZUVudW0gewojZGVmaW5lIEZNVChmKQojZGVmaW5lIERFRihpZCwgc2l6ZSwgbl9wb3AsIG5fcHVzaCwgZikgT1BfIyNpZCwKI2RlZmluZSBkZWYoaWQsIHNpemUsIG5fcG9wLCBuX3B1c2gsIGYpCiNpbmNsdWRlIDxxdWlja2pzLW9wY29kZS5oPgojdW5kZWYgZGVmCiN1bmRlZiBERUYKI3VuZGVmIEZNVAogIE9QX0NPVU5ULCAvKiBleGNsdWRpbmcgdGVtcG9yYXJ5IG9wY29kZXMgKi8KICAvKiB0ZW1wb3Jhcnkgb3Bjb2RlcyA6IG92ZXJsYXAgd2l0aCB0aGUgc2hvcnQgb3Bjb2RlcyAqLwogIE9QX1RFTVBfU1RBUlQgPSBPUF9ub3AgKyAxLAogIE9QX19fZHVtbXkgPSBPUF9URU1QX1NUQVJUIC0gMSwKI2RlZmluZSBGTVQoZikKI2RlZmluZSBERUYoaWQsIHNpemUsIG5fcG9wLCBuX3B1c2gsIGYpCiNkZWZpbmUgZGVmKGlkLCBzaXplLCBuX3BvcCwgbl9wdXNoLCBmKSBPUF8jI2lkLAojaW5jbHVkZSA8cXVpY2tqcy1vcGNvZGUuaD4KI3VuZGVmIGRlZgojdW5kZWYgREVGCiN1bmRlZiBGTVQKICBPUF9URU1QX0VORCwKfTsKLyogSlNBdG9tIHN1cHBvcnQgKi8KCiNkZWZpbmUgSlNfQVRPTV9UQUdfSU5UICgxVSA8PCAzMSkKI2RlZmluZSBKU19BVE9NX01BWF9JTlQgKEpTX0FUT01fVEFHX0lOVCAtIDEpCiNkZWZpbmUgSlNfQVRPTV9NQVggKCgxVSA8PCAzMCkgLSAxKQoKdHlwZWRlZiBzdHJ1Y3QgU3RyaW5nQnVmZmVyIHsKICBKU0NvbnRleHQqIGN0eDsKICBKU1N0cmluZyogc3RyOwogIGludCBsZW47CiAgaW50IHNpemU7CiAgaW50IGlzX3dpZGVfY2hhcjsKICBpbnQgZXJyb3Jfc3RhdHVzOwp9IFN0cmluZ0J1ZmZlcjsKCnR5cGVkZWYgc3RydWN0IEpTQ0Z1bmN0aW9uRGF0YVJlY29yZCB7CiAgSlNDRnVuY3Rpb25EYXRhKiBmdW5jOwogIHVpbnQ4X3QgbGVuZ3RoOwogIHVpbnQ4X3QgZGF0YV9sZW47CiAgdWludDE2X3QgbWFnaWM7CiAgSlNWYWx1ZSBkYXRhWzBdOwp9IEpTQ0Z1bmN0aW9uRGF0YVJlY29yZDsKCnR5cGVkZWYgc3RydWN0IEpTQ0Nsb3N1cmVSZWNvcmQgewogIEpTQ0Nsb3N1cmUqIGZ1bmM7CiAgdWludDE2X3QgbGVuZ3RoOwogIHVpbnQxNl90IG1hZ2ljOwogIHZvaWQqIG9wYXF1ZTsKICB2b2lkICgqb3BhcXVlX2ZpbmFsaXplKSh2b2lkKik7Cn0gSlNDQ2xvc3VyZVJlY29yZDsKCnR5cGVkZWYgc3RydWN0IEpTTWVtb3J5VXNhZ2VfaGVscGVyIHsKICBkb3VibGUgbWVtb3J5X3VzZWRfY291bnQ7CiAgZG91YmxlIHN0cl9jb3VudDsKICBkb3VibGUgc3RyX3NpemU7CiAgaW50NjRfdCBqc19mdW5jX2NvdW50OwogIGRvdWJsZSBqc19mdW5jX3NpemU7CiAgaW50NjRfdCBqc19mdW5jX2NvZGVfc2l6ZTsKICBpbnQ2NF90IGpzX2Z1bmNfcGMybGluZV9jb3VudDsKICBpbnQ2NF90IGpzX2Z1bmNfcGMybGluZV9zaXplOwp9IEpTTWVtb3J5VXNhZ2VfaGVscGVyOwoKdHlwZWRlZiBlbnVtIEpTR2VuZXJhdG9yU3RhdGVFbnVtIHsKICBKU19HRU5FUkFUT1JfU1RBVEVfU1VTUEVOREVEX1NUQVJULAogIEpTX0dFTkVSQVRPUl9TVEFURV9TVVNQRU5ERURfWUlFTEQsCiAgSlNfR0VORVJBVE9SX1NUQVRFX1NVU1BFTkRFRF9ZSUVMRF9TVEFSLAogIEpTX0dFTkVSQVRPUl9TVEFURV9FWEVDVVRJTkcsCiAgSlNfR0VORVJBVE9SX1NUQVRFX0NPTVBMRVRFRCwKfSBKU0dlbmVyYXRvclN0YXRlRW51bTsKCnR5cGVkZWYgc3RydWN0IEpTR2VuZXJhdG9yRGF0YSB7CiAgSlNHZW5lcmF0b3JTdGF0ZUVudW0gc3RhdGU7CiAgSlNBc3luY0Z1bmN0aW9uU3RhdGUgZnVuY19zdGF0ZTsKfSBKU0dlbmVyYXRvckRhdGE7Cgp0eXBlZGVmIGVudW0gSlNBc3luY0dlbmVyYXRvclN0YXRlRW51bSB7CiAgSlNfQVNZTkNfR0VORVJBVE9SX1NUQVRFX1NVU1BFTkRFRF9TVEFSVCwKICBKU19BU1lOQ19HRU5FUkFUT1JfU1RBVEVfU1VTUEVOREVEX1lJRUxELAogIEpTX0FTWU5DX0dFTkVSQVRPUl9TVEFURV9TVVNQRU5ERURfWUlFTERfU1RBUiwKICBKU19BU1lOQ19HRU5FUkFUT1JfU1RBVEVfRVhFQ1VUSU5HLAogIEpTX0FTWU5DX0dFTkVSQVRPUl9TVEFURV9BV0FJVElOR19SRVRVUk4sCiAgSlNfQVNZTkNfR0VORVJBVE9SX1NUQVRFX0NPTVBMRVRFRCwKfSBKU0FzeW5jR2VuZXJhdG9yU3RhdGVFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNBc3luY0dlbmVyYXRvclJlcXVlc3QgewogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKICAvKiBjb21wbGV0aW9uICovCiAgaW50IGNvbXBsZXRpb25fdHlwZTsgLyogR0VOX01BR0lDX3ggKi8KICBKU1ZhbHVlIHJlc3VsdDsKICAvKiBwcm9taXNlIGNhcGFiaWxpdHkgKi8KICBKU1ZhbHVlIHByb21pc2U7CiAgSlNWYWx1ZSByZXNvbHZpbmdfZnVuY3NbMl07Cn0gSlNBc3luY0dlbmVyYXRvclJlcXVlc3Q7Cgp0eXBlZGVmIHN0cnVjdCBKU0FzeW5jR2VuZXJhdG9yRGF0YSB7CiAgSlNPYmplY3QqIGdlbmVyYXRvcjsgLyogYmFjayBwb2ludGVyIHRvIHRoZSBvYmplY3QgKGNvbnN0KSAqLwogIEpTQXN5bmNHZW5lcmF0b3JTdGF0ZUVudW0gc3RhdGU7CiAgSlNBc3luY0Z1bmN0aW9uU3RhdGUgZnVuY19zdGF0ZTsKICBzdHJ1Y3QgbGlzdF9oZWFkIHF1ZXVlOyAvKiBsaXN0IG9mIEpTQXN5bmNHZW5lcmF0b3JSZXF1ZXN0LmxpbmsgKi8KfSBKU0FzeW5jR2VuZXJhdG9yRGF0YTsKCnR5cGVkZWYgZW51bSBKU1Byb21pc2VTdGF0ZUVudW0gewogIEpTX1BST01JU0VfUEVORElORywKICBKU19QUk9NSVNFX0ZVTEZJTExFRCwKICBKU19QUk9NSVNFX1JFSkVDVEVELAp9IEpTUHJvbWlzZVN0YXRlRW51bTsKCnR5cGVkZWYgc3RydWN0IEpTUHJvbWlzZURhdGEgewogIEpTUHJvbWlzZVN0YXRlRW51bSBwcm9taXNlX3N0YXRlOwogIC8qIDA9ZnVsZmlsbCwgMT1yZWplY3QsIGxpc3Qgb2YgSlNQcm9taXNlUmVhY3Rpb25EYXRhLmxpbmsgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIHByb21pc2VfcmVhY3Rpb25zWzJdOwogIEJPT0wgaXNfaGFuZGxlZDsgLyogTm90ZTogb25seSB1c2VmdWwgdG8gZGVidWcgKi8KICBKU1ZhbHVlIHByb21pc2VfcmVzdWx0Owp9IEpTUHJvbWlzZURhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU1Byb21pc2VGdW5jdGlvbkRhdGFSZXNvbHZlZCB7CiAgaW50IHJlZl9jb3VudDsKICBCT09MIGFscmVhZHlfcmVzb2x2ZWQ7Cn0gSlNQcm9taXNlRnVuY3Rpb25EYXRhUmVzb2x2ZWQ7Cgp0eXBlZGVmIHN0cnVjdCBKU1Byb21pc2VGdW5jdGlvbkRhdGEgewogIEpTVmFsdWUgcHJvbWlzZTsKICBKU1Byb21pc2VGdW5jdGlvbkRhdGFSZXNvbHZlZCogcHJlc29sdmVkOwp9IEpTUHJvbWlzZUZ1bmN0aW9uRGF0YTsKCnR5cGVkZWYgc3RydWN0IEpTUHJvbWlzZVJlYWN0aW9uRGF0YSB7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOyAvKiBub3QgdXNlZCBpbiBwcm9taXNlX3JlYWN0aW9uX2pvYiAqLwogIEpTVmFsdWUgcmVzb2x2aW5nX2Z1bmNzWzJdOwogIEpTVmFsdWUgaGFuZGxlcjsKfSBKU1Byb21pc2VSZWFjdGlvbkRhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU0JvdW5kRnVuY3Rpb24gewogIEpTVmFsdWUgZnVuY19vYmo7CiAgSlNWYWx1ZSB0aGlzX3ZhbDsKICBpbnQgYXJnYzsKICBKU1ZhbHVlIGFyZ3ZbMF07Cn0gSlNCb3VuZEZ1bmN0aW9uOwoKdHlwZWRlZiBlbnVtIEpTSXRlcmF0b3JLaW5kRW51bSB7CiAgSlNfSVRFUkFUT1JfS0lORF9LRVksCiAgSlNfSVRFUkFUT1JfS0lORF9WQUxVRSwKICBKU19JVEVSQVRPUl9LSU5EX0tFWV9BTkRfVkFMVUUsCn0gSlNJdGVyYXRvcktpbmRFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNGb3JJbkl0ZXJhdG9yIHsKICBKU1ZhbHVlIG9iajsKICBCT09MIGlzX2FycmF5OwogIHVpbnQzMl90IGFycmF5X2xlbmd0aDsKICB1aW50MzJfdCBpZHg7Cn0gSlNGb3JJbkl0ZXJhdG9yOwoKdHlwZWRlZiBlbnVtIHsKICAvKiBiaW5hcnkgb3BlcmF0b3JzICovCiAgSlNfT1ZPUF9BREQsCiAgSlNfT1ZPUF9TVUIsCiAgSlNfT1ZPUF9NVUwsCiAgSlNfT1ZPUF9ESVYsCiAgSlNfT1ZPUF9NT0QsCiAgSlNfT1ZPUF9QT1csCiAgSlNfT1ZPUF9PUiwKICBKU19PVk9QX0FORCwKICBKU19PVk9QX1hPUiwKICBKU19PVk9QX1NITCwKICBKU19PVk9QX1NBUiwKICBKU19PVk9QX1NIUiwKICBKU19PVk9QX0VRLAogIEpTX09WT1BfTEVTUywKCiAgSlNfT1ZPUF9CSU5BUllfQ09VTlQsCiAgLyogdW5hcnkgb3BlcmF0b3JzICovCiAgSlNfT1ZPUF9QT1MgPSBKU19PVk9QX0JJTkFSWV9DT1VOVCwKICBKU19PVk9QX05FRywKICBKU19PVk9QX0lOQywKICBKU19PVk9QX0RFQywKICBKU19PVk9QX05PVCwKCiAgSlNfT1ZPUF9DT1VOVCwKfSBKU092ZXJsb2FkYWJsZU9wZXJhdG9yRW51bTsKCnR5cGVkZWYgc3RydWN0IHsKICB1aW50MzJfdCBvcGVyYXRvcl9pbmRleDsKICBKU09iamVjdCogb3BzW0pTX09WT1BfQklOQVJZX0NPVU5UXTsgLyogc2VsZiBvcGVyYXRvcnMgKi8KfSBKU0JpbmFyeU9wZXJhdG9yRGVmRW50cnk7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IGNvdW50OwogIEpTQmluYXJ5T3BlcmF0b3JEZWZFbnRyeSogdGFiOwp9IEpTQmluYXJ5T3BlcmF0b3JEZWY7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgdWludDMyX3Qgb3BlcmF0b3JfY291bnRlcjsKICBCT09MIGlzX3ByaW1pdGl2ZTsgLyogT3BlcmF0b3JTZXQgZm9yIGEgcHJpbWl0aXZlIHR5cGUgKi8KICAvKiBOVUxMIGlmIG5vIG9wZXJhdG9yIGlzIGRlZmluZWQgKi8KICBKU09iamVjdCogc2VsZl9vcHNbSlNfT1ZPUF9DT1VOVF07IC8qIHNlbGYgb3BlcmF0b3JzICovCiAgSlNCaW5hcnlPcGVyYXRvckRlZiBsZWZ0OwogIEpTQmluYXJ5T3BlcmF0b3JEZWYgcmlnaHQ7Cn0gSlNPcGVyYXRvclNldERhdGE7Cgp0eXBlZGVmIHN0cnVjdCBKU1JlcU1vZHVsZUVudHJ5IHsKICBKU0F0b20gbW9kdWxlX25hbWU7CiAgSlNNb2R1bGVEZWYqIG1vZHVsZTsgLyogdXNlZCB1c2luZyByZXNvbHV0aW9uICovCn0gSlNSZXFNb2R1bGVFbnRyeTsKCnR5cGVkZWYgZW51bSBKU0V4cG9ydFR5cGVFbnVtIHsKICBKU19FWFBPUlRfVFlQRV9MT0NBTCwKICBKU19FWFBPUlRfVFlQRV9JTkRJUkVDVCwKfSBKU0V4cG9ydFR5cGVFbnVtOwoKdHlwZWRlZiBzdHJ1Y3QgSlNFeHBvcnRFbnRyeSB7CiAgdW5pb24gewogICAgc3RydWN0IHsKICAgICAgaW50IHZhcl9pZHg7ICAgICAgIC8qIGNsb3N1cmUgdmFyaWFibGUgaW5kZXggKi8KICAgICAgSlNWYXJSZWYqIHZhcl9yZWY7IC8qIGlmICE9IE5VTEwsIHJlZmVyZW5jZSB0byB0aGUgdmFyaWFibGUgKi8KICAgIH0gbG9jYWw7ICAgICAgICAgICAgIC8qIGZvciBsb2NhbCBleHBvcnQgKi8KICAgIGludCByZXFfbW9kdWxlX2lkeDsgIC8qIG1vZHVsZSBmb3IgaW5kaXJlY3QgZXhwb3J0ICovCiAgfSB1OwogIEpTRXhwb3J0VHlwZUVudW0gZXhwb3J0X3R5cGU7CiAgSlNBdG9tIGxvY2FsX25hbWU7ICAvKiAnKicgaWYgZXhwb3J0IG5zIGZyb20uIG5vdCB1c2VkIGZvciBsb2NhbAogICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0IGFmdGVyIGNvbXBpbGF0aW9uICovCiAgSlNBdG9tIGV4cG9ydF9uYW1lOyAvKiBleHBvcnRlZCB2YXJpYWJsZSBuYW1lICovCn0gSlNFeHBvcnRFbnRyeTsKCnR5cGVkZWYgc3RydWN0IEpTU3RhckV4cG9ydEVudHJ5IHsKICBpbnQgcmVxX21vZHVsZV9pZHg7IC8qIGluIHJlcV9tb2R1bGVfZW50cmllcyAqLwp9IEpTU3RhckV4cG9ydEVudHJ5OwoKdHlwZWRlZiBzdHJ1Y3QgSlNJbXBvcnRFbnRyeSB7CiAgaW50IHZhcl9pZHg7IC8qIGNsb3N1cmUgdmFyaWFibGUgaW5kZXggKi8KICBKU0F0b20gaW1wb3J0X25hbWU7CiAgaW50IHJlcV9tb2R1bGVfaWR4OyAvKiBpbiByZXFfbW9kdWxlX2VudHJpZXMgKi8KfSBKU0ltcG9ydEVudHJ5OwoKc3RydWN0IEpTTW9kdWxlRGVmIHsKICBKU1JlZkNvdW50SGVhZGVyIGhlYWRlcjsgLyogbXVzdCBjb21lIGZpcnN0LCAzMi1iaXQgKi8KICBKU0F0b20gbW9kdWxlX25hbWU7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwoKICBKU1JlcU1vZHVsZUVudHJ5KiByZXFfbW9kdWxlX2VudHJpZXM7CiAgaW50IHJlcV9tb2R1bGVfZW50cmllc19jb3VudDsKICBpbnQgcmVxX21vZHVsZV9lbnRyaWVzX3NpemU7CgogIEpTRXhwb3J0RW50cnkqIGV4cG9ydF9lbnRyaWVzOwogIGludCBleHBvcnRfZW50cmllc19jb3VudDsKICBpbnQgZXhwb3J0X2VudHJpZXNfc2l6ZTsKCiAgSlNTdGFyRXhwb3J0RW50cnkqIHN0YXJfZXhwb3J0X2VudHJpZXM7CiAgaW50IHN0YXJfZXhwb3J0X2VudHJpZXNfY291bnQ7CiAgaW50IHN0YXJfZXhwb3J0X2VudHJpZXNfc2l6ZTsKCiAgSlNJbXBvcnRFbnRyeSogaW1wb3J0X2VudHJpZXM7CiAgaW50IGltcG9ydF9lbnRyaWVzX2NvdW50OwogIGludCBpbXBvcnRfZW50cmllc19zaXplOwoKICBKU1ZhbHVlIG1vZHVsZV9uczsKICBKU1ZhbHVlIGZ1bmNfb2JqOyAgICAgICAgICAgIC8qIG9ubHkgdXNlZCBmb3IgSlMgbW9kdWxlcyAqLwogIEpTTW9kdWxlSW5pdEZ1bmMqIGluaXRfZnVuYzsgLyogb25seSB1c2VkIGZvciBDIG1vZHVsZXMgKi8KICBCT09MIHJlc29sdmVkIDogODsKICBCT09MIGZ1bmNfY3JlYXRlZCA6IDg7CiAgQk9PTCBpbnN0YW50aWF0ZWQgOiA4OwogIEJPT0wgZXZhbHVhdGVkIDogODsKICBCT09MIGV2YWxfbWFyayA6IDg7IC8qIHRlbXBvcmFyeSB1c2UgZHVyaW5nIGpzX2V2YWx1YXRlX21vZHVsZSgpICovCiAgLyogdHJ1ZSBpZiBldmFsdWF0aW9uIHlpZWxkZWQgYW4gZXhjZXB0aW9uLiBJdCBpcyBzYXZlZCBpbgogICAgIGV2YWxfZXhjZXB0aW9uICovCiAgQk9PTCBldmFsX2hhc19leGNlcHRpb24gOiA4OwogIEpTVmFsdWUgZXZhbF9leGNlcHRpb247CiAgSlNWYWx1ZSBtZXRhX29iajsgLyogZm9yIGltcG9ydC5tZXRhICovCn07Cgp0eXBlZGVmIHN0cnVjdCBKU0pvYkVudHJ5IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgSlNDb250ZXh0KiBjdHg7CiAgSlNKb2JGdW5jKiBqb2JfZnVuYzsKICBpbnQgYXJnYzsKICBKU1ZhbHVlIGFyZ3ZbMF07Cn0gSlNKb2JFbnRyeTsKCi8qIFNldC9NYXAvV2Vha1NldC9XZWFrTWFwICovCgp0eXBlZGVmIHN0cnVjdCBKU01hcFJlY29yZCB7CiAgaW50IHJlZl9jb3VudDsgLyogdXNlZCBkdXJpbmcgZW51bWVyYXRpb24gdG8gYXZvaWQgZnJlZWluZyB0aGUgcmVjb3JkICovCiAgQk9PTCBlbXB0eTsgICAgLyogVFJVRSBpZiB0aGUgcmVjb3JkIGlzIGRlbGV0ZWQgKi8KICBzdHJ1Y3QgSlNNYXBTdGF0ZSogbWFwOwogIHN0cnVjdCBKU01hcFJlY29yZCogbmV4dF93ZWFrX3JlZjsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgc3RydWN0IGxpc3RfaGVhZCBoYXNoX2xpbms7CiAgSlNWYWx1ZSBrZXk7CiAgSlNWYWx1ZSB2YWx1ZTsKfSBKU01hcFJlY29yZDsKCnR5cGVkZWYgc3RydWN0IEpTTWFwU3RhdGUgewogIEJPT0wgaXNfd2VhazsgICAgICAgICAgICAgLyogVFJVRSBpZiBXZWFrU2V0L1dlYWtNYXAgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIHJlY29yZHM7IC8qIGxpc3Qgb2YgSlNNYXBSZWNvcmQubGluayAqLwogIHVpbnQzMl90IHJlY29yZF9jb3VudDsKICBzdHJ1Y3QgbGlzdF9oZWFkKiBoYXNoX3RhYmxlOwogIHVpbnQzMl90IGhhc2hfc2l6ZTsgICAgICAgICAgICAgIC8qIG11c3QgYmUgYSBwb3dlciBvZiB0d28gKi8KICB1aW50MzJfdCByZWNvcmRfY291bnRfdGhyZXNob2xkOyAvKiBjb3VudCBhdCB3aGljaCBhIGhhc2ggdGFibGUgcmVzaXplIGlzIG5lZWRlZCAqLwp9IEpTTWFwU3RhdGU7CgojZGVmaW5lIE1BR0lDX1NFVCAoMSA8PCAwKQojZGVmaW5lIE1BR0lDX1dFQUsgKDEgPDwgMSkKCnR5cGVkZWYgc3RydWN0IEpTTWFwSXRlcmF0b3JEYXRhIHsKICBKU1ZhbHVlIG9iajsKICBKU0l0ZXJhdG9yS2luZEVudW0ga2luZDsKICBKU01hcFJlY29yZCogY3VyX3JlY29yZDsKfSBKU01hcEl0ZXJhdG9yRGF0YTsKCnR5cGVkZWYgc3RydWN0IEpTT3BDb2RlIHsKICB1aW50OF90IHNpemU7IC8qIGluIGJ5dGVzICovCiAgLyogdGhlIG9wY29kZXMgcmVtb3ZlIG5fcG9wIGl0ZW1zIGZyb20gdGhlIHRvcCBvZiB0aGUgc3RhY2ssIHRoZW4KICAgICBwdXNoZXMgbl9wdXNoIGl0ZW1zICovCiAgdWludDhfdCBuX3BvcDsKICB1aW50OF90IG5fcHVzaDsKICB1aW50OF90IGZtdDsKICBjb25zdCBjaGFyKiBuYW1lOwp9IEpTT3BDb2RlOwoKI2lmIFNIT1JUX09QQ09ERVMKLyogQWZ0ZXIgdGhlIGZpbmFsIGNvbXBpbGF0aW9uIHBhc3MsIHNob3J0IG9wY29kZXMgYXJlIHVzZWQuIFRoZWlyCiAgIG9wY29kZXMgb3ZlcmxhcCB3aXRoIHRoZSB0ZW1wb3Jhcnkgb3Bjb2RlcyB3aGljaCBjYW5ub3QgYXBwZWFyIGluCiAgIHRoZSBmaW5hbCBieXRlY29kZS4gVGhlaXIgZGVzY3JpcHRpb24gaXMgYWZ0ZXIgdGhlIHRlbXBvcmFyeQogICBvcGNvZGVzIGluIG9wY29kZV9pbmZvW10uICovCiNkZWZpbmUgc2hvcnRfb3Bjb2RlX2luZm8ob3ApIG9wY29kZV9pbmZvWyhvcCkgPj0gT1BfVEVNUF9TVEFSVCA/IChvcCkgKyAoT1BfVEVNUF9FTkQgLSBPUF9URU1QX1NUQVJUKSA6IChvcCldCiNlbHNlCiNkZWZpbmUgc2hvcnRfb3Bjb2RlX2luZm8ob3ApIG9wY29kZV9pbmZvW29wXQojZW5kaWYKCmV4dGVybiBjb25zdCBKU09wQ29kZSBqc19vcGNvZGVzW09QX0NPVU5UICsgKE9QX1RFTVBfRU5EIC0gT1BfVEVNUF9TVEFSVCldOwoKdHlwZWRlZiBzdHJ1Y3QgSlNQYXJzZVBvcyB7CiAgaW50IGxhc3RfbGluZV9udW07CiAgaW50IGxpbmVfbnVtOwogIEJPT0wgZ290X2xmOwogIGNvbnN0IHVpbnQ4X3QqIHB0cjsKfSBKU1BhcnNlUG9zOwoKdHlwZWRlZiBzdHJ1Y3QgSlNSZXNvbHZlRW50cnkgewogIEpTTW9kdWxlRGVmKiBtb2R1bGU7CiAgSlNBdG9tIG5hbWU7Cn0gSlNSZXNvbHZlRW50cnk7Cgp0eXBlZGVmIHN0cnVjdCBKU1Jlc29sdmVTdGF0ZSB7CiAgSlNSZXNvbHZlRW50cnkqIGFycmF5OwogIGludCBzaXplOwogIGludCBjb3VudDsKfSBKU1Jlc29sdmVTdGF0ZTsKCnR5cGVkZWYgZW51bSB7CiAgRVhQT1JURURfTkFNRV9BTUJJR1VPVVMsCiAgRVhQT1JURURfTkFNRV9OT1JNQUwsCiAgRVhQT1JURURfTkFNRV9OUywKfSBFeHBvcnRlZE5hbWVFbnRyeUVudW07Cgp0eXBlZGVmIHN0cnVjdCBFeHBvcnRlZE5hbWVFbnRyeSB7CiAgSlNBdG9tIGV4cG9ydF9uYW1lOwogIEV4cG9ydGVkTmFtZUVudHJ5RW51bSBleHBvcnRfdHlwZTsKICB1bmlvbiB7CiAgICBKU0V4cG9ydEVudHJ5KiBtZTsgICAvKiB1c2luZyB3aGVuIHRoZSBsaXN0IGlzIGJ1aWx0ICovCiAgICBKU1ZhclJlZiogdmFyX3JlZjsgICAvKiBFWFBPUlRFRF9OQU1FX05PUk1BTCAqLwogICAgSlNNb2R1bGVEZWYqIG1vZHVsZTsgLyogZm9yIEVYUE9SVEVEX05BTUVfTlMgKi8KICB9IHU7Cn0gRXhwb3J0ZWROYW1lRW50cnk7Cgp0eXBlZGVmIHN0cnVjdCBHZXRFeHBvcnROYW1lc1N0YXRlIHsKICBKU01vZHVsZURlZioqIG1vZHVsZXM7CiAgaW50IG1vZHVsZXNfc2l6ZTsKICBpbnQgbW9kdWxlc19jb3VudDsKCiAgRXhwb3J0ZWROYW1lRW50cnkqIGV4cG9ydGVkX25hbWVzOwogIGludCBleHBvcnRlZF9uYW1lc19zaXplOwogIGludCBleHBvcnRlZF9uYW1lc19jb3VudDsKfSBHZXRFeHBvcnROYW1lc1N0YXRlOwoKdHlwZWRlZiBzdHJ1Y3QgQ29kZUNvbnRleHQgewogIGNvbnN0IHVpbnQ4X3QqIGJjX2J1ZjsgLyogY29kZSBidWZmZXIgKi8KICBpbnQgYmNfbGVuOyAgICAgICAgICAgIC8qIGxlbmd0aCBvZiB0aGUgY29kZSBidWZmZXIgKi8KICBpbnQgcG9zOyAgICAgICAgICAgICAgIC8qIHBvc2l0aW9uIHBhc3QgdGhlIG1hdGNoZWQgY29kZSBwYXR0ZXJuICovCiAgaW50IGxpbmVfbnVtOyAgICAgICAgICAvKiBsYXN0IHZpc2l0ZWQgT1BfbGluZV9udW0gcGFyYW1ldGVyIG9yIC0xICovCiAgaW50IG9wOwogIGludCBpZHg7CiAgaW50IGxhYmVsOwogIGludCB2YWw7CiAgSlNBdG9tIGF0b207Cn0gQ29kZUNvbnRleHQ7Cgp0eXBlZGVmIHN0cnVjdCBTdGFja1NpemVTdGF0ZSB7CiAgaW50IGJjX2xlbjsKICBpbnQgc3RhY2tfbGVuX21heDsKICB1aW50MTZfdCogc3RhY2tfbGV2ZWxfdGFiOwogIGludCogcGNfc3RhY2s7CiAgaW50IHBjX3N0YWNrX2xlbjsKICBpbnQgcGNfc3RhY2tfc2l6ZTsKfSBTdGFja1NpemVTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IHsKICBKU09iamVjdCogb2JqOwogIHVpbnQzMl90IGhhc2hfbmV4dDsgLyogLTEgaWYgbm8gbmV4dCBlbnRyeSAqLwp9IEpTT2JqZWN0TGlzdEVudHJ5OwoKLyogWFhYOiByZXVzZSBpdCB0byBvcHRpbWl6ZSB3ZWFrIHJlZmVyZW5jZXMgKi8KdHlwZWRlZiBzdHJ1Y3QgewogIEpTT2JqZWN0TGlzdEVudHJ5KiBvYmplY3RfdGFiOwogIGludCBvYmplY3RfY291bnQ7CiAgaW50IG9iamVjdF9zaXplOwogIHVpbnQzMl90KiBoYXNoX3RhYmxlOwogIHVpbnQzMl90IGhhc2hfc2l6ZTsKfSBKU09iamVjdExpc3Q7Cgp0eXBlZGVmIGVudW0gQkNUYWdFbnVtIHsKICBCQ19UQUdfTlVMTCA9IDEsCiAgQkNfVEFHX1VOREVGSU5FRCwKICBCQ19UQUdfQk9PTF9GQUxTRSwKICBCQ19UQUdfQk9PTF9UUlVFLAogIEJDX1RBR19JTlQzMiwKICBCQ19UQUdfRkxPQVQ2NCwKICBCQ19UQUdfU1RSSU5HLAogIEJDX1RBR19PQkpFQ1QsCiAgQkNfVEFHX0FSUkFZLAogIEJDX1RBR19CSUdfSU5ULAogIEJDX1RBR19CSUdfRkxPQVQsCiAgQkNfVEFHX0JJR19ERUNJTUFMLAogIEJDX1RBR19URU1QTEFURV9PQkpFQ1QsCiAgQkNfVEFHX0ZVTkNUSU9OX0JZVEVDT0RFLAogIEJDX1RBR19NT0RVTEUsCiAgQkNfVEFHX1RZUEVEX0FSUkFZLAogIEJDX1RBR19BUlJBWV9CVUZGRVIsCiAgQkNfVEFHX1NIQVJFRF9BUlJBWV9CVUZGRVIsCiAgQkNfVEFHX0RBVEUsCiAgQkNfVEFHX09CSkVDVF9WQUxVRSwKICBCQ19UQUdfT0JKRUNUX1JFRkVSRU5DRSwKfSBCQ1RhZ0VudW07CgojaWZkZWYgQ09ORklHX0JJR05VTQojZGVmaW5lIEJDX0JBU0VfVkVSU0lPTiAyCiNlbHNlCiNkZWZpbmUgQkNfQkFTRV9WRVJTSU9OIDEKI2VuZGlmCiNkZWZpbmUgQkNfQkVfVkVSU0lPTiAweDQwCiNpZmRlZiBXT1JEU19CSUdFTkRJQU4KI2RlZmluZSBCQ19WRVJTSU9OIChCQ19CQVNFX1ZFUlNJT04gfCBCQ19CRV9WRVJTSU9OKQojZWxzZQojZGVmaW5lIEJDX1ZFUlNJT04gQkNfQkFTRV9WRVJTSU9OCiNlbmRpZgoKdHlwZWRlZiBzdHJ1Y3QgQkNXcml0ZXJTdGF0ZSB7CiAgSlNDb250ZXh0KiBjdHg7CiAgRHluQnVmIGRidWY7CiAgQk9PTCBieXRlX3N3YXAgOiA4OwogIEJPT0wgYWxsb3dfYnl0ZWNvZGUgOiA4OwogIEJPT0wgYWxsb3dfc2FiIDogODsKICBCT09MIGFsbG93X3JlZmVyZW5jZSA6IDg7CiAgdWludDMyX3QgZmlyc3RfYXRvbTsKICB1aW50MzJfdCogYXRvbV90b19pZHg7CiAgaW50IGF0b21fdG9faWR4X3NpemU7CiAgSlNBdG9tKiBpZHhfdG9fYXRvbTsKICBpbnQgaWR4X3RvX2F0b21fY291bnQ7CiAgaW50IGlkeF90b19hdG9tX3NpemU7CiAgdWludDhfdCoqIHNhYl90YWI7CiAgaW50IHNhYl90YWJfbGVuOwogIGludCBzYWJfdGFiX3NpemU7CiAgLyogbGlzdCBvZiByZWZlcmVuY2VkIG9iamVjdHMgKHVzZWQgaWYgYWxsb3dfcmVmZXJlbmNlID0gVFJVRSkgKi8KICBKU09iamVjdExpc3Qgb2JqZWN0X2xpc3Q7Cn0gQkNXcml0ZXJTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IEJDUmVhZGVyU3RhdGUgewogIEpTQ29udGV4dCogY3R4OwogIGNvbnN0IHVpbnQ4X3QgKmJ1Zl9zdGFydCwgKnB0ciwgKmJ1Zl9lbmQ7CiAgdWludDMyX3QgZmlyc3RfYXRvbTsKICB1aW50MzJfdCBpZHhfdG9fYXRvbV9jb3VudDsKICBKU0F0b20qIGlkeF90b19hdG9tOwogIGludCBlcnJvcl9zdGF0ZTsKICBCT09MIGFsbG93X3NhYiA6IDg7CiAgQk9PTCBhbGxvd19ieXRlY29kZSA6IDg7CiAgQk9PTCBpc19yb21fZGF0YSA6IDg7CiAgQk9PTCBhbGxvd19yZWZlcmVuY2UgOiA4OwogIC8qIG9iamVjdCByZWZlcmVuY2VzICovCiAgSlNPYmplY3QqKiBvYmplY3RzOwogIGludCBvYmplY3RzX2NvdW50OwogIGludCBvYmplY3RzX3NpemU7CgojaWZkZWYgRFVNUF9SRUFEX09CSkVDVAogIGNvbnN0IHVpbnQ4X3QqIHB0cl9sYXN0OwogIGludCBsZXZlbDsKI2VuZGlmCn0gQkNSZWFkZXJTdGF0ZTsKCnR5cGVkZWYgc3RydWN0IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgaW50IGZkOwogIEpTVmFsdWUgcndfZnVuY1syXTsKICBzc2l6ZV90IGlwZmQ7Cn0gSlNPU1JXSGFuZGxlcjsKCnR5cGVkZWYgc3RydWN0IHsKICBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7CiAgaW50IHNpZ19udW07CiAgSlNWYWx1ZSBmdW5jOwp9IEpTT1NTaWduYWxIYW5kbGVyOwoKdHlwZWRlZiBzdHJ1Y3QgewogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKICBCT09MIGhhc19vYmplY3Q7CiAgaW50NjRfdCB0aW1lb3V0OwogIEpTVmFsdWUgZnVuYzsKfSBKU09TVGltZXI7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgc3RydWN0IGxpc3RfaGVhZCBsaW5rOwogIHVpbnQ4X3QqIGRhdGE7CiAgc2l6ZV90IGRhdGFfbGVuOwogIC8qIGxpc3Qgb2YgU2hhcmVkQXJyYXlCdWZmZXJzLCBuZWNlc3NhcnkgdG8gZnJlZSB0aGUgbWVzc2FnZSAqLwogIHVpbnQ4X3QqKiBzYWJfdGFiOwogIHNpemVfdCBzYWJfdGFiX2xlbjsKfSBKU1dvcmtlck1lc3NhZ2U7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IHJlZl9jb3VudDsKI2lmZGVmIFVTRV9XT1JLRVIKICBwdGhyZWFkX211dGV4X3QgbXV0ZXg7CiNlbmRpZgogIHN0cnVjdCBsaXN0X2hlYWQgbXNnX3F1ZXVlOyAvKiBsaXN0IG9mIEpTV29ya2VyTWVzc2FnZS5saW5rICovCiAgaW50IHJlYWRfZmQ7CiAgaW50IHdyaXRlX2ZkOwogIHNzaXplX3QgaXBmZDsKfSBKU1dvcmtlck1lc3NhZ2VQaXBlOwoKdHlwZWRlZiBzdHJ1Y3QgewogIHN0cnVjdCBsaXN0X2hlYWQgbGluazsKICBKU1dvcmtlck1lc3NhZ2VQaXBlKiByZWN2X3BpcGU7CiAgSlNWYWx1ZSBvbl9tZXNzYWdlX2Z1bmM7Cn0gSlNXb3JrZXJNZXNzYWdlSGFuZGxlcjsKCnR5cGVkZWYgc3RydWN0IEpTVGhyZWFkU3RhdGUgewogIHN0cnVjdCBsaXN0X2hlYWQgb3NfcndfaGFuZGxlcnM7ICAgICAvKiBsaXN0IG9mIEpTT1NSV0hhbmRsZXIubGluayAqLwogIHN0cnVjdCBsaXN0X2hlYWQgb3Nfc2lnbmFsX2hhbmRsZXJzOyAvKiBsaXN0IEpTT1NTaWduYWxIYW5kbGVyLmxpbmsgKi8KICBzdHJ1Y3QgbGlzdF9oZWFkIG9zX3RpbWVyczsgICAgICAgICAgLyogbGlzdCBvZiBKU09TVGltZXIubGluayAqLwogIHN0cnVjdCBsaXN0X2hlYWQgcG9ydF9saXN0OyAgICAgICAgICAvKiBsaXN0IG9mIEpTV29ya2VyTWVzc2FnZUhhbmRsZXIubGluayAqLwogIGludCBldmFsX3NjcmlwdF9yZWN1cnNlOyAgICAgICAgICAgICAvKiBvbmx5IHVzZWQgaW4gdGhlIG1haW4gdGhyZWFkICovCiAgLyogbm90IHVzZWQgaW4gdGhlIG1haW4gdGhyZWFkICovCiAgSlNXb3JrZXJNZXNzYWdlUGlwZSAqcmVjdl9waXBlLCAqc2VuZF9waXBlOwp9IEpTVGhyZWFkU3RhdGU7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IHJlZl9jb3VudDsKICB1aW50NjRfdCBidWZbMF07Cn0gSlNTQUJIZWFkZXI7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgRklMRSogZjsKICBCT09MIGNsb3NlX2luX2ZpbmFsaXplcjsKICBCT09MIGlzX3BvcGVuOwp9IEpTU1RERmlsZTsKCkJPT0wgSlNfSXNVbmNhdGNoYWJsZUVycm9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CgojZW5kaWYgLyogZGVmaW5lZChRSlNfTU9EVUxFU19JTlRFUk5BTF9IKSAqLwoAAAAAAAAAAAKTAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA91YAAAAAAAABVwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "utils.h",
			"settings":
			{
				"buffer_size": 28737,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBcAAAI2lmbmRlZiBVVElMU19ICiNkZWZpbmUgVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInF1aWNranMtaW50ZXJuYWwuaCIKI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8c3RyaW5nLmg+CiNpbmNsdWRlIDxtYXRoLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPHN0ZGxpYi5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpZmRlZiBIQVZFX1RIUkVBRFNfSAojaW5jbHVkZSA8dGhyZWFkcy5oPgojZW5kaWYKCmNoYXIqIGJhc2VuYW1lKGNvbnN0IGNoYXIqKTsKCiNpZm5kZWYgb2Zmc2V0b2YKI2RlZmluZSBvZmZzZXRvZih0eXBlLCBmaWVsZCkgKChzaXplX3QpICYgKCh0eXBlKikwKS0+ZmllbGQpCiNlbmRpZgoKI2lmbmRlZiBpbnJhbmdlCiNkZWZpbmUgaW5yYW5nZSh2YWx1ZSwgbWluLCBtYXgpICgodmFsdWUpID49IChtaW4pICYmICh2YWx1ZSkgPD0gKG1heCkpCiNlbmRpZgoKI2RlZmluZSB0cmltX2RvdHNsYXNoKHN0cikgKCFzdHJuY21wKChzdHIpLCAiLi8iLCAyKSA/IChzdHIpICsgMiA6IChzdHIpKQoKI2lmbmRlZiB0aHJlYWRfbG9jYWwKI2lmZGVmIF9UaHJlYWRfbG9jYWwKI2RlZmluZSB0aHJlYWRfbG9jYWwgX1RocmVhZF9sb2NhbAojZWxpZiBkZWZpbmVkKF9fR05VQ19fKSB8fCBkZWZpbmVkKF9fSU5URUxfQ09NUElMRVIpIHx8IGRlZmluZWQoX19TVU5QUk9fQ0MpIHx8IGRlZmluZWQoX19JQk1DUFBfXykKI2RlZmluZSB0aHJlYWRfbG9jYWwgX190aHJlYWQKI2VsaWYgZGVmaW5lZChfV0lOMzIpCiNkZWZpbmUgdGhyZWFkX2xvY2FsIF9fZGVjbHNwZWModGhyZWFkKQojZWxzZQojZXJyb3IgTm8gVExTIGltcGxlbWVudGF0aW9uIGZvdW5kLgojZW5kaWYKI2VuZGlmCgp0eXBlZGVmIGVudW0gcHJlY2VkZW5jZSB7CiAgUFJFQ0VERU5DRV9DT01NQV9TRVFVRU5DRSA9IDEsCiAgUFJFQ0VERU5DRV9ZSUVMRCwKICBQUkVDRURFTkNFX0FTU0lHTk1FTlQsCiAgUFJFQ0VERU5DRV9URVJOQVJZLAogIFBSRUNFREVOQ0VfTlVMTElTSF9DT0FMRVNDSU5HLAogIFBSRUNFREVOQ0VfTE9HSUNBTF9PUiwKICBQUkVDRURFTkNFX0xPR0lDQUxfQU5ELAogIFBSRUNFREVOQ0VfQklUV0lTRV9PUiwKICBQUkVDRURFTkNFX0JJVFdJU0VfWE9SLAogIFBSRUNFREVOQ0VfQklUV0lTRV9BTkQsCiAgUFJFQ0VERU5DRV9FUVVBTElUWSwKICBQUkVDRURFTkNFX0xFU1NfR1JFQVRFUl9JTiwKICBQUkVDRURFTkNFX0JJVFdJU0VfU0hJRlQsCiAgUFJFQ0VERU5DRV9BRERJVElWRSwKICBQUkVDRURFTkNFX01VTFRJUExJQ0FUSVZFLAogIFBSRUNFREVOQ0VfRVhQT05FTlRJQVRJT04sCiAgUFJFQ0VERU5DRV9VTkFSWSwKICBQUkVDRURFTkNFX1BPU1RGSVgsCiAgUFJFQ0VERU5DRV9ORVcsCiAgUFJFQ0VERU5DRV9NRU1CRVJfQUNDRVNTLAogIFBSRUNFREVOQ0VfR1JPVVBJTkcsCn0gSlNQcmVjZWRlbmNlOwoKI2RlZmluZSBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKHByb3BfbmFtZSwgZmdldHRlciwgZnNldHRlciwgbWFnaWNfbnVtKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX0VOVU1FUkFCTEUgfCBKU19QUk9QX0NPTkZJR1VSQUJMRSwgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7IFwKICAgICAgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IFwKICAgIH0gXAogIH0KCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7IFwKICAgICAgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IFwKICAgIH0gXAogIH0KCiNkZWZpbmUgSlNfQ0ZVTkNfREVGX0ZMQUdTKHByb3BfbmFtZSwgbGVuZ3RoLCBmdW5jMSwgZmxhZ3MpIFwKICB7IFwKICAgIC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0ZVTkMsIC5tYWdpYyA9IDAsIC51ID0gey5mdW5jID0ge2xlbmd0aCwgSlNfQ0ZVTkNfZ2VuZXJpYywgey5nZW5lcmljID0gZnVuYzF9fSB9IFwKICB9CgojZGVmaW5lIEpTX0NPTlNUQU5UKG5hbWUpIEpTX1BST1BfSU5UMzJfREVGKCNuYW1lLCBuYW1lLCBKU19QUk9QX0NPTkZJR1VSQUJMRSkKCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNpZm5kZWYgTUFYX05VTQojZGVmaW5lIE1BWF9OVU0oYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2VuZGlmCiNpZm5kZWYgTUlOX05VTQojZGVmaW5lIE1JTl9OVU0oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKI2VuZGlmCgojZGVmaW5lIEpTX0lzTW9kdWxlKHZhbHVlKSAoSlNfVkFMVUVfR0VUX1RBRygodmFsdWUpKSA9PSBKU19UQUdfTU9EVUxFKQoKdHlwZWRlZiBzdHJ1Y3QgewogIEJPT0wgZG9uZTsKICBKU1ZhbHVlIHZhbHVlOwp9IEl0ZXJhdG9yVmFsdWU7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IGM7CiAgY29uc3QgY2hhcioqIHY7Cn0gQXJndW1lbnRzOwoKc3RhdGljIGlubGluZSBBcmd1bWVudHMKYXJndW1lbnRzX25ldyhpbnQgYXJnYywgY29uc3QgY2hhciogYXJndltdKSB7CiAgQXJndW1lbnRzIGFyZ3M7CiAgYXJncy5jID0gYXJnYzsKICBhcmdzLnYgPSBhcmd2OwogIHJldHVybiBhcmdzOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCmFyZ3VtZW50c19zaGlmdChBcmd1bWVudHMqIGFyZ3MpIHsKICBjb25zdCBjaGFyKiByZXQgPSAwOwogIGlmKGFyZ3MtPmMgPiAwKSB7CiAgICByZXQgPSBhcmdzLT52WzBdOwogICAgYXJncy0+Yy0tOwogICAgYXJncy0+disrOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCmFyZ3VtZW50c19hdChBcmd1bWVudHMqIGFyZ3MsIGludCBpKSB7CiAgcmV0dXJuIGkgPj0gMCAmJiBpIDwgYXJncy0+YyA/IGFyZ3MtPnZbaV0gOiAwOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmFyZ3VtZW50c19zaGlmdG4oQXJndW1lbnRzKiBhcmdzLCB1aW50MzJfdCBuKSB7CiAgdWludDMyX3QgaSA9IDA7CgogIHdoaWxlKG4gPiAwKSB7CiAgICBpZighYXJndW1lbnRzX3NoaWZ0KGFyZ3MpKQogICAgICBicmVhazsKICAgIGkrKzsKICAgIG4tLTsKICB9CiAgcmV0dXJuIGk7Cn0KCnR5cGVkZWYgc3RydWN0IHsKICBpbnQgYzsKICBKU1ZhbHVlQ29uc3QqIHY7Cn0gSlNBcmd1bWVudHM7CgpzdGF0aWMgaW5saW5lIEpTQXJndW1lbnRzCmpzX2FyZ3VtZW50c19uZXcoaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQXJndW1lbnRzIGFyZ3M7CiAgYXJncy5jID0gYXJnYzsKICBhcmdzLnYgPSBhcmd2OwogIHJldHVybiBhcmdzOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWVDb25zdApqc19hcmd1bWVudHNfc2hpZnQoSlNBcmd1bWVudHMqIGFyZ3MpIHsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKICBpZihhcmdzLT5jID4gMCkgewogICAgcmV0ID0gYXJncy0+dlswXTsKICAgIGFyZ3MtPmMtLTsKICAgIGFyZ3MtPnYrKzsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBKU1ZhbHVlQ29uc3QKanNfYXJndW1lbnRzX2F0KEpTQXJndW1lbnRzKiBhcmdzLCBpbnQgaSkgewogIHJldHVybiBpID49IDAgJiYgaSA8IGFyZ3MtPmMgPyBhcmdzLT52W2ldIDogSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmpzX2FyZ3VtZW50c19zaGlmdG4oSlNBcmd1bWVudHMqIGFyZ3MsIHVpbnQzMl90IG4pIHsKICB1aW50MzJfdCBpID0gMDsKCiAgd2hpbGUobiA+IDApIHsKICAgIGlmKEpTX0lzRXhjZXB0aW9uKGpzX2FyZ3VtZW50c19zaGlmdChhcmdzKSkpCiAgICAgIGJyZWFrOwogICAgaSsrOwogICAgbi0tOwogIH0KICByZXR1cm4gaTsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWluX3NpemUoc2l6ZV90IGEsIHNpemVfdCBiKSB7CiAgaWYoYSA8IGIpCiAgICByZXR1cm4gYTsKICBlbHNlCiAgICByZXR1cm4gYjsKfQoKc3RhdGljIGlubGluZSB1aW50NjRfdAphYnNfaW50NjQoaW50NjRfdCBhKSB7CiAgcmV0dXJuIGEgPCAwID8gLWEgOiBhOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmFic19pbnQzMihpbnQzMl90IGkpIHsKICByZXR1cm4gaSA8IDAgPyAtaSA6IGk7Cn0KCnN0YXRpYyBpbmxpbmUgaW50MzJfdApzaWduX2ludDMyKHVpbnQzMl90IGkpIHsKICByZXR1cm4gKGkgJiAweDgwMDAwMDAwKSA/IC0xIDogMTsKfQoKc3RhdGljIGlubGluZSBpbnQzMl90Cm1vZF9pbnQzMihpbnQzMl90IGEsIGludDMyX3QgYikgewogIGludDMyX3QgYyA9IGEgJSBiOwogIHJldHVybiAoYyA8IDApID8gYyArIGIgOiBjOwp9CgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfTUFSSU5FICJceDFiWzM2bSIKI2RlZmluZSBDT0xPUl9MSUdIVEdSQVkgIlx4MWJbMzdtIgojZGVmaW5lIENPTE9SX0dSQVkgIlx4MWJbMTszMG0iCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKI2RlZmluZSBDT0xPUl9MSUdIVFJFRCAiXHgxYlsxOzMxbSIKCiNkZWZpbmUgQ09MT1JfTElHSFRHUkVFTiAiXHgxYlsxOzMybSIKI2RlZmluZSBDT0xPUl9MSUdIVFlFTExPVyAiXHgxYlsxOzMzbSIKI2RlZmluZSBDT0xPUl9MSUdIVEJMVUUgIlx4MWJbMTszNG0iCiNkZWZpbmUgQ09MT1JfTElHSFRNQUdFTlRBICJceDFiWzE7MzVtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFSSU5FICJceDFiWzE7MzZtIgojZGVmaW5lIENPTE9SX1dISVRFICJceDFiWzE7MzdtIgoKdWludDY0X3QgdGltZV91cyh2b2lkKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19kYnVmX2luaXRfcnQoSlNSdW50aW1lKiBydCwgRHluQnVmKiBzKSB7CiAgZGJ1Zl9pbml0MihzLCBydCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jX3J0KTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2RidWZfaW5pdChKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBzKSB7CiAgZGJ1Zl9pbml0MihzLCBjdHgsIChEeW5CdWZSZWFsbG9jRnVuYyopanNfcmVhbGxvYyk7Cn0KCnR5cGVkZWYgc3RydWN0IHsKICBjaGFyKiBzb3VyY2U7CiAgc2l6ZV90IGxlbjsKICBpbnQgZmxhZ3M7Cn0gUmVnRXhwOwoKaW50IHJlZ2V4cF9mbGFnc190b3N0cmluZyhpbnQsIGNoYXIqKTsKaW50IHJlZ2V4cF9mbGFnc19mcm9tc3RyaW5nKGNvbnN0IGNoYXIqKTsKUmVnRXhwIHJlZ2V4cF9mcm9tX2FyZ3YoaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEpTQ29udGV4dCogY3R4KTsKUmVnRXhwIHJlZ2V4cF9mcm9tX2RidWYoRHluQnVmKiBkYnVmLCBpbnQgZmxhZ3MpOwp1aW50OF90KiByZWdleHBfY29tcGlsZShSZWdFeHAgcmUsIEpTQ29udGV4dCogY3R4KTsKSlNWYWx1ZSByZWdleHBfdG9fdmFsdWUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCk7CgpzdGF0aWMgaW5saW5lIHZvaWQKcmVnZXhwX2ZyZWVfcnQoUmVnRXhwIHJlLCBKU1J1bnRpbWUqIHJ0KSB7CiAganNfZnJlZV9ydChydCwgcmUuc291cmNlKTsKfQpzdGF0aWMgaW5saW5lIHZvaWQKcmVnZXhwX2ZyZWUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCkgewogIHJlZ2V4cF9mcmVlX3J0KHJlLCBKU19HZXRSdW50aW1lKGN0eCkpOwp9CgpKU1ZhbHVlIGpzX2dsb2JhbF9nZXRfc3RyKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0X3N0cl9uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wLCBzaXplX3QgbGVuKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0X2F0b20oSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBwcm9wKTsKCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19nbG9iYWxfbmV3KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBjbGFzc19uYW1lLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgY2xhc3NfbmFtZSk7CiAgSlNWYWx1ZSBvYmogPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBjdG9yLCBhcmdjLCBhcmd2KTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gb2JqOwp9CgpKU1ZhbHVlIGpzX2dsb2JhbF9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUpOwoKZW51bSB2YWx1ZV90eXBlcyB7CiAgRkxBR19VTkRFRklORUQgPSAwLAogIEZMQUdfTlVMTCwgICAgICAgIC8vIDEKICBGTEFHX0JPT0wsICAgICAgICAvLyAyCiAgRkxBR19JTlQsICAgICAgICAgLy8gMwogIEZMQUdfT0JKRUNULCAgICAgIC8vIDQKICBGTEFHX1NUUklORywgICAgICAvLyA1CiAgRkxBR19TWU1CT0wsICAgICAgLy8gNgogIEZMQUdfQklHX0ZMT0FULCAgIC8vIDcKICBGTEFHX0JJR19JTlQsICAgICAvLyA4CiAgRkxBR19CSUdfREVDSU1BTCwgLy8gOQogIEZMQUdfRkxPQVQ2NCwgICAgIC8vIDEwCiAgRkxBR19OQU4sICAgICAgICAgLy8gMTEKICBGTEFHX0ZVTkNUSU9OLCAgICAvLyAxMgogIEZMQUdfQVJSQVksICAgICAgIC8vIDEzCiAgRkxBR19NT0RVTEUsCiAgRkxBR19GVU5DVElPTl9CWVRFQ09ERSwKICBGTEFHX1VOSU5JVElBTElaRUQsCiAgRkxBR19DQVRDSF9PRkZTRVQsCiAgRkxBR19FWENFUFRJT04KCn07CgplbnVtIHZhbHVlX21hc2sgewogIFRZUEVfVU5ERUZJTkVEID0gKDEgPDwgRkxBR19VTkRFRklORUQpLAogIFRZUEVfTlVMTCA9ICgxIDw8IEZMQUdfTlVMTCksCiAgVFlQRV9CT09MID0gKDEgPDwgRkxBR19CT09MKSwKICBUWVBFX0lOVCA9ICgxIDw8IEZMQUdfSU5UKSwKICBUWVBFX09CSkVDVCA9ICgxIDw8IEZMQUdfT0JKRUNUKSwKICBUWVBFX1NUUklORyA9ICgxIDw8IEZMQUdfU1RSSU5HKSwKICBUWVBFX1NZTUJPTCA9ICgxIDw8IEZMQUdfU1lNQk9MKSwKICBUWVBFX0JJR19GTE9BVCA9ICgxIDw8IEZMQUdfQklHX0ZMT0FUKSwKICBUWVBFX0JJR19JTlQgPSAoMSA8PCBGTEFHX0JJR19JTlQpLAogIFRZUEVfQklHX0RFQ0lNQUwgPSAoMSA8PCBGTEFHX0JJR19ERUNJTUFMKSwKICBUWVBFX0ZMT0FUNjQgPSAoMSA8PCBGTEFHX0ZMT0FUNjQpLAogIFRZUEVfTkFOID0gKDEgPDwgRkxBR19OQU4pLAogIFRZUEVfTlVNQkVSID0gKFRZUEVfSU5UIHwgVFlQRV9CSUdfRkxPQVQgfCBUWVBFX0JJR19JTlQgfCBUWVBFX0JJR19ERUNJTUFMIHwgVFlQRV9GTE9BVDY0KSwKICBUWVBFX1BSSU1JVElWRSA9CiAgICAgIChUWVBFX1VOREVGSU5FRCB8IFRZUEVfTlVMTCB8IFRZUEVfQk9PTCB8IFRZUEVfSU5UIHwgVFlQRV9TVFJJTkcgfCBUWVBFX1NZTUJPTCB8IFRZUEVfQklHX0ZMT0FUIHwgVFlQRV9CSUdfSU5UIHwgVFlQRV9CSUdfREVDSU1BTCB8IFRZUEVfTkFOKSwKICBUWVBFX0FMTCA9IChUWVBFX1BSSU1JVElWRSB8IFRZUEVfT0JKRUNUKSwKICBUWVBFX0ZVTkNUSU9OID0gKDEgPDwgRkxBR19GVU5DVElPTiksCiAgVFlQRV9BUlJBWSA9ICgxIDw8IEZMQUdfQVJSQVkpLAp9OwoKaW50MzJfdCBqc192YWx1ZV90eXBlX2ZsYWcoSlNWYWx1ZUNvbnN0IHZhbHVlKTsKaW50MzJfdCBqc192YWx1ZV90eXBlX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCnN0YXRpYyBpbmxpbmUgaW50MzJfdApqc192YWx1ZV90eXBlMmZsYWcodWludDMyX3QgdHlwZSkgewogIGludDMyX3QgZmxhZzsKICBmb3IoZmxhZyA9IDA7ICh0eXBlID4+PSAxKTsgZmxhZysrKSB7fQogIHJldHVybiBmbGFnOwp9CgplbnVtIHZhbHVlX21hc2sganNfdmFsdWVfdHlwZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhciogY29uc3QqCmpzX3ZhbHVlX3R5cGVzKCkgewogIHJldHVybiAoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJVTkRFRklORUQiLCAgICAgIk5VTEwiLCAgICAgICAgICJCT09MIiwgICAgICAiSU5UIiwgIk9CSkVDVCIsICAgIlNUUklORyIsICJTWU1CT0wiLCAiQklHX0ZMT0FUIiwKICAgICAgIkJJR19JTlQiLCAgICAgICAiQklHX0RFQ0lNQUwiLCAgIkZMT0FUNjQiLCAgICJOQU4iLCAiRlVOQ1RJT04iLCAiQVJSQVkiLCAgIk1PRFVMRSIsICJGVU5DVElPTl9CWVRFQ09ERSIsCiAgICAgICJVTklOSVRJQUxJWkVEIiwgIkNBVENIX09GRlNFVCIsICJFWENFUFRJT04iLCAwLAogIH07Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfdmFsdWVfdHlwZW9mKEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGludDMyX3QgZmxhZyA9IGpzX3ZhbHVlX3R5cGVfZmxhZyh2YWx1ZSk7CiAgcmV0dXJuICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJ1bmRlZmluZWQiLCAgICAgIm9iamVjdCIsICAgICAgICJib29sZWFuIiwgICAibnVtYmVyIiwgIm9iamVjdCIsICAgInN0cmluZyIsICJzeW1ib2wiLCAiYmlnZmxvYXQiLAogICAgICAiYmlnaW50IiwgICAgICAgICJiaWdkZWNpbWFsIiwgICAibnVtYmVyIiwgICAgIm51bWJlciIsICJmdW5jdGlvbiIsICJvYmplY3QiLCAibW9kdWxlIiwgImZ1bmN0aW9uX2J5dGVjb2RlIiwKICAgICAgInVuaW5pdGlhbGl6ZWQiLCAiY2F0Y2hfb2Zmc2V0IiwgImV4Y2VwdGlvbiIsIDAsCiAgfSlbZmxhZ107Cn0KCmNvbnN0IGNoYXIqIGpzX3ZhbHVlX3R5cGVfbmFtZShpbnQzMl90IHR5cGUpOwoKY29uc3QgY2hhcioganNfdmFsdWVfdHlwZXN0cihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCi8qVklTSUJMRSB2b2lkKiBqc192YWx1ZV9wdHIoSlNWYWx1ZUNvbnN0IHYpOwpWSVNJQkxFIEpTT2JqZWN0KiBqc192YWx1ZV9vYmooSlNWYWx1ZUNvbnN0IHYpOwpWSVNJQkxFIGludDMyX3QganNfdmFsdWVfdGFnKEpTVmFsdWVDb25zdCB2KTsKKi8KCnN0YXRpYyBpbmxpbmUgdm9pZCoKanNfdmFsdWVfcHRyKEpTVmFsdWVDb25zdCB2KSB7CiAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9QVFIodik7Cn0KCnN0YXRpYyBpbmxpbmUgSlNPYmplY3QqCmpzX3ZhbHVlX29iaihKU1ZhbHVlQ29uc3QgdikgewogIHJldHVybiBKU19Jc09iamVjdCh2KSA/IEpTX1ZBTFVFX0dFVF9PQkoodikgOiAwOwp9CgpzdGF0aWMgaW5saW5lIGludApqc192YWx1ZV90YWcoSlNWYWx1ZUNvbnN0IHYpIHsKICByZXR1cm4gSlNfVkFMVUVfR0VUX1RBRyh2KTsKfQoKQk9PTCBqc192YWx1ZV9oYXNfcmVmX2NvdW50KEpTVmFsdWVDb25zdCB2KTsKCnZvaWQganNfdmFsdWVfZnJlZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSB2KTsKdm9pZCBqc192YWx1ZV9mcmVlX3J0KEpTUnVudGltZSogcnQsIEpTVmFsdWUgdik7CgpCT09MIGpzX3ZhbHVlX2VxdWFscyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGEsIEpTVmFsdWVDb25zdCBiKTsKdm9pZCBqc192YWx1ZV9wcmludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKSlNWYWx1ZSBqc192YWx1ZV9jbG9uZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHBlKTsKSlNWYWx1ZSoganNfdmFsdWVzX2R1cChKU0NvbnRleHQqIGN0eCwgaW50IG52YWx1ZXMsIEpTVmFsdWVDb25zdCogdmFsdWVzKTsKdm9pZCBqc192YWx1ZXNfZnJlZShKU1J1bnRpbWUqIHJ0LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpOwpKU1ZhbHVlIGpzX3ZhbHVlc190b2FycmF5KEpTQ29udGV4dCogY3R4LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpOwp2b2lkIGpzX3ZhbHVlX2Z3cml0ZShKU0NvbnRleHQqLCBKU1ZhbHVlLCBGSUxFKiBmKTsKdm9pZCBqc192YWx1ZV9kdW1wKEpTQ29udGV4dCosIEpTVmFsdWUsIER5bkJ1ZiogZGIpOwoKLy8jaW5jbHVkZSAiYnVmZmVyLXV0aWxzLmgiCgpjaGFyKiBqc19jc3RyaW5nX2R1cChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3RyKTsKY2hhcioganNfY3N0cmluZ19wdHIoSlNWYWx1ZUNvbnN0IHYpOwpKU1ZhbHVlQ29uc3QganNfY3N0cmluZ192YWx1ZShjb25zdCBjaGFyKiBwdHIpOwp2b2lkIGpzX2NzdHJpbmdfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBEeW5CdWYqIGRiKTsKCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfY3N0cmluZ19uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0cikgewogIEpTVmFsdWUgdiA9IEpTX05ld1N0cmluZyhjdHgsIHN0cik7CiAgY29uc3QgY2hhciogcyA9IEpTX1RvQ1N0cmluZyhjdHgsIHYpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHYpOwogIHJldHVybiBzOwp9CnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfY3N0cmluZ19uZXdsZW4oSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbikgewogIEpTVmFsdWUgdiA9IEpTX05ld1N0cmluZ0xlbihjdHgsIHN0ciwgbGVuKTsKICBjb25zdCBjaGFyKiBzID0gSlNfVG9DU3RyaW5nKGN0eCwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdik7CiAgcmV0dXJuIHM7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19jc3RyaW5nX2ZyZWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHB0cikgewogIGlmKCFwdHIpCiAgICByZXR1cm47CgogIEpTX0ZyZWVWYWx1ZShjdHgsIEpTX01LUFRSKEpTX1RBR19TVFJJTkcsICh2b2lkKikocHRyIC0gb2Zmc2V0b2YoSlNTdHJpbmcsIHUpKSkpOwp9CgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfdG9pbnQ2NChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaW50NjRfdCByZXQgPSAwOwogIEpTX1RvSW50NjQoY3R4LCAmcmV0LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgY2hhciogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cm5kdXAoY3R4LCBjc3RyLCBsZW4pOwogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW47CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBjc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Rvc3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIHdjaGFyX3QqCmpzX3Rvd3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgaSwgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgd2NoYXJfdCogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2Yod2NoYXJfdCkgKiAobGVuICsgMSkpOwogICAgY29uc3QgdWludDhfdCAqcHRyID0gKGNvbnN0IHVpbnQ4X3QqKWNzdHIsICplbmQgPSAoY29uc3QgdWludDhfdCopY3N0ciArIGxlbjsKCiAgICBmb3IoaSA9IDA7IHB0ciA8IGVuZDspIHsgcmV0W2krK10gPSB1bmljb2RlX2Zyb21fdXRmOChwdHIsIGVuZCAtIHB0ciwgJnB0cik7IH0KCiAgICBpZihsZW5wKQogICAgICAqbGVucCA9IGk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgd2NoYXJfdCoKanNfdG93c3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfdG93c3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfdmFsdWVfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgcHJvdG8sIHRvc3RyaW5nLCBzdHI7CiAgcHJvdG8gPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgY2xhc3NfbmFtZSk7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCAidG9TdHJpbmciKTsKICB0b3N0cmluZyA9IEpTX0dldFByb3BlcnR5KGN0eCwgcHJvdG8sIGF0b20pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHN0ciA9IEpTX0NhbGwoY3R4LCB0b3N0cmluZywgdmFsdWUsIDAsIDApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHRvc3RyaW5nKTsKICByZXR1cm4gc3RyOwp9CgppbnQganNfdmFsdWVfdG9zaXplKEpTQ29udGV4dCogY3R4LCBzaXplX3QqIHN6LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwoKc3RhdGljIGlubGluZSBkb3VibGUKanNfdmFsdWVfdG9kb3VibGVfZnJlZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgZG91YmxlIHJldCA9IDA7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJnJldCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfdmFsdWVfdG9pbnQ2NF9mcmVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQ2NF90IHJldCA9IDA7CiAgSlNfVG9JbnQ2NChjdHgsICZyZXQsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX3ZhbHVlX3RvYm9vbF9mcmVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBCT09MIHJldCA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBKU0F0b20KanNfdmFsdWVfdG9hdG9tX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiBhdG9tOwp9CgpKU1ZhbHVlIGpzX3ZhbHVlX2Zyb21fY2hhcihKU0NvbnRleHQqIGN0eCwgaW50IGMpOwpzdGF0aWMgaW5saW5lIGludApqc192YWx1ZV9jbXBzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY29uc3QgY2hhciogb3RoZXIpIHsKICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgaW50IHJldCA9IHN0cmNtcChzdHIsIG90aGVyKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgcmV0dXJuIHJldDsKfQoKI2RlZmluZSBKU19WQUxVRV9GUkVFKGN0eCwgdmFsdWUpIFwKICBkbyB7IFwKICAgIEpTX0ZyZWVWYWx1ZSgoY3R4KSwgKHZhbHVlKSk7IFwKICAgICh2YWx1ZSkgPSBKU19VTkRFRklORUQ7IFwKICB9IHdoaWxlKDApOwojZGVmaW5lIEpTX1ZBTFVFX0ZSRUVfUlQoY3R4LCB2YWx1ZSkgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlUlQoKGN0eCksICh2YWx1ZSkpOyBcCiAgICAodmFsdWUpID0gSlNfVU5ERUZJTkVEOyBcCiAgfSB3aGlsZSgwKTsKCiNpZiAwCiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfc2V0KHZhbHVlKSBcCiAgZG8geyAoKHVpbnQ4X3QqKUpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSkpWzVdIHw9IDB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfY2xlYXIodmFsdWUpIFwKICBkbyB7ICgodWludDhfdCopSlNfVkFMVUVfR0VUX09CSigodmFsdWUpKSlbNV0gJj0gfjB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfaXNzZXQodmFsdWUpICgoKHVpbnQ4X3QqKUpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSkpWzVdICYgMHg0MCkKI2Vsc2UKI2RlZmluZSBqc19vYmplY3RfdG1wbWFya19zZXQodmFsdWUpIFwKICBkbyB7IEpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSktPnRtcF9tYXJrIHw9IDB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfY2xlYXIodmFsdWUpIFwKICBkbyB7IEpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSktPnRtcF9tYXJrICY9IH4weDQwOyB9IHdoaWxlKDApOwojZGVmaW5lIGpzX29iamVjdF90bXBtYXJrX2lzc2V0KHZhbHVlKSAoSlNfVkFMVUVfR0VUX09CSigodmFsdWUpKS0+dG1wX21hcmsgJiAweDQwKQojZW5kaWYKCiNkZWZpbmUganNfcnVudGltZV9leGNlcHRpb25fc2V0KHJ0LCB2YWx1ZSkgXAogIGRvIHsgKihKU1ZhbHVlKikoKHVpbnQ4X3QqKShydCkgKyAyMTYpID0gdmFsdWU7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfcnVudGltZV9leGNlcHRpb25fZ2V0KHJ0KSAoKihKU1ZhbHVlKikoKHVpbnQ4X3QqKShydCkgKyAyMTYpKQojZGVmaW5lIGpzX3J1bnRpbWVfZXhjZXB0aW9uX2NsZWFyKHJ0KSBcCiAgZG8geyBcCiAgICBpZighSlNfSXNOdWxsKGpzX3J1bnRpbWVfZXhjZXB0aW9uX2dldChydCkpKSBcCiAgICAgIEpTX0ZyZWVWYWx1ZVJUKChydCksIGpzX3J1bnRpbWVfZXhjZXB0aW9uX2dldChydCkpOyBcCiAgICBqc19ydW50aW1lX2V4Y2VwdGlvbl9zZXQocnQsIEpTX05VTEwpOyBcCiAgfSB3aGlsZSgwKQoKdm9pZCBqc19wcm9wZXJ0eWVudW1zX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlFbnVtKiBwcm9wcywgc2l6ZV90IGxlbik7CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfcHJvcGVydHlkZXNjcmlwdG9yX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlEZXNjcmlwdG9yKiBkZXNjKSB7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZGVzYy0+dmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRlc2MtPmdldHRlcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZGVzYy0+c2V0dGVyKTsKfQoKSlNWYWx1ZSBqc19zeW1ib2xfY3RvcihKU0NvbnRleHQqIGN0eCk7CgpKU1ZhbHVlIGpzX3N5bWJvbF9pbnZva2Vfc3RhdGljKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lLCBKU1ZhbHVlQ29uc3QgYXJnKTsKCkpTVmFsdWUganNfc3ltYm9sX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHN5bSk7Cgpjb25zdCBjaGFyKiBqc19zeW1ib2xfdG9fY3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHN5bSk7CgpKU1ZhbHVlIGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpOwpKU0F0b20ganNfc3ltYm9sX3N0YXRpY19hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKTsKQk9PTCBqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopOwpKU1ZhbHVlIGpzX2l0ZXJhdG9yX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CkpTVmFsdWUganNfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBCT09MKiBkb25lX3ApOwpKU1ZhbHVlIGpzX3N5bWJvbF9mb3IoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5bV9mb3IpOwpKU0F0b20ganNfc3ltYm9sX2Zvcl9hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeW1fZm9yKTsKCkpTVmFsdWUganNfc3ltYm9sX29wZXJhdG9yc2V0X3ZhbHVlKEpTQ29udGV4dCogY3R4KTsKCkpTQXRvbSBqc19zeW1ib2xfb3BlcmF0b3JzZXRfYXRvbShKU0NvbnRleHQqIGN0eCk7CgpKU1ZhbHVlIGpzX29wZXJhdG9yc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHRoaXNfb2JqKTsKCnN0YXRpYyBpbmxpbmUgaW50NjRfdApqc19pbnQ2NF9kZWZhdWx0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludDY0X3QgaSkgewogIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgIEpTX1RvSW50NjQoY3R4LCAmaSwgdmFsdWUpOwogIHJldHVybiBpOwp9CgpKU1ZhbHVlIGpzX251bWJlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGludDMyX3Qgbik7CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfbmV3X2Jvb2xfb3JfbnVtYmVyKEpTQ29udGV4dCogY3R4LCBpbnQzMl90IG4pIHsKICBpZihuID09IDApCiAgICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsIEZBTFNFKTsKICByZXR1cm4ganNfbnVtYmVyX25ldyhjdHgsIG4pOwp9CgojZGVmaW5lIEpTX0FUT01fVEFHX0lOVCAoMVUgPDwgMzEpCiNkZWZpbmUgSlNfQVRPTV9NQVhfSU5UIChKU19BVE9NX1RBR19JTlQgLSAxKQoKI2RlZmluZSBqc19hdG9tX2lzaW50KGkpICgoSlNBdG9tKSgoaSkmSlNfQVRPTV9UQUdfSU5UKSkKI2RlZmluZSBqc19hdG9tX2Zyb21pbnQoaSkgKChKU0F0b20pKChpKSZKU19BVE9NX01BWF9JTlQpIHwgSlNfQVRPTV9UQUdfSU5UKQojZGVmaW5lIGpzX2F0b21fdG9pbnQoaSkgKHVuc2lnbmVkIGludCkoKChKU0F0b20pKGkpICYgKH4oSlNfQVRPTV9UQUdfSU5UKSkpKQoKSlNBdG9tIGpzX2F0b21fZnJvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmludCBqc19hdG9tX3RvaW50NjQoSlNDb250ZXh0KiBjdHgsIGludDY0X3QqIGksIEpTQXRvbSBhdG9tKTsKaW50MzJfdCBqc19hdG9tX3RvaW50MzIoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBhdG9tKTsKCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19hdG9tX3RvdmFsdWUoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBhdG9tKSB7CiAgaWYoanNfYXRvbV9pc2ludChhdG9tKSkKICAgIHJldHVybiBKU19NS1ZBTChKU19UQUdfSU5ULCBqc19hdG9tX3RvaW50KGF0b20pKTsKCiAgcmV0dXJuIEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7Cn0KCnVuc2lnbmVkIGludCBqc19hdG9tX3RvYmluYXJ5KEpTQXRvbSBhdG9tKTsKY29uc3QgY2hhcioganNfYXRvbV90b19jc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBzaXplX3QqIGxlbiwgSlNBdG9tIGF0b20pOwp2b2lkIGpzX2F0b21fZHVtcChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20sIER5bkJ1ZiogZGIsIEJPT0wgY29sb3IpOwpCT09MIGpzX2F0b21faXNfaW5kZXgoSlNDb250ZXh0KiBjdHgsIGludDY0X3QqIHB2YWwsIEpTQXRvbSBhdG9tKTsKQk9PTCBqc19hdG9tX2lzX2xlbmd0aChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20pOwoKY29uc3QgY2hhcioganNfb2JqZWN0X3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpjb25zdCBjaGFyKiBqc19mdW5jdGlvbl9uYW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpjb25zdCBjaGFyKiBqc19mdW5jdGlvbl90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKSlNDRnVuY3Rpb24qIGpzX2Z1bmN0aW9uX2NmdW5jKEpTQ29udGV4dCosIEpTVmFsdWUgdmFsdWUpOwpCT09MIGpzX2Z1bmN0aW9uX2lzbmF0aXZlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwppbnQganNfZnVuY3Rpb25fYXJnYyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCmNoYXIqIGpzX29iamVjdF9jbGFzc25hbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CmludCBqc19vYmplY3RfaXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY29uc3QgY2hhciogY21wKTsKSlNWYWx1ZSBqc19vYmplY3RfY29uc3RydWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgY3Rvcik7CkpTVmFsdWUganNfb2JqZWN0X2Vycm9yKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtZXNzYWdlKTsKSlNWYWx1ZSBqc19vYmplY3Rfc3RhY2soSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIGpzX29iamVjdF9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKCnN0YXRpYyBpbmxpbmUgQk9PTApqc19vYmplY3Rfc2FtZShKU1ZhbHVlQ29uc3QgYSwgSlNWYWx1ZUNvbnN0IGIpIHsKICBKU09iamVjdCAqYW9iaiwgKmJvYmo7CiAgaWYoIUpTX0lzT2JqZWN0KGEpIHx8ICFKU19Jc09iamVjdChiKSkKICAgIHJldHVybiBGQUxTRTsKCiAgYW9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooYSk7CiAgYm9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooYik7CiAgcmV0dXJuIGFvYmogPT0gYm9iajsKfQoKc3RhdGljIGlubGluZSBKU0NsYXNzSUQKanNfZ2V0X2NsYXNzaWQoSlNWYWx1ZSB2KSB7CiAgSlNPYmplY3QqIHA7CiAgLyogaWYoSlNfVkFMVUVfR0VUX1RBRyh2KSAhPSBKU19UQUdfT0JKRUNUKQogICAgIHJldHVybiAwOyovCiAgcCA9IEpTX1ZBTFVFX0dFVF9PQkoodik7CiAgYXNzZXJ0KHAgIT0gMCk7CiAgcmV0dXJuIHAtPmNsYXNzX2lkOwp9CgpCT09MIGpzX2hhc19wcm9wZXJ0eXN0cihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKTsKQk9PTCBqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKTsKdm9pZCBqc19zZXRfcHJvcGVydHlpbnRfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCB1aW50MzJfdCBpLCBjb25zdCBjaGFyKiBzdHIpOwp2b2lkIGpzX3NldF9wcm9wZXJ0eWludF9pbnQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IGksIGludDMyX3QgdmFsdWUpOwp2b2lkIGpzX3NldF9wcm9wZXJ0eXN0cl9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIGNvbnN0IGNoYXIqIHN0cik7CnZvaWQganNfc2V0X3Byb3BlcnR5c3RyX3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuKTsKY29uc3QgY2hhcioganNfZ2V0X3Byb3BlcnR5aW50X2NzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IGkpOwppbnQzMl90IGpzX2dldF9wcm9wZXJ0eWludF9pbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgdWludDMyX3QgaSk7CmNvbnN0IGNoYXIqIGpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wKTsKY29uc3QgY2hhcioganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIHNpemVfdCogbGVucCk7CmNoYXIqIGpzX2dldF9wcm9wZXJ0eXN0cl9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApOwpjaGFyKiBqc19nZXRfcHJvcGVydHlzdHJfc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wLCBzaXplX3QqIGxlbnApOwppbnQzMl90IGpzX2dldF9wcm9wZXJ0eXN0cl9pbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCk7CnVpbnQ2NF90IGpzX2dldF9wcm9wZXJ0eXN0cl91aW50NjQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApOwppbnQganNfZ2V0X3Byb3BlcnR5ZGVzY3JpcHRvcihKU0NvbnRleHQqIGN0eCwgSlNQcm9wZXJ0eURlc2NyaXB0b3IqIGRlc2MsIEpTVmFsdWVDb25zdCBvYmosIEpTQXRvbSBwcm9wKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19zZXRfaW5zcGVjdF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTQ0Z1bmN0aW9uKiBmdW5jKSB7CiAgSlNBdG9tIGluc3BlY3Rfc3ltYm9sID0ganNfc3ltYm9sX2Zvcl9hdG9tKGN0eCwgInF1aWNranMuaW5zcGVjdC5jdXN0b20iKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlKGN0eCwgb2JqLCBpbnNwZWN0X3N5bWJvbCwgSlNfTmV3Q0Z1bmN0aW9uKGN0eCwgZnVuYywgImluc3BlY3QiLCAxKSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX1dSSVRBQkxFKTsKICBKU19GcmVlQXRvbShjdHgsIGluc3BlY3Rfc3ltYm9sKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3NldF90b3N0cmluZ3RhZ192YWx1ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSB2YWx1ZSkgewogIEpTQXRvbSB0b3N0cmluZ190YWcgPSBqc19zeW1ib2xfc3RhdGljX2F0b20oY3R4LCAidG9TdHJpbmdUYWciKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlKGN0eCwgb2JqLCB0b3N0cmluZ190YWcsIHZhbHVlLCBKU19QUk9QX0NPTkZJR1VSQUJMRSB8IEpTX1BST1BfV1JJVEFCTEUpOwogIEpTX0ZyZWVBdG9tKGN0eCwgdG9zdHJpbmdfdGFnKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3NldF90b3N0cmluZ3RhZ19zdHIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHN0cikgewogIGpzX3NldF90b3N0cmluZ3RhZ192YWx1ZShjdHgsIG9iaiwgSlNfTmV3U3RyaW5nKGN0eCwgc3RyKSk7Cn0KCkpTQ2xhc3NJRCBqc19jbGFzc19pZChKU0NvbnRleHQqIGN0eCwgaW50IGlkKTsKSlNDbGFzc0lEIGpzX2NsYXNzX25ld2lkKHZvaWQpOwpKU0NsYXNzKiBqc19jbGFzc19nZXQoSlNDb250ZXh0KiBjdHgsIEpTQ2xhc3NJRCBpZCk7CkpTQXRvbSBqc19jbGFzc19hdG9tKEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpOwpjb25zdCBjaGFyKiBqc19jbGFzc19uYW1lKEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpOwpKU0NsYXNzSUQganNfY2xhc3NfZmluZChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSk7CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfb2JqZWN0X2lzY2xhc3MoSlNWYWx1ZSBvYmosIGludDMyX3QgY2xhc3NfaWQpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgY2xhc3NfaWQpICE9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc192YWx1ZV9pc2NsYXNzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIG9iaiwgaW50IGlkKSB7CiAgaW50MzJfdCBjbGFzc19pZCA9IGpzX2NsYXNzX2lkKGN0eCwgaWQpOwogIHJldHVybiBqc19vYmplY3RfaXNjbGFzcyhvYmosIGNsYXNzX2lkKTsKfQoKQk9PTCBqc19pc19hcnJheWJ1ZmZlcihKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX3NoYXJlZGFycmF5YnVmZmVyKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfbWFwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfc2V0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfZ2VuZXJhdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfcmVnZXhwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX2RhdGF2aWV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfbnVsbF9vcl91bmRlZmluZWQoSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc051bGwodmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfZmFsc2lzaChKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzd2l0Y2goSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSkpIHsKICAgIGNhc2UgSlNfVEFHX05VTEw6IHJldHVybiBUUlVFOwogICAgY2FzZSBKU19UQUdfVU5ERUZJTkVEOiByZXR1cm4gVFJVRTsKICAgIGNhc2UgSlNfVEFHX0lOVDogcmV0dXJuIEpTX1ZBTFVFX0dFVF9JTlQodmFsdWUpID09IDA7CiAgICBjYXNlIEpTX1RBR19CT09MOiByZXR1cm4gIUpTX1ZBTFVFX0dFVF9CT09MKHZhbHVlKTsKICAgIGNhc2UgSlNfVEFHX0ZMT0FUNjQ6IHJldHVybiBKU19WQUxVRV9HRVRfRkxPQVQ2NCh2YWx1ZSkgPT0gMDsKICAgIGRlZmF1bHQ6IHJldHVybiBGQUxTRTsKICB9Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc190cnVpc2goSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuICFqc19pc19mYWxzaXNoKHZhbHVlKTsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX251bGxpc2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGludDY0X3QgaSA9IC0xOwoKICBpZihKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgSlNfSXNOdWxsKHZhbHVlKSkKICAgIHJldHVybiBUUlVFOwogIEpTX1RvSW50NjQoY3R4LCAmaSwgdmFsdWUpOwogIHJldHVybiBpID09IDA7Cn0KCkpTVmFsdWUganNfdHlwZWRhcnJheV9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIGpzX3R5cGVkYXJyYXlfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgpOwoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX2Jhc2ljX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIGN0b3IgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJBcnJheSIpOwogIEJPT0wgcmV0ID0gSlNfSXNJbnN0YW5jZU9mKGN0eCwgdmFsdWUsIGN0b3IpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc190eXBlZGFycmF5KEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgSlNDbGFzc0lEIGlkID0ganNfZ2V0X2NsYXNzaWQodmFsdWUpOwogICAgcmV0dXJuIGlkID49IEpTX0NMQVNTX1VJTlQ4Q19BUlJBWSAmJiBpZCA8PSBKU19DTEFTU19GTE9BVDY0X0FSUkFZOwogIH0KICByZXR1cm4gRkFMU0U7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzQXJyYXkoY3R4LCB2YWx1ZSkgfHwganNfaXNfdHlwZWRhcnJheSh2YWx1ZSk7Cn0KCkJPT0wganNfaXNfaW5wdXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgppbnQganNfcHJvcGVudW1fY21wKGNvbnN0IHZvaWQqIGEsIGNvbnN0IHZvaWQqIGIsIHZvaWQqIHB0cik7CkJPT0wganNfb2JqZWN0X2VxdWFscyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGEsIEpTVmFsdWVDb25zdCBiKTsKaW50NjRfdCBqc19hcnJheV9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSk7CnZvaWQganNfYXJyYXlfY2xlYXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSk7CgpzaXplX3QganNfc3Rydl9sZW5ndGgoY2hhcioqIHN0cnYpOwoKY2hhcioqIGpzX3N0cnZfZHVwKEpTQ29udGV4dCogY3R4LCBjaGFyKiogc3Rydik7Cgp2b2lkIGpzX3N0cnZfZnJlZV9uKEpTQ29udGV4dCosIGludCwgY2hhciogYXJndltdKTsKdm9pZCBqc19zdHJ2X2ZyZWUoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KTsKdm9pZCBqc19zdHJ2X2ZyZWVfcnQoSlNSdW50aW1lKiBydCwgY2hhcioqIHN0cnYpOwpKU1ZhbHVlIGpzX3N0cnZfdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KTsKSlNWYWx1ZSBqc19pbnR2X3RvX2FycmF5KEpTQ29udGV4dCogY3R4LCBpbnQqIGludHYpOwpjaGFyKioganNfYXJyYXlfdG9fYXJndihKU0NvbnRleHQqIGN0eCwgaW50KiBhcmdjcCwgSlNWYWx1ZUNvbnN0IGFycmF5KTsKaW50IGpzX2FycmF5X2NvcHlzKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG4sIGNoYXIqKiBzdHJhKTsKaW50IGpzX3N0cnZfY29weXMoSlNDb250ZXh0KiwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbiwgY2hhcioqIHN0cmEpOwoKSlNWYWx1ZSBqc19pbnZva2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogbWV0aG9kLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CgpzdGF0aWMgaW5saW5lIHNpemVfdApqc19hcnJheWJ1ZmZlcl9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBidWZmZXIpIHsKICB1aW50OF90KiBwdHI7CiAgc2l6ZV90IGxlbjsKCiAgaWYoSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBidWZmZXIpKQogICAgcmV0dXJuIGxlbjsKICByZXR1cm4gMDsKfQoKaW50NjRfdCBqc19hcnJheWJ1ZmZlcl9ieXRlbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwoKc3RhdGljIGlubGluZSBpbnQKanNfZmluZF9jZnVuY3Rpb25fZW50cnkoY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkqIGVudHJpZXMsIHNpemVfdCBuX2VudHJpZXMsIGNvbnN0IGNoYXIqIG5hbWUsIGludCBkZWZfdHlwZSkgewogIHNpemVfdCBpOwogIGZvcihpID0gMDsgaSA8IG5fZW50cmllczsgaSsrKQogICAgaWYoZW50cmllc1tpXS5kZWZfdHlwZSA9PSBkZWZfdHlwZSAmJiAhc3RyY21wKGVudHJpZXNbaV0ubmFtZSwgbmFtZSkpCiAgICAgIHJldHVybiBpOwogIHJldHVybiAtMTsKfQoKc3RhdGljIGlubGluZSBpbnQKanNfZmluZF9jZnVuY3Rpb25fYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkqIGVudHJpZXMsIHNpemVfdCBuX2VudHJpZXMsIEpTQXRvbSBhdG9tLCBpbnQgZGVmX3R5cGUpIHsKICBjb25zdCBjaGFyKiBuYW1lID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIGF0b20pOwogIGludCBpOwogIGkgPSBqc19maW5kX2NmdW5jdGlvbl9lbnRyeShlbnRyaWVzLCBuX2VudHJpZXMsIG5hbWUsIGRlZl90eXBlKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogIHJldHVybiBpOwp9CgpKU1ZhbHVlIGpzX2RhdGVfbmV3KEpTQ29udGV4dCosIEpTVmFsdWUgYXJnKTsKSlNWYWx1ZSBqc19kYXRlX2Zyb21fbXMoSlNDb250ZXh0KiwgaW50NjRfdCBtcyk7CkpTVmFsdWUganNfZGF0ZV9mcm9tX3RpbWVfbnMoSlNDb250ZXh0KiwgdGltZV90IHQsIGxvbmcgbnMpOwpKU1ZhbHVlIGpzX2RhdGVfZnJvbV90aW1lc3BlYyhKU0NvbnRleHQqLCBjb25zdCBzdHJ1Y3QgdGltZXNwZWMgdHMpOwppbnQ2NF90IGpzX2RhdGVfZ2V0dGltZShKU0NvbnRleHQqLCBKU1ZhbHVlIGFyZyk7CmludDY0X3QganNfZGF0ZV90aW1lKEpTQ29udGV4dCosIEpTVmFsdWUgYXJnKTsKc3RydWN0IHRpbWVzcGVjIGpzX2RhdGVfdGltZXNwZWMoSlNDb250ZXh0KiwgSlNWYWx1ZSBhcmcpOwoKdm9pZCBqc19hcnJheWJ1ZmZlcl9mcmVldmFsdWUoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIGpzX2FycmF5YnVmZmVyX2Zyb212YWx1ZShKU0NvbnRleHQqLCB2b2lkKiB4LCBzaXplX3QgbiwgSlNWYWx1ZSB2YWwpOwoKSlNWYWx1ZSBqc19tYXBfbmV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7Cgp0eXBlZGVmIHVuaW9uIGltcG9ydF9kaXJlY3RpdmUgewogIHN0cnVjdCB7CiAgICBjb25zdCBjaGFyKiBwYXRoOyAvKio8IE1vZHVsZSBwYXRoICovCiAgICBjb25zdCBjaGFyKiBzcGVjOyAvKio8IEltcG9ydCBzcGVjaWZpZXIocykgKi8KICAgIGNvbnN0IGNoYXIqIHByb3A7IC8qKjwgaWYgIT0gMCAmJiAqcHJvcCwgbnMgKz0gIi4iICsgcHJvcCAqLwogICAgY29uc3QgY2hhciogdmFyOyAgLyoqPCBHbG9iYWwgdmFyaWFibGUgbmFtZSAqLwogICAgY29uc3QgY2hhciogbnM7ICAgLyoqPCBOYW1lc3BhY2UgdmFyaWFibGUgKi8KICB9OwogIGNvbnN0IGNoYXIqIGFyZ3NbNV07Cn0gSW1wb3J0RGlyZWN0aXZlOwoKSlNWYWx1ZSBtb2R1bGVfbmFtZShKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpjaGFyKiBtb2R1bGVfbmFtZXN0cihKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpKU1ZhbHVlIG1vZHVsZV9mdW5jKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX25zKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX2V4cG9ydHNfZmluZChKU0NvbnRleHQqLCBKU01vZHVsZURlZiosIEpTQXRvbSk7CnZvaWQgbW9kdWxlX2V4cG9ydHNfZ2V0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKiwgQk9PTCByZW5hbWVfZGVmYXVsdCwgSlNWYWx1ZUNvbnN0IGV4cG9ydHMpOwpKU1ZhbHVlIG1vZHVsZV9leHBvcnRzKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CnN0cnVjdCBsaXN0X2hlYWQqIGpzX21vZHVsZXNfbGlzdChKU0NvbnRleHQqKTsKSlNWYWx1ZSBqc19tb2R1bGVzX2FycmF5KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG1hZ2ljKTsKSlNWYWx1ZSBqc19tb2R1bGVzX2VudHJpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQgbWFnaWMpOwpKU1ZhbHVlIGpzX21vZHVsZXNfbWFwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG1hZ2ljKTsKSlNWYWx1ZSBqc19tb2R1bGVzX29iamVjdChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCBtYWdpYyk7CkpTVmFsdWUgbW9kdWxlX3ZhbHVlKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX2VudHJ5KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX29iamVjdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpjaGFyKiBqc19tb2R1bGVfc2VhcmNoKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqIHBhdGgsIGNvbnN0IGNoYXIqKTsKY2hhcioganNfbW9kdWxlX3NlYXJjaF9leHQoSlNDb250ZXh0KiwgY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGV4dCk7CmNoYXIqIGpzX21vZHVsZV9ub3JtYWxpemUoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIG5hbWUsIHZvaWQqIG9wYXF1ZSk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZGVmKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZmluZChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfaW1wb3J0X2V2YWwoSlNDb250ZXh0KiwgSW1wb3J0RGlyZWN0aXZlKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9pbXBvcnRfZGVmYXVsdChKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFyKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9pbXBvcnRfbmFtZXNwYWNlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKiBucyk7CkpTVmFsdWUganNfbW9kdWxlX2ltcG9ydChKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogbnMsIGNvbnN0IGNoYXIqIHZhciwgY29uc3QgY2hhciogcHJvcCk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfbG9hZGVyX3NvKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKCkpTVmFsdWUganNfZXZhbF9tb2R1bGUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgQk9PTCBsb2FkX29ubHkpOwpKU1ZhbHVlIGpzX2V2YWxfYmluYXJ5KEpTQ29udGV4dCosIGNvbnN0IHVpbnQ4X3QqLCBzaXplX3QgYnVmX2xlbiwgQk9PTCBsb2FkX29ubHkpOwpKU1ZhbHVlIGpzX2V2YWxfYnVmKEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBpbnQgYnVmX2xlbiwgY29uc3QgY2hhciogZmlsZW5hbWUsIGludCBldmFsX2ZsYWdzKTsKaW50IGpzX2V2YWxfc3RyKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKiBmaWxlLCBpbnQgZmxhZ3MpOwoKaW50NjRfdCBqc190aW1lX21zKHZvaWQpOwppbnQganNfaW50ZXJydXB0X2hhbmRsZXIoSlNSdW50aW1lKiwgdm9pZCopOwoKdm9pZCBqc190aW1lcl91bmxpbmsoSlNSdW50aW1lKiwgSlNPU1RpbWVyKik7CnZvaWQganNfdGltZXJfZnJlZShKU1J1bnRpbWUqLCBKU09TVGltZXIqKTsKCnZvaWQganNfY2FsbF9oYW5kbGVyKEpTQ29udGV4dCosIEpTVmFsdWUpOwoKdm9pZCoganNfc2FiX2FsbG9jKHZvaWQqLCBzaXplX3QpOwp2b2lkIGpzX3NhYl9mcmVlKHZvaWQqLCB2b2lkKik7CnZvaWQganNfc2FiX2R1cCh2b2lkKiwgdm9pZCopOwoKSlNXb3JrZXJNZXNzYWdlUGlwZSoganNfbmV3X21lc3NhZ2VfcGlwZSh2b2lkKTsKSlNXb3JrZXJNZXNzYWdlUGlwZSoganNfZHVwX21lc3NhZ2VfcGlwZShKU1dvcmtlck1lc3NhZ2VQaXBlKik7Cgp2b2lkIGpzX2ZyZWVfbWVzc2FnZShKU1dvcmtlck1lc3NhZ2UqKTsKdm9pZCBqc19mcmVlX21lc3NhZ2VfcGlwZShKU1dvcmtlck1lc3NhZ2VQaXBlKik7Cgp2b2lkIGpzX2Vycm9yX2R1bXAoSlNDb250ZXh0KiwgSlNWYWx1ZSwgRHluQnVmKiBkYik7CmNoYXIqIGpzX2Vycm9yX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWUpOwp2b2lkIGpzX2Vycm9yX3ByaW50KEpTQ29udGV4dCosIEpTVmFsdWUpOwoKI2VuZGlmIC8qIGRlZmluZWQoVVRJTFNfSCkgKi8KAAAAAAAAAABBcAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAikUAAAAAAACbRQAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBcAAAI2lmbmRlZiBVVElMU19ICiNkZWZpbmUgVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInF1aWNranMtaW50ZXJuYWwuaCIKI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8c3RyaW5nLmg+CiNpbmNsdWRlIDxtYXRoLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPHN0ZGxpYi5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpZmRlZiBIQVZFX1RIUkVBRFNfSAojaW5jbHVkZSA8dGhyZWFkcy5oPgojZW5kaWYKCmNoYXIqIGJhc2VuYW1lKGNvbnN0IGNoYXIqKTsKCiNpZm5kZWYgb2Zmc2V0b2YKI2RlZmluZSBvZmZzZXRvZih0eXBlLCBmaWVsZCkgKChzaXplX3QpICYgKCh0eXBlKikwKS0+ZmllbGQpCiNlbmRpZgoKI2lmbmRlZiBpbnJhbmdlCiNkZWZpbmUgaW5yYW5nZSh2YWx1ZSwgbWluLCBtYXgpICgodmFsdWUpID49IChtaW4pICYmICh2YWx1ZSkgPD0gKG1heCkpCiNlbmRpZgoKI2RlZmluZSB0cmltX2RvdHNsYXNoKHN0cikgKCFzdHJuY21wKChzdHIpLCAiLi8iLCAyKSA/IChzdHIpICsgMiA6IChzdHIpKQoKI2lmbmRlZiB0aHJlYWRfbG9jYWwKI2lmZGVmIF9UaHJlYWRfbG9jYWwKI2RlZmluZSB0aHJlYWRfbG9jYWwgX1RocmVhZF9sb2NhbAojZWxpZiBkZWZpbmVkKF9fR05VQ19fKSB8fCBkZWZpbmVkKF9fSU5URUxfQ09NUElMRVIpIHx8IGRlZmluZWQoX19TVU5QUk9fQ0MpIHx8IGRlZmluZWQoX19JQk1DUFBfXykKI2RlZmluZSB0aHJlYWRfbG9jYWwgX190aHJlYWQKI2VsaWYgZGVmaW5lZChfV0lOMzIpCiNkZWZpbmUgdGhyZWFkX2xvY2FsIF9fZGVjbHNwZWModGhyZWFkKQojZWxzZQojZXJyb3IgTm8gVExTIGltcGxlbWVudGF0aW9uIGZvdW5kLgojZW5kaWYKI2VuZGlmCgp0eXBlZGVmIGVudW0gcHJlY2VkZW5jZSB7CiAgUFJFQ0VERU5DRV9DT01NQV9TRVFVRU5DRSA9IDEsCiAgUFJFQ0VERU5DRV9ZSUVMRCwKICBQUkVDRURFTkNFX0FTU0lHTk1FTlQsCiAgUFJFQ0VERU5DRV9URVJOQVJZLAogIFBSRUNFREVOQ0VfTlVMTElTSF9DT0FMRVNDSU5HLAogIFBSRUNFREVOQ0VfTE9HSUNBTF9PUiwKICBQUkVDRURFTkNFX0xPR0lDQUxfQU5ELAogIFBSRUNFREVOQ0VfQklUV0lTRV9PUiwKICBQUkVDRURFTkNFX0JJVFdJU0VfWE9SLAogIFBSRUNFREVOQ0VfQklUV0lTRV9BTkQsCiAgUFJFQ0VERU5DRV9FUVVBTElUWSwKICBQUkVDRURFTkNFX0xFU1NfR1JFQVRFUl9JTiwKICBQUkVDRURFTkNFX0JJVFdJU0VfU0hJRlQsCiAgUFJFQ0VERU5DRV9BRERJVElWRSwKICBQUkVDRURFTkNFX01VTFRJUExJQ0FUSVZFLAogIFBSRUNFREVOQ0VfRVhQT05FTlRJQVRJT04sCiAgUFJFQ0VERU5DRV9VTkFSWSwKICBQUkVDRURFTkNFX1BPU1RGSVgsCiAgUFJFQ0VERU5DRV9ORVcsCiAgUFJFQ0VERU5DRV9NRU1CRVJfQUNDRVNTLAogIFBSRUNFREVOQ0VfR1JPVVBJTkcsCn0gSlNQcmVjZWRlbmNlOwoKI2RlZmluZSBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKHByb3BfbmFtZSwgZmdldHRlciwgZnNldHRlciwgbWFnaWNfbnVtKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX0VOVU1FUkFCTEUgfCBKU19QUk9QX0NPTkZJR1VSQUJMRSwgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7IFwKICAgICAgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IFwKICAgIH0gXAogIH0KCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7IFwKICAgICAgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IFwKICAgIH0gXAogIH0KCiNkZWZpbmUgSlNfQ0ZVTkNfREVGX0ZMQUdTKHByb3BfbmFtZSwgbGVuZ3RoLCBmdW5jMSwgZmxhZ3MpIFwKICB7IFwKICAgIC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0ZVTkMsIC5tYWdpYyA9IDAsIC51ID0gey5mdW5jID0ge2xlbmd0aCwgSlNfQ0ZVTkNfZ2VuZXJpYywgey5nZW5lcmljID0gZnVuYzF9fSB9IFwKICB9CgojZGVmaW5lIEpTX0NPTlNUQU5UKG5hbWUpIEpTX1BST1BfSU5UMzJfREVGKCNuYW1lLCBuYW1lLCBKU19QUk9QX0NPTkZJR1VSQUJMRSkKCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNpZm5kZWYgTUFYX05VTQojZGVmaW5lIE1BWF9OVU0oYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2VuZGlmCiNpZm5kZWYgTUlOX05VTQojZGVmaW5lIE1JTl9OVU0oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKI2VuZGlmCgojZGVmaW5lIEpTX0lzTW9kdWxlKHZhbHVlKSAoSlNfVkFMVUVfR0VUX1RBRygodmFsdWUpKSA9PSBKU19UQUdfTU9EVUxFKQoKdHlwZWRlZiBzdHJ1Y3QgewogIEJPT0wgZG9uZTsKICBKU1ZhbHVlIHZhbHVlOwp9IEl0ZXJhdG9yVmFsdWU7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IGM7CiAgY29uc3QgY2hhcioqIHY7Cn0gQXJndW1lbnRzOwoKc3RhdGljIGlubGluZSBBcmd1bWVudHMKYXJndW1lbnRzX25ldyhpbnQgYXJnYywgY29uc3QgY2hhciogYXJndltdKSB7CiAgQXJndW1lbnRzIGFyZ3M7CiAgYXJncy5jID0gYXJnYzsKICBhcmdzLnYgPSBhcmd2OwogIHJldHVybiBhcmdzOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCmFyZ3VtZW50c19zaGlmdChBcmd1bWVudHMqIGFyZ3MpIHsKICBjb25zdCBjaGFyKiByZXQgPSAwOwogIGlmKGFyZ3MtPmMgPiAwKSB7CiAgICByZXQgPSBhcmdzLT52WzBdOwogICAgYXJncy0+Yy0tOwogICAgYXJncy0+disrOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCmFyZ3VtZW50c19hdChBcmd1bWVudHMqIGFyZ3MsIGludCBpKSB7CiAgcmV0dXJuIGkgPj0gMCAmJiBpIDwgYXJncy0+YyA/IGFyZ3MtPnZbaV0gOiAwOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmFyZ3VtZW50c19zaGlmdG4oQXJndW1lbnRzKiBhcmdzLCB1aW50MzJfdCBuKSB7CiAgdWludDMyX3QgaSA9IDA7CgogIHdoaWxlKG4gPiAwKSB7CiAgICBpZighYXJndW1lbnRzX3NoaWZ0KGFyZ3MpKQogICAgICBicmVhazsKICAgIGkrKzsKICAgIG4tLTsKICB9CiAgcmV0dXJuIGk7Cn0KCnR5cGVkZWYgc3RydWN0IHsKICBpbnQgYzsKICBKU1ZhbHVlQ29uc3QqIHY7Cn0gSlNBcmd1bWVudHM7CgpzdGF0aWMgaW5saW5lIEpTQXJndW1lbnRzCmpzX2FyZ3VtZW50c19uZXcoaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQXJndW1lbnRzIGFyZ3M7CiAgYXJncy5jID0gYXJnYzsKICBhcmdzLnYgPSBhcmd2OwogIHJldHVybiBhcmdzOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWVDb25zdApqc19hcmd1bWVudHNfc2hpZnQoSlNBcmd1bWVudHMqIGFyZ3MpIHsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKICBpZihhcmdzLT5jID4gMCkgewogICAgcmV0ID0gYXJncy0+dlswXTsKICAgIGFyZ3MtPmMtLTsKICAgIGFyZ3MtPnYrKzsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBKU1ZhbHVlQ29uc3QKanNfYXJndW1lbnRzX2F0KEpTQXJndW1lbnRzKiBhcmdzLCBpbnQgaSkgewogIHJldHVybiBpID49IDAgJiYgaSA8IGFyZ3MtPmMgPyBhcmdzLT52W2ldIDogSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmpzX2FyZ3VtZW50c19zaGlmdG4oSlNBcmd1bWVudHMqIGFyZ3MsIHVpbnQzMl90IG4pIHsKICB1aW50MzJfdCBpID0gMDsKCiAgd2hpbGUobiA+IDApIHsKICAgIGlmKEpTX0lzRXhjZXB0aW9uKGpzX2FyZ3VtZW50c19zaGlmdChhcmdzKSkpCiAgICAgIGJyZWFrOwogICAgaSsrOwogICAgbi0tOwogIH0KICByZXR1cm4gaTsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWluX3NpemUoc2l6ZV90IGEsIHNpemVfdCBiKSB7CiAgaWYoYSA8IGIpCiAgICByZXR1cm4gYTsKICBlbHNlCiAgICByZXR1cm4gYjsKfQoKc3RhdGljIGlubGluZSB1aW50NjRfdAphYnNfaW50NjQoaW50NjRfdCBhKSB7CiAgcmV0dXJuIGEgPCAwID8gLWEgOiBhOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmFic19pbnQzMihpbnQzMl90IGkpIHsKICByZXR1cm4gaSA8IDAgPyAtaSA6IGk7Cn0KCnN0YXRpYyBpbmxpbmUgaW50MzJfdApzaWduX2ludDMyKHVpbnQzMl90IGkpIHsKICByZXR1cm4gKGkgJiAweDgwMDAwMDAwKSA/IC0xIDogMTsKfQoKc3RhdGljIGlubGluZSBpbnQzMl90Cm1vZF9pbnQzMihpbnQzMl90IGEsIGludDMyX3QgYikgewogIGludDMyX3QgYyA9IGEgJSBiOwogIHJldHVybiAoYyA8IDApID8gYyArIGIgOiBjOwp9CgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfTUFSSU5FICJceDFiWzM2bSIKI2RlZmluZSBDT0xPUl9MSUdIVEdSQVkgIlx4MWJbMzdtIgojZGVmaW5lIENPTE9SX0dSQVkgIlx4MWJbMTszMG0iCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKI2RlZmluZSBDT0xPUl9MSUdIVFJFRCAiXHgxYlsxOzMxbSIKCiNkZWZpbmUgQ09MT1JfTElHSFRHUkVFTiAiXHgxYlsxOzMybSIKI2RlZmluZSBDT0xPUl9MSUdIVFlFTExPVyAiXHgxYlsxOzMzbSIKI2RlZmluZSBDT0xPUl9MSUdIVEJMVUUgIlx4MWJbMTszNG0iCiNkZWZpbmUgQ09MT1JfTElHSFRNQUdFTlRBICJceDFiWzE7MzVtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFSSU5FICJceDFiWzE7MzZtIgojZGVmaW5lIENPTE9SX1dISVRFICJceDFiWzE7MzdtIgoKdWludDY0X3QgdGltZV91cyh2b2lkKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19kYnVmX2luaXRfcnQoSlNSdW50aW1lKiBydCwgRHluQnVmKiBzKSB7CiAgZGJ1Zl9pbml0MihzLCBydCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jX3J0KTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2RidWZfaW5pdChKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBzKSB7CiAgZGJ1Zl9pbml0MihzLCBjdHgsIChEeW5CdWZSZWFsbG9jRnVuYyopanNfcmVhbGxvYyk7Cn0KCnR5cGVkZWYgc3RydWN0IHsKICBjaGFyKiBzb3VyY2U7CiAgc2l6ZV90IGxlbjsKICBpbnQgZmxhZ3M7Cn0gUmVnRXhwOwoKaW50IHJlZ2V4cF9mbGFnc190b3N0cmluZyhpbnQsIGNoYXIqKTsKaW50IHJlZ2V4cF9mbGFnc19mcm9tc3RyaW5nKGNvbnN0IGNoYXIqKTsKUmVnRXhwIHJlZ2V4cF9mcm9tX2FyZ3YoaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEpTQ29udGV4dCogY3R4KTsKUmVnRXhwIHJlZ2V4cF9mcm9tX2RidWYoRHluQnVmKiBkYnVmLCBpbnQgZmxhZ3MpOwp1aW50OF90KiByZWdleHBfY29tcGlsZShSZWdFeHAgcmUsIEpTQ29udGV4dCogY3R4KTsKSlNWYWx1ZSByZWdleHBfdG9fdmFsdWUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCk7CgpzdGF0aWMgaW5saW5lIHZvaWQKcmVnZXhwX2ZyZWVfcnQoUmVnRXhwIHJlLCBKU1J1bnRpbWUqIHJ0KSB7CiAganNfZnJlZV9ydChydCwgcmUuc291cmNlKTsKfQpzdGF0aWMgaW5saW5lIHZvaWQKcmVnZXhwX2ZyZWUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCkgewogIHJlZ2V4cF9mcmVlX3J0KHJlLCBKU19HZXRSdW50aW1lKGN0eCkpOwp9CgpKU1ZhbHVlIGpzX2dsb2JhbF9nZXRfc3RyKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0X3N0cl9uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wLCBzaXplX3QgbGVuKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0X2F0b20oSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBwcm9wKTsKCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19nbG9iYWxfbmV3KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBjbGFzc19uYW1lLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgY2xhc3NfbmFtZSk7CiAgSlNWYWx1ZSBvYmogPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBjdG9yLCBhcmdjLCBhcmd2KTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gb2JqOwp9CgpKU1ZhbHVlIGpzX2dsb2JhbF9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUpOwoKZW51bSB2YWx1ZV90eXBlcyB7CiAgRkxBR19VTkRFRklORUQgPSAwLAogIEZMQUdfTlVMTCwgICAgICAgIC8vIDEKICBGTEFHX0JPT0wsICAgICAgICAvLyAyCiAgRkxBR19JTlQsICAgICAgICAgLy8gMwogIEZMQUdfT0JKRUNULCAgICAgIC8vIDQKICBGTEFHX1NUUklORywgICAgICAvLyA1CiAgRkxBR19TWU1CT0wsICAgICAgLy8gNgogIEZMQUdfQklHX0ZMT0FULCAgIC8vIDcKICBGTEFHX0JJR19JTlQsICAgICAvLyA4CiAgRkxBR19CSUdfREVDSU1BTCwgLy8gOQogIEZMQUdfRkxPQVQ2NCwgICAgIC8vIDEwCiAgRkxBR19OQU4sICAgICAgICAgLy8gMTEKICBGTEFHX0ZVTkNUSU9OLCAgICAvLyAxMgogIEZMQUdfQVJSQVksICAgICAgIC8vIDEzCiAgRkxBR19NT0RVTEUsCiAgRkxBR19GVU5DVElPTl9CWVRFQ09ERSwKICBGTEFHX1VOSU5JVElBTElaRUQsCiAgRkxBR19DQVRDSF9PRkZTRVQsCiAgRkxBR19FWENFUFRJT04KCn07CgplbnVtIHZhbHVlX21hc2sgewogIFRZUEVfVU5ERUZJTkVEID0gKDEgPDwgRkxBR19VTkRFRklORUQpLAogIFRZUEVfTlVMTCA9ICgxIDw8IEZMQUdfTlVMTCksCiAgVFlQRV9CT09MID0gKDEgPDwgRkxBR19CT09MKSwKICBUWVBFX0lOVCA9ICgxIDw8IEZMQUdfSU5UKSwKICBUWVBFX09CSkVDVCA9ICgxIDw8IEZMQUdfT0JKRUNUKSwKICBUWVBFX1NUUklORyA9ICgxIDw8IEZMQUdfU1RSSU5HKSwKICBUWVBFX1NZTUJPTCA9ICgxIDw8IEZMQUdfU1lNQk9MKSwKICBUWVBFX0JJR19GTE9BVCA9ICgxIDw8IEZMQUdfQklHX0ZMT0FUKSwKICBUWVBFX0JJR19JTlQgPSAoMSA8PCBGTEFHX0JJR19JTlQpLAogIFRZUEVfQklHX0RFQ0lNQUwgPSAoMSA8PCBGTEFHX0JJR19ERUNJTUFMKSwKICBUWVBFX0ZMT0FUNjQgPSAoMSA8PCBGTEFHX0ZMT0FUNjQpLAogIFRZUEVfTkFOID0gKDEgPDwgRkxBR19OQU4pLAogIFRZUEVfTlVNQkVSID0gKFRZUEVfSU5UIHwgVFlQRV9CSUdfRkxPQVQgfCBUWVBFX0JJR19JTlQgfCBUWVBFX0JJR19ERUNJTUFMIHwgVFlQRV9GTE9BVDY0KSwKICBUWVBFX1BSSU1JVElWRSA9CiAgICAgIChUWVBFX1VOREVGSU5FRCB8IFRZUEVfTlVMTCB8IFRZUEVfQk9PTCB8IFRZUEVfSU5UIHwgVFlQRV9TVFJJTkcgfCBUWVBFX1NZTUJPTCB8IFRZUEVfQklHX0ZMT0FUIHwgVFlQRV9CSUdfSU5UIHwgVFlQRV9CSUdfREVDSU1BTCB8IFRZUEVfTkFOKSwKICBUWVBFX0FMTCA9IChUWVBFX1BSSU1JVElWRSB8IFRZUEVfT0JKRUNUKSwKICBUWVBFX0ZVTkNUSU9OID0gKDEgPDwgRkxBR19GVU5DVElPTiksCiAgVFlQRV9BUlJBWSA9ICgxIDw8IEZMQUdfQVJSQVkpLAp9OwoKaW50MzJfdCBqc192YWx1ZV90eXBlX2ZsYWcoSlNWYWx1ZUNvbnN0IHZhbHVlKTsKaW50MzJfdCBqc192YWx1ZV90eXBlX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCnN0YXRpYyBpbmxpbmUgaW50MzJfdApqc192YWx1ZV90eXBlMmZsYWcodWludDMyX3QgdHlwZSkgewogIGludDMyX3QgZmxhZzsKICBmb3IoZmxhZyA9IDA7ICh0eXBlID4+PSAxKTsgZmxhZysrKSB7fQogIHJldHVybiBmbGFnOwp9CgplbnVtIHZhbHVlX21hc2sganNfdmFsdWVfdHlwZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhciogY29uc3QqCmpzX3ZhbHVlX3R5cGVzKCkgewogIHJldHVybiAoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJVTkRFRklORUQiLCAgICAgIk5VTEwiLCAgICAgICAgICJCT09MIiwgICAgICAiSU5UIiwgIk9CSkVDVCIsICAgIlNUUklORyIsICJTWU1CT0wiLCAiQklHX0ZMT0FUIiwKICAgICAgIkJJR19JTlQiLCAgICAgICAiQklHX0RFQ0lNQUwiLCAgIkZMT0FUNjQiLCAgICJOQU4iLCAiRlVOQ1RJT04iLCAiQVJSQVkiLCAgIk1PRFVMRSIsICJGVU5DVElPTl9CWVRFQ09ERSIsCiAgICAgICJVTklOSVRJQUxJWkVEIiwgIkNBVENIX09GRlNFVCIsICJFWENFUFRJT04iLCAwLAogIH07Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfdmFsdWVfdHlwZW9mKEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGludDMyX3QgZmxhZyA9IGpzX3ZhbHVlX3R5cGVfZmxhZyh2YWx1ZSk7CiAgcmV0dXJuICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJ1bmRlZmluZWQiLCAgICAgIm9iamVjdCIsICAgICAgICJib29sZWFuIiwgICAibnVtYmVyIiwgIm9iamVjdCIsICAgInN0cmluZyIsICJzeW1ib2wiLCAiYmlnZmxvYXQiLAogICAgICAiYmlnaW50IiwgICAgICAgICJiaWdkZWNpbWFsIiwgICAibnVtYmVyIiwgICAgIm51bWJlciIsICJmdW5jdGlvbiIsICJvYmplY3QiLCAibW9kdWxlIiwgImZ1bmN0aW9uX2J5dGVjb2RlIiwKICAgICAgInVuaW5pdGlhbGl6ZWQiLCAiY2F0Y2hfb2Zmc2V0IiwgImV4Y2VwdGlvbiIsIDAsCiAgfSlbZmxhZ107Cn0KCmNvbnN0IGNoYXIqIGpzX3ZhbHVlX3R5cGVfbmFtZShpbnQzMl90IHR5cGUpOwoKY29uc3QgY2hhcioganNfdmFsdWVfdHlwZXN0cihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCi8qVklTSUJMRSB2b2lkKiBqc192YWx1ZV9wdHIoSlNWYWx1ZUNvbnN0IHYpOwpWSVNJQkxFIEpTT2JqZWN0KiBqc192YWx1ZV9vYmooSlNWYWx1ZUNvbnN0IHYpOwpWSVNJQkxFIGludDMyX3QganNfdmFsdWVfdGFnKEpTVmFsdWVDb25zdCB2KTsKKi8KCnN0YXRpYyBpbmxpbmUgdm9pZCoKanNfdmFsdWVfcHRyKEpTVmFsdWVDb25zdCB2KSB7CiAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9QVFIodik7Cn0KCnN0YXRpYyBpbmxpbmUgSlNPYmplY3QqCmpzX3ZhbHVlX29iaihKU1ZhbHVlQ29uc3QgdikgewogIHJldHVybiBKU19Jc09iamVjdCh2KSA/IEpTX1ZBTFVFX0dFVF9PQkoodikgOiAwOwp9CgpzdGF0aWMgaW5saW5lIGludApqc192YWx1ZV90YWcoSlNWYWx1ZUNvbnN0IHYpIHsKICByZXR1cm4gSlNfVkFMVUVfR0VUX1RBRyh2KTsKfQoKQk9PTCBqc192YWx1ZV9oYXNfcmVmX2NvdW50KEpTVmFsdWVDb25zdCB2KTsKCnZvaWQganNfdmFsdWVfZnJlZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSB2KTsKdm9pZCBqc192YWx1ZV9mcmVlX3J0KEpTUnVudGltZSogcnQsIEpTVmFsdWUgdik7CgpCT09MIGpzX3ZhbHVlX2VxdWFscyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGEsIEpTVmFsdWVDb25zdCBiKTsKdm9pZCBqc192YWx1ZV9wcmludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKSlNWYWx1ZSBqc192YWx1ZV9jbG9uZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHBlKTsKSlNWYWx1ZSoganNfdmFsdWVzX2R1cChKU0NvbnRleHQqIGN0eCwgaW50IG52YWx1ZXMsIEpTVmFsdWVDb25zdCogdmFsdWVzKTsKdm9pZCBqc192YWx1ZXNfZnJlZShKU1J1bnRpbWUqIHJ0LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpOwpKU1ZhbHVlIGpzX3ZhbHVlc190b2FycmF5KEpTQ29udGV4dCogY3R4LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpOwp2b2lkIGpzX3ZhbHVlX2Z3cml0ZShKU0NvbnRleHQqLCBKU1ZhbHVlLCBGSUxFKiBmKTsKdm9pZCBqc192YWx1ZV9kdW1wKEpTQ29udGV4dCosIEpTVmFsdWUsIER5bkJ1ZiogZGIpOwoKLy8jaW5jbHVkZSAiYnVmZmVyLXV0aWxzLmgiCgpjaGFyKiBqc19jc3RyaW5nX2R1cChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3RyKTsKY2hhcioganNfY3N0cmluZ19wdHIoSlNWYWx1ZUNvbnN0IHYpOwpKU1ZhbHVlQ29uc3QganNfY3N0cmluZ192YWx1ZShjb25zdCBjaGFyKiBwdHIpOwp2b2lkIGpzX2NzdHJpbmdfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBEeW5CdWYqIGRiKTsKCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfY3N0cmluZ19uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0cikgewogIEpTVmFsdWUgdiA9IEpTX05ld1N0cmluZyhjdHgsIHN0cik7CiAgY29uc3QgY2hhciogcyA9IEpTX1RvQ1N0cmluZyhjdHgsIHYpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHYpOwogIHJldHVybiBzOwp9CnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfY3N0cmluZ19uZXdsZW4oSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbikgewogIEpTVmFsdWUgdiA9IEpTX05ld1N0cmluZ0xlbihjdHgsIHN0ciwgbGVuKTsKICBjb25zdCBjaGFyKiBzID0gSlNfVG9DU3RyaW5nKGN0eCwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdik7CiAgcmV0dXJuIHM7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19jc3RyaW5nX2ZyZWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHB0cikgewogIGlmKCFwdHIpCiAgICByZXR1cm47CgogIEpTX0ZyZWVWYWx1ZShjdHgsIEpTX01LUFRSKEpTX1RBR19TVFJJTkcsICh2b2lkKikocHRyIC0gb2Zmc2V0b2YoSlNTdHJpbmcsIHUpKSkpOwp9CgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfdG9pbnQ2NChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaW50NjRfdCByZXQgPSAwOwogIEpTX1RvSW50NjQoY3R4LCAmcmV0LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgY2hhciogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cm5kdXAoY3R4LCBjc3RyLCBsZW4pOwogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW47CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBjc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Rvc3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIHdjaGFyX3QqCmpzX3Rvd3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgaSwgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgd2NoYXJfdCogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2Yod2NoYXJfdCkgKiAobGVuICsgMSkpOwogICAgY29uc3QgdWludDhfdCAqcHRyID0gKGNvbnN0IHVpbnQ4X3QqKWNzdHIsICplbmQgPSAoY29uc3QgdWludDhfdCopY3N0ciArIGxlbjsKCiAgICBmb3IoaSA9IDA7IHB0ciA8IGVuZDspIHsgcmV0W2krK10gPSB1bmljb2RlX2Zyb21fdXRmOChwdHIsIGVuZCAtIHB0ciwgJnB0cik7IH0KCiAgICBpZihsZW5wKQogICAgICAqbGVucCA9IGk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgd2NoYXJfdCoKanNfdG93c3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfdG93c3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfdmFsdWVfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgcHJvdG8sIHRvc3RyaW5nLCBzdHI7CiAgcHJvdG8gPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgY2xhc3NfbmFtZSk7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCAidG9TdHJpbmciKTsKICB0b3N0cmluZyA9IEpTX0dldFByb3BlcnR5KGN0eCwgcHJvdG8sIGF0b20pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHN0ciA9IEpTX0NhbGwoY3R4LCB0b3N0cmluZywgdmFsdWUsIDAsIDApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHRvc3RyaW5nKTsKICByZXR1cm4gc3RyOwp9CgppbnQganNfdmFsdWVfdG9zaXplKEpTQ29udGV4dCogY3R4LCBzaXplX3QqIHN6LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwoKc3RhdGljIGlubGluZSBkb3VibGUKanNfdmFsdWVfdG9kb3VibGVfZnJlZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgZG91YmxlIHJldCA9IDA7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJnJldCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfdmFsdWVfdG9pbnQ2NF9mcmVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQ2NF90IHJldCA9IDA7CiAgSlNfVG9JbnQ2NChjdHgsICZyZXQsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX3ZhbHVlX3RvYm9vbF9mcmVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBCT09MIHJldCA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBKU0F0b20KanNfdmFsdWVfdG9hdG9tX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiBhdG9tOwp9CgpKU1ZhbHVlIGpzX3ZhbHVlX2Zyb21fY2hhcihKU0NvbnRleHQqIGN0eCwgaW50IGMpOwpzdGF0aWMgaW5saW5lIGludApqc192YWx1ZV9jbXBzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY29uc3QgY2hhciogb3RoZXIpIHsKICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgaW50IHJldCA9IHN0cmNtcChzdHIsIG90aGVyKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgcmV0dXJuIHJldDsKfQoKI2RlZmluZSBKU19WQUxVRV9GUkVFKGN0eCwgdmFsdWUpIFwKICBkbyB7IFwKICAgIEpTX0ZyZWVWYWx1ZSgoY3R4KSwgKHZhbHVlKSk7IFwKICAgICh2YWx1ZSkgPSBKU19VTkRFRklORUQ7IFwKICB9IHdoaWxlKDApOwojZGVmaW5lIEpTX1ZBTFVFX0ZSRUVfUlQoY3R4LCB2YWx1ZSkgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlUlQoKGN0eCksICh2YWx1ZSkpOyBcCiAgICAodmFsdWUpID0gSlNfVU5ERUZJTkVEOyBcCiAgfSB3aGlsZSgwKTsKCiNpZiAwCiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfc2V0KHZhbHVlKSBcCiAgZG8geyAoKHVpbnQ4X3QqKUpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSkpWzVdIHw9IDB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfY2xlYXIodmFsdWUpIFwKICBkbyB7ICgodWludDhfdCopSlNfVkFMVUVfR0VUX09CSigodmFsdWUpKSlbNV0gJj0gfjB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfaXNzZXQodmFsdWUpICgoKHVpbnQ4X3QqKUpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSkpWzVdICYgMHg0MCkKI2Vsc2UKI2RlZmluZSBqc19vYmplY3RfdG1wbWFya19zZXQodmFsdWUpIFwKICBkbyB7IEpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSktPnRtcF9tYXJrIHw9IDB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfY2xlYXIodmFsdWUpIFwKICBkbyB7IEpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSktPnRtcF9tYXJrICY9IH4weDQwOyB9IHdoaWxlKDApOwojZGVmaW5lIGpzX29iamVjdF90bXBtYXJrX2lzc2V0KHZhbHVlKSAoSlNfVkFMVUVfR0VUX09CSigodmFsdWUpKS0+dG1wX21hcmsgJiAweDQwKQojZW5kaWYKCiNkZWZpbmUganNfcnVudGltZV9leGNlcHRpb25fc2V0KHJ0LCB2YWx1ZSkgXAogIGRvIHsgKihKU1ZhbHVlKikoKHVpbnQ4X3QqKShydCkgKyAyMTYpID0gdmFsdWU7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfcnVudGltZV9leGNlcHRpb25fZ2V0KHJ0KSAoKihKU1ZhbHVlKikoKHVpbnQ4X3QqKShydCkgKyAyMTYpKQojZGVmaW5lIGpzX3J1bnRpbWVfZXhjZXB0aW9uX2NsZWFyKHJ0KSBcCiAgZG8geyBcCiAgICBpZighSlNfSXNOdWxsKGpzX3J1bnRpbWVfZXhjZXB0aW9uX2dldChydCkpKSBcCiAgICAgIEpTX0ZyZWVWYWx1ZVJUKChydCksIGpzX3J1bnRpbWVfZXhjZXB0aW9uX2dldChydCkpOyBcCiAgICBqc19ydW50aW1lX2V4Y2VwdGlvbl9zZXQocnQsIEpTX05VTEwpOyBcCiAgfSB3aGlsZSgwKQoKdm9pZCBqc19wcm9wZXJ0eWVudW1zX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlFbnVtKiBwcm9wcywgc2l6ZV90IGxlbik7CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfcHJvcGVydHlkZXNjcmlwdG9yX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlEZXNjcmlwdG9yKiBkZXNjKSB7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZGVzYy0+dmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRlc2MtPmdldHRlcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZGVzYy0+c2V0dGVyKTsKfQoKSlNWYWx1ZSBqc19zeW1ib2xfY3RvcihKU0NvbnRleHQqIGN0eCk7CgpKU1ZhbHVlIGpzX3N5bWJvbF9pbnZva2Vfc3RhdGljKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lLCBKU1ZhbHVlQ29uc3QgYXJnKTsKCkpTVmFsdWUganNfc3ltYm9sX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHN5bSk7Cgpjb25zdCBjaGFyKiBqc19zeW1ib2xfdG9fY3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHN5bSk7CgpKU1ZhbHVlIGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpOwpKU0F0b20ganNfc3ltYm9sX3N0YXRpY19hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKTsKQk9PTCBqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopOwpKU1ZhbHVlIGpzX2l0ZXJhdG9yX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CkpTVmFsdWUganNfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBCT09MKiBkb25lX3ApOwpKU1ZhbHVlIGpzX3N5bWJvbF9mb3IoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5bV9mb3IpOwpKU0F0b20ganNfc3ltYm9sX2Zvcl9hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeW1fZm9yKTsKCkpTVmFsdWUganNfc3ltYm9sX29wZXJhdG9yc2V0X3ZhbHVlKEpTQ29udGV4dCogY3R4KTsKCkpTQXRvbSBqc19zeW1ib2xfb3BlcmF0b3JzZXRfYXRvbShKU0NvbnRleHQqIGN0eCk7CgpKU1ZhbHVlIGpzX29wZXJhdG9yc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHRoaXNfb2JqKTsKCnN0YXRpYyBpbmxpbmUgaW50NjRfdApqc19pbnQ2NF9kZWZhdWx0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludDY0X3QgaSkgewogIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgIEpTX1RvSW50NjQoY3R4LCAmaSwgdmFsdWUpOwogIHJldHVybiBpOwp9CgpKU1ZhbHVlIGpzX251bWJlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGludDMyX3Qgbik7CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfbmV3X2Jvb2xfb3JfbnVtYmVyKEpTQ29udGV4dCogY3R4LCBpbnQzMl90IG4pIHsKICBpZihuID09IDApCiAgICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsIEZBTFNFKTsKICByZXR1cm4ganNfbnVtYmVyX25ldyhjdHgsIG4pOwp9CgojZGVmaW5lIEpTX0FUT01fVEFHX0lOVCAoMVUgPDwgMzEpCiNkZWZpbmUgSlNfQVRPTV9NQVhfSU5UIChKU19BVE9NX1RBR19JTlQgLSAxKQoKI2RlZmluZSBqc19hdG9tX2lzaW50KGkpICgoSlNBdG9tKSgoaSkmSlNfQVRPTV9UQUdfSU5UKSkKI2RlZmluZSBqc19hdG9tX2Zyb21pbnQoaSkgKChKU0F0b20pKChpKSZKU19BVE9NX01BWF9JTlQpIHwgSlNfQVRPTV9UQUdfSU5UKQojZGVmaW5lIGpzX2F0b21fdG9pbnQoaSkgKHVuc2lnbmVkIGludCkoKChKU0F0b20pKGkpICYgKH4oSlNfQVRPTV9UQUdfSU5UKSkpKQoKSlNBdG9tIGpzX2F0b21fZnJvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmludCBqc19hdG9tX3RvaW50NjQoSlNDb250ZXh0KiBjdHgsIGludDY0X3QqIGksIEpTQXRvbSBhdG9tKTsKaW50MzJfdCBqc19hdG9tX3RvaW50MzIoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBhdG9tKTsKCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19hdG9tX3RvdmFsdWUoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBhdG9tKSB7CiAgaWYoanNfYXRvbV9pc2ludChhdG9tKSkKICAgIHJldHVybiBKU19NS1ZBTChKU19UQUdfSU5ULCBqc19hdG9tX3RvaW50KGF0b20pKTsKCiAgcmV0dXJuIEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7Cn0KCnVuc2lnbmVkIGludCBqc19hdG9tX3RvYmluYXJ5KEpTQXRvbSBhdG9tKTsKY29uc3QgY2hhcioganNfYXRvbV90b19jc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBzaXplX3QqIGxlbiwgSlNBdG9tIGF0b20pOwp2b2lkIGpzX2F0b21fZHVtcChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20sIER5bkJ1ZiogZGIsIEJPT0wgY29sb3IpOwpCT09MIGpzX2F0b21faXNfaW5kZXgoSlNDb250ZXh0KiBjdHgsIGludDY0X3QqIHB2YWwsIEpTQXRvbSBhdG9tKTsKQk9PTCBqc19hdG9tX2lzX2xlbmd0aChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20pOwoKY29uc3QgY2hhcioganNfb2JqZWN0X3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpjb25zdCBjaGFyKiBqc19mdW5jdGlvbl9uYW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpjb25zdCBjaGFyKiBqc19mdW5jdGlvbl90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKSlNDRnVuY3Rpb24qIGpzX2Z1bmN0aW9uX2NmdW5jKEpTQ29udGV4dCosIEpTVmFsdWUgdmFsdWUpOwpCT09MIGpzX2Z1bmN0aW9uX2lzbmF0aXZlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwppbnQganNfZnVuY3Rpb25fYXJnYyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCmNoYXIqIGpzX29iamVjdF9jbGFzc25hbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CmludCBqc19vYmplY3RfaXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY29uc3QgY2hhciogY21wKTsKSlNWYWx1ZSBqc19vYmplY3RfY29uc3RydWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgY3Rvcik7CkpTVmFsdWUganNfb2JqZWN0X2Vycm9yKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtZXNzYWdlKTsKSlNWYWx1ZSBqc19vYmplY3Rfc3RhY2soSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIGpzX29iamVjdF9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKCnN0YXRpYyBpbmxpbmUgQk9PTApqc19vYmplY3Rfc2FtZShKU1ZhbHVlQ29uc3QgYSwgSlNWYWx1ZUNvbnN0IGIpIHsKICBKU09iamVjdCAqYW9iaiwgKmJvYmo7CiAgaWYoIUpTX0lzT2JqZWN0KGEpIHx8ICFKU19Jc09iamVjdChiKSkKICAgIHJldHVybiBGQUxTRTsKCiAgYW9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooYSk7CiAgYm9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooYik7CiAgcmV0dXJuIGFvYmogPT0gYm9iajsKfQoKc3RhdGljIGlubGluZSBKU0NsYXNzSUQKanNfZ2V0X2NsYXNzaWQoSlNWYWx1ZSB2KSB7CiAgSlNPYmplY3QqIHA7CiAgLyogaWYoSlNfVkFMVUVfR0VUX1RBRyh2KSAhPSBKU19UQUdfT0JKRUNUKQogICAgIHJldHVybiAwOyovCiAgcCA9IEpTX1ZBTFVFX0dFVF9PQkoodik7CiAgYXNzZXJ0KHAgIT0gMCk7CiAgcmV0dXJuIHAtPmNsYXNzX2lkOwp9CgpCT09MIGpzX2hhc19wcm9wZXJ0eXN0cihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKTsKQk9PTCBqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKTsKdm9pZCBqc19zZXRfcHJvcGVydHlpbnRfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCB1aW50MzJfdCBpLCBjb25zdCBjaGFyKiBzdHIpOwp2b2lkIGpzX3NldF9wcm9wZXJ0eWludF9pbnQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IGksIGludDMyX3QgdmFsdWUpOwp2b2lkIGpzX3NldF9wcm9wZXJ0eXN0cl9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIGNvbnN0IGNoYXIqIHN0cik7CnZvaWQganNfc2V0X3Byb3BlcnR5c3RyX3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuKTsKY29uc3QgY2hhcioganNfZ2V0X3Byb3BlcnR5aW50X2NzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IGkpOwppbnQzMl90IGpzX2dldF9wcm9wZXJ0eWludF9pbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgdWludDMyX3QgaSk7CmNvbnN0IGNoYXIqIGpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wKTsKY29uc3QgY2hhcioganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIHNpemVfdCogbGVucCk7CmNoYXIqIGpzX2dldF9wcm9wZXJ0eXN0cl9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApOwpjaGFyKiBqc19nZXRfcHJvcGVydHlzdHJfc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wLCBzaXplX3QqIGxlbnApOwppbnQzMl90IGpzX2dldF9wcm9wZXJ0eXN0cl9pbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCk7CnVpbnQ2NF90IGpzX2dldF9wcm9wZXJ0eXN0cl91aW50NjQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApOwppbnQganNfZ2V0X3Byb3BlcnR5ZGVzY3JpcHRvcihKU0NvbnRleHQqIGN0eCwgSlNQcm9wZXJ0eURlc2NyaXB0b3IqIGRlc2MsIEpTVmFsdWVDb25zdCBvYmosIEpTQXRvbSBwcm9wKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19zZXRfaW5zcGVjdF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTQ0Z1bmN0aW9uKiBmdW5jKSB7CiAgSlNBdG9tIGluc3BlY3Rfc3ltYm9sID0ganNfc3ltYm9sX2Zvcl9hdG9tKGN0eCwgInF1aWNranMuaW5zcGVjdC5jdXN0b20iKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlKGN0eCwgb2JqLCBpbnNwZWN0X3N5bWJvbCwgSlNfTmV3Q0Z1bmN0aW9uKGN0eCwgZnVuYywgImluc3BlY3QiLCAxKSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX1dSSVRBQkxFKTsKICBKU19GcmVlQXRvbShjdHgsIGluc3BlY3Rfc3ltYm9sKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3NldF90b3N0cmluZ3RhZ192YWx1ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSB2YWx1ZSkgewogIEpTQXRvbSB0b3N0cmluZ190YWcgPSBqc19zeW1ib2xfc3RhdGljX2F0b20oY3R4LCAidG9TdHJpbmdUYWciKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlKGN0eCwgb2JqLCB0b3N0cmluZ190YWcsIHZhbHVlLCBKU19QUk9QX0NPTkZJR1VSQUJMRSB8IEpTX1BST1BfV1JJVEFCTEUpOwogIEpTX0ZyZWVBdG9tKGN0eCwgdG9zdHJpbmdfdGFnKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3NldF90b3N0cmluZ3RhZ19zdHIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHN0cikgewogIGpzX3NldF90b3N0cmluZ3RhZ192YWx1ZShjdHgsIG9iaiwgSlNfTmV3U3RyaW5nKGN0eCwgc3RyKSk7Cn0KCkpTQ2xhc3NJRCBqc19jbGFzc19pZChKU0NvbnRleHQqIGN0eCwgaW50IGlkKTsKSlNDbGFzc0lEIGpzX2NsYXNzX25ld2lkKHZvaWQpOwpKU0NsYXNzKiBqc19jbGFzc19nZXQoSlNDb250ZXh0KiBjdHgsIEpTQ2xhc3NJRCBpZCk7CkpTQXRvbSBqc19jbGFzc19hdG9tKEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpOwpjb25zdCBjaGFyKiBqc19jbGFzc19uYW1lKEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpOwpKU0NsYXNzSUQganNfY2xhc3NfZmluZChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSk7CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfb2JqZWN0X2lzY2xhc3MoSlNWYWx1ZSBvYmosIGludDMyX3QgY2xhc3NfaWQpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgY2xhc3NfaWQpICE9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc192YWx1ZV9pc2NsYXNzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIG9iaiwgaW50IGlkKSB7CiAgaW50MzJfdCBjbGFzc19pZCA9IGpzX2NsYXNzX2lkKGN0eCwgaWQpOwogIHJldHVybiBqc19vYmplY3RfaXNjbGFzcyhvYmosIGNsYXNzX2lkKTsKfQoKQk9PTCBqc19pc19hcnJheWJ1ZmZlcihKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX3NoYXJlZGFycmF5YnVmZmVyKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfbWFwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfc2V0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfZ2VuZXJhdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfcmVnZXhwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX2RhdGF2aWV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfbnVsbF9vcl91bmRlZmluZWQoSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc051bGwodmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfZmFsc2lzaChKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzd2l0Y2goSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSkpIHsKICAgIGNhc2UgSlNfVEFHX05VTEw6IHJldHVybiBUUlVFOwogICAgY2FzZSBKU19UQUdfVU5ERUZJTkVEOiByZXR1cm4gVFJVRTsKICAgIGNhc2UgSlNfVEFHX0lOVDogcmV0dXJuIEpTX1ZBTFVFX0dFVF9JTlQodmFsdWUpID09IDA7CiAgICBjYXNlIEpTX1RBR19CT09MOiByZXR1cm4gIUpTX1ZBTFVFX0dFVF9CT09MKHZhbHVlKTsKICAgIGNhc2UgSlNfVEFHX0ZMT0FUNjQ6IHJldHVybiBKU19WQUxVRV9HRVRfRkxPQVQ2NCh2YWx1ZSkgPT0gMDsKICAgIGRlZmF1bHQ6IHJldHVybiBGQUxTRTsKICB9Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc190cnVpc2goSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuICFqc19pc19mYWxzaXNoKHZhbHVlKTsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX251bGxpc2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGludDY0X3QgaSA9IC0xOwoKICBpZihKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgSlNfSXNOdWxsKHZhbHVlKSkKICAgIHJldHVybiBUUlVFOwogIEpTX1RvSW50NjQoY3R4LCAmaSwgdmFsdWUpOwogIHJldHVybiBpID09IDA7Cn0KCkpTVmFsdWUganNfdHlwZWRhcnJheV9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIGpzX3R5cGVkYXJyYXlfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgpOwoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX2Jhc2ljX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIGN0b3IgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJBcnJheSIpOwogIEJPT0wgcmV0ID0gSlNfSXNJbnN0YW5jZU9mKGN0eCwgdmFsdWUsIGN0b3IpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc190eXBlZGFycmF5KEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgSlNDbGFzc0lEIGlkID0ganNfZ2V0X2NsYXNzaWQodmFsdWUpOwogICAgcmV0dXJuIGlkID49IEpTX0NMQVNTX1VJTlQ4Q19BUlJBWSAmJiBpZCA8PSBKU19DTEFTU19GTE9BVDY0X0FSUkFZOwogIH0KICByZXR1cm4gRkFMU0U7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzQXJyYXkoY3R4LCB2YWx1ZSkgfHwganNfaXNfdHlwZWRhcnJheSh2YWx1ZSk7Cn0KCkJPT0wganNfaXNfaW5wdXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgppbnQganNfcHJvcGVudW1fY21wKGNvbnN0IHZvaWQqIGEsIGNvbnN0IHZvaWQqIGIsIHZvaWQqIHB0cik7CkJPT0wganNfb2JqZWN0X2VxdWFscyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGEsIEpTVmFsdWVDb25zdCBiKTsKaW50NjRfdCBqc19hcnJheV9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSk7CnZvaWQganNfYXJyYXlfY2xlYXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSk7CgpzaXplX3QganNfc3Rydl9sZW5ndGgoY2hhcioqIHN0cnYpOwoKY2hhcioqIGpzX3N0cnZfZHVwKEpTQ29udGV4dCogY3R4LCBjaGFyKiogc3Rydik7Cgp2b2lkIGpzX3N0cnZfZnJlZV9uKEpTQ29udGV4dCosIGludCwgY2hhciogYXJndltdKTsKdm9pZCBqc19zdHJ2X2ZyZWUoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KTsKdm9pZCBqc19zdHJ2X2ZyZWVfcnQoSlNSdW50aW1lKiBydCwgY2hhcioqIHN0cnYpOwpKU1ZhbHVlIGpzX3N0cnZfdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KTsKSlNWYWx1ZSBqc19pbnR2X3RvX2FycmF5KEpTQ29udGV4dCogY3R4LCBpbnQqIGludHYpOwpjaGFyKioganNfYXJyYXlfdG9fYXJndihKU0NvbnRleHQqIGN0eCwgaW50KiBhcmdjcCwgSlNWYWx1ZUNvbnN0IGFycmF5KTsKaW50IGpzX2FycmF5X2NvcHlzKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG4sIGNoYXIqKiBzdHJhKTsKaW50IGpzX3N0cnZfY29weXMoSlNDb250ZXh0KiwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbiwgY2hhcioqIHN0cmEpOwoKSlNWYWx1ZSBqc19pbnZva2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogbWV0aG9kLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CgpzdGF0aWMgaW5saW5lIHNpemVfdApqc19hcnJheWJ1ZmZlcl9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBidWZmZXIpIHsKICB1aW50OF90KiBwdHI7CiAgc2l6ZV90IGxlbjsKCiAgaWYoSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBidWZmZXIpKQogICAgcmV0dXJuIGxlbjsKICByZXR1cm4gMDsKfQoKaW50NjRfdCBqc19hcnJheWJ1ZmZlcl9ieXRlbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwoKc3RhdGljIGlubGluZSBpbnQKanNfZmluZF9jZnVuY3Rpb25fZW50cnkoY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkqIGVudHJpZXMsIHNpemVfdCBuX2VudHJpZXMsIGNvbnN0IGNoYXIqIG5hbWUsIGludCBkZWZfdHlwZSkgewogIHNpemVfdCBpOwogIGZvcihpID0gMDsgaSA8IG5fZW50cmllczsgaSsrKQogICAgaWYoZW50cmllc1tpXS5kZWZfdHlwZSA9PSBkZWZfdHlwZSAmJiAhc3RyY21wKGVudHJpZXNbaV0ubmFtZSwgbmFtZSkpCiAgICAgIHJldHVybiBpOwogIHJldHVybiAtMTsKfQoKc3RhdGljIGlubGluZSBpbnQKanNfZmluZF9jZnVuY3Rpb25fYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkqIGVudHJpZXMsIHNpemVfdCBuX2VudHJpZXMsIEpTQXRvbSBhdG9tLCBpbnQgZGVmX3R5cGUpIHsKICBjb25zdCBjaGFyKiBuYW1lID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIGF0b20pOwogIGludCBpOwogIGkgPSBqc19maW5kX2NmdW5jdGlvbl9lbnRyeShlbnRyaWVzLCBuX2VudHJpZXMsIG5hbWUsIGRlZl90eXBlKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogIHJldHVybiBpOwp9CgpKU1ZhbHVlIGpzX2RhdGVfbmV3KEpTQ29udGV4dCosIEpTVmFsdWUgYXJnKTsKSlNWYWx1ZSBqc19kYXRlX2Zyb21fbXMoSlNDb250ZXh0KiwgaW50NjRfdCBtcyk7CkpTVmFsdWUganNfZGF0ZV9mcm9tX3RpbWVfbnMoSlNDb250ZXh0KiwgdGltZV90IHQsIGxvbmcgbnMpOwpKU1ZhbHVlIGpzX2RhdGVfZnJvbV90aW1lc3BlYyhKU0NvbnRleHQqLCBjb25zdCBzdHJ1Y3QgdGltZXNwZWMgdHMpOwppbnQ2NF90IGpzX2RhdGVfZ2V0dGltZShKU0NvbnRleHQqLCBKU1ZhbHVlIGFyZyk7CmludDY0X3QganNfZGF0ZV90aW1lKEpTQ29udGV4dCosIEpTVmFsdWUgYXJnKTsKc3RydWN0IHRpbWVzcGVjIGpzX2RhdGVfdGltZXNwZWMoSlNDb250ZXh0KiwgSlNWYWx1ZSBhcmcpOwoKdm9pZCBqc19hcnJheWJ1ZmZlcl9mcmVldmFsdWUoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIGpzX2FycmF5YnVmZmVyX2Zyb212YWx1ZShKU0NvbnRleHQqLCB2b2lkKiB4LCBzaXplX3QgbiwgSlNWYWx1ZSB2YWwpOwoKSlNWYWx1ZSBqc19tYXBfbmV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7Cgp0eXBlZGVmIHVuaW9uIGltcG9ydF9kaXJlY3RpdmUgewogIHN0cnVjdCB7CiAgICBjb25zdCBjaGFyKiBwYXRoOyAvKio8IE1vZHVsZSBwYXRoICovCiAgICBjb25zdCBjaGFyKiBzcGVjOyAvKio8IEltcG9ydCBzcGVjaWZpZXIocykgKi8KICAgIGNvbnN0IGNoYXIqIHByb3A7IC8qKjwgaWYgIT0gMCAmJiAqcHJvcCwgbnMgKz0gIi4iICsgcHJvcCAqLwogICAgY29uc3QgY2hhciogdmFyOyAgLyoqPCBHbG9iYWwgdmFyaWFibGUgbmFtZSAqLwogICAgY29uc3QgY2hhciogbnM7ICAgLyoqPCBOYW1lc3BhY2UgdmFyaWFibGUgKi8KICB9OwogIGNvbnN0IGNoYXIqIGFyZ3NbNV07Cn0gSW1wb3J0RGlyZWN0aXZlOwoKSlNWYWx1ZSBtb2R1bGVfbmFtZShKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpjaGFyKiBtb2R1bGVfbmFtZXN0cihKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpKU1ZhbHVlIG1vZHVsZV9mdW5jKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX25zKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX2V4cG9ydHNfZmluZChKU0NvbnRleHQqLCBKU01vZHVsZURlZiosIEpTQXRvbSk7CnZvaWQgbW9kdWxlX2V4cG9ydHNfZ2V0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKiwgQk9PTCByZW5hbWVfZGVmYXVsdCwgSlNWYWx1ZUNvbnN0IGV4cG9ydHMpOwpKU1ZhbHVlIG1vZHVsZV9leHBvcnRzKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CnN0cnVjdCBsaXN0X2hlYWQqIGpzX21vZHVsZXNfbGlzdChKU0NvbnRleHQqKTsKSlNWYWx1ZSBqc19tb2R1bGVzX2FycmF5KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG1hZ2ljKTsKSlNWYWx1ZSBqc19tb2R1bGVzX2VudHJpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQgbWFnaWMpOwpKU1ZhbHVlIGpzX21vZHVsZXNfbWFwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG1hZ2ljKTsKSlNWYWx1ZSBqc19tb2R1bGVzX29iamVjdChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCBtYWdpYyk7CkpTVmFsdWUgbW9kdWxlX3ZhbHVlKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX2VudHJ5KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX29iamVjdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpjaGFyKiBqc19tb2R1bGVfc2VhcmNoKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqIHBhdGgsIGNvbnN0IGNoYXIqKTsKY2hhcioganNfbW9kdWxlX3NlYXJjaF9leHQoSlNDb250ZXh0KiwgY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGV4dCk7CmNoYXIqIGpzX21vZHVsZV9ub3JtYWxpemUoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIG5hbWUsIHZvaWQqIG9wYXF1ZSk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZGVmKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZmluZChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfaW1wb3J0X2V2YWwoSlNDb250ZXh0KiwgSW1wb3J0RGlyZWN0aXZlKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9pbXBvcnRfZGVmYXVsdChKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFyKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9pbXBvcnRfbmFtZXNwYWNlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKiBucyk7CkpTVmFsdWUganNfbW9kdWxlX2ltcG9ydChKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogbnMsIGNvbnN0IGNoYXIqIHZhciwgY29uc3QgY2hhciogcHJvcCk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfbG9hZGVyX3NvKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKCkpTVmFsdWUganNfZXZhbF9tb2R1bGUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgQk9PTCBsb2FkX29ubHkpOwpKU1ZhbHVlIGpzX2V2YWxfYmluYXJ5KEpTQ29udGV4dCosIGNvbnN0IHVpbnQ4X3QqLCBzaXplX3QgYnVmX2xlbiwgQk9PTCBsb2FkX29ubHkpOwpKU1ZhbHVlIGpzX2V2YWxfYnVmKEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBpbnQgYnVmX2xlbiwgY29uc3QgY2hhciogZmlsZW5hbWUsIGludCBldmFsX2ZsYWdzKTsKaW50IGpzX2V2YWxfc3RyKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKiBmaWxlLCBpbnQgZmxhZ3MpOwoKaW50NjRfdCBqc190aW1lX21zKHZvaWQpOwppbnQganNfaW50ZXJydXB0X2hhbmRsZXIoSlNSdW50aW1lKiwgdm9pZCopOwoKdm9pZCBqc190aW1lcl91bmxpbmsoSlNSdW50aW1lKiwgSlNPU1RpbWVyKik7CnZvaWQganNfdGltZXJfZnJlZShKU1J1bnRpbWUqLCBKU09TVGltZXIqKTsKCnZvaWQganNfY2FsbF9oYW5kbGVyKEpTQ29udGV4dCosIEpTVmFsdWUpOwoKdm9pZCoganNfc2FiX2FsbG9jKHZvaWQqLCBzaXplX3QpOwp2b2lkIGpzX3NhYl9mcmVlKHZvaWQqLCB2b2lkKik7CnZvaWQganNfc2FiX2R1cCh2b2lkKiwgdm9pZCopOwoKSlNXb3JrZXJNZXNzYWdlUGlwZSoganNfbmV3X21lc3NhZ2VfcGlwZSh2b2lkKTsKSlNXb3JrZXJNZXNzYWdlUGlwZSoganNfZHVwX21lc3NhZ2VfcGlwZShKU1dvcmtlck1lc3NhZ2VQaXBlKik7Cgp2b2lkIGpzX2ZyZWVfbWVzc2FnZShKU1dvcmtlck1lc3NhZ2UqKTsKdm9pZCBqc19mcmVlX21lc3NhZ2VfcGlwZShKU1dvcmtlck1lc3NhZ2VQaXBlKik7Cgp2b2lkIGpzX2Vycm9yX2R1bXAoSlNDb250ZXh0KiwgSlNWYWx1ZSwgRHluQnVmKiBkYik7CmNoYXIqIGpzX2Vycm9yX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWUpOwp2b2lkIGpzX2Vycm9yX3ByaW50KEpTQ29udGV4dCosIEpTVmFsdWUpOwoKI2VuZGlmIC8qIGRlZmluZWQoVVRJTFNfSCkgKi8KAAAAAAAAAABBcAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAikUAAAAAAACbRQAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBcAAAI2lmbmRlZiBVVElMU19ICiNkZWZpbmUgVVRJTFNfSAoKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInF1aWNranMtaW50ZXJuYWwuaCIKI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8c3RyaW5nLmg+CiNpbmNsdWRlIDxtYXRoLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPHN0ZGxpYi5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpZmRlZiBIQVZFX1RIUkVBRFNfSAojaW5jbHVkZSA8dGhyZWFkcy5oPgojZW5kaWYKCmNoYXIqIGJhc2VuYW1lKGNvbnN0IGNoYXIqKTsKCiNpZm5kZWYgb2Zmc2V0b2YKI2RlZmluZSBvZmZzZXRvZih0eXBlLCBmaWVsZCkgKChzaXplX3QpICYgKCh0eXBlKikwKS0+ZmllbGQpCiNlbmRpZgoKI2lmbmRlZiBpbnJhbmdlCiNkZWZpbmUgaW5yYW5nZSh2YWx1ZSwgbWluLCBtYXgpICgodmFsdWUpID49IChtaW4pICYmICh2YWx1ZSkgPD0gKG1heCkpCiNlbmRpZgoKI2RlZmluZSB0cmltX2RvdHNsYXNoKHN0cikgKCFzdHJuY21wKChzdHIpLCAiLi8iLCAyKSA/IChzdHIpICsgMiA6IChzdHIpKQoKI2lmbmRlZiB0aHJlYWRfbG9jYWwKI2lmZGVmIF9UaHJlYWRfbG9jYWwKI2RlZmluZSB0aHJlYWRfbG9jYWwgX1RocmVhZF9sb2NhbAojZWxpZiBkZWZpbmVkKF9fR05VQ19fKSB8fCBkZWZpbmVkKF9fSU5URUxfQ09NUElMRVIpIHx8IGRlZmluZWQoX19TVU5QUk9fQ0MpIHx8IGRlZmluZWQoX19JQk1DUFBfXykKI2RlZmluZSB0aHJlYWRfbG9jYWwgX190aHJlYWQKI2VsaWYgZGVmaW5lZChfV0lOMzIpCiNkZWZpbmUgdGhyZWFkX2xvY2FsIF9fZGVjbHNwZWModGhyZWFkKQojZWxzZQojZXJyb3IgTm8gVExTIGltcGxlbWVudGF0aW9uIGZvdW5kLgojZW5kaWYKI2VuZGlmCgp0eXBlZGVmIGVudW0gcHJlY2VkZW5jZSB7CiAgUFJFQ0VERU5DRV9DT01NQV9TRVFVRU5DRSA9IDEsCiAgUFJFQ0VERU5DRV9ZSUVMRCwKICBQUkVDRURFTkNFX0FTU0lHTk1FTlQsCiAgUFJFQ0VERU5DRV9URVJOQVJZLAogIFBSRUNFREVOQ0VfTlVMTElTSF9DT0FMRVNDSU5HLAogIFBSRUNFREVOQ0VfTE9HSUNBTF9PUiwKICBQUkVDRURFTkNFX0xPR0lDQUxfQU5ELAogIFBSRUNFREVOQ0VfQklUV0lTRV9PUiwKICBQUkVDRURFTkNFX0JJVFdJU0VfWE9SLAogIFBSRUNFREVOQ0VfQklUV0lTRV9BTkQsCiAgUFJFQ0VERU5DRV9FUVVBTElUWSwKICBQUkVDRURFTkNFX0xFU1NfR1JFQVRFUl9JTiwKICBQUkVDRURFTkNFX0JJVFdJU0VfU0hJRlQsCiAgUFJFQ0VERU5DRV9BRERJVElWRSwKICBQUkVDRURFTkNFX01VTFRJUExJQ0FUSVZFLAogIFBSRUNFREVOQ0VfRVhQT05FTlRJQVRJT04sCiAgUFJFQ0VERU5DRV9VTkFSWSwKICBQUkVDRURFTkNFX1BPU1RGSVgsCiAgUFJFQ0VERU5DRV9ORVcsCiAgUFJFQ0VERU5DRV9NRU1CRVJfQUNDRVNTLAogIFBSRUNFREVOQ0VfR1JPVVBJTkcsCn0gSlNQcmVjZWRlbmNlOwoKI2RlZmluZSBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKHByb3BfbmFtZSwgZmdldHRlciwgZnNldHRlciwgbWFnaWNfbnVtKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBKU19QUk9QX0VOVU1FUkFCTEUgfCBKU19QUk9QX0NPTkZJR1VSQUJMRSwgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7IFwKICAgICAgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IFwKICAgIH0gXAogIH0KCiNkZWZpbmUgSlNfQ0dFVFNFVF9NQUdJQ19GTEFHU19ERUYocHJvcF9uYW1lLCBmZ2V0dGVyLCBmc2V0dGVyLCBtYWdpY19udW0sIGZsYWdzKSBcCiAgeyBcCiAgICAubmFtZSA9IHByb3BfbmFtZSwgLnByb3BfZmxhZ3MgPSBmbGFncywgLmRlZl90eXBlID0gSlNfREVGX0NHRVRTRVRfTUFHSUMsIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7IFwKICAgICAgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19IFwKICAgIH0gXAogIH0KCiNkZWZpbmUgSlNfQ0ZVTkNfREVGX0ZMQUdTKHByb3BfbmFtZSwgbGVuZ3RoLCBmdW5jMSwgZmxhZ3MpIFwKICB7IFwKICAgIC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IGZsYWdzLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0ZVTkMsIC5tYWdpYyA9IDAsIC51ID0gey5mdW5jID0ge2xlbmd0aCwgSlNfQ0ZVTkNfZ2VuZXJpYywgey5nZW5lcmljID0gZnVuYzF9fSB9IFwKICB9CgojZGVmaW5lIEpTX0NPTlNUQU5UKG5hbWUpIEpTX1BST1BfSU5UMzJfREVGKCNuYW1lLCBuYW1lLCBKU19QUk9QX0NPTkZJR1VSQUJMRSkKCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNpZm5kZWYgTUFYX05VTQojZGVmaW5lIE1BWF9OVU0oYSwgYikgKChhKSA+IChiKSA/IChhKSA6IChiKSkKI2VuZGlmCiNpZm5kZWYgTUlOX05VTQojZGVmaW5lIE1JTl9OVU0oYSwgYikgKChhKSA8IChiKSA/IChhKSA6IChiKSkKI2VuZGlmCgojZGVmaW5lIEpTX0lzTW9kdWxlKHZhbHVlKSAoSlNfVkFMVUVfR0VUX1RBRygodmFsdWUpKSA9PSBKU19UQUdfTU9EVUxFKQoKdHlwZWRlZiBzdHJ1Y3QgewogIEJPT0wgZG9uZTsKICBKU1ZhbHVlIHZhbHVlOwp9IEl0ZXJhdG9yVmFsdWU7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IGM7CiAgY29uc3QgY2hhcioqIHY7Cn0gQXJndW1lbnRzOwoKc3RhdGljIGlubGluZSBBcmd1bWVudHMKYXJndW1lbnRzX25ldyhpbnQgYXJnYywgY29uc3QgY2hhciogYXJndltdKSB7CiAgQXJndW1lbnRzIGFyZ3M7CiAgYXJncy5jID0gYXJnYzsKICBhcmdzLnYgPSBhcmd2OwogIHJldHVybiBhcmdzOwp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCmFyZ3VtZW50c19zaGlmdChBcmd1bWVudHMqIGFyZ3MpIHsKICBjb25zdCBjaGFyKiByZXQgPSAwOwogIGlmKGFyZ3MtPmMgPiAwKSB7CiAgICByZXQgPSBhcmdzLT52WzBdOwogICAgYXJncy0+Yy0tOwogICAgYXJncy0+disrOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGNvbnN0IGNoYXIqCmFyZ3VtZW50c19hdChBcmd1bWVudHMqIGFyZ3MsIGludCBpKSB7CiAgcmV0dXJuIGkgPj0gMCAmJiBpIDwgYXJncy0+YyA/IGFyZ3MtPnZbaV0gOiAwOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmFyZ3VtZW50c19zaGlmdG4oQXJndW1lbnRzKiBhcmdzLCB1aW50MzJfdCBuKSB7CiAgdWludDMyX3QgaSA9IDA7CgogIHdoaWxlKG4gPiAwKSB7CiAgICBpZighYXJndW1lbnRzX3NoaWZ0KGFyZ3MpKQogICAgICBicmVhazsKICAgIGkrKzsKICAgIG4tLTsKICB9CiAgcmV0dXJuIGk7Cn0KCnR5cGVkZWYgc3RydWN0IHsKICBpbnQgYzsKICBKU1ZhbHVlQ29uc3QqIHY7Cn0gSlNBcmd1bWVudHM7CgpzdGF0aWMgaW5saW5lIEpTQXJndW1lbnRzCmpzX2FyZ3VtZW50c19uZXcoaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQXJndW1lbnRzIGFyZ3M7CiAgYXJncy5jID0gYXJnYzsKICBhcmdzLnYgPSBhcmd2OwogIHJldHVybiBhcmdzOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWVDb25zdApqc19hcmd1bWVudHNfc2hpZnQoSlNBcmd1bWVudHMqIGFyZ3MpIHsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKICBpZihhcmdzLT5jID4gMCkgewogICAgcmV0ID0gYXJncy0+dlswXTsKICAgIGFyZ3MtPmMtLTsKICAgIGFyZ3MtPnYrKzsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBKU1ZhbHVlQ29uc3QKanNfYXJndW1lbnRzX2F0KEpTQXJndW1lbnRzKiBhcmdzLCBpbnQgaSkgewogIHJldHVybiBpID49IDAgJiYgaSA8IGFyZ3MtPmMgPyBhcmdzLT52W2ldIDogSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmpzX2FyZ3VtZW50c19zaGlmdG4oSlNBcmd1bWVudHMqIGFyZ3MsIHVpbnQzMl90IG4pIHsKICB1aW50MzJfdCBpID0gMDsKCiAgd2hpbGUobiA+IDApIHsKICAgIGlmKEpTX0lzRXhjZXB0aW9uKGpzX2FyZ3VtZW50c19zaGlmdChhcmdzKSkpCiAgICAgIGJyZWFrOwogICAgaSsrOwogICAgbi0tOwogIH0KICByZXR1cm4gaTsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWluX3NpemUoc2l6ZV90IGEsIHNpemVfdCBiKSB7CiAgaWYoYSA8IGIpCiAgICByZXR1cm4gYTsKICBlbHNlCiAgICByZXR1cm4gYjsKfQoKc3RhdGljIGlubGluZSB1aW50NjRfdAphYnNfaW50NjQoaW50NjRfdCBhKSB7CiAgcmV0dXJuIGEgPCAwID8gLWEgOiBhOwp9CgpzdGF0aWMgaW5saW5lIHVpbnQzMl90CmFic19pbnQzMihpbnQzMl90IGkpIHsKICByZXR1cm4gaSA8IDAgPyAtaSA6IGk7Cn0KCnN0YXRpYyBpbmxpbmUgaW50MzJfdApzaWduX2ludDMyKHVpbnQzMl90IGkpIHsKICByZXR1cm4gKGkgJiAweDgwMDAwMDAwKSA/IC0xIDogMTsKfQoKc3RhdGljIGlubGluZSBpbnQzMl90Cm1vZF9pbnQzMihpbnQzMl90IGEsIGludDMyX3QgYikgewogIGludDMyX3QgYyA9IGEgJSBiOwogIHJldHVybiAoYyA8IDApID8gYyArIGIgOiBjOwp9CgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfTUFSSU5FICJceDFiWzM2bSIKI2RlZmluZSBDT0xPUl9MSUdIVEdSQVkgIlx4MWJbMzdtIgojZGVmaW5lIENPTE9SX0dSQVkgIlx4MWJbMTszMG0iCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKI2RlZmluZSBDT0xPUl9MSUdIVFJFRCAiXHgxYlsxOzMxbSIKCiNkZWZpbmUgQ09MT1JfTElHSFRHUkVFTiAiXHgxYlsxOzMybSIKI2RlZmluZSBDT0xPUl9MSUdIVFlFTExPVyAiXHgxYlsxOzMzbSIKI2RlZmluZSBDT0xPUl9MSUdIVEJMVUUgIlx4MWJbMTszNG0iCiNkZWZpbmUgQ09MT1JfTElHSFRNQUdFTlRBICJceDFiWzE7MzVtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFSSU5FICJceDFiWzE7MzZtIgojZGVmaW5lIENPTE9SX1dISVRFICJceDFiWzE7MzdtIgoKdWludDY0X3QgdGltZV91cyh2b2lkKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19kYnVmX2luaXRfcnQoSlNSdW50aW1lKiBydCwgRHluQnVmKiBzKSB7CiAgZGJ1Zl9pbml0MihzLCBydCwgKER5bkJ1ZlJlYWxsb2NGdW5jKilqc19yZWFsbG9jX3J0KTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX2RidWZfaW5pdChKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBzKSB7CiAgZGJ1Zl9pbml0MihzLCBjdHgsIChEeW5CdWZSZWFsbG9jRnVuYyopanNfcmVhbGxvYyk7Cn0KCnR5cGVkZWYgc3RydWN0IHsKICBjaGFyKiBzb3VyY2U7CiAgc2l6ZV90IGxlbjsKICBpbnQgZmxhZ3M7Cn0gUmVnRXhwOwoKaW50IHJlZ2V4cF9mbGFnc190b3N0cmluZyhpbnQsIGNoYXIqKTsKaW50IHJlZ2V4cF9mbGFnc19mcm9tc3RyaW5nKGNvbnN0IGNoYXIqKTsKUmVnRXhwIHJlZ2V4cF9mcm9tX2FyZ3YoaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEpTQ29udGV4dCogY3R4KTsKUmVnRXhwIHJlZ2V4cF9mcm9tX2RidWYoRHluQnVmKiBkYnVmLCBpbnQgZmxhZ3MpOwp1aW50OF90KiByZWdleHBfY29tcGlsZShSZWdFeHAgcmUsIEpTQ29udGV4dCogY3R4KTsKSlNWYWx1ZSByZWdleHBfdG9fdmFsdWUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCk7CgpzdGF0aWMgaW5saW5lIHZvaWQKcmVnZXhwX2ZyZWVfcnQoUmVnRXhwIHJlLCBKU1J1bnRpbWUqIHJ0KSB7CiAganNfZnJlZV9ydChydCwgcmUuc291cmNlKTsKfQpzdGF0aWMgaW5saW5lIHZvaWQKcmVnZXhwX2ZyZWUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCkgewogIHJlZ2V4cF9mcmVlX3J0KHJlLCBKU19HZXRSdW50aW1lKGN0eCkpOwp9CgpKU1ZhbHVlIGpzX2dsb2JhbF9nZXRfc3RyKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0X3N0cl9uKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wLCBzaXplX3QgbGVuKTsKSlNWYWx1ZSBqc19nbG9iYWxfZ2V0X2F0b20oSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBwcm9wKTsKCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19nbG9iYWxfbmV3KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBjbGFzc19uYW1lLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgY2xhc3NfbmFtZSk7CiAgSlNWYWx1ZSBvYmogPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBjdG9yLCBhcmdjLCBhcmd2KTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gb2JqOwp9CgpKU1ZhbHVlIGpzX2dsb2JhbF9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUpOwoKZW51bSB2YWx1ZV90eXBlcyB7CiAgRkxBR19VTkRFRklORUQgPSAwLAogIEZMQUdfTlVMTCwgICAgICAgIC8vIDEKICBGTEFHX0JPT0wsICAgICAgICAvLyAyCiAgRkxBR19JTlQsICAgICAgICAgLy8gMwogIEZMQUdfT0JKRUNULCAgICAgIC8vIDQKICBGTEFHX1NUUklORywgICAgICAvLyA1CiAgRkxBR19TWU1CT0wsICAgICAgLy8gNgogIEZMQUdfQklHX0ZMT0FULCAgIC8vIDcKICBGTEFHX0JJR19JTlQsICAgICAvLyA4CiAgRkxBR19CSUdfREVDSU1BTCwgLy8gOQogIEZMQUdfRkxPQVQ2NCwgICAgIC8vIDEwCiAgRkxBR19OQU4sICAgICAgICAgLy8gMTEKICBGTEFHX0ZVTkNUSU9OLCAgICAvLyAxMgogIEZMQUdfQVJSQVksICAgICAgIC8vIDEzCiAgRkxBR19NT0RVTEUsCiAgRkxBR19GVU5DVElPTl9CWVRFQ09ERSwKICBGTEFHX1VOSU5JVElBTElaRUQsCiAgRkxBR19DQVRDSF9PRkZTRVQsCiAgRkxBR19FWENFUFRJT04KCn07CgplbnVtIHZhbHVlX21hc2sgewogIFRZUEVfVU5ERUZJTkVEID0gKDEgPDwgRkxBR19VTkRFRklORUQpLAogIFRZUEVfTlVMTCA9ICgxIDw8IEZMQUdfTlVMTCksCiAgVFlQRV9CT09MID0gKDEgPDwgRkxBR19CT09MKSwKICBUWVBFX0lOVCA9ICgxIDw8IEZMQUdfSU5UKSwKICBUWVBFX09CSkVDVCA9ICgxIDw8IEZMQUdfT0JKRUNUKSwKICBUWVBFX1NUUklORyA9ICgxIDw8IEZMQUdfU1RSSU5HKSwKICBUWVBFX1NZTUJPTCA9ICgxIDw8IEZMQUdfU1lNQk9MKSwKICBUWVBFX0JJR19GTE9BVCA9ICgxIDw8IEZMQUdfQklHX0ZMT0FUKSwKICBUWVBFX0JJR19JTlQgPSAoMSA8PCBGTEFHX0JJR19JTlQpLAogIFRZUEVfQklHX0RFQ0lNQUwgPSAoMSA8PCBGTEFHX0JJR19ERUNJTUFMKSwKICBUWVBFX0ZMT0FUNjQgPSAoMSA8PCBGTEFHX0ZMT0FUNjQpLAogIFRZUEVfTkFOID0gKDEgPDwgRkxBR19OQU4pLAogIFRZUEVfTlVNQkVSID0gKFRZUEVfSU5UIHwgVFlQRV9CSUdfRkxPQVQgfCBUWVBFX0JJR19JTlQgfCBUWVBFX0JJR19ERUNJTUFMIHwgVFlQRV9GTE9BVDY0KSwKICBUWVBFX1BSSU1JVElWRSA9CiAgICAgIChUWVBFX1VOREVGSU5FRCB8IFRZUEVfTlVMTCB8IFRZUEVfQk9PTCB8IFRZUEVfSU5UIHwgVFlQRV9TVFJJTkcgfCBUWVBFX1NZTUJPTCB8IFRZUEVfQklHX0ZMT0FUIHwgVFlQRV9CSUdfSU5UIHwgVFlQRV9CSUdfREVDSU1BTCB8IFRZUEVfTkFOKSwKICBUWVBFX0FMTCA9IChUWVBFX1BSSU1JVElWRSB8IFRZUEVfT0JKRUNUKSwKICBUWVBFX0ZVTkNUSU9OID0gKDEgPDwgRkxBR19GVU5DVElPTiksCiAgVFlQRV9BUlJBWSA9ICgxIDw8IEZMQUdfQVJSQVkpLAp9OwoKaW50MzJfdCBqc192YWx1ZV90eXBlX2ZsYWcoSlNWYWx1ZUNvbnN0IHZhbHVlKTsKaW50MzJfdCBqc192YWx1ZV90eXBlX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCnN0YXRpYyBpbmxpbmUgaW50MzJfdApqc192YWx1ZV90eXBlMmZsYWcodWludDMyX3QgdHlwZSkgewogIGludDMyX3QgZmxhZzsKICBmb3IoZmxhZyA9IDA7ICh0eXBlID4+PSAxKTsgZmxhZysrKSB7fQogIHJldHVybiBmbGFnOwp9CgplbnVtIHZhbHVlX21hc2sganNfdmFsdWVfdHlwZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhciogY29uc3QqCmpzX3ZhbHVlX3R5cGVzKCkgewogIHJldHVybiAoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJVTkRFRklORUQiLCAgICAgIk5VTEwiLCAgICAgICAgICJCT09MIiwgICAgICAiSU5UIiwgIk9CSkVDVCIsICAgIlNUUklORyIsICJTWU1CT0wiLCAiQklHX0ZMT0FUIiwKICAgICAgIkJJR19JTlQiLCAgICAgICAiQklHX0RFQ0lNQUwiLCAgIkZMT0FUNjQiLCAgICJOQU4iLCAiRlVOQ1RJT04iLCAiQVJSQVkiLCAgIk1PRFVMRSIsICJGVU5DVElPTl9CWVRFQ09ERSIsCiAgICAgICJVTklOSVRJQUxJWkVEIiwgIkNBVENIX09GRlNFVCIsICJFWENFUFRJT04iLCAwLAogIH07Cn0KCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfdmFsdWVfdHlwZW9mKEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGludDMyX3QgZmxhZyA9IGpzX3ZhbHVlX3R5cGVfZmxhZyh2YWx1ZSk7CiAgcmV0dXJuICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICJ1bmRlZmluZWQiLCAgICAgIm9iamVjdCIsICAgICAgICJib29sZWFuIiwgICAibnVtYmVyIiwgIm9iamVjdCIsICAgInN0cmluZyIsICJzeW1ib2wiLCAiYmlnZmxvYXQiLAogICAgICAiYmlnaW50IiwgICAgICAgICJiaWdkZWNpbWFsIiwgICAibnVtYmVyIiwgICAgIm51bWJlciIsICJmdW5jdGlvbiIsICJvYmplY3QiLCAibW9kdWxlIiwgImZ1bmN0aW9uX2J5dGVjb2RlIiwKICAgICAgInVuaW5pdGlhbGl6ZWQiLCAiY2F0Y2hfb2Zmc2V0IiwgImV4Y2VwdGlvbiIsIDAsCiAgfSlbZmxhZ107Cn0KCmNvbnN0IGNoYXIqIGpzX3ZhbHVlX3R5cGVfbmFtZShpbnQzMl90IHR5cGUpOwoKY29uc3QgY2hhcioganNfdmFsdWVfdHlwZXN0cihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCi8qVklTSUJMRSB2b2lkKiBqc192YWx1ZV9wdHIoSlNWYWx1ZUNvbnN0IHYpOwpWSVNJQkxFIEpTT2JqZWN0KiBqc192YWx1ZV9vYmooSlNWYWx1ZUNvbnN0IHYpOwpWSVNJQkxFIGludDMyX3QganNfdmFsdWVfdGFnKEpTVmFsdWVDb25zdCB2KTsKKi8KCnN0YXRpYyBpbmxpbmUgdm9pZCoKanNfdmFsdWVfcHRyKEpTVmFsdWVDb25zdCB2KSB7CiAgcmV0dXJuIEpTX1ZBTFVFX0dFVF9QVFIodik7Cn0KCnN0YXRpYyBpbmxpbmUgSlNPYmplY3QqCmpzX3ZhbHVlX29iaihKU1ZhbHVlQ29uc3QgdikgewogIHJldHVybiBKU19Jc09iamVjdCh2KSA/IEpTX1ZBTFVFX0dFVF9PQkoodikgOiAwOwp9CgpzdGF0aWMgaW5saW5lIGludApqc192YWx1ZV90YWcoSlNWYWx1ZUNvbnN0IHYpIHsKICByZXR1cm4gSlNfVkFMVUVfR0VUX1RBRyh2KTsKfQoKQk9PTCBqc192YWx1ZV9oYXNfcmVmX2NvdW50KEpTVmFsdWVDb25zdCB2KTsKCnZvaWQganNfdmFsdWVfZnJlZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSB2KTsKdm9pZCBqc192YWx1ZV9mcmVlX3J0KEpTUnVudGltZSogcnQsIEpTVmFsdWUgdik7CgpCT09MIGpzX3ZhbHVlX2VxdWFscyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGEsIEpTVmFsdWVDb25zdCBiKTsKdm9pZCBqc192YWx1ZV9wcmludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKSlNWYWx1ZSBqc192YWx1ZV9jbG9uZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHBlKTsKSlNWYWx1ZSoganNfdmFsdWVzX2R1cChKU0NvbnRleHQqIGN0eCwgaW50IG52YWx1ZXMsIEpTVmFsdWVDb25zdCogdmFsdWVzKTsKdm9pZCBqc192YWx1ZXNfZnJlZShKU1J1bnRpbWUqIHJ0LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpOwpKU1ZhbHVlIGpzX3ZhbHVlc190b2FycmF5KEpTQ29udGV4dCogY3R4LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpOwp2b2lkIGpzX3ZhbHVlX2Z3cml0ZShKU0NvbnRleHQqLCBKU1ZhbHVlLCBGSUxFKiBmKTsKdm9pZCBqc192YWx1ZV9kdW1wKEpTQ29udGV4dCosIEpTVmFsdWUsIER5bkJ1ZiogZGIpOwoKLy8jaW5jbHVkZSAiYnVmZmVyLXV0aWxzLmgiCgpjaGFyKiBqc19jc3RyaW5nX2R1cChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3RyKTsKY2hhcioganNfY3N0cmluZ19wdHIoSlNWYWx1ZUNvbnN0IHYpOwpKU1ZhbHVlQ29uc3QganNfY3N0cmluZ192YWx1ZShjb25zdCBjaGFyKiBwdHIpOwp2b2lkIGpzX2NzdHJpbmdfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBEeW5CdWYqIGRiKTsKCnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfY3N0cmluZ19uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0cikgewogIEpTVmFsdWUgdiA9IEpTX05ld1N0cmluZyhjdHgsIHN0cik7CiAgY29uc3QgY2hhciogcyA9IEpTX1RvQ1N0cmluZyhjdHgsIHYpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHYpOwogIHJldHVybiBzOwp9CnN0YXRpYyBpbmxpbmUgY29uc3QgY2hhcioKanNfY3N0cmluZ19uZXdsZW4oSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0ciwgc2l6ZV90IGxlbikgewogIEpTVmFsdWUgdiA9IEpTX05ld1N0cmluZ0xlbihjdHgsIHN0ciwgbGVuKTsKICBjb25zdCBjaGFyKiBzID0gSlNfVG9DU3RyaW5nKGN0eCwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdik7CiAgcmV0dXJuIHM7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19jc3RyaW5nX2ZyZWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHB0cikgewogIGlmKCFwdHIpCiAgICByZXR1cm47CgogIEpTX0ZyZWVWYWx1ZShjdHgsIEpTX01LUFRSKEpTX1RBR19TVFJJTkcsICh2b2lkKikocHRyIC0gb2Zmc2V0b2YoSlNTdHJpbmcsIHUpKSkpOwp9CgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfdG9pbnQ2NChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaW50NjRfdCByZXQgPSAwOwogIEpTX1RvSW50NjQoY3R4LCAmcmV0LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgY2hhciogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX3N0cm5kdXAoY3R4LCBjc3RyLCBsZW4pOwogICAgaWYobGVucCkKICAgICAgKmxlbnAgPSBsZW47CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBjc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpqc190b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIGpzX3Rvc3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIHdjaGFyX3QqCmpzX3Rvd3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW5wLCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzaXplX3QgaSwgbGVuOwogIGNvbnN0IGNoYXIqIGNzdHI7CiAgd2NoYXJfdCogcmV0ID0gMDsKICBpZigoY3N0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIHZhbHVlKSkpIHsKICAgIHJldCA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2Yod2NoYXJfdCkgKiAobGVuICsgMSkpOwogICAgY29uc3QgdWludDhfdCAqcHRyID0gKGNvbnN0IHVpbnQ4X3QqKWNzdHIsICplbmQgPSAoY29uc3QgdWludDhfdCopY3N0ciArIGxlbjsKCiAgICBmb3IoaSA9IDA7IHB0ciA8IGVuZDspIHsgcmV0W2krK10gPSB1bmljb2RlX2Zyb21fdXRmOChwdHIsIGVuZCAtIHB0ciwgJnB0cik7IH0KCiAgICBpZihsZW5wKQogICAgICAqbGVucCA9IGk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgd2NoYXJfdCoKanNfdG93c3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4ganNfdG93c3RyaW5nbGVuKGN0eCwgMCwgdmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfdmFsdWVfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgcHJvdG8sIHRvc3RyaW5nLCBzdHI7CiAgcHJvdG8gPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgY2xhc3NfbmFtZSk7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCAidG9TdHJpbmciKTsKICB0b3N0cmluZyA9IEpTX0dldFByb3BlcnR5KGN0eCwgcHJvdG8sIGF0b20pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHN0ciA9IEpTX0NhbGwoY3R4LCB0b3N0cmluZywgdmFsdWUsIDAsIDApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHRvc3RyaW5nKTsKICByZXR1cm4gc3RyOwp9CgppbnQganNfdmFsdWVfdG9zaXplKEpTQ29udGV4dCogY3R4LCBzaXplX3QqIHN6LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwoKc3RhdGljIGlubGluZSBkb3VibGUKanNfdmFsdWVfdG9kb3VibGVfZnJlZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgZG91YmxlIHJldCA9IDA7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJnJldCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfdmFsdWVfdG9pbnQ2NF9mcmVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQ2NF90IHJldCA9IDA7CiAgSlNfVG9JbnQ2NChjdHgsICZyZXQsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX3ZhbHVlX3RvYm9vbF9mcmVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBCT09MIHJldCA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBKU0F0b20KanNfdmFsdWVfdG9hdG9tX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiBhdG9tOwp9CgpKU1ZhbHVlIGpzX3ZhbHVlX2Zyb21fY2hhcihKU0NvbnRleHQqIGN0eCwgaW50IGMpOwpzdGF0aWMgaW5saW5lIGludApqc192YWx1ZV9jbXBzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY29uc3QgY2hhciogb3RoZXIpIHsKICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgaW50IHJldCA9IHN0cmNtcChzdHIsIG90aGVyKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgcmV0dXJuIHJldDsKfQoKI2RlZmluZSBKU19WQUxVRV9GUkVFKGN0eCwgdmFsdWUpIFwKICBkbyB7IFwKICAgIEpTX0ZyZWVWYWx1ZSgoY3R4KSwgKHZhbHVlKSk7IFwKICAgICh2YWx1ZSkgPSBKU19VTkRFRklORUQ7IFwKICB9IHdoaWxlKDApOwojZGVmaW5lIEpTX1ZBTFVFX0ZSRUVfUlQoY3R4LCB2YWx1ZSkgXAogIGRvIHsgXAogICAgSlNfRnJlZVZhbHVlUlQoKGN0eCksICh2YWx1ZSkpOyBcCiAgICAodmFsdWUpID0gSlNfVU5ERUZJTkVEOyBcCiAgfSB3aGlsZSgwKTsKCiNpZiAwCiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfc2V0KHZhbHVlKSBcCiAgZG8geyAoKHVpbnQ4X3QqKUpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSkpWzVdIHw9IDB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfY2xlYXIodmFsdWUpIFwKICBkbyB7ICgodWludDhfdCopSlNfVkFMVUVfR0VUX09CSigodmFsdWUpKSlbNV0gJj0gfjB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfaXNzZXQodmFsdWUpICgoKHVpbnQ4X3QqKUpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSkpWzVdICYgMHg0MCkKI2Vsc2UKI2RlZmluZSBqc19vYmplY3RfdG1wbWFya19zZXQodmFsdWUpIFwKICBkbyB7IEpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSktPnRtcF9tYXJrIHw9IDB4NDA7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfb2JqZWN0X3RtcG1hcmtfY2xlYXIodmFsdWUpIFwKICBkbyB7IEpTX1ZBTFVFX0dFVF9PQkooKHZhbHVlKSktPnRtcF9tYXJrICY9IH4weDQwOyB9IHdoaWxlKDApOwojZGVmaW5lIGpzX29iamVjdF90bXBtYXJrX2lzc2V0KHZhbHVlKSAoSlNfVkFMVUVfR0VUX09CSigodmFsdWUpKS0+dG1wX21hcmsgJiAweDQwKQojZW5kaWYKCiNkZWZpbmUganNfcnVudGltZV9leGNlcHRpb25fc2V0KHJ0LCB2YWx1ZSkgXAogIGRvIHsgKihKU1ZhbHVlKikoKHVpbnQ4X3QqKShydCkgKyAyMTYpID0gdmFsdWU7IH0gd2hpbGUoMCk7CiNkZWZpbmUganNfcnVudGltZV9leGNlcHRpb25fZ2V0KHJ0KSAoKihKU1ZhbHVlKikoKHVpbnQ4X3QqKShydCkgKyAyMTYpKQojZGVmaW5lIGpzX3J1bnRpbWVfZXhjZXB0aW9uX2NsZWFyKHJ0KSBcCiAgZG8geyBcCiAgICBpZighSlNfSXNOdWxsKGpzX3J1bnRpbWVfZXhjZXB0aW9uX2dldChydCkpKSBcCiAgICAgIEpTX0ZyZWVWYWx1ZVJUKChydCksIGpzX3J1bnRpbWVfZXhjZXB0aW9uX2dldChydCkpOyBcCiAgICBqc19ydW50aW1lX2V4Y2VwdGlvbl9zZXQocnQsIEpTX05VTEwpOyBcCiAgfSB3aGlsZSgwKQoKdm9pZCBqc19wcm9wZXJ0eWVudW1zX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlFbnVtKiBwcm9wcywgc2l6ZV90IGxlbik7CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfcHJvcGVydHlkZXNjcmlwdG9yX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTUHJvcGVydHlEZXNjcmlwdG9yKiBkZXNjKSB7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZGVzYy0+dmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRlc2MtPmdldHRlcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZGVzYy0+c2V0dGVyKTsKfQoKSlNWYWx1ZSBqc19zeW1ib2xfY3RvcihKU0NvbnRleHQqIGN0eCk7CgpKU1ZhbHVlIGpzX3N5bWJvbF9pbnZva2Vfc3RhdGljKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lLCBKU1ZhbHVlQ29uc3QgYXJnKTsKCkpTVmFsdWUganNfc3ltYm9sX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHN5bSk7Cgpjb25zdCBjaGFyKiBqc19zeW1ib2xfdG9fY3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHN5bSk7CgpKU1ZhbHVlIGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpOwpKU0F0b20ganNfc3ltYm9sX3N0YXRpY19hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKTsKQk9PTCBqc19pc19pdGVyYWJsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CkJPT0wganNfaXNfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopOwpKU1ZhbHVlIGpzX2l0ZXJhdG9yX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CkpTVmFsdWUganNfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBCT09MKiBkb25lX3ApOwpKU1ZhbHVlIGpzX3N5bWJvbF9mb3IoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5bV9mb3IpOwpKU0F0b20ganNfc3ltYm9sX2Zvcl9hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeW1fZm9yKTsKCkpTVmFsdWUganNfc3ltYm9sX29wZXJhdG9yc2V0X3ZhbHVlKEpTQ29udGV4dCogY3R4KTsKCkpTQXRvbSBqc19zeW1ib2xfb3BlcmF0b3JzZXRfYXRvbShKU0NvbnRleHQqIGN0eCk7CgpKU1ZhbHVlIGpzX29wZXJhdG9yc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHRoaXNfb2JqKTsKCnN0YXRpYyBpbmxpbmUgaW50NjRfdApqc19pbnQ2NF9kZWZhdWx0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludDY0X3QgaSkgewogIGlmKEpTX0lzTnVtYmVyKHZhbHVlKSkKICAgIEpTX1RvSW50NjQoY3R4LCAmaSwgdmFsdWUpOwogIHJldHVybiBpOwp9CgpKU1ZhbHVlIGpzX251bWJlcl9uZXcoSlNDb250ZXh0KiBjdHgsIGludDMyX3Qgbik7CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfbmV3X2Jvb2xfb3JfbnVtYmVyKEpTQ29udGV4dCogY3R4LCBpbnQzMl90IG4pIHsKICBpZihuID09IDApCiAgICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsIEZBTFNFKTsKICByZXR1cm4ganNfbnVtYmVyX25ldyhjdHgsIG4pOwp9CgojZGVmaW5lIEpTX0FUT01fVEFHX0lOVCAoMVUgPDwgMzEpCiNkZWZpbmUgSlNfQVRPTV9NQVhfSU5UIChKU19BVE9NX1RBR19JTlQgLSAxKQoKI2RlZmluZSBqc19hdG9tX2lzaW50KGkpICgoSlNBdG9tKSgoaSkmSlNfQVRPTV9UQUdfSU5UKSkKI2RlZmluZSBqc19hdG9tX2Zyb21pbnQoaSkgKChKU0F0b20pKChpKSZKU19BVE9NX01BWF9JTlQpIHwgSlNfQVRPTV9UQUdfSU5UKQojZGVmaW5lIGpzX2F0b21fdG9pbnQoaSkgKHVuc2lnbmVkIGludCkoKChKU0F0b20pKGkpICYgKH4oSlNfQVRPTV9UQUdfSU5UKSkpKQoKSlNBdG9tIGpzX2F0b21fZnJvbShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CmludCBqc19hdG9tX3RvaW50NjQoSlNDb250ZXh0KiBjdHgsIGludDY0X3QqIGksIEpTQXRvbSBhdG9tKTsKaW50MzJfdCBqc19hdG9tX3RvaW50MzIoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBhdG9tKTsKCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19hdG9tX3RvdmFsdWUoSlNDb250ZXh0KiBjdHgsIEpTQXRvbSBhdG9tKSB7CiAgaWYoanNfYXRvbV9pc2ludChhdG9tKSkKICAgIHJldHVybiBKU19NS1ZBTChKU19UQUdfSU5ULCBqc19hdG9tX3RvaW50KGF0b20pKTsKCiAgcmV0dXJuIEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7Cn0KCnVuc2lnbmVkIGludCBqc19hdG9tX3RvYmluYXJ5KEpTQXRvbSBhdG9tKTsKY29uc3QgY2hhcioganNfYXRvbV90b19jc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBzaXplX3QqIGxlbiwgSlNBdG9tIGF0b20pOwp2b2lkIGpzX2F0b21fZHVtcChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20sIER5bkJ1ZiogZGIsIEJPT0wgY29sb3IpOwpCT09MIGpzX2F0b21faXNfaW5kZXgoSlNDb250ZXh0KiBjdHgsIGludDY0X3QqIHB2YWwsIEpTQXRvbSBhdG9tKTsKQk9PTCBqc19hdG9tX2lzX2xlbmd0aChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20pOwoKY29uc3QgY2hhcioganNfb2JqZWN0X3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpjb25zdCBjaGFyKiBqc19mdW5jdGlvbl9uYW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwpjb25zdCBjaGFyKiBqc19mdW5jdGlvbl90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKSlNDRnVuY3Rpb24qIGpzX2Z1bmN0aW9uX2NmdW5jKEpTQ29udGV4dCosIEpTVmFsdWUgdmFsdWUpOwpCT09MIGpzX2Z1bmN0aW9uX2lzbmF0aXZlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwppbnQganNfZnVuY3Rpb25fYXJnYyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKTsKCmNoYXIqIGpzX29iamVjdF9jbGFzc25hbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CmludCBqc19vYmplY3RfaXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY29uc3QgY2hhciogY21wKTsKSlNWYWx1ZSBqc19vYmplY3RfY29uc3RydWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgY3Rvcik7CkpTVmFsdWUganNfb2JqZWN0X2Vycm9yKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtZXNzYWdlKTsKSlNWYWx1ZSBqc19vYmplY3Rfc3RhY2soSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIGpzX29iamVjdF9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKTsKCnN0YXRpYyBpbmxpbmUgQk9PTApqc19vYmplY3Rfc2FtZShKU1ZhbHVlQ29uc3QgYSwgSlNWYWx1ZUNvbnN0IGIpIHsKICBKU09iamVjdCAqYW9iaiwgKmJvYmo7CiAgaWYoIUpTX0lzT2JqZWN0KGEpIHx8ICFKU19Jc09iamVjdChiKSkKICAgIHJldHVybiBGQUxTRTsKCiAgYW9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooYSk7CiAgYm9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooYik7CiAgcmV0dXJuIGFvYmogPT0gYm9iajsKfQoKc3RhdGljIGlubGluZSBKU0NsYXNzSUQKanNfZ2V0X2NsYXNzaWQoSlNWYWx1ZSB2KSB7CiAgSlNPYmplY3QqIHA7CiAgLyogaWYoSlNfVkFMVUVfR0VUX1RBRyh2KSAhPSBKU19UQUdfT0JKRUNUKQogICAgIHJldHVybiAwOyovCiAgcCA9IEpTX1ZBTFVFX0dFVF9PQkoodik7CiAgYXNzZXJ0KHAgIT0gMCk7CiAgcmV0dXJuIHAtPmNsYXNzX2lkOwp9CgpCT09MIGpzX2hhc19wcm9wZXJ0eXN0cihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKTsKQk9PTCBqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKTsKdm9pZCBqc19zZXRfcHJvcGVydHlpbnRfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCB1aW50MzJfdCBpLCBjb25zdCBjaGFyKiBzdHIpOwp2b2lkIGpzX3NldF9wcm9wZXJ0eWludF9pbnQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IGksIGludDMyX3QgdmFsdWUpOwp2b2lkIGpzX3NldF9wcm9wZXJ0eXN0cl9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIGNvbnN0IGNoYXIqIHN0cik7CnZvaWQganNfc2V0X3Byb3BlcnR5c3RyX3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCwgY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuKTsKY29uc3QgY2hhcioganNfZ2V0X3Byb3BlcnR5aW50X2NzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IGkpOwppbnQzMl90IGpzX2dldF9wcm9wZXJ0eWludF9pbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgdWludDMyX3QgaSk7CmNvbnN0IGNoYXIqIGpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wKTsKY29uc3QgY2hhcioganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIHNpemVfdCogbGVucCk7CmNoYXIqIGpzX2dldF9wcm9wZXJ0eXN0cl9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApOwpjaGFyKiBqc19nZXRfcHJvcGVydHlzdHJfc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wLCBzaXplX3QqIGxlbnApOwppbnQzMl90IGpzX2dldF9wcm9wZXJ0eXN0cl9pbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCk7CnVpbnQ2NF90IGpzX2dldF9wcm9wZXJ0eXN0cl91aW50NjQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3ApOwppbnQganNfZ2V0X3Byb3BlcnR5ZGVzY3JpcHRvcihKU0NvbnRleHQqIGN0eCwgSlNQcm9wZXJ0eURlc2NyaXB0b3IqIGRlc2MsIEpTVmFsdWVDb25zdCBvYmosIEpTQXRvbSBwcm9wKTsKCnN0YXRpYyBpbmxpbmUgdm9pZApqc19zZXRfaW5zcGVjdF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTQ0Z1bmN0aW9uKiBmdW5jKSB7CiAgSlNBdG9tIGluc3BlY3Rfc3ltYm9sID0ganNfc3ltYm9sX2Zvcl9hdG9tKGN0eCwgInF1aWNranMuaW5zcGVjdC5jdXN0b20iKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlKGN0eCwgb2JqLCBpbnNwZWN0X3N5bWJvbCwgSlNfTmV3Q0Z1bmN0aW9uKGN0eCwgZnVuYywgImluc3BlY3QiLCAxKSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX1dSSVRBQkxFKTsKICBKU19GcmVlQXRvbShjdHgsIGluc3BlY3Rfc3ltYm9sKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3NldF90b3N0cmluZ3RhZ192YWx1ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgSlNWYWx1ZSB2YWx1ZSkgewogIEpTQXRvbSB0b3N0cmluZ190YWcgPSBqc19zeW1ib2xfc3RhdGljX2F0b20oY3R4LCAidG9TdHJpbmdUYWciKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlKGN0eCwgb2JqLCB0b3N0cmluZ190YWcsIHZhbHVlLCBKU19QUk9QX0NPTkZJR1VSQUJMRSB8IEpTX1BST1BfV1JJVEFCTEUpOwogIEpTX0ZyZWVBdG9tKGN0eCwgdG9zdHJpbmdfdGFnKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCmpzX3NldF90b3N0cmluZ3RhZ19zdHIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHN0cikgewogIGpzX3NldF90b3N0cmluZ3RhZ192YWx1ZShjdHgsIG9iaiwgSlNfTmV3U3RyaW5nKGN0eCwgc3RyKSk7Cn0KCkpTQ2xhc3NJRCBqc19jbGFzc19pZChKU0NvbnRleHQqIGN0eCwgaW50IGlkKTsKSlNDbGFzc0lEIGpzX2NsYXNzX25ld2lkKHZvaWQpOwpKU0NsYXNzKiBqc19jbGFzc19nZXQoSlNDb250ZXh0KiBjdHgsIEpTQ2xhc3NJRCBpZCk7CkpTQXRvbSBqc19jbGFzc19hdG9tKEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpOwpjb25zdCBjaGFyKiBqc19jbGFzc19uYW1lKEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpOwpKU0NsYXNzSUQganNfY2xhc3NfZmluZChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSk7CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfb2JqZWN0X2lzY2xhc3MoSlNWYWx1ZSBvYmosIGludDMyX3QgY2xhc3NfaWQpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKG9iaiwgY2xhc3NfaWQpICE9IDA7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc192YWx1ZV9pc2NsYXNzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIG9iaiwgaW50IGlkKSB7CiAgaW50MzJfdCBjbGFzc19pZCA9IGpzX2NsYXNzX2lkKGN0eCwgaWQpOwogIHJldHVybiBqc19vYmplY3RfaXNjbGFzcyhvYmosIGNsYXNzX2lkKTsKfQoKQk9PTCBqc19pc19hcnJheWJ1ZmZlcihKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX3NoYXJlZGFycmF5YnVmZmVyKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfbWFwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfc2V0KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfZ2VuZXJhdG9yKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfcmVnZXhwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkJPT0wganNfaXNfcHJvbWlzZShKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QpOwpCT09MIGpzX2lzX2RhdGF2aWV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfbnVsbF9vcl91bmRlZmluZWQoSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc051bGwodmFsdWUpOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfZmFsc2lzaChKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBzd2l0Y2goSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSkpIHsKICAgIGNhc2UgSlNfVEFHX05VTEw6IHJldHVybiBUUlVFOwogICAgY2FzZSBKU19UQUdfVU5ERUZJTkVEOiByZXR1cm4gVFJVRTsKICAgIGNhc2UgSlNfVEFHX0lOVDogcmV0dXJuIEpTX1ZBTFVFX0dFVF9JTlQodmFsdWUpID09IDA7CiAgICBjYXNlIEpTX1RBR19CT09MOiByZXR1cm4gIUpTX1ZBTFVFX0dFVF9CT09MKHZhbHVlKTsKICAgIGNhc2UgSlNfVEFHX0ZMT0FUNjQ6IHJldHVybiBKU19WQUxVRV9HRVRfRkxPQVQ2NCh2YWx1ZSkgPT0gMDsKICAgIGRlZmF1bHQ6IHJldHVybiBGQUxTRTsKICB9Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc190cnVpc2goSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuICFqc19pc19mYWxzaXNoKHZhbHVlKTsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX251bGxpc2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGludDY0X3QgaSA9IC0xOwoKICBpZihKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgSlNfSXNOdWxsKHZhbHVlKSkKICAgIHJldHVybiBUUlVFOwogIEpTX1RvSW50NjQoY3R4LCAmaSwgdmFsdWUpOwogIHJldHVybiBpID09IDA7Cn0KCkpTVmFsdWUganNfdHlwZWRhcnJheV9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIGpzX3R5cGVkYXJyYXlfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgpOwoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX2Jhc2ljX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIGN0b3IgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJBcnJheSIpOwogIEJPT0wgcmV0ID0gSlNfSXNJbnN0YW5jZU9mKGN0eCwgdmFsdWUsIGN0b3IpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc190eXBlZGFycmF5KEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgSlNDbGFzc0lEIGlkID0ganNfZ2V0X2NsYXNzaWQodmFsdWUpOwogICAgcmV0dXJuIGlkID49IEpTX0NMQVNTX1VJTlQ4Q19BUlJBWSAmJiBpZCA8PSBKU19DTEFTU19GTE9BVDY0X0FSUkFZOwogIH0KICByZXR1cm4gRkFMU0U7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzQXJyYXkoY3R4LCB2YWx1ZSkgfHwganNfaXNfdHlwZWRhcnJheSh2YWx1ZSk7Cn0KCkJPT0wganNfaXNfaW5wdXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgppbnQganNfcHJvcGVudW1fY21wKGNvbnN0IHZvaWQqIGEsIGNvbnN0IHZvaWQqIGIsIHZvaWQqIHB0cik7CkJPT0wganNfb2JqZWN0X2VxdWFscyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGEsIEpTVmFsdWVDb25zdCBiKTsKaW50NjRfdCBqc19hcnJheV9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSk7CnZvaWQganNfYXJyYXlfY2xlYXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSk7CgpzaXplX3QganNfc3Rydl9sZW5ndGgoY2hhcioqIHN0cnYpOwoKY2hhcioqIGpzX3N0cnZfZHVwKEpTQ29udGV4dCogY3R4LCBjaGFyKiogc3Rydik7Cgp2b2lkIGpzX3N0cnZfZnJlZV9uKEpTQ29udGV4dCosIGludCwgY2hhciogYXJndltdKTsKdm9pZCBqc19zdHJ2X2ZyZWUoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KTsKdm9pZCBqc19zdHJ2X2ZyZWVfcnQoSlNSdW50aW1lKiBydCwgY2hhcioqIHN0cnYpOwpKU1ZhbHVlIGpzX3N0cnZfdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIGNoYXIqKiBzdHJ2KTsKSlNWYWx1ZSBqc19pbnR2X3RvX2FycmF5KEpTQ29udGV4dCogY3R4LCBpbnQqIGludHYpOwpjaGFyKioganNfYXJyYXlfdG9fYXJndihKU0NvbnRleHQqIGN0eCwgaW50KiBhcmdjcCwgSlNWYWx1ZUNvbnN0IGFycmF5KTsKaW50IGpzX2FycmF5X2NvcHlzKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG4sIGNoYXIqKiBzdHJhKTsKaW50IGpzX3N0cnZfY29weXMoSlNDb250ZXh0KiwgaW50LCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbiwgY2hhcioqIHN0cmEpOwoKSlNWYWx1ZSBqc19pbnZva2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX29iaiwgY29uc3QgY2hhciogbWV0aG9kLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSk7CgpzdGF0aWMgaW5saW5lIHNpemVfdApqc19hcnJheWJ1ZmZlcl9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBidWZmZXIpIHsKICB1aW50OF90KiBwdHI7CiAgc2l6ZV90IGxlbjsKCiAgaWYoSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBidWZmZXIpKQogICAgcmV0dXJuIGxlbjsKICByZXR1cm4gMDsKfQoKaW50NjRfdCBqc19hcnJheWJ1ZmZlcl9ieXRlbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpOwoKc3RhdGljIGlubGluZSBpbnQKanNfZmluZF9jZnVuY3Rpb25fZW50cnkoY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkqIGVudHJpZXMsIHNpemVfdCBuX2VudHJpZXMsIGNvbnN0IGNoYXIqIG5hbWUsIGludCBkZWZfdHlwZSkgewogIHNpemVfdCBpOwogIGZvcihpID0gMDsgaSA8IG5fZW50cmllczsgaSsrKQogICAgaWYoZW50cmllc1tpXS5kZWZfdHlwZSA9PSBkZWZfdHlwZSAmJiAhc3RyY21wKGVudHJpZXNbaV0ubmFtZSwgbmFtZSkpCiAgICAgIHJldHVybiBpOwogIHJldHVybiAtMTsKfQoKc3RhdGljIGlubGluZSBpbnQKanNfZmluZF9jZnVuY3Rpb25fYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkqIGVudHJpZXMsIHNpemVfdCBuX2VudHJpZXMsIEpTQXRvbSBhdG9tLCBpbnQgZGVmX3R5cGUpIHsKICBjb25zdCBjaGFyKiBuYW1lID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIGF0b20pOwogIGludCBpOwogIGkgPSBqc19maW5kX2NmdW5jdGlvbl9lbnRyeShlbnRyaWVzLCBuX2VudHJpZXMsIG5hbWUsIGRlZl90eXBlKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIG5hbWUpOwogIHJldHVybiBpOwp9CgpKU1ZhbHVlIGpzX2RhdGVfbmV3KEpTQ29udGV4dCosIEpTVmFsdWUgYXJnKTsKSlNWYWx1ZSBqc19kYXRlX2Zyb21fbXMoSlNDb250ZXh0KiwgaW50NjRfdCBtcyk7CkpTVmFsdWUganNfZGF0ZV9mcm9tX3RpbWVfbnMoSlNDb250ZXh0KiwgdGltZV90IHQsIGxvbmcgbnMpOwpKU1ZhbHVlIGpzX2RhdGVfZnJvbV90aW1lc3BlYyhKU0NvbnRleHQqLCBjb25zdCBzdHJ1Y3QgdGltZXNwZWMgdHMpOwppbnQ2NF90IGpzX2RhdGVfZ2V0dGltZShKU0NvbnRleHQqLCBKU1ZhbHVlIGFyZyk7CmludDY0X3QganNfZGF0ZV90aW1lKEpTQ29udGV4dCosIEpTVmFsdWUgYXJnKTsKc3RydWN0IHRpbWVzcGVjIGpzX2RhdGVfdGltZXNwZWMoSlNDb250ZXh0KiwgSlNWYWx1ZSBhcmcpOwoKdm9pZCBqc19hcnJheWJ1ZmZlcl9mcmVldmFsdWUoSlNSdW50aW1lKiwgdm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpOwpKU1ZhbHVlIGpzX2FycmF5YnVmZmVyX2Zyb212YWx1ZShKU0NvbnRleHQqLCB2b2lkKiB4LCBzaXplX3QgbiwgSlNWYWx1ZSB2YWwpOwoKSlNWYWx1ZSBqc19tYXBfbmV3KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7Cgp0eXBlZGVmIHVuaW9uIGltcG9ydF9kaXJlY3RpdmUgewogIHN0cnVjdCB7CiAgICBjb25zdCBjaGFyKiBwYXRoOyAvKio8IE1vZHVsZSBwYXRoICovCiAgICBjb25zdCBjaGFyKiBzcGVjOyAvKio8IEltcG9ydCBzcGVjaWZpZXIocykgKi8KICAgIGNvbnN0IGNoYXIqIHByb3A7IC8qKjwgaWYgIT0gMCAmJiAqcHJvcCwgbnMgKz0gIi4iICsgcHJvcCAqLwogICAgY29uc3QgY2hhciogdmFyOyAgLyoqPCBHbG9iYWwgdmFyaWFibGUgbmFtZSAqLwogICAgY29uc3QgY2hhciogbnM7ICAgLyoqPCBOYW1lc3BhY2UgdmFyaWFibGUgKi8KICB9OwogIGNvbnN0IGNoYXIqIGFyZ3NbNV07Cn0gSW1wb3J0RGlyZWN0aXZlOwoKSlNWYWx1ZSBtb2R1bGVfbmFtZShKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpjaGFyKiBtb2R1bGVfbmFtZXN0cihKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpKU1ZhbHVlIG1vZHVsZV9mdW5jKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX25zKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX2V4cG9ydHNfZmluZChKU0NvbnRleHQqLCBKU01vZHVsZURlZiosIEpTQXRvbSk7CnZvaWQgbW9kdWxlX2V4cG9ydHNfZ2V0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKiwgQk9PTCByZW5hbWVfZGVmYXVsdCwgSlNWYWx1ZUNvbnN0IGV4cG9ydHMpOwpKU1ZhbHVlIG1vZHVsZV9leHBvcnRzKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CnN0cnVjdCBsaXN0X2hlYWQqIGpzX21vZHVsZXNfbGlzdChKU0NvbnRleHQqKTsKSlNWYWx1ZSBqc19tb2R1bGVzX2FycmF5KEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG1hZ2ljKTsKSlNWYWx1ZSBqc19tb2R1bGVzX2VudHJpZXMoSlNDb250ZXh0KiwgSlNWYWx1ZUNvbnN0LCBpbnQgbWFnaWMpOwpKU1ZhbHVlIGpzX21vZHVsZXNfbWFwKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCwgaW50IG1hZ2ljKTsKSlNWYWx1ZSBqc19tb2R1bGVzX29iamVjdChKU0NvbnRleHQqLCBKU1ZhbHVlQ29uc3QsIGludCBtYWdpYyk7CkpTVmFsdWUgbW9kdWxlX3ZhbHVlKEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX2VudHJ5KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CkpTVmFsdWUgbW9kdWxlX29iamVjdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwpjaGFyKiBqc19tb2R1bGVfc2VhcmNoKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqIHBhdGgsIGNvbnN0IGNoYXIqKTsKY2hhcioganNfbW9kdWxlX3NlYXJjaF9leHQoSlNDb250ZXh0KiwgY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIGV4dCk7CmNoYXIqIGpzX21vZHVsZV9ub3JtYWxpemUoSlNDb250ZXh0KiwgY29uc3QgY2hhciosIGNvbnN0IGNoYXIqIG5hbWUsIHZvaWQqIG9wYXF1ZSk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZGVmKEpTQ29udGV4dCosIEpTVmFsdWVDb25zdCk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfZmluZChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTVmFsdWUganNfaW1wb3J0X2V2YWwoSlNDb250ZXh0KiwgSW1wb3J0RGlyZWN0aXZlKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9pbXBvcnRfZGVmYXVsdChKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogdmFyKTsKSlNNb2R1bGVEZWYqIGpzX21vZHVsZV9pbXBvcnRfbmFtZXNwYWNlKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKiBucyk7CkpTVmFsdWUganNfbW9kdWxlX2ltcG9ydChKU0NvbnRleHQqLCBjb25zdCBjaGFyKiwgY29uc3QgY2hhciogbnMsIGNvbnN0IGNoYXIqIHZhciwgY29uc3QgY2hhciogcHJvcCk7CkpTTW9kdWxlRGVmKiBqc19tb2R1bGVfbG9hZGVyX3NvKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKCkpTVmFsdWUganNfZXZhbF9tb2R1bGUoSlNDb250ZXh0KiwgSlNWYWx1ZSwgQk9PTCBsb2FkX29ubHkpOwpKU1ZhbHVlIGpzX2V2YWxfYmluYXJ5KEpTQ29udGV4dCosIGNvbnN0IHVpbnQ4X3QqLCBzaXplX3QgYnVmX2xlbiwgQk9PTCBsb2FkX29ubHkpOwpKU1ZhbHVlIGpzX2V2YWxfYnVmKEpTQ29udGV4dCosIGNvbnN0IHZvaWQqLCBpbnQgYnVmX2xlbiwgY29uc3QgY2hhciogZmlsZW5hbWUsIGludCBldmFsX2ZsYWdzKTsKaW50IGpzX2V2YWxfc3RyKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqLCBjb25zdCBjaGFyKiBmaWxlLCBpbnQgZmxhZ3MpOwoKaW50NjRfdCBqc190aW1lX21zKHZvaWQpOwppbnQganNfaW50ZXJydXB0X2hhbmRsZXIoSlNSdW50aW1lKiwgdm9pZCopOwoKdm9pZCBqc190aW1lcl91bmxpbmsoSlNSdW50aW1lKiwgSlNPU1RpbWVyKik7CnZvaWQganNfdGltZXJfZnJlZShKU1J1bnRpbWUqLCBKU09TVGltZXIqKTsKCnZvaWQganNfY2FsbF9oYW5kbGVyKEpTQ29udGV4dCosIEpTVmFsdWUpOwoKdm9pZCoganNfc2FiX2FsbG9jKHZvaWQqLCBzaXplX3QpOwp2b2lkIGpzX3NhYl9mcmVlKHZvaWQqLCB2b2lkKik7CnZvaWQganNfc2FiX2R1cCh2b2lkKiwgdm9pZCopOwoKSlNXb3JrZXJNZXNzYWdlUGlwZSoganNfbmV3X21lc3NhZ2VfcGlwZSh2b2lkKTsKSlNXb3JrZXJNZXNzYWdlUGlwZSoganNfZHVwX21lc3NhZ2VfcGlwZShKU1dvcmtlck1lc3NhZ2VQaXBlKik7Cgp2b2lkIGpzX2ZyZWVfbWVzc2FnZShKU1dvcmtlck1lc3NhZ2UqKTsKdm9pZCBqc19mcmVlX21lc3NhZ2VfcGlwZShKU1dvcmtlck1lc3NhZ2VQaXBlKik7Cgp2b2lkIGpzX2Vycm9yX2R1bXAoSlNDb250ZXh0KiwgSlNWYWx1ZSwgRHluQnVmKiBkYik7CmNoYXIqIGpzX2Vycm9yX3Rvc3RyaW5nKEpTQ29udGV4dCosIEpTVmFsdWUpOwp2b2lkIGpzX2Vycm9yX3ByaW50KEpTQ29udGV4dCosIEpTVmFsdWUpOwoKI2VuZGlmIC8qIGRlZmluZWQoVVRJTFNfSCkgKi8KAAAAAAAAAABBcAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAikUAAAAAAACbRQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"contents": "",
			"file": "/home/roman/.config/sublime-text/Packages/User/ExtendedSwitcher.sublime-settings",
			"file_size": -1,
			"file_write_time": -1,
			"settings":
			{
				"buffer_size": 0,
				"line_ending": "Unix",
				"unsaved": true
			}
		},
		{
			"file": "quickjs-syscallerror.c",
			"settings":
			{
				"buffer_size": 16552,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					24,
					1,
					"cut",
					null,
					"AQAAALAvAAAAAAAAsC8AAAAAAAA+AAAAICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9UUkVDT1ZFUkFCTEUiLCBFTk9UUkVDT1ZFUkFCTEUsIDApLAo",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALAvAAAAAAAA7i8AAAAAAAAAAAAAAADwvw"
				],
				[
					25,
					2,
					"paste",
					null,
					"AgAAALAvAAAAAAAA7i8AAAAAAAAAAAAA7i8AAAAAAAAsMAAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALAvAAAAAAAAsC8AAAAAAAAAAAAAAADwvw"
				],
				[
					29,
					1,
					"insert",
					{
						"characters": "EWOUD"
					},
					"BgAAAAUwAAAAAAAABjAAAAAAAAAAAAAABjAAAAAAAAAGMAAAAAAAAA8AAABFTk9UUkVDT1ZFUkFCTEUGMAAAAAAAAAcwAAAAAAAAAAAAAAcwAAAAAAAACDAAAAAAAAAAAAAACDAAAAAAAAAJMAAAAAAAAAAAAAAJMAAAAAAAAAowAAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAUwAAAAAAAAFDAAAAAAAAAAAAAAAADwvw"
				],
				[
					30,
					1,
					"left_delete",
					null,
					"AQAAAAkwAAAAAAAACTAAAAAAAAABAAAARA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAowAAAAAAAACjAAAAAAAAAAAAAAAADwvw"
				],
				[
					31,
					1,
					"insert",
					{
						"characters": "LDBLOCK"
					},
					"BwAAAAkwAAAAAAAACjAAAAAAAAAAAAAACjAAAAAAAAALMAAAAAAAAAAAAAALMAAAAAAAAAwwAAAAAAAAAAAAAAwwAAAAAAAADTAAAAAAAAAAAAAADTAAAAAAAAAOMAAAAAAAAAAAAAAOMAAAAAAAAA8wAAAAAAAAAAAAAA8wAAAAAAAAEDAAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAkwAAAAAAAACTAAAAAAAAAAAAAAAADwvw"
				],
				[
					39,
					1,
					"paste",
					null,
					"AgAAABMwAAAAAAAAHjAAAAAAAAAAAAAAHjAAAAAAAAAeMAAAAAAAAA8AAABFTk9UUkVDT1ZFUkFCTEU",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABMwAAAAAAAAIjAAAAAAAAAAAAAAAADwvw"
				],
				[
					44,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoQAAAI2luY2x1ZGUgInF1aWNranMtc3lzY2FsbGVycm9yLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgPGVycm5vLmg+Cgp0aHJlYWRfbG9jYWwgSlNDbGFzc0lEIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHN5c2NhbGxlcnJvcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCBzeXNjYWxsZXJyb3JfY3RvciA9IHt7SlNfVEFHX1VOREVGSU5FRH19OwoKc3RhdGljIGludCBqc19zeXNjYWxsZXJyb3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKc3RhdGljIGNvbnN0IGNoYXIqCmVycm9yX2dldChpbnQgbnVtYmVyKSB7CiAgaWYobnVtYmVyID49IDAgJiYgbnVtYmVyIDwgZXJyb3JzX3NpemUpCiAgICByZXR1cm4gZXJyb3JzW251bWJlcl07CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKZXJyb3JfZmluZChjb25zdCBjaGFyKiBjb2RlKSB7CiAgaW50IGksIGxlbiA9IGVycm9yc19zaXplOwogIGZvcihpID0gMTsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihlcnJvcnNbaV0gJiYgIXN0cmNtcChjb2RlLCBlcnJvcnNbaV0pKQogICAgICByZXR1cm4gaTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBjaGFyKgpzdGFja19nZXQoSlNDb250ZXh0KiBjdHgpIHsKICBjb25zdCBjaGFyKiBzdGFjazsKICBjaGFyKiByZXQ7CiAgSlNWYWx1ZSBzdCwgZXJyb3IgPSBqc19nbG9iYWxfbmV3KGN0eCwgIkVycm9yIiwgMCwgMCk7CiAgc3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVycm9yLCAic3RhY2siKTsKCiAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CiAgc2l6ZV90IHBvcyA9IHN0cl9jaHIoc3RhY2ssICdcbicpOwogIGlmKHN0YWNrW3Bvc10pCiAgICBwb3MrKzsKICByZXQgPSBqc19zdHJkdXAoY3R4LCBzdGFjayArIHBvcyk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdGFjayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgU3lzY2FsbEVycm9yKgpqc19zeXNjYWxsZXJyb3JfZGF0YShKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKanNfc3lzY2FsbGVycm9yX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKc3lzY2FsbGVycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3lzY2FsbCwgaW50IG51bWJlcikgewogIFN5c2NhbGxFcnJvciogZXJyOwoKICBpZighKGVyciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU3lzY2FsbEVycm9yKSkpKQogICAgcmV0dXJuIDA7CgogIGVyci0+c3lzY2FsbCA9IHN5c2NhbGwgPyBqc19zdHJkdXAoY3R4LCBzeXNjYWxsKSA6IDA7CiAgZXJyLT5udW1iZXIgPSBudW1iZXI7CiAgZXJyLT5zdGFjayA9IHN0YWNrX2dldChjdHgpOwogIHJldHVybiBlcnI7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3Jfd3JhcChKU0NvbnRleHQqIGN0eCwgU3lzY2FsbEVycm9yKiBlcnIpIHsKICBKU1ZhbHVlIG9iajsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIGVycik7CiAgcmV0dXJuIG9iajsKfQoKVklTSUJMRSBKU1ZhbHVlCmpzX3N5c2NhbGxlcnJvcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5c2NhbGwsIGludCBudW1iZXIpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICBKU1ZhbHVlIG9iajsKCiAgaWYoanNfc3lzY2FsbGVycm9yX2NsYXNzX2lkID09IDAgLyogfHwgSlNfSXNVbmRlZmluZWQoc3lzY2FsbGVycm9yX3Byb3RvKSB8fCBKU19Jc1VuZGVmaW5lZChzeXNjYWxsZXJyb3JfY3RvcikqLykKICAgIGpzX3N5c2NhbGxlcnJvcl9pbml0KGN0eCwgMCk7CgogIGlmKCEoZXJyID0gc3lzY2FsbGVycm9yX25ldyhjdHgsIHN5c2NhbGwsIG51bWJlcikpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3Rocm93KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeXNjYWxsKSB7CiAgSlNWYWx1ZSBlcnJvciA9IGpzX3N5c2NhbGxlcnJvcl9uZXcoY3R4LCBzeXNjYWxsLCBlcnJubyk7CiAgcmV0dXJuIEpTX1Rocm93KGN0eCwgZXJyb3IpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFN5c2NhbGxFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVELCBwcm90byA9IEpTX1VOREVGSU5FRCwgc3QgPSBKU19VTkRFRklORUQ7CgogIGlmKCEoZXJyID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihTeXNjYWxsRXJyb3IpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgaWYoYXJnYyA+PSAyKSB7CiAgICBlcnItPnN5c2NhbGwgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgaWYoYXJnYyA+PSAxKSB7CiAgICBpbnQzMl90IG51bWJlcjsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmbnVtYmVyLCBhcmd2WzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGNoYXIqIGNvZGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgICAgbnVtYmVyID0gZXJyb3JfZmluZChjb2RlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBjb2RlKTsKICAgIH0KICAgIGVyci0+bnVtYmVyID0gbnVtYmVyOwogIH0KICBlcnItPnN0YWNrID0gc3RhY2tfZ2V0KGN0eCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgdm9pZApqc19zeXNjYWxsZXJyb3JfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBEeW5CdWYqIGRidWYpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICAvKiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgICByZXR1cm47Ki8KICBpZigoZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpKSkgewogICAgLy8gZGJ1Zl9wdXRzdHIoZGJ1ZiwgIlN5c2NhbGxFcnJvcjogIik7CgogICAgaWYoZXJyLT5zeXNjYWxsKSB7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsIGVyci0+c3lzY2FsbCk7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsICIoKSAiKTsKICAgIH0KICAgIGlmKGVyci0+bnVtYmVyKSB7CiAgICAgIGNvbnN0IGNoYXIqIG1zZzsKCiAgICAgIGlmKChtc2cgPSBzdHJlcnJvcihlcnItPm51bWJlcikpKQogICAgICAgIGRidWZfcHV0c3RyKGRidWYsIG1zZyk7CiAgICB9CiAgICBpZihlcnItPnN0YWNrKSB7CiAgICAgIGRidWZfcHV0YyhkYnVmLCAnXG4nKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGJ1ZiwgZXJyLT5zdGFjayk7CiAgICB9CiAgICBkYnVmXzAoZGJ1Zik7CiAgfQp9CgplbnVtIHsKICBTWVNDQUxMRVJST1JfVE9TVFJJTkcsCiAgU1lTQ0FMTEVSUk9SX1ZBTFVFT0YsCn07CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVycjsKCiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9UT1NUUklORzogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9WQUxVRU9GOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgZXJyLT5udW1iZXIpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBjb25zdCBjaGFyKiBjb2RlID0gMDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgLyogIGlmKCFlcnIpCiAgICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsqLwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiZXJybm8iLCBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKSwgSlNfUFJPUF9DX1dfRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIm1lc3NhZ2UiLCBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAibWVzc2FnZSIpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoZXJyLT5zeXNjYWxsKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN5c2NhbGwiLCBKU19OZXdTdHJpbmcoY3R4LCBlcnItPnN5c2NhbGwpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJjb2RlIiwgSlNfTmV3U3RyaW5nKGN0eCwgY29kZSksIEpTX1BST1BfQ19XX0UpOwoKICBpZihqc19oYXNfcHJvcGVydHlzdHIoY3R4LCBvYmosICJzdGFjayIpKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN0YWNrIiwgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgInN0YWNrIiksIEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9XUklUQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCmVudW0gewogIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwsCiAgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERSwKICBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywKICBTWVNDQUxMRVJST1JfUFJPUF9TVEFDSywKICBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEw6IHsKICAgICAgaWYoZXJyKQogICAgICAgIHJldCA9IGVyci0+c3lzY2FsbCA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+c3lzY2FsbCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBjb25zdCBjaGFyKiBjb2RlOwogICAgICBpZihlcnIpCiAgICAgICAgcmV0ID0gKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSA/IEpTX05ld1N0cmluZyhjdHgsIGNvZGUpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX0VSUk5POiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBlcnItPnN0YWNrID8gSlNfTmV3U3RyaW5nKGN0eCwgZXJyLT5zdGFjaykgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRTogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgYnl0ZV9jaHIoZGJ1Zi5idWYsIGRidWYuc2l6ZSwgJ1xuJykpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIFN5c2NhbGxFcnJvciogZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpOwoKICAvKiBpZighKGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsqLwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfU1lTQ0FMTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfRVJSTk86IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFOiB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIC8vCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3lzY2FsbCIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm5hbWUiLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9DT0RFKSwKICAgIEpTX0FMSUFTX0RFRigiY29kZSIsICJuYW1lIiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZXJybm8iLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQUxJQVNfREVGKCJudW1iZXIiLCAiZXJybm8iKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGFjayIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKAogICAgICAgICJtZXNzYWdlIiwganNfc3lzY2FsbGVycm9yX2dldCwganNfc3lzY2FsbGVycm9yX3NldCwgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3N5c2NhbGxlcnJvcl9tZXRob2QsIFNZU0NBTExFUlJPUl9UT1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlT2YiLCAwLCBqc19zeXNjYWxsZXJyb3JfbWV0aG9kLCBTWVNDQUxMRVJST1JfVkFMVUVPRiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wudG9QcmltaXRpdmVdIiwgInZhbHVlT2YiKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiU3lzY2FsbEVycm9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9Owpjb25zdCBzaXplX3QganNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzX3NpemUgPSBjb3VudG9mKGpzX3N5c2NhbGxlcnJvcl9wcm90b19mdW5jcyk7CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc3lzY2FsbGVycm9yX2RlZnNbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFUEVSTSIsIEVQRVJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9FTlQiLCBFTk9FTlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVTUkNIIiwgRVNSQ0gsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTlRSIiwgRUlOVFIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTyIsIEVJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5YSU8iLCBFTlhJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRTJCSUciLCBFMkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PRVhFQyIsIEVOT0VYRUMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVCQURGIiwgRUJBREYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDSElMRCIsIEVDSElMRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFHQUlOIiwgRUFHQUlOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9NRU0iLCBFTk9NRU0sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBQ0NFUyIsIEVBQ0NFUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZBVUxUIiwgRUZBVUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQlVTWSIsIEVCVVNZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFRVhJU1QiLCBFRVhJU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVYREVWIiwgRVhERVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0RFViIsIEVOT0RFViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVERJUiIsIEVOT1RESVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJU0RJUiIsIEVJU0RJUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOVkFMIiwgRUlOVkFMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkZJTEUiLCBFTkZJTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNRklMRSIsIEVNRklMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFRZIiwgRU5PVFRZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVFhUQlNZIiwgRVRYVEJTWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZCSUciLCBFRkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PU1BDIiwgRU5PU1BDLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFU1BJUEUiLCBFU1BJUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVST0ZTIiwgRVJPRlMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNTElOSyIsIEVNTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBJUEUiLCBFUElQRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURPTSIsIEVET00sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVSQU5HRSIsIEVSQU5HRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURFQURMSyIsIEVERUFETEssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOQU1FVE9PTE9ORyIsIEVOQU1FVE9PTE9ORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTENLIiwgRU5PTENLLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9TWVMiLCBFTk9TWVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RFTVBUWSIsIEVOT1RFTVBUWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTVNHIiwgRU5PTVNHLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSURSTSIsIEVJRFJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9MSU5LIiwgRU5PTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPIiwgRVBST1RPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQkFETVNHIiwgRUJBRE1TRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9WRVJGTE9XIiwgRU9WRVJGTE9XLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSUxTRVEiLCBFSUxTRVEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RTT0NLIiwgRU5PVFNPQ0ssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVERVNUQUREUlJFUSIsIEVERVNUQUREUlJFUSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU1TR1NJWkUiLCBFTVNHU0laRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPVFlQRSIsIEVQUk9UT1RZUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1BST1RPT1BUIiwgRU5PUFJPVE9PUFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVQUk9UT05PU1VQUE9SVCIsIEVQUk9UT05PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9QTk9UU1VQUCIsIEVPUE5PVFNVUFAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRk5PU1VQUE9SVCIsIEVBRk5PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFERFJJTlVTRSIsIEVBRERSSU5VU0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRERSTk9UQVZBSUwiLCBFQUREUk5PVEFWQUlMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVURE9XTiIsIEVORVRET1dOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUVU5SRUFDSCIsIEVORVRVTlJFQUNILCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUUkVTRVQiLCBFTkVUUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDT05OQUJPUlRFRCIsIEVDT05OQUJPUlRFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNPTk5SRVNFVCIsIEVDT05OUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0JVRlMiLCBFTk9CVUZTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSVNDT05OIiwgRUlTQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVENPTk4iLCBFTk9UQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVRJTUVET1VUIiwgRVRJTUVET1VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQ09OTlJFRlVTRUQiLCBFQ09OTlJFRlVTRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVIT1NUVU5SRUFDSCIsIEVIT1NUVU5SRUFDSCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFMUkVBRFkiLCBFQUxSRUFEWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOUFJPR1JFU1MiLCBFSU5QUk9HUkVTUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNBTkNFTEVEIiwgRUNBTkNFTEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFT1dORVJERUFEIiwgRU9XTkVSREVBRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFJFQ09WRVJBQkxFIiwgRU5PVFJFQ09WRVJBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFV09VTERCTE9DSyIsIEVXT1VMREJMT0NLLCAwKSwKfTsKCnN0YXRpYyB2b2lkCmpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBTeXNjYWxsRXJyb3IqIGVyciA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgaWYoZXJyKSB7CiAgICBpZihlcnItPnN5c2NhbGwpCiAgICAgIGpzX2ZyZWVfcnQocnQsIGVyci0+c3lzY2FsbCk7CiAgICBpZihlcnItPnN0YWNrKQogICAgICBqc19mcmVlX3J0KHJ0LCBlcnItPnN0YWNrKTsKICAgIGpzX2ZyZWVfcnQocnQsIGVycik7CiAgfQp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19zeXNjYWxsZXJyb3JfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTeXNjYWxsRXJyb3IiLAogICAgLmZpbmFsaXplciA9IGpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIsCn07CgpzdGF0aWMgaW50CmpzX3N5c2NhbGxlcnJvcl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZXJyb3IgPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgIkVycm9yIik7CgogIGFzc2VydChKU19Jc09iamVjdChlcnJvcikpOwoKICAvKmlmKCFqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQgJiYgIUpTX0lzT2JqZWN0KHN5c2NhbGxlcnJvcl9jdG9yKSkqLyB7CiAgICBKU19OZXdDbGFzc0lEKCZqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQsICZqc19zeXNjYWxsZXJyb3JfY2xhc3MpOwogICAgc3lzY2FsbGVycm9yX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc3lzY2FsbGVycm9yX2NvbnN0cnVjdG9yLCAiU3lzY2FsbEVycm9yIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICAgIHN5c2NhbGxlcnJvcl9wcm90byA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgZXJyb3IpOwogICAgLy8gc3lzY2FsbGVycm9yX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzeXNjYWxsZXJyb3JfY3RvciwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkLCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc3lzY2FsbGVycm9yX2N0b3IsIHN5c2NhbGxlcnJvcl9wcm90byk7CgogICAgLy8gIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2luc3BlY3QpOwogIH0KCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5c2NhbGxFcnJvciIsIHN5c2NhbGxlcnJvcl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19zeXNjYWxsZXJyb3JfZGVmcywgY291bnRvZihqc19zeXNjYWxsZXJyb3JfZGVmcykpOwogIH0KCiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwoKICByZXR1cm4gMDsKfQoKI2lmIGRlZmluZWQoSlNfU0hBUkVEX0xJQlJBUlkpICYmIGRlZmluZWQoSlNfU1lTQ0FMTEVSUk9SX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3N5c2NhbGxlcnJvcgojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX3N5c2NhbGxlcnJvcl9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTeXNjYWxsRXJyb3IiKTsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICByZXR1cm4gbTsKfQoKY29uc3QgY2hhciogY29uc3QgZXJyb3JzWzEzM10gPSB7CiAgICAwLAogICAgIkVQRVJNIiwKICAgICJFTk9FTlQiLAogICAgIkVTUkNIIiwKICAgICJFSU5UUiIsCiAgICAiRUlPIiwKICAgICJFTlhJTyIsCiAgICAiRTJCSUciLAogICAgIkVOT0VYRUMiLAogICAgIkVCQURGIiwKICAgICJFQ0hJTEQiLAogICAgIkVBR0FJTiIsCiAgICAiRU5PTUVNIiwKICAgICJFQUNDRVMiLAogICAgIkVGQVVMVCIsCiAgICAiRU5PVEJMSyIsCiAgICAiRUJVU1kiLAogICAgIkVFWElTVCIsCiAgICAiRVhERVYiLAogICAgIkVOT0RFViIsCiAgICAiRU5PVERJUiIsCiAgICAiRUlTRElSIiwKICAgICJFSU5WQUwiLAogICAgIkVORklMRSIsCiAgICAiRU1GSUxFIiwKICAgICJFTk9UVFkiLAogICAgIkVUWFRCU1kiLAogICAgIkVGQklHIiwKICAgICJFTk9TUEMiLAogICAgIkVTUElQRSIsCiAgICAiRVJPRlMiLAogICAgIkVNTElOSyIsCiAgICAiRVBJUEUiLAogICAgIkVET00iLAogICAgIkVSQU5HRSIsCiAgICAiRURFQURMSyIsCiAgICAiRU5BTUVUT09MT05HIiwKICAgICJFTk9MQ0siLAogICAgIkVOT1NZUyIsCiAgICAiRU5PVEVNUFRZIiwKICAgIDAsCiAgICAwLAogICAgIkVOT01TRyIsCiAgICAiRUlEUk0iLAogICAgIkVDSFJORyIsCiAgICAiRUwyTlNZTkMiLAogICAgIkVMM0hMVCIsCiAgICAiRUwzUlNUIiwKICAgICJFTE5STkciLAogICAgIkVVTkFUQ0giLAogICAgIkVOT0NTSSIsCiAgICAiRUwySExUIiwKICAgICJFQkFERSIsCiAgICAiRUJBRFIiLAogICAgIkVYRlVMTCIsCiAgICAiRU5PQU5PIiwKICAgICJFQkFEUlFDIiwKICAgIDAsCiAgICAwLAogICAgIkVCRk9OVCIsCiAgICAiRU5PU1RSIiwKICAgICJFTk9EQVRBIiwKICAgICJFVElNRSIsCiAgICAiRU5PU1IiLAogICAgIkVOT05FVCIsCiAgICAiRU5PUEtHIiwKICAgICJFUkVNT1RFIiwKICAgICJFTk9MSU5LIiwKICAgICJFQURWIiwKICAgICJFU1JNTlQiLAogICAgIkVDT01NIiwKICAgICJFUFJPVE8iLAogICAgIkVET1RET1QiLAogICAgIkVCQURNU0ciLAogICAgIkVPVkVSRkxPVyIsCiAgICAiRU5PVFVOSVEiLAogICAgIkVCQURGRCIsCiAgICAiRVJFTUNIRyIsCiAgICAiRUxJQkFDQyIsCiAgICAiRUxJQkJBRCIsCiAgICAiRUxJQlNDTiIsCiAgICAiRUxJQk1BWCIsCiAgICAiRUxJQkVYRUMiLAogICAgIkVJTFNFUSIsCiAgICAiRVJFU1RBUlQiLAogICAgIkVTVFJQSVBFIiwKICAgICJFVVNFUlMiLAogICAgIkVOT1RTT0NLIiwKICAgICJFREVTVEFERFJSRVEiLAogICAgIkVNU0dTSVpFIiwKICAgICJFUFJPVE9UWVBFIiwKICAgICJFTk9QUk9UT09QVCIsCiAgICAiRVBST1RPTk9TVVBQT1JUIiwKICAgICJFU09DS1ROT1NVUFBPUlQiLAogICAgIkVPUE5PVFNVUFAiLAogICAgIkVQRk5PU1VQUE9SVCIsCiAgICAiRUFGTk9TVVBQT1JUIiwKICAgICJFQUREUklOVVNFIiwKICAgICJFQUREUk5PVEFWQUlMIiwKICAgICJFTkVURE9XTiIsCiAgICAiRU5FVFVOUkVBQ0giLAogICAgIkVORVRSRVNFVCIsCiAgICAiRUNPTk5BQk9SVEVEIiwKICAgICJFQ09OTlJFU0VUIiwKICAgICJFTk9CVUZTIiwKICAgICJFSVNDT05OIiwKICAgICJFTk9UQ09OTiIsCiAgICAiRVNIVVRET1dOIiwKICAgICJFVE9PTUFOWVJFRlMiLAogICAgIkVUSU1FRE9VVCIsCiAgICAiRUNPTk5SRUZVU0VEIiwKICAgICJFSE9TVERPV04iLAogICAgIkVIT1NUVU5SRUFDSCIsCiAgICAiRUFMUkVBRFkiLAogICAgIkVJTlBST0dSRVNTIiwKICAgICJFVUNMRUFOIiwKICAgICJFTk9UTkFNIiwKICAgICJFTkFWQUlMIiwKICAgICJFSVNOQU0iLAogICAgIkVSRU1PVEVJTyIsCiAgICAiRU5PTUVESVVNIiwKICAgICJFTUVESVVNVFlQRSIsCiAgICAiRUNBTkNFTEVEIiwKICAgICJFTk9LRVkiLAogICAgIkVLRVlFWFBJUkVEIiwKICAgICJFS0VZUkVWT0tFRCIsCiAgICAiRUtFWVJFSkVDVEVEIiwKICAgICJFT1dORVJERUFEIiwKICAgICJFTk9UUkVDT1ZFUkFCTEUiLAogICAgIkVSRktJTEwiLAp9Owpjb25zdCBzaXplX3QgZXJyb3JzX3NpemUgPSBjb3VudG9mKGVycm9ycyk7CgAAAAAAAAAAqEAAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACMwAAAAAAAA2iIAAAAAAAAAAAAAAADwvw"
				],
				[
					45,
					1,
					"revert",
					null,
					"CgAAAAAAAAAAAAAAAAAAAAAAAACoQAAAI2luY2x1ZGUgInF1aWNranMtc3lzY2FsbGVycm9yLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgPGVycm5vLmg+Cgp0aHJlYWRfbG9jYWwgSlNDbGFzc0lEIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHN5c2NhbGxlcnJvcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCBzeXNjYWxsZXJyb3JfY3RvciA9IHt7SlNfVEFHX1VOREVGSU5FRH19OwoKc3RhdGljIGludCBqc19zeXNjYWxsZXJyb3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKc3RhdGljIGNvbnN0IGNoYXIqCmVycm9yX2dldChpbnQgbnVtYmVyKSB7CiAgaWYobnVtYmVyID49IDAgJiYgbnVtYmVyIDwgZXJyb3JzX3NpemUpCiAgICByZXR1cm4gZXJyb3JzW251bWJlcl07CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKZXJyb3JfZmluZChjb25zdCBjaGFyKiBjb2RlKSB7CiAgaW50IGksIGxlbiA9IGVycm9yc19zaXplOwogIGZvcihpID0gMTsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihlcnJvcnNbaV0gJiYgIXN0cmNtcChjb2RlLCBlcnJvcnNbaV0pKQogICAgICByZXR1cm4gaTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBjaGFyKgpzdGFja19nZXQoSlNDb250ZXh0KiBjdHgpIHsKICBjb25zdCBjaGFyKiBzdGFjazsKICBjaGFyKiByZXQ7CiAgSlNWYWx1ZSBzdCwgZXJyb3IgPSBqc19nbG9iYWxfbmV3KGN0eCwgIkVycm9yIiwgMCwgMCk7CiAgc3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVycm9yLCAic3RhY2siKTsKCiAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CiAgc2l6ZV90IHBvcyA9IHN0cl9jaHIoc3RhY2ssICdcbicpOwogIGlmKHN0YWNrW3Bvc10pCiAgICBwb3MrKzsKICByZXQgPSBqc19zdHJkdXAoY3R4LCBzdGFjayArIHBvcyk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdGFjayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgU3lzY2FsbEVycm9yKgpqc19zeXNjYWxsZXJyb3JfZGF0YShKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKanNfc3lzY2FsbGVycm9yX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKc3lzY2FsbGVycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3lzY2FsbCwgaW50IG51bWJlcikgewogIFN5c2NhbGxFcnJvciogZXJyOwoKICBpZighKGVyciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU3lzY2FsbEVycm9yKSkpKQogICAgcmV0dXJuIDA7CgogIGVyci0+c3lzY2FsbCA9IHN5c2NhbGwgPyBqc19zdHJkdXAoY3R4LCBzeXNjYWxsKSA6IDA7CiAgZXJyLT5udW1iZXIgPSBudW1iZXI7CiAgZXJyLT5zdGFjayA9IHN0YWNrX2dldChjdHgpOwogIHJldHVybiBlcnI7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3Jfd3JhcChKU0NvbnRleHQqIGN0eCwgU3lzY2FsbEVycm9yKiBlcnIpIHsKICBKU1ZhbHVlIG9iajsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIGVycik7CiAgcmV0dXJuIG9iajsKfQoKVklTSUJMRSBKU1ZhbHVlCmpzX3N5c2NhbGxlcnJvcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5c2NhbGwsIGludCBudW1iZXIpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICBKU1ZhbHVlIG9iajsKCiAgaWYoanNfc3lzY2FsbGVycm9yX2NsYXNzX2lkID09IDAgLyogfHwgSlNfSXNVbmRlZmluZWQoc3lzY2FsbGVycm9yX3Byb3RvKSB8fCBKU19Jc1VuZGVmaW5lZChzeXNjYWxsZXJyb3JfY3RvcikqLykKICAgIGpzX3N5c2NhbGxlcnJvcl9pbml0KGN0eCwgMCk7CgogIGlmKCEoZXJyID0gc3lzY2FsbGVycm9yX25ldyhjdHgsIHN5c2NhbGwsIG51bWJlcikpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3Rocm93KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeXNjYWxsKSB7CiAgSlNWYWx1ZSBlcnJvciA9IGpzX3N5c2NhbGxlcnJvcl9uZXcoY3R4LCBzeXNjYWxsLCBlcnJubyk7CiAgcmV0dXJuIEpTX1Rocm93KGN0eCwgZXJyb3IpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFN5c2NhbGxFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVELCBwcm90byA9IEpTX1VOREVGSU5FRCwgc3QgPSBKU19VTkRFRklORUQ7CgogIGlmKCEoZXJyID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihTeXNjYWxsRXJyb3IpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgaWYoYXJnYyA+PSAyKSB7CiAgICBlcnItPnN5c2NhbGwgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgaWYoYXJnYyA+PSAxKSB7CiAgICBpbnQzMl90IG51bWJlcjsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmbnVtYmVyLCBhcmd2WzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGNoYXIqIGNvZGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgICAgbnVtYmVyID0gZXJyb3JfZmluZChjb2RlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBjb2RlKTsKICAgIH0KICAgIGVyci0+bnVtYmVyID0gbnVtYmVyOwogIH0KICBlcnItPnN0YWNrID0gc3RhY2tfZ2V0KGN0eCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgdm9pZApqc19zeXNjYWxsZXJyb3JfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBEeW5CdWYqIGRidWYpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICAvKiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgICByZXR1cm47Ki8KICBpZigoZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpKSkgewogICAgLy8gZGJ1Zl9wdXRzdHIoZGJ1ZiwgIlN5c2NhbGxFcnJvcjogIik7CgogICAgaWYoZXJyLT5zeXNjYWxsKSB7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsIGVyci0+c3lzY2FsbCk7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsICIoKSAiKTsKICAgIH0KICAgIGlmKGVyci0+bnVtYmVyKSB7CiAgICAgIGNvbnN0IGNoYXIqIG1zZzsKCiAgICAgIGlmKChtc2cgPSBzdHJlcnJvcihlcnItPm51bWJlcikpKQogICAgICAgIGRidWZfcHV0c3RyKGRidWYsIG1zZyk7CiAgICB9CiAgICBpZihlcnItPnN0YWNrKSB7CiAgICAgIGRidWZfcHV0YyhkYnVmLCAnXG4nKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGJ1ZiwgZXJyLT5zdGFjayk7CiAgICB9CiAgICBkYnVmXzAoZGJ1Zik7CiAgfQp9CgplbnVtIHsKICBTWVNDQUxMRVJST1JfVE9TVFJJTkcsCiAgU1lTQ0FMTEVSUk9SX1ZBTFVFT0YsCn07CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVycjsKCiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9UT1NUUklORzogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9WQUxVRU9GOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgZXJyLT5udW1iZXIpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBjb25zdCBjaGFyKiBjb2RlID0gMDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgLyogIGlmKCFlcnIpCiAgICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsqLwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiZXJybm8iLCBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKSwgSlNfUFJPUF9DX1dfRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIm1lc3NhZ2UiLCBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAibWVzc2FnZSIpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoZXJyLT5zeXNjYWxsKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN5c2NhbGwiLCBKU19OZXdTdHJpbmcoY3R4LCBlcnItPnN5c2NhbGwpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJjb2RlIiwgSlNfTmV3U3RyaW5nKGN0eCwgY29kZSksIEpTX1BST1BfQ19XX0UpOwoKICBpZihqc19oYXNfcHJvcGVydHlzdHIoY3R4LCBvYmosICJzdGFjayIpKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN0YWNrIiwgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgInN0YWNrIiksIEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9XUklUQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCmVudW0gewogIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwsCiAgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERSwKICBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywKICBTWVNDQUxMRVJST1JfUFJPUF9TVEFDSywKICBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEw6IHsKICAgICAgaWYoZXJyKQogICAgICAgIHJldCA9IGVyci0+c3lzY2FsbCA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+c3lzY2FsbCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBjb25zdCBjaGFyKiBjb2RlOwogICAgICBpZihlcnIpCiAgICAgICAgcmV0ID0gKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSA/IEpTX05ld1N0cmluZyhjdHgsIGNvZGUpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX0VSUk5POiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBlcnItPnN0YWNrID8gSlNfTmV3U3RyaW5nKGN0eCwgZXJyLT5zdGFjaykgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRTogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgYnl0ZV9jaHIoZGJ1Zi5idWYsIGRidWYuc2l6ZSwgJ1xuJykpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIFN5c2NhbGxFcnJvciogZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpOwoKICAvKiBpZighKGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsqLwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfU1lTQ0FMTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfRVJSTk86IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFOiB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIC8vCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3lzY2FsbCIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm5hbWUiLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9DT0RFKSwKICAgIEpTX0FMSUFTX0RFRigiY29kZSIsICJuYW1lIiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZXJybm8iLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQUxJQVNfREVGKCJudW1iZXIiLCAiZXJybm8iKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGFjayIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKAogICAgICAgICJtZXNzYWdlIiwganNfc3lzY2FsbGVycm9yX2dldCwganNfc3lzY2FsbGVycm9yX3NldCwgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3N5c2NhbGxlcnJvcl9tZXRob2QsIFNZU0NBTExFUlJPUl9UT1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlT2YiLCAwLCBqc19zeXNjYWxsZXJyb3JfbWV0aG9kLCBTWVNDQUxMRVJST1JfVkFMVUVPRiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wudG9QcmltaXRpdmVdIiwgInZhbHVlT2YiKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiU3lzY2FsbEVycm9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9Owpjb25zdCBzaXplX3QganNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzX3NpemUgPSBjb3VudG9mKGpzX3N5c2NhbGxlcnJvcl9wcm90b19mdW5jcyk7CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc3lzY2FsbGVycm9yX2RlZnNbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFUEVSTSIsIEVQRVJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9FTlQiLCBFTk9FTlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVTUkNIIiwgRVNSQ0gsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTlRSIiwgRUlOVFIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTyIsIEVJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5YSU8iLCBFTlhJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRTJCSUciLCBFMkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PRVhFQyIsIEVOT0VYRUMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVCQURGIiwgRUJBREYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDSElMRCIsIEVDSElMRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFHQUlOIiwgRUFHQUlOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9NRU0iLCBFTk9NRU0sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBQ0NFUyIsIEVBQ0NFUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZBVUxUIiwgRUZBVUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQlVTWSIsIEVCVVNZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFRVhJU1QiLCBFRVhJU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVYREVWIiwgRVhERVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0RFViIsIEVOT0RFViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVERJUiIsIEVOT1RESVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJU0RJUiIsIEVJU0RJUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOVkFMIiwgRUlOVkFMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkZJTEUiLCBFTkZJTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNRklMRSIsIEVNRklMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFRZIiwgRU5PVFRZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVFhUQlNZIiwgRVRYVEJTWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZCSUciLCBFRkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PU1BDIiwgRU5PU1BDLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFU1BJUEUiLCBFU1BJUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVST0ZTIiwgRVJPRlMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNTElOSyIsIEVNTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBJUEUiLCBFUElQRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURPTSIsIEVET00sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVSQU5HRSIsIEVSQU5HRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURFQURMSyIsIEVERUFETEssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOQU1FVE9PTE9ORyIsIEVOQU1FVE9PTE9ORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTENLIiwgRU5PTENLLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9TWVMiLCBFTk9TWVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RFTVBUWSIsIEVOT1RFTVBUWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTVNHIiwgRU5PTVNHLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSURSTSIsIEVJRFJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9MSU5LIiwgRU5PTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPIiwgRVBST1RPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQkFETVNHIiwgRUJBRE1TRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9WRVJGTE9XIiwgRU9WRVJGTE9XLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSUxTRVEiLCBFSUxTRVEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RTT0NLIiwgRU5PVFNPQ0ssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVERVNUQUREUlJFUSIsIEVERVNUQUREUlJFUSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU1TR1NJWkUiLCBFTVNHU0laRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPVFlQRSIsIEVQUk9UT1RZUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1BST1RPT1BUIiwgRU5PUFJPVE9PUFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVQUk9UT05PU1VQUE9SVCIsIEVQUk9UT05PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9QTk9UU1VQUCIsIEVPUE5PVFNVUFAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRk5PU1VQUE9SVCIsIEVBRk5PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFERFJJTlVTRSIsIEVBRERSSU5VU0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRERSTk9UQVZBSUwiLCBFQUREUk5PVEFWQUlMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVURE9XTiIsIEVORVRET1dOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUVU5SRUFDSCIsIEVORVRVTlJFQUNILCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUUkVTRVQiLCBFTkVUUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDT05OQUJPUlRFRCIsIEVDT05OQUJPUlRFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNPTk5SRVNFVCIsIEVDT05OUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0JVRlMiLCBFTk9CVUZTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSVNDT05OIiwgRUlTQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVENPTk4iLCBFTk9UQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVRJTUVET1VUIiwgRVRJTUVET1VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQ09OTlJFRlVTRUQiLCBFQ09OTlJFRlVTRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVIT1NUVU5SRUFDSCIsIEVIT1NUVU5SRUFDSCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFMUkVBRFkiLCBFQUxSRUFEWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOUFJPR1JFU1MiLCBFSU5QUk9HUkVTUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNBTkNFTEVEIiwgRUNBTkNFTEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFT1dORVJERUFEIiwgRU9XTkVSREVBRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFJFQ09WRVJBQkxFIiwgRU5PVFJFQ09WRVJBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFV09VTERCTE9DSyIsIEVXT1VMREJMT0NLLCAwKSwKfTsKCnN0YXRpYyB2b2lkCmpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBTeXNjYWxsRXJyb3IqIGVyciA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgaWYoZXJyKSB7CiAgICBpZihlcnItPnN5c2NhbGwpCiAgICAgIGpzX2ZyZWVfcnQocnQsIGVyci0+c3lzY2FsbCk7CiAgICBpZihlcnItPnN0YWNrKQogICAgICBqc19mcmVlX3J0KHJ0LCBlcnItPnN0YWNrKTsKICAgIGpzX2ZyZWVfcnQocnQsIGVycik7CiAgfQp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19zeXNjYWxsZXJyb3JfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTeXNjYWxsRXJyb3IiLAogICAgLmZpbmFsaXplciA9IGpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIsCn07CgpzdGF0aWMgaW50CmpzX3N5c2NhbGxlcnJvcl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZXJyb3IgPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgIkVycm9yIik7CgogIGFzc2VydChKU19Jc09iamVjdChlcnJvcikpOwoKICAvKmlmKCFqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQgJiYgIUpTX0lzT2JqZWN0KHN5c2NhbGxlcnJvcl9jdG9yKSkqLyB7CiAgICBKU19OZXdDbGFzc0lEKCZqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQsICZqc19zeXNjYWxsZXJyb3JfY2xhc3MpOwogICAgc3lzY2FsbGVycm9yX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc3lzY2FsbGVycm9yX2NvbnN0cnVjdG9yLCAiU3lzY2FsbEVycm9yIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICAgIHN5c2NhbGxlcnJvcl9wcm90byA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgZXJyb3IpOwogICAgLy8gc3lzY2FsbGVycm9yX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzeXNjYWxsZXJyb3JfY3RvciwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkLCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc3lzY2FsbGVycm9yX2N0b3IsIHN5c2NhbGxlcnJvcl9wcm90byk7CgogICAgLy8gIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2luc3BlY3QpOwogIH0KCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5c2NhbGxFcnJvciIsIHN5c2NhbGxlcnJvcl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19zeXNjYWxsZXJyb3JfZGVmcywgY291bnRvZihqc19zeXNjYWxsZXJyb3JfZGVmcykpOwogIH0KCiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwoKICByZXR1cm4gMDsKfQoKI2lmIGRlZmluZWQoSlNfU0hBUkVEX0xJQlJBUlkpICYmIGRlZmluZWQoSlNfU1lTQ0FMTEVSUk9SX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3N5c2NhbGxlcnJvcgojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX3N5c2NhbGxlcnJvcl9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTeXNjYWxsRXJyb3IiKTsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICByZXR1cm4gbTsKfQoKY29uc3QgY2hhciogY29uc3QgZXJyb3JzWzEzM10gPSB7CiAgICAwLAogICAgIkVQRVJNIiwKICAgICJFTk9FTlQiLAogICAgIkVTUkNIIiwKICAgICJFSU5UUiIsCiAgICAiRUlPIiwKICAgICJFTlhJTyIsCiAgICAiRTJCSUciLAogICAgIkVOT0VYRUMiLAogICAgIkVCQURGIiwKICAgICJFQ0hJTEQiLAogICAgIkVBR0FJTiIsCiAgICAiRU5PTUVNIiwKICAgICJFQUNDRVMiLAogICAgIkVGQVVMVCIsCiAgICAiRU5PVEJMSyIsCiAgICAiRUJVU1kiLAogICAgIkVFWElTVCIsCiAgICAiRVhERVYiLAogICAgIkVOT0RFViIsCiAgICAiRU5PVERJUiIsCiAgICAiRUlTRElSIiwKICAgICJFSU5WQUwiLAogICAgIkVORklMRSIsCiAgICAiRU1GSUxFIiwKICAgICJFTk9UVFkiLAogICAgIkVUWFRCU1kiLAogICAgIkVGQklHIiwKICAgICJFTk9TUEMiLAogICAgIkVTUElQRSIsCiAgICAiRVJPRlMiLAogICAgIkVNTElOSyIsCiAgICAiRVBJUEUiLAogICAgIkVET00iLAogICAgIkVSQU5HRSIsCiAgICAiRURFQURMSyIsCiAgICAiRU5BTUVUT09MT05HIiwKICAgICJFTk9MQ0siLAogICAgIkVOT1NZUyIsCiAgICAiRU5PVEVNUFRZIiwKICAgIDAsCiAgICAwLAogICAgIkVOT01TRyIsCiAgICAiRUlEUk0iLAogICAgIkVDSFJORyIsCiAgICAiRUwyTlNZTkMiLAogICAgIkVMM0hMVCIsCiAgICAiRUwzUlNUIiwKICAgICJFTE5STkciLAogICAgIkVVTkFUQ0giLAogICAgIkVOT0NTSSIsCiAgICAiRUwySExUIiwKICAgICJFQkFERSIsCiAgICAiRUJBRFIiLAogICAgIkVYRlVMTCIsCiAgICAiRU5PQU5PIiwKICAgICJFQkFEUlFDIiwKICAgIDAsCiAgICAwLAogICAgIkVCRk9OVCIsCiAgICAiRU5PU1RSIiwKICAgICJFTk9EQVRBIiwKICAgICJFVElNRSIsCiAgICAiRU5PU1IiLAogICAgIkVOT05FVCIsCiAgICAiRU5PUEtHIiwKICAgICJFUkVNT1RFIiwKICAgICJFTk9MSU5LIiwKICAgICJFQURWIiwKICAgICJFU1JNTlQiLAogICAgIkVDT01NIiwKICAgICJFUFJPVE8iLAogICAgIkVET1RET1QiLAogICAgIkVCQURNU0ciLAogICAgIkVPVkVSRkxPVyIsCiAgICAiRU5PVFVOSVEiLAogICAgIkVCQURGRCIsCiAgICAiRVJFTUNIRyIsCiAgICAiRUxJQkFDQyIsCiAgICAiRUxJQkJBRCIsCiAgICAiRUxJQlNDTiIsCiAgICAiRUxJQk1BWCIsCiAgICAiRUxJQkVYRUMiLAogICAgIkVJTFNFUSIsCiAgICAiRVJFU1RBUlQiLAogICAgIkVTVFJQSVBFIiwKICAgICJFVVNFUlMiLAogICAgIkVOT1RTT0NLIiwKICAgICJFREVTVEFERFJSRVEiLAogICAgIkVNU0dTSVpFIiwKICAgICJFUFJPVE9UWVBFIiwKICAgICJFTk9QUk9UT09QVCIsCiAgICAiRVBST1RPTk9TVVBQT1JUIiwKICAgICJFU09DS1ROT1NVUFBPUlQiLAogICAgIkVPUE5PVFNVUFAiLAogICAgIkVQRk5PU1VQUE9SVCIsCiAgICAiRUFGTk9TVVBQT1JUIiwKICAgICJFQUREUklOVVNFIiwKICAgICJFQUREUk5PVEFWQUlMIiwKICAgICJFTkVURE9XTiIsCiAgICAiRU5FVFVOUkVBQ0giLAogICAgIkVORVRSRVNFVCIsCiAgICAiRUNPTk5BQk9SVEVEIiwKICAgICJFQ09OTlJFU0VUIiwKICAgICJFTk9CVUZTIiwKICAgICJFSVNDT05OIiwKICAgICJFTk9UQ09OTiIsCiAgICAiRVNIVVRET1dOIiwKICAgICJFVE9PTUFOWVJFRlMiLAogICAgIkVUSU1FRE9VVCIsCiAgICAiRUNPTk5SRUZVU0VEIiwKICAgICJFSE9TVERPV04iLAogICAgIkVIT1NUVU5SRUFDSCIsCiAgICAiRUFMUkVBRFkiLAogICAgIkVJTlBST0dSRVNTIiwKICAgICJFVUNMRUFOIiwKICAgICJFTk9UTkFNIiwKICAgICJFTkFWQUlMIiwKICAgICJFSVNOQU0iLAogICAgIkVSRU1PVEVJTyIsCiAgICAiRU5PTUVESVVNIiwKICAgICJFTUVESVVNVFlQRSIsCiAgICAiRUNBTkNFTEVEIiwKICAgICJFTk9LRVkiLAogICAgIkVLRVlFWFBJUkVEIiwKICAgICJFS0VZUkVWT0tFRCIsCiAgICAiRUtFWVJFSkVDVEVEIiwKICAgICJFT1dORVJERUFEIiwKICAgICJFTk9UUkVDT1ZFUkFCTEUiLAogICAgIkVSRktJTEwiLAp9Owpjb25zdCBzaXplX3QgZXJyb3JzX3NpemUgPSBjb3VudG9mKGVycm9ycyk7CgAAAAAAAAAAqEAAAAAAAAAAAAAAAAAAAAAAAACoQAAAAAAAAAAAAAAAAAAAAAAAAKhAAAAAAAAAAAAAAAAAAAAAAAAAqEAAAAAAAAAAAAAAAAAAAAAAAACoQAAAAAAAAAAAAAAAAAAAAAAAAKhAAAAAAAAAAAAAAAAAAAAAAAAAqEAAAAAAAAAAAAAAAAAAAAAAAACoQAAAAAAAAAAAAAAAAAAAAAAAAKhAAAAAAAAAAAAAAA",
					"CQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACMwAAAAAAAA2iIAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoQAAAI2luY2x1ZGUgInF1aWNranMtc3lzY2FsbGVycm9yLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgPGVycm5vLmg+Cgp0aHJlYWRfbG9jYWwgSlNDbGFzc0lEIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHN5c2NhbGxlcnJvcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCBzeXNjYWxsZXJyb3JfY3RvciA9IHt7SlNfVEFHX1VOREVGSU5FRH19OwoKc3RhdGljIGludCBqc19zeXNjYWxsZXJyb3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKc3RhdGljIGNvbnN0IGNoYXIqCmVycm9yX2dldChpbnQgbnVtYmVyKSB7CiAgaWYobnVtYmVyID49IDAgJiYgbnVtYmVyIDwgZXJyb3JzX3NpemUpCiAgICByZXR1cm4gZXJyb3JzW251bWJlcl07CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKZXJyb3JfZmluZChjb25zdCBjaGFyKiBjb2RlKSB7CiAgaW50IGksIGxlbiA9IGVycm9yc19zaXplOwogIGZvcihpID0gMTsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihlcnJvcnNbaV0gJiYgIXN0cmNtcChjb2RlLCBlcnJvcnNbaV0pKQogICAgICByZXR1cm4gaTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBjaGFyKgpzdGFja19nZXQoSlNDb250ZXh0KiBjdHgpIHsKICBjb25zdCBjaGFyKiBzdGFjazsKICBjaGFyKiByZXQ7CiAgSlNWYWx1ZSBzdCwgZXJyb3IgPSBqc19nbG9iYWxfbmV3KGN0eCwgIkVycm9yIiwgMCwgMCk7CiAgc3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVycm9yLCAic3RhY2siKTsKCiAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CiAgc2l6ZV90IHBvcyA9IHN0cl9jaHIoc3RhY2ssICdcbicpOwogIGlmKHN0YWNrW3Bvc10pCiAgICBwb3MrKzsKICByZXQgPSBqc19zdHJkdXAoY3R4LCBzdGFjayArIHBvcyk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdGFjayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgU3lzY2FsbEVycm9yKgpqc19zeXNjYWxsZXJyb3JfZGF0YShKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKanNfc3lzY2FsbGVycm9yX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKc3lzY2FsbGVycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3lzY2FsbCwgaW50IG51bWJlcikgewogIFN5c2NhbGxFcnJvciogZXJyOwoKICBpZighKGVyciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU3lzY2FsbEVycm9yKSkpKQogICAgcmV0dXJuIDA7CgogIGVyci0+c3lzY2FsbCA9IHN5c2NhbGwgPyBqc19zdHJkdXAoY3R4LCBzeXNjYWxsKSA6IDA7CiAgZXJyLT5udW1iZXIgPSBudW1iZXI7CiAgZXJyLT5zdGFjayA9IHN0YWNrX2dldChjdHgpOwogIHJldHVybiBlcnI7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3Jfd3JhcChKU0NvbnRleHQqIGN0eCwgU3lzY2FsbEVycm9yKiBlcnIpIHsKICBKU1ZhbHVlIG9iajsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIGVycik7CiAgcmV0dXJuIG9iajsKfQoKVklTSUJMRSBKU1ZhbHVlCmpzX3N5c2NhbGxlcnJvcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5c2NhbGwsIGludCBudW1iZXIpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICBKU1ZhbHVlIG9iajsKCiAgaWYoanNfc3lzY2FsbGVycm9yX2NsYXNzX2lkID09IDAgLyogfHwgSlNfSXNVbmRlZmluZWQoc3lzY2FsbGVycm9yX3Byb3RvKSB8fCBKU19Jc1VuZGVmaW5lZChzeXNjYWxsZXJyb3JfY3RvcikqLykKICAgIGpzX3N5c2NhbGxlcnJvcl9pbml0KGN0eCwgMCk7CgogIGlmKCEoZXJyID0gc3lzY2FsbGVycm9yX25ldyhjdHgsIHN5c2NhbGwsIG51bWJlcikpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3Rocm93KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeXNjYWxsKSB7CiAgSlNWYWx1ZSBlcnJvciA9IGpzX3N5c2NhbGxlcnJvcl9uZXcoY3R4LCBzeXNjYWxsLCBlcnJubyk7CiAgcmV0dXJuIEpTX1Rocm93KGN0eCwgZXJyb3IpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFN5c2NhbGxFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVELCBwcm90byA9IEpTX1VOREVGSU5FRCwgc3QgPSBKU19VTkRFRklORUQ7CgogIGlmKCEoZXJyID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihTeXNjYWxsRXJyb3IpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgaWYoYXJnYyA+PSAyKSB7CiAgICBlcnItPnN5c2NhbGwgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgaWYoYXJnYyA+PSAxKSB7CiAgICBpbnQzMl90IG51bWJlcjsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmbnVtYmVyLCBhcmd2WzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGNoYXIqIGNvZGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgICAgbnVtYmVyID0gZXJyb3JfZmluZChjb2RlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBjb2RlKTsKICAgIH0KICAgIGVyci0+bnVtYmVyID0gbnVtYmVyOwogIH0KICBlcnItPnN0YWNrID0gc3RhY2tfZ2V0KGN0eCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgdm9pZApqc19zeXNjYWxsZXJyb3JfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBEeW5CdWYqIGRidWYpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICAvKiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgICByZXR1cm47Ki8KICBpZigoZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpKSkgewogICAgLy8gZGJ1Zl9wdXRzdHIoZGJ1ZiwgIlN5c2NhbGxFcnJvcjogIik7CgogICAgaWYoZXJyLT5zeXNjYWxsKSB7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsIGVyci0+c3lzY2FsbCk7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsICIoKSAiKTsKICAgIH0KICAgIGlmKGVyci0+bnVtYmVyKSB7CiAgICAgIGNvbnN0IGNoYXIqIG1zZzsKCiAgICAgIGlmKChtc2cgPSBzdHJlcnJvcihlcnItPm51bWJlcikpKQogICAgICAgIGRidWZfcHV0c3RyKGRidWYsIG1zZyk7CiAgICB9CiAgICBpZihlcnItPnN0YWNrKSB7CiAgICAgIGRidWZfcHV0YyhkYnVmLCAnXG4nKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGJ1ZiwgZXJyLT5zdGFjayk7CiAgICB9CiAgICBkYnVmXzAoZGJ1Zik7CiAgfQp9CgplbnVtIHsKICBTWVNDQUxMRVJST1JfVE9TVFJJTkcsCiAgU1lTQ0FMTEVSUk9SX1ZBTFVFT0YsCn07CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVycjsKCiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9UT1NUUklORzogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9WQUxVRU9GOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgZXJyLT5udW1iZXIpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBjb25zdCBjaGFyKiBjb2RlID0gMDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgLyogIGlmKCFlcnIpCiAgICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsqLwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiZXJybm8iLCBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKSwgSlNfUFJPUF9DX1dfRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIm1lc3NhZ2UiLCBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAibWVzc2FnZSIpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoZXJyLT5zeXNjYWxsKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN5c2NhbGwiLCBKU19OZXdTdHJpbmcoY3R4LCBlcnItPnN5c2NhbGwpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJjb2RlIiwgSlNfTmV3U3RyaW5nKGN0eCwgY29kZSksIEpTX1BST1BfQ19XX0UpOwoKICBpZihqc19oYXNfcHJvcGVydHlzdHIoY3R4LCBvYmosICJzdGFjayIpKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN0YWNrIiwgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgInN0YWNrIiksIEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9XUklUQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCmVudW0gewogIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwsCiAgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERSwKICBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywKICBTWVNDQUxMRVJST1JfUFJPUF9TVEFDSywKICBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEw6IHsKICAgICAgaWYoZXJyKQogICAgICAgIHJldCA9IGVyci0+c3lzY2FsbCA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+c3lzY2FsbCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBjb25zdCBjaGFyKiBjb2RlOwogICAgICBpZihlcnIpCiAgICAgICAgcmV0ID0gKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSA/IEpTX05ld1N0cmluZyhjdHgsIGNvZGUpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX0VSUk5POiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBlcnItPnN0YWNrID8gSlNfTmV3U3RyaW5nKGN0eCwgZXJyLT5zdGFjaykgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRTogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgYnl0ZV9jaHIoZGJ1Zi5idWYsIGRidWYuc2l6ZSwgJ1xuJykpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIFN5c2NhbGxFcnJvciogZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpOwoKICAvKiBpZighKGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsqLwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfU1lTQ0FMTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfRVJSTk86IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFOiB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIC8vCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3lzY2FsbCIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm5hbWUiLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9DT0RFKSwKICAgIEpTX0FMSUFTX0RFRigiY29kZSIsICJuYW1lIiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZXJybm8iLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQUxJQVNfREVGKCJudW1iZXIiLCAiZXJybm8iKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGFjayIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKAogICAgICAgICJtZXNzYWdlIiwganNfc3lzY2FsbGVycm9yX2dldCwganNfc3lzY2FsbGVycm9yX3NldCwgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3N5c2NhbGxlcnJvcl9tZXRob2QsIFNZU0NBTExFUlJPUl9UT1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlT2YiLCAwLCBqc19zeXNjYWxsZXJyb3JfbWV0aG9kLCBTWVNDQUxMRVJST1JfVkFMVUVPRiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wudG9QcmltaXRpdmVdIiwgInZhbHVlT2YiKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiU3lzY2FsbEVycm9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9Owpjb25zdCBzaXplX3QganNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzX3NpemUgPSBjb3VudG9mKGpzX3N5c2NhbGxlcnJvcl9wcm90b19mdW5jcyk7CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc3lzY2FsbGVycm9yX2RlZnNbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFUEVSTSIsIEVQRVJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9FTlQiLCBFTk9FTlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVTUkNIIiwgRVNSQ0gsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTlRSIiwgRUlOVFIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTyIsIEVJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5YSU8iLCBFTlhJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRTJCSUciLCBFMkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PRVhFQyIsIEVOT0VYRUMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVCQURGIiwgRUJBREYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDSElMRCIsIEVDSElMRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFHQUlOIiwgRUFHQUlOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9NRU0iLCBFTk9NRU0sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBQ0NFUyIsIEVBQ0NFUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZBVUxUIiwgRUZBVUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQlVTWSIsIEVCVVNZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFRVhJU1QiLCBFRVhJU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVYREVWIiwgRVhERVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0RFViIsIEVOT0RFViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVERJUiIsIEVOT1RESVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJU0RJUiIsIEVJU0RJUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOVkFMIiwgRUlOVkFMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkZJTEUiLCBFTkZJTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNRklMRSIsIEVNRklMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFRZIiwgRU5PVFRZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVFhUQlNZIiwgRVRYVEJTWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZCSUciLCBFRkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PU1BDIiwgRU5PU1BDLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFU1BJUEUiLCBFU1BJUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVST0ZTIiwgRVJPRlMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNTElOSyIsIEVNTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBJUEUiLCBFUElQRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURPTSIsIEVET00sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVSQU5HRSIsIEVSQU5HRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURFQURMSyIsIEVERUFETEssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOQU1FVE9PTE9ORyIsIEVOQU1FVE9PTE9ORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTENLIiwgRU5PTENLLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9TWVMiLCBFTk9TWVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RFTVBUWSIsIEVOT1RFTVBUWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTVNHIiwgRU5PTVNHLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSURSTSIsIEVJRFJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9MSU5LIiwgRU5PTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPIiwgRVBST1RPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQkFETVNHIiwgRUJBRE1TRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9WRVJGTE9XIiwgRU9WRVJGTE9XLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSUxTRVEiLCBFSUxTRVEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RTT0NLIiwgRU5PVFNPQ0ssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVERVNUQUREUlJFUSIsIEVERVNUQUREUlJFUSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU1TR1NJWkUiLCBFTVNHU0laRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPVFlQRSIsIEVQUk9UT1RZUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1BST1RPT1BUIiwgRU5PUFJPVE9PUFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVQUk9UT05PU1VQUE9SVCIsIEVQUk9UT05PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9QTk9UU1VQUCIsIEVPUE5PVFNVUFAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRk5PU1VQUE9SVCIsIEVBRk5PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFERFJJTlVTRSIsIEVBRERSSU5VU0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRERSTk9UQVZBSUwiLCBFQUREUk5PVEFWQUlMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVURE9XTiIsIEVORVRET1dOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUVU5SRUFDSCIsIEVORVRVTlJFQUNILCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUUkVTRVQiLCBFTkVUUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDT05OQUJPUlRFRCIsIEVDT05OQUJPUlRFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNPTk5SRVNFVCIsIEVDT05OUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0JVRlMiLCBFTk9CVUZTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSVNDT05OIiwgRUlTQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVENPTk4iLCBFTk9UQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVRJTUVET1VUIiwgRVRJTUVET1VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQ09OTlJFRlVTRUQiLCBFQ09OTlJFRlVTRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVIT1NUVU5SRUFDSCIsIEVIT1NUVU5SRUFDSCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFMUkVBRFkiLCBFQUxSRUFEWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOUFJPR1JFU1MiLCBFSU5QUk9HUkVTUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNBTkNFTEVEIiwgRUNBTkNFTEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFT1dORVJERUFEIiwgRU9XTkVSREVBRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFJFQ09WRVJBQkxFIiwgRU5PVFJFQ09WRVJBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFV09VTERCTE9DSyIsIEVXT1VMREJMT0NLLCAwKSwKfTsKCnN0YXRpYyB2b2lkCmpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBTeXNjYWxsRXJyb3IqIGVyciA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgaWYoZXJyKSB7CiAgICBpZihlcnItPnN5c2NhbGwpCiAgICAgIGpzX2ZyZWVfcnQocnQsIGVyci0+c3lzY2FsbCk7CiAgICBpZihlcnItPnN0YWNrKQogICAgICBqc19mcmVlX3J0KHJ0LCBlcnItPnN0YWNrKTsKICAgIGpzX2ZyZWVfcnQocnQsIGVycik7CiAgfQp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19zeXNjYWxsZXJyb3JfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTeXNjYWxsRXJyb3IiLAogICAgLmZpbmFsaXplciA9IGpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIsCn07CgpzdGF0aWMgaW50CmpzX3N5c2NhbGxlcnJvcl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZXJyb3IgPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgIkVycm9yIik7CgogIGFzc2VydChKU19Jc09iamVjdChlcnJvcikpOwoKICAvKmlmKCFqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQgJiYgIUpTX0lzT2JqZWN0KHN5c2NhbGxlcnJvcl9jdG9yKSkqLyB7CiAgICBKU19OZXdDbGFzc0lEKCZqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQsICZqc19zeXNjYWxsZXJyb3JfY2xhc3MpOwogICAgc3lzY2FsbGVycm9yX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc3lzY2FsbGVycm9yX2NvbnN0cnVjdG9yLCAiU3lzY2FsbEVycm9yIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICAgIHN5c2NhbGxlcnJvcl9wcm90byA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgZXJyb3IpOwogICAgLy8gc3lzY2FsbGVycm9yX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzeXNjYWxsZXJyb3JfY3RvciwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkLCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc3lzY2FsbGVycm9yX2N0b3IsIHN5c2NhbGxlcnJvcl9wcm90byk7CgogICAgLy8gIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2luc3BlY3QpOwogIH0KCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5c2NhbGxFcnJvciIsIHN5c2NhbGxlcnJvcl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19zeXNjYWxsZXJyb3JfZGVmcywgY291bnRvZihqc19zeXNjYWxsZXJyb3JfZGVmcykpOwogIH0KCiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwoKICByZXR1cm4gMDsKfQoKI2lmIGRlZmluZWQoSlNfU0hBUkVEX0xJQlJBUlkpICYmIGRlZmluZWQoSlNfU1lTQ0FMTEVSUk9SX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3N5c2NhbGxlcnJvcgojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX3N5c2NhbGxlcnJvcl9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTeXNjYWxsRXJyb3IiKTsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICByZXR1cm4gbTsKfQoKY29uc3QgY2hhciogY29uc3QgZXJyb3JzWzEzM10gPSB7CiAgICAwLAogICAgIkVQRVJNIiwKICAgICJFTk9FTlQiLAogICAgIkVTUkNIIiwKICAgICJFSU5UUiIsCiAgICAiRUlPIiwKICAgICJFTlhJTyIsCiAgICAiRTJCSUciLAogICAgIkVOT0VYRUMiLAogICAgIkVCQURGIiwKICAgICJFQ0hJTEQiLAogICAgIkVBR0FJTiIsCiAgICAiRU5PTUVNIiwKICAgICJFQUNDRVMiLAogICAgIkVGQVVMVCIsCiAgICAiRU5PVEJMSyIsCiAgICAiRUJVU1kiLAogICAgIkVFWElTVCIsCiAgICAiRVhERVYiLAogICAgIkVOT0RFViIsCiAgICAiRU5PVERJUiIsCiAgICAiRUlTRElSIiwKICAgICJFSU5WQUwiLAogICAgIkVORklMRSIsCiAgICAiRU1GSUxFIiwKICAgICJFTk9UVFkiLAogICAgIkVUWFRCU1kiLAogICAgIkVGQklHIiwKICAgICJFTk9TUEMiLAogICAgIkVTUElQRSIsCiAgICAiRVJPRlMiLAogICAgIkVNTElOSyIsCiAgICAiRVBJUEUiLAogICAgIkVET00iLAogICAgIkVSQU5HRSIsCiAgICAiRURFQURMSyIsCiAgICAiRU5BTUVUT09MT05HIiwKICAgICJFTk9MQ0siLAogICAgIkVOT1NZUyIsCiAgICAiRU5PVEVNUFRZIiwKICAgIDAsCiAgICAwLAogICAgIkVOT01TRyIsCiAgICAiRUlEUk0iLAogICAgIkVDSFJORyIsCiAgICAiRUwyTlNZTkMiLAogICAgIkVMM0hMVCIsCiAgICAiRUwzUlNUIiwKICAgICJFTE5STkciLAogICAgIkVVTkFUQ0giLAogICAgIkVOT0NTSSIsCiAgICAiRUwySExUIiwKICAgICJFQkFERSIsCiAgICAiRUJBRFIiLAogICAgIkVYRlVMTCIsCiAgICAiRU5PQU5PIiwKICAgICJFQkFEUlFDIiwKICAgIDAsCiAgICAwLAogICAgIkVCRk9OVCIsCiAgICAiRU5PU1RSIiwKICAgICJFTk9EQVRBIiwKICAgICJFVElNRSIsCiAgICAiRU5PU1IiLAogICAgIkVOT05FVCIsCiAgICAiRU5PUEtHIiwKICAgICJFUkVNT1RFIiwKICAgICJFTk9MSU5LIiwKICAgICJFQURWIiwKICAgICJFU1JNTlQiLAogICAgIkVDT01NIiwKICAgICJFUFJPVE8iLAogICAgIkVET1RET1QiLAogICAgIkVCQURNU0ciLAogICAgIkVPVkVSRkxPVyIsCiAgICAiRU5PVFVOSVEiLAogICAgIkVCQURGRCIsCiAgICAiRVJFTUNIRyIsCiAgICAiRUxJQkFDQyIsCiAgICAiRUxJQkJBRCIsCiAgICAiRUxJQlNDTiIsCiAgICAiRUxJQk1BWCIsCiAgICAiRUxJQkVYRUMiLAogICAgIkVJTFNFUSIsCiAgICAiRVJFU1RBUlQiLAogICAgIkVTVFJQSVBFIiwKICAgICJFVVNFUlMiLAogICAgIkVOT1RTT0NLIiwKICAgICJFREVTVEFERFJSRVEiLAogICAgIkVNU0dTSVpFIiwKICAgICJFUFJPVE9UWVBFIiwKICAgICJFTk9QUk9UT09QVCIsCiAgICAiRVBST1RPTk9TVVBQT1JUIiwKICAgICJFU09DS1ROT1NVUFBPUlQiLAogICAgIkVPUE5PVFNVUFAiLAogICAgIkVQRk5PU1VQUE9SVCIsCiAgICAiRUFGTk9TVVBQT1JUIiwKICAgICJFQUREUklOVVNFIiwKICAgICJFQUREUk5PVEFWQUlMIiwKICAgICJFTkVURE9XTiIsCiAgICAiRU5FVFVOUkVBQ0giLAogICAgIkVORVRSRVNFVCIsCiAgICAiRUNPTk5BQk9SVEVEIiwKICAgICJFQ09OTlJFU0VUIiwKICAgICJFTk9CVUZTIiwKICAgICJFSVNDT05OIiwKICAgICJFTk9UQ09OTiIsCiAgICAiRVNIVVRET1dOIiwKICAgICJFVE9PTUFOWVJFRlMiLAogICAgIkVUSU1FRE9VVCIsCiAgICAiRUNPTk5SRUZVU0VEIiwKICAgICJFSE9TVERPV04iLAogICAgIkVIT1NUVU5SRUFDSCIsCiAgICAiRUFMUkVBRFkiLAogICAgIkVJTlBST0dSRVNTIiwKICAgICJFVUNMRUFOIiwKICAgICJFTk9UTkFNIiwKICAgICJFTkFWQUlMIiwKICAgICJFSVNOQU0iLAogICAgIkVSRU1PVEVJTyIsCiAgICAiRU5PTUVESVVNIiwKICAgICJFTUVESVVNVFlQRSIsCiAgICAiRUNBTkNFTEVEIiwKICAgICJFTk9LRVkiLAogICAgIkVLRVlFWFBJUkVEIiwKICAgICJFS0VZUkVWT0tFRCIsCiAgICAiRUtFWVJFSkVDVEVEIiwKICAgICJFT1dORVJERUFEIiwKICAgICJFTk9UUkVDT1ZFUkFCTEUiLAogICAgIkVSRktJTEwiLAp9Owpjb25zdCBzaXplX3QgZXJyb3JzX3NpemUgPSBjb3VudG9mKGVycm9ycyk7CgAAAAAAAAAAqEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIzAAAAAAAADaIgAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoQAAAI2luY2x1ZGUgInF1aWNranMtc3lzY2FsbGVycm9yLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgPGVycm5vLmg+Cgp0aHJlYWRfbG9jYWwgSlNDbGFzc0lEIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHN5c2NhbGxlcnJvcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCBzeXNjYWxsZXJyb3JfY3RvciA9IHt7SlNfVEFHX1VOREVGSU5FRH19OwoKc3RhdGljIGludCBqc19zeXNjYWxsZXJyb3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKc3RhdGljIGNvbnN0IGNoYXIqCmVycm9yX2dldChpbnQgbnVtYmVyKSB7CiAgaWYobnVtYmVyID49IDAgJiYgbnVtYmVyIDwgZXJyb3JzX3NpemUpCiAgICByZXR1cm4gZXJyb3JzW251bWJlcl07CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKZXJyb3JfZmluZChjb25zdCBjaGFyKiBjb2RlKSB7CiAgaW50IGksIGxlbiA9IGVycm9yc19zaXplOwogIGZvcihpID0gMTsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihlcnJvcnNbaV0gJiYgIXN0cmNtcChjb2RlLCBlcnJvcnNbaV0pKQogICAgICByZXR1cm4gaTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBjaGFyKgpzdGFja19nZXQoSlNDb250ZXh0KiBjdHgpIHsKICBjb25zdCBjaGFyKiBzdGFjazsKICBjaGFyKiByZXQ7CiAgSlNWYWx1ZSBzdCwgZXJyb3IgPSBqc19nbG9iYWxfbmV3KGN0eCwgIkVycm9yIiwgMCwgMCk7CiAgc3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVycm9yLCAic3RhY2siKTsKCiAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CiAgc2l6ZV90IHBvcyA9IHN0cl9jaHIoc3RhY2ssICdcbicpOwogIGlmKHN0YWNrW3Bvc10pCiAgICBwb3MrKzsKICByZXQgPSBqc19zdHJkdXAoY3R4LCBzdGFjayArIHBvcyk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdGFjayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgU3lzY2FsbEVycm9yKgpqc19zeXNjYWxsZXJyb3JfZGF0YShKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKanNfc3lzY2FsbGVycm9yX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKc3lzY2FsbGVycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3lzY2FsbCwgaW50IG51bWJlcikgewogIFN5c2NhbGxFcnJvciogZXJyOwoKICBpZighKGVyciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU3lzY2FsbEVycm9yKSkpKQogICAgcmV0dXJuIDA7CgogIGVyci0+c3lzY2FsbCA9IHN5c2NhbGwgPyBqc19zdHJkdXAoY3R4LCBzeXNjYWxsKSA6IDA7CiAgZXJyLT5udW1iZXIgPSBudW1iZXI7CiAgZXJyLT5zdGFjayA9IHN0YWNrX2dldChjdHgpOwogIHJldHVybiBlcnI7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3Jfd3JhcChKU0NvbnRleHQqIGN0eCwgU3lzY2FsbEVycm9yKiBlcnIpIHsKICBKU1ZhbHVlIG9iajsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIGVycik7CiAgcmV0dXJuIG9iajsKfQoKVklTSUJMRSBKU1ZhbHVlCmpzX3N5c2NhbGxlcnJvcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5c2NhbGwsIGludCBudW1iZXIpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICBKU1ZhbHVlIG9iajsKCiAgaWYoanNfc3lzY2FsbGVycm9yX2NsYXNzX2lkID09IDAgLyogfHwgSlNfSXNVbmRlZmluZWQoc3lzY2FsbGVycm9yX3Byb3RvKSB8fCBKU19Jc1VuZGVmaW5lZChzeXNjYWxsZXJyb3JfY3RvcikqLykKICAgIGpzX3N5c2NhbGxlcnJvcl9pbml0KGN0eCwgMCk7CgogIGlmKCEoZXJyID0gc3lzY2FsbGVycm9yX25ldyhjdHgsIHN5c2NhbGwsIG51bWJlcikpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3Rocm93KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeXNjYWxsKSB7CiAgSlNWYWx1ZSBlcnJvciA9IGpzX3N5c2NhbGxlcnJvcl9uZXcoY3R4LCBzeXNjYWxsLCBlcnJubyk7CiAgcmV0dXJuIEpTX1Rocm93KGN0eCwgZXJyb3IpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFN5c2NhbGxFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVELCBwcm90byA9IEpTX1VOREVGSU5FRCwgc3QgPSBKU19VTkRFRklORUQ7CgogIGlmKCEoZXJyID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihTeXNjYWxsRXJyb3IpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgaWYoYXJnYyA+PSAyKSB7CiAgICBlcnItPnN5c2NhbGwgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgaWYoYXJnYyA+PSAxKSB7CiAgICBpbnQzMl90IG51bWJlcjsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmbnVtYmVyLCBhcmd2WzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGNoYXIqIGNvZGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgICAgbnVtYmVyID0gZXJyb3JfZmluZChjb2RlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBjb2RlKTsKICAgIH0KICAgIGVyci0+bnVtYmVyID0gbnVtYmVyOwogIH0KICBlcnItPnN0YWNrID0gc3RhY2tfZ2V0KGN0eCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgdm9pZApqc19zeXNjYWxsZXJyb3JfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBEeW5CdWYqIGRidWYpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICAvKiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgICByZXR1cm47Ki8KICBpZigoZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpKSkgewogICAgLy8gZGJ1Zl9wdXRzdHIoZGJ1ZiwgIlN5c2NhbGxFcnJvcjogIik7CgogICAgaWYoZXJyLT5zeXNjYWxsKSB7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsIGVyci0+c3lzY2FsbCk7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsICIoKSAiKTsKICAgIH0KICAgIGlmKGVyci0+bnVtYmVyKSB7CiAgICAgIGNvbnN0IGNoYXIqIG1zZzsKCiAgICAgIGlmKChtc2cgPSBzdHJlcnJvcihlcnItPm51bWJlcikpKQogICAgICAgIGRidWZfcHV0c3RyKGRidWYsIG1zZyk7CiAgICB9CiAgICBpZihlcnItPnN0YWNrKSB7CiAgICAgIGRidWZfcHV0YyhkYnVmLCAnXG4nKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGJ1ZiwgZXJyLT5zdGFjayk7CiAgICB9CiAgICBkYnVmXzAoZGJ1Zik7CiAgfQp9CgplbnVtIHsKICBTWVNDQUxMRVJST1JfVE9TVFJJTkcsCiAgU1lTQ0FMTEVSUk9SX1ZBTFVFT0YsCn07CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVycjsKCiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9UT1NUUklORzogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9WQUxVRU9GOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgZXJyLT5udW1iZXIpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBjb25zdCBjaGFyKiBjb2RlID0gMDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgLyogIGlmKCFlcnIpCiAgICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsqLwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiZXJybm8iLCBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKSwgSlNfUFJPUF9DX1dfRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIm1lc3NhZ2UiLCBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAibWVzc2FnZSIpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoZXJyLT5zeXNjYWxsKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN5c2NhbGwiLCBKU19OZXdTdHJpbmcoY3R4LCBlcnItPnN5c2NhbGwpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJjb2RlIiwgSlNfTmV3U3RyaW5nKGN0eCwgY29kZSksIEpTX1BST1BfQ19XX0UpOwoKICBpZihqc19oYXNfcHJvcGVydHlzdHIoY3R4LCBvYmosICJzdGFjayIpKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN0YWNrIiwgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgInN0YWNrIiksIEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9XUklUQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCmVudW0gewogIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwsCiAgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERSwKICBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywKICBTWVNDQUxMRVJST1JfUFJPUF9TVEFDSywKICBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEw6IHsKICAgICAgaWYoZXJyKQogICAgICAgIHJldCA9IGVyci0+c3lzY2FsbCA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+c3lzY2FsbCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBjb25zdCBjaGFyKiBjb2RlOwogICAgICBpZihlcnIpCiAgICAgICAgcmV0ID0gKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSA/IEpTX05ld1N0cmluZyhjdHgsIGNvZGUpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX0VSUk5POiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBlcnItPnN0YWNrID8gSlNfTmV3U3RyaW5nKGN0eCwgZXJyLT5zdGFjaykgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRTogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgYnl0ZV9jaHIoZGJ1Zi5idWYsIGRidWYuc2l6ZSwgJ1xuJykpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIFN5c2NhbGxFcnJvciogZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpOwoKICAvKiBpZighKGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsqLwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfU1lTQ0FMTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfRVJSTk86IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFOiB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIC8vCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3lzY2FsbCIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm5hbWUiLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9DT0RFKSwKICAgIEpTX0FMSUFTX0RFRigiY29kZSIsICJuYW1lIiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZXJybm8iLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQUxJQVNfREVGKCJudW1iZXIiLCAiZXJybm8iKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGFjayIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKAogICAgICAgICJtZXNzYWdlIiwganNfc3lzY2FsbGVycm9yX2dldCwganNfc3lzY2FsbGVycm9yX3NldCwgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3N5c2NhbGxlcnJvcl9tZXRob2QsIFNZU0NBTExFUlJPUl9UT1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlT2YiLCAwLCBqc19zeXNjYWxsZXJyb3JfbWV0aG9kLCBTWVNDQUxMRVJST1JfVkFMVUVPRiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wudG9QcmltaXRpdmVdIiwgInZhbHVlT2YiKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiU3lzY2FsbEVycm9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9Owpjb25zdCBzaXplX3QganNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzX3NpemUgPSBjb3VudG9mKGpzX3N5c2NhbGxlcnJvcl9wcm90b19mdW5jcyk7CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc3lzY2FsbGVycm9yX2RlZnNbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFUEVSTSIsIEVQRVJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9FTlQiLCBFTk9FTlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVTUkNIIiwgRVNSQ0gsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTlRSIiwgRUlOVFIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTyIsIEVJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5YSU8iLCBFTlhJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRTJCSUciLCBFMkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PRVhFQyIsIEVOT0VYRUMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVCQURGIiwgRUJBREYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDSElMRCIsIEVDSElMRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFHQUlOIiwgRUFHQUlOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9NRU0iLCBFTk9NRU0sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBQ0NFUyIsIEVBQ0NFUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZBVUxUIiwgRUZBVUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQlVTWSIsIEVCVVNZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFRVhJU1QiLCBFRVhJU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVYREVWIiwgRVhERVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0RFViIsIEVOT0RFViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVERJUiIsIEVOT1RESVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJU0RJUiIsIEVJU0RJUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOVkFMIiwgRUlOVkFMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkZJTEUiLCBFTkZJTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNRklMRSIsIEVNRklMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFRZIiwgRU5PVFRZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVFhUQlNZIiwgRVRYVEJTWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZCSUciLCBFRkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PU1BDIiwgRU5PU1BDLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFU1BJUEUiLCBFU1BJUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVST0ZTIiwgRVJPRlMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNTElOSyIsIEVNTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBJUEUiLCBFUElQRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURPTSIsIEVET00sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVSQU5HRSIsIEVSQU5HRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURFQURMSyIsIEVERUFETEssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOQU1FVE9PTE9ORyIsIEVOQU1FVE9PTE9ORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTENLIiwgRU5PTENLLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9TWVMiLCBFTk9TWVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RFTVBUWSIsIEVOT1RFTVBUWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTVNHIiwgRU5PTVNHLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSURSTSIsIEVJRFJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9MSU5LIiwgRU5PTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPIiwgRVBST1RPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQkFETVNHIiwgRUJBRE1TRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9WRVJGTE9XIiwgRU9WRVJGTE9XLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSUxTRVEiLCBFSUxTRVEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RTT0NLIiwgRU5PVFNPQ0ssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVERVNUQUREUlJFUSIsIEVERVNUQUREUlJFUSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU1TR1NJWkUiLCBFTVNHU0laRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPVFlQRSIsIEVQUk9UT1RZUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1BST1RPT1BUIiwgRU5PUFJPVE9PUFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVQUk9UT05PU1VQUE9SVCIsIEVQUk9UT05PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9QTk9UU1VQUCIsIEVPUE5PVFNVUFAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRk5PU1VQUE9SVCIsIEVBRk5PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFERFJJTlVTRSIsIEVBRERSSU5VU0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRERSTk9UQVZBSUwiLCBFQUREUk5PVEFWQUlMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVURE9XTiIsIEVORVRET1dOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUVU5SRUFDSCIsIEVORVRVTlJFQUNILCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUUkVTRVQiLCBFTkVUUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDT05OQUJPUlRFRCIsIEVDT05OQUJPUlRFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNPTk5SRVNFVCIsIEVDT05OUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0JVRlMiLCBFTk9CVUZTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSVNDT05OIiwgRUlTQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVENPTk4iLCBFTk9UQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVRJTUVET1VUIiwgRVRJTUVET1VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQ09OTlJFRlVTRUQiLCBFQ09OTlJFRlVTRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVIT1NUVU5SRUFDSCIsIEVIT1NUVU5SRUFDSCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFMUkVBRFkiLCBFQUxSRUFEWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOUFJPR1JFU1MiLCBFSU5QUk9HUkVTUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNBTkNFTEVEIiwgRUNBTkNFTEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFT1dORVJERUFEIiwgRU9XTkVSREVBRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFJFQ09WRVJBQkxFIiwgRU5PVFJFQ09WRVJBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFV09VTERCTE9DSyIsIEVXT1VMREJMT0NLLCAwKSwKfTsKCnN0YXRpYyB2b2lkCmpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBTeXNjYWxsRXJyb3IqIGVyciA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgaWYoZXJyKSB7CiAgICBpZihlcnItPnN5c2NhbGwpCiAgICAgIGpzX2ZyZWVfcnQocnQsIGVyci0+c3lzY2FsbCk7CiAgICBpZihlcnItPnN0YWNrKQogICAgICBqc19mcmVlX3J0KHJ0LCBlcnItPnN0YWNrKTsKICAgIGpzX2ZyZWVfcnQocnQsIGVycik7CiAgfQp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19zeXNjYWxsZXJyb3JfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTeXNjYWxsRXJyb3IiLAogICAgLmZpbmFsaXplciA9IGpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIsCn07CgpzdGF0aWMgaW50CmpzX3N5c2NhbGxlcnJvcl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZXJyb3IgPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgIkVycm9yIik7CgogIGFzc2VydChKU19Jc09iamVjdChlcnJvcikpOwoKICAvKmlmKCFqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQgJiYgIUpTX0lzT2JqZWN0KHN5c2NhbGxlcnJvcl9jdG9yKSkqLyB7CiAgICBKU19OZXdDbGFzc0lEKCZqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQsICZqc19zeXNjYWxsZXJyb3JfY2xhc3MpOwogICAgc3lzY2FsbGVycm9yX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc3lzY2FsbGVycm9yX2NvbnN0cnVjdG9yLCAiU3lzY2FsbEVycm9yIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICAgIHN5c2NhbGxlcnJvcl9wcm90byA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgZXJyb3IpOwogICAgLy8gc3lzY2FsbGVycm9yX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzeXNjYWxsZXJyb3JfY3RvciwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkLCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc3lzY2FsbGVycm9yX2N0b3IsIHN5c2NhbGxlcnJvcl9wcm90byk7CgogICAgLy8gIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2luc3BlY3QpOwogIH0KCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5c2NhbGxFcnJvciIsIHN5c2NhbGxlcnJvcl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19zeXNjYWxsZXJyb3JfZGVmcywgY291bnRvZihqc19zeXNjYWxsZXJyb3JfZGVmcykpOwogIH0KCiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwoKICByZXR1cm4gMDsKfQoKI2lmIGRlZmluZWQoSlNfU0hBUkVEX0xJQlJBUlkpICYmIGRlZmluZWQoSlNfU1lTQ0FMTEVSUk9SX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3N5c2NhbGxlcnJvcgojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX3N5c2NhbGxlcnJvcl9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTeXNjYWxsRXJyb3IiKTsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICByZXR1cm4gbTsKfQoKY29uc3QgY2hhciogY29uc3QgZXJyb3JzWzEzM10gPSB7CiAgICAwLAogICAgIkVQRVJNIiwKICAgICJFTk9FTlQiLAogICAgIkVTUkNIIiwKICAgICJFSU5UUiIsCiAgICAiRUlPIiwKICAgICJFTlhJTyIsCiAgICAiRTJCSUciLAogICAgIkVOT0VYRUMiLAogICAgIkVCQURGIiwKICAgICJFQ0hJTEQiLAogICAgIkVBR0FJTiIsCiAgICAiRU5PTUVNIiwKICAgICJFQUNDRVMiLAogICAgIkVGQVVMVCIsCiAgICAiRU5PVEJMSyIsCiAgICAiRUJVU1kiLAogICAgIkVFWElTVCIsCiAgICAiRVhERVYiLAogICAgIkVOT0RFViIsCiAgICAiRU5PVERJUiIsCiAgICAiRUlTRElSIiwKICAgICJFSU5WQUwiLAogICAgIkVORklMRSIsCiAgICAiRU1GSUxFIiwKICAgICJFTk9UVFkiLAogICAgIkVUWFRCU1kiLAogICAgIkVGQklHIiwKICAgICJFTk9TUEMiLAogICAgIkVTUElQRSIsCiAgICAiRVJPRlMiLAogICAgIkVNTElOSyIsCiAgICAiRVBJUEUiLAogICAgIkVET00iLAogICAgIkVSQU5HRSIsCiAgICAiRURFQURMSyIsCiAgICAiRU5BTUVUT09MT05HIiwKICAgICJFTk9MQ0siLAogICAgIkVOT1NZUyIsCiAgICAiRU5PVEVNUFRZIiwKICAgIDAsCiAgICAwLAogICAgIkVOT01TRyIsCiAgICAiRUlEUk0iLAogICAgIkVDSFJORyIsCiAgICAiRUwyTlNZTkMiLAogICAgIkVMM0hMVCIsCiAgICAiRUwzUlNUIiwKICAgICJFTE5STkciLAogICAgIkVVTkFUQ0giLAogICAgIkVOT0NTSSIsCiAgICAiRUwySExUIiwKICAgICJFQkFERSIsCiAgICAiRUJBRFIiLAogICAgIkVYRlVMTCIsCiAgICAiRU5PQU5PIiwKICAgICJFQkFEUlFDIiwKICAgIDAsCiAgICAwLAogICAgIkVCRk9OVCIsCiAgICAiRU5PU1RSIiwKICAgICJFTk9EQVRBIiwKICAgICJFVElNRSIsCiAgICAiRU5PU1IiLAogICAgIkVOT05FVCIsCiAgICAiRU5PUEtHIiwKICAgICJFUkVNT1RFIiwKICAgICJFTk9MSU5LIiwKICAgICJFQURWIiwKICAgICJFU1JNTlQiLAogICAgIkVDT01NIiwKICAgICJFUFJPVE8iLAogICAgIkVET1RET1QiLAogICAgIkVCQURNU0ciLAogICAgIkVPVkVSRkxPVyIsCiAgICAiRU5PVFVOSVEiLAogICAgIkVCQURGRCIsCiAgICAiRVJFTUNIRyIsCiAgICAiRUxJQkFDQyIsCiAgICAiRUxJQkJBRCIsCiAgICAiRUxJQlNDTiIsCiAgICAiRUxJQk1BWCIsCiAgICAiRUxJQkVYRUMiLAogICAgIkVJTFNFUSIsCiAgICAiRVJFU1RBUlQiLAogICAgIkVTVFJQSVBFIiwKICAgICJFVVNFUlMiLAogICAgIkVOT1RTT0NLIiwKICAgICJFREVTVEFERFJSRVEiLAogICAgIkVNU0dTSVpFIiwKICAgICJFUFJPVE9UWVBFIiwKICAgICJFTk9QUk9UT09QVCIsCiAgICAiRVBST1RPTk9TVVBQT1JUIiwKICAgICJFU09DS1ROT1NVUFBPUlQiLAogICAgIkVPUE5PVFNVUFAiLAogICAgIkVQRk5PU1VQUE9SVCIsCiAgICAiRUFGTk9TVVBQT1JUIiwKICAgICJFQUREUklOVVNFIiwKICAgICJFQUREUk5PVEFWQUlMIiwKICAgICJFTkVURE9XTiIsCiAgICAiRU5FVFVOUkVBQ0giLAogICAgIkVORVRSRVNFVCIsCiAgICAiRUNPTk5BQk9SVEVEIiwKICAgICJFQ09OTlJFU0VUIiwKICAgICJFTk9CVUZTIiwKICAgICJFSVNDT05OIiwKICAgICJFTk9UQ09OTiIsCiAgICAiRVNIVVRET1dOIiwKICAgICJFVE9PTUFOWVJFRlMiLAogICAgIkVUSU1FRE9VVCIsCiAgICAiRUNPTk5SRUZVU0VEIiwKICAgICJFSE9TVERPV04iLAogICAgIkVIT1NUVU5SRUFDSCIsCiAgICAiRUFMUkVBRFkiLAogICAgIkVJTlBST0dSRVNTIiwKICAgICJFVUNMRUFOIiwKICAgICJFTk9UTkFNIiwKICAgICJFTkFWQUlMIiwKICAgICJFSVNOQU0iLAogICAgIkVSRU1PVEVJTyIsCiAgICAiRU5PTUVESVVNIiwKICAgICJFTUVESVVNVFlQRSIsCiAgICAiRUNBTkNFTEVEIiwKICAgICJFTk9LRVkiLAogICAgIkVLRVlFWFBJUkVEIiwKICAgICJFS0VZUkVWT0tFRCIsCiAgICAiRUtFWVJFSkVDVEVEIiwKICAgICJFT1dORVJERUFEIiwKICAgICJFTk9UUkVDT1ZFUkFCTEUiLAogICAgIkVSRktJTEwiLAp9Owpjb25zdCBzaXplX3QgZXJyb3JzX3NpemUgPSBjb3VudG9mKGVycm9ycyk7CgAAAAAAAAAAqEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIzAAAAAAAADaIgAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoQAAAI2luY2x1ZGUgInF1aWNranMtc3lzY2FsbGVycm9yLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2luY2x1ZGUgImNoYXItdXRpbHMuaCIKI2luY2x1ZGUgPGVycm5vLmg+Cgp0aHJlYWRfbG9jYWwgSlNDbGFzc0lEIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCA9IDA7CnRocmVhZF9sb2NhbCBKU1ZhbHVlIHN5c2NhbGxlcnJvcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCBzeXNjYWxsZXJyb3JfY3RvciA9IHt7SlNfVEFHX1VOREVGSU5FRH19OwoKc3RhdGljIGludCBqc19zeXNjYWxsZXJyb3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKc3RhdGljIGNvbnN0IGNoYXIqCmVycm9yX2dldChpbnQgbnVtYmVyKSB7CiAgaWYobnVtYmVyID49IDAgJiYgbnVtYmVyIDwgZXJyb3JzX3NpemUpCiAgICByZXR1cm4gZXJyb3JzW251bWJlcl07CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKZXJyb3JfZmluZChjb25zdCBjaGFyKiBjb2RlKSB7CiAgaW50IGksIGxlbiA9IGVycm9yc19zaXplOwogIGZvcihpID0gMTsgaSA8IGxlbjsgaSsrKSB7CiAgICBpZihlcnJvcnNbaV0gJiYgIXN0cmNtcChjb2RlLCBlcnJvcnNbaV0pKQogICAgICByZXR1cm4gaTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBjaGFyKgpzdGFja19nZXQoSlNDb250ZXh0KiBjdHgpIHsKICBjb25zdCBjaGFyKiBzdGFjazsKICBjaGFyKiByZXQ7CiAgSlNWYWx1ZSBzdCwgZXJyb3IgPSBqc19nbG9iYWxfbmV3KGN0eCwgIkVycm9yIiwgMCwgMCk7CiAgc3QgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVycm9yLCAic3RhY2siKTsKCiAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CiAgc2l6ZV90IHBvcyA9IHN0cl9jaHIoc3RhY2ssICdcbicpOwogIGlmKHN0YWNrW3Bvc10pCiAgICBwb3MrKzsKICByZXQgPSBqc19zdHJkdXAoY3R4LCBzdGFjayArIHBvcyk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdGFjayk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgU3lzY2FsbEVycm9yKgpqc19zeXNjYWxsZXJyb3JfZGF0YShKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlKHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKanNfc3lzY2FsbGVycm9yX2RhdGEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfR2V0T3BhcXVlMihjdHgsIHZhbHVlLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwp9CgpWSVNJQkxFIFN5c2NhbGxFcnJvcioKc3lzY2FsbGVycm9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3lzY2FsbCwgaW50IG51bWJlcikgewogIFN5c2NhbGxFcnJvciogZXJyOwoKICBpZighKGVyciA9IGpzX21hbGxvY3ooY3R4LCBzaXplb2YoU3lzY2FsbEVycm9yKSkpKQogICAgcmV0dXJuIDA7CgogIGVyci0+c3lzY2FsbCA9IHN5c2NhbGwgPyBqc19zdHJkdXAoY3R4LCBzeXNjYWxsKSA6IDA7CiAgZXJyLT5udW1iZXIgPSBudW1iZXI7CiAgZXJyLT5zdGFjayA9IHN0YWNrX2dldChjdHgpOwogIHJldHVybiBlcnI7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3Jfd3JhcChKU0NvbnRleHQqIGN0eCwgU3lzY2FsbEVycm9yKiBlcnIpIHsKICBKU1ZhbHVlIG9iajsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogIEpTX1NldE9wYXF1ZShvYmosIGVycik7CiAgcmV0dXJuIG9iajsKfQoKVklTSUJMRSBKU1ZhbHVlCmpzX3N5c2NhbGxlcnJvcl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN5c2NhbGwsIGludCBudW1iZXIpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICBKU1ZhbHVlIG9iajsKCiAgaWYoanNfc3lzY2FsbGVycm9yX2NsYXNzX2lkID09IDAgLyogfHwgSlNfSXNVbmRlZmluZWQoc3lzY2FsbGVycm9yX3Byb3RvKSB8fCBKU19Jc1VuZGVmaW5lZChzeXNjYWxsZXJyb3JfY3RvcikqLykKICAgIGpzX3N5c2NhbGxlcnJvcl9pbml0KGN0eCwgMCk7CgogIGlmKCEoZXJyID0gc3lzY2FsbGVycm9yX25ldyhjdHgsIHN5c2NhbGwsIG51bWJlcikpKQogICAgcmV0dXJuIEpTX1Rocm93T3V0T2ZNZW1vcnkoY3R4KTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3Rocm93KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeXNjYWxsKSB7CiAgSlNWYWx1ZSBlcnJvciA9IGpzX3N5c2NhbGxlcnJvcl9uZXcoY3R4LCBzeXNjYWxsLCBlcnJubyk7CiAgcmV0dXJuIEpTX1Rocm93KGN0eCwgZXJyb3IpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFN5c2NhbGxFcnJvciogZXJyOwogIEpTVmFsdWUgb2JqID0gSlNfVU5ERUZJTkVELCBwcm90byA9IEpTX1VOREVGSU5FRCwgc3QgPSBKU19VTkRFRklORUQ7CgogIGlmKCEoZXJyID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihTeXNjYWxsRXJyb3IpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgaWYoYXJnYyA+PSAyKSB7CiAgICBlcnItPnN5c2NhbGwgPSBqc190b3N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgYXJnYy0tOwogICAgYXJndisrOwogIH0KCiAgaWYoYXJnYyA+PSAxKSB7CiAgICBpbnQzMl90IG51bWJlcjsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmbnVtYmVyLCBhcmd2WzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGNoYXIqIGNvZGUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgICAgbnVtYmVyID0gZXJyb3JfZmluZChjb2RlKTsKICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBjb2RlKTsKICAgIH0KICAgIGVyci0+bnVtYmVyID0gbnVtYmVyOwogIH0KICBlcnItPnN0YWNrID0gc3RhY2tfZ2V0KGN0eCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwoKICBKU19TZXRPcGFxdWUob2JqLCBlcnIpOwogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIGVycik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgdm9pZApqc19zeXNjYWxsZXJyb3JfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBEeW5CdWYqIGRidWYpIHsKICBTeXNjYWxsRXJyb3IqIGVycjsKICAvKiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgICByZXR1cm47Ki8KICBpZigoZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpKSkgewogICAgLy8gZGJ1Zl9wdXRzdHIoZGJ1ZiwgIlN5c2NhbGxFcnJvcjogIik7CgogICAgaWYoZXJyLT5zeXNjYWxsKSB7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsIGVyci0+c3lzY2FsbCk7CiAgICAgIGRidWZfcHV0c3RyKGRidWYsICIoKSAiKTsKICAgIH0KICAgIGlmKGVyci0+bnVtYmVyKSB7CiAgICAgIGNvbnN0IGNoYXIqIG1zZzsKCiAgICAgIGlmKChtc2cgPSBzdHJlcnJvcihlcnItPm51bWJlcikpKQogICAgICAgIGRidWZfcHV0c3RyKGRidWYsIG1zZyk7CiAgICB9CiAgICBpZihlcnItPnN0YWNrKSB7CiAgICAgIGRidWZfcHV0YyhkYnVmLCAnXG4nKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGJ1ZiwgZXJyLT5zdGFjayk7CiAgICB9CiAgICBkYnVmXzAoZGJ1Zik7CiAgfQp9CgplbnVtIHsKICBTWVNDQUxMRVJST1JfVE9TVFJJTkcsCiAgU1lTQ0FMTEVSUk9SX1ZBTFVFT0YsCn07CgpzdGF0aWMgSlNWYWx1ZQpqc19zeXNjYWxsZXJyb3JfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVycjsKCiAgaWYoIShlcnIgPSBqc19zeXNjYWxsZXJyb3JfZGF0YTIoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9UT1NUUklORzogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9WQUxVRU9GOiB7CiAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgZXJyLT5udW1iZXIpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBjb25zdCBjaGFyKiBjb2RlID0gMDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgLyogIGlmKCFlcnIpCiAgICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsqLwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiZXJybm8iLCBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKSwgSlNfUFJPUF9DX1dfRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIm1lc3NhZ2UiLCBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHRoaXNfdmFsLCAibWVzc2FnZSIpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoZXJyLT5zeXNjYWxsKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN5c2NhbGwiLCBKU19OZXdTdHJpbmcoY3R4LCBlcnItPnN5c2NhbGwpLCBKU19QUk9QX0NfV19FKTsKCiAgaWYoKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSkKICAgIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJjb2RlIiwgSlNfTmV3U3RyaW5nKGN0eCwgY29kZSksIEpTX1BST1BfQ19XX0UpOwoKICBpZihqc19oYXNfcHJvcGVydHlzdHIoY3R4LCBvYmosICJzdGFjayIpKQogICAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInN0YWNrIiwgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgInN0YWNrIiksIEpTX1BST1BfQ09ORklHVVJBQkxFIHwgSlNfUFJPUF9XUklUQUJMRSk7CgogIHJldHVybiBvYmo7Cn0KCmVudW0gewogIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwsCiAgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERSwKICBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywKICBTWVNDQUxMRVJST1JfUFJPUF9TVEFDSywKICBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBTeXNjYWxsRXJyb3IqIGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhKHRoaXNfdmFsKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEw6IHsKICAgICAgaWYoZXJyKQogICAgICAgIHJldCA9IGVyci0+c3lzY2FsbCA/IEpTX05ld1N0cmluZyhjdHgsIGVyci0+c3lzY2FsbCkgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBjb25zdCBjaGFyKiBjb2RlOwogICAgICBpZihlcnIpCiAgICAgICAgcmV0ID0gKGNvZGUgPSBlcnJvcl9nZXQoZXJyLT5udW1iZXIpKSA/IEpTX05ld1N0cmluZyhjdHgsIGNvZGUpIDogSlNfTlVMTDsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX0VSUk5POiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIGVyci0+bnVtYmVyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGlmKGVycikKICAgICAgICByZXQgPSBlcnItPnN0YWNrID8gSlNfTmV3U3RyaW5nKGN0eCwgZXJyLT5zdGFjaykgOiBKU19OVUxMOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRTogewogICAgICBEeW5CdWYgZGJ1ZiA9IHswfTsKICAgICAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogICAgICBqc19zeXNjYWxsZXJyb3JfZHVtcChjdHgsIHRoaXNfdmFsLCAmZGJ1Zik7CiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgYnl0ZV9jaHIoZGJ1Zi5idWYsIGRidWYuc2l6ZSwgJ1xuJykpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc3lzY2FsbGVycm9yX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIFN5c2NhbGxFcnJvciogZXJyID0ganNfc3lzY2FsbGVycm9yX2RhdGEodGhpc192YWwpOwoKICAvKiBpZighKGVyciA9IGpzX3N5c2NhbGxlcnJvcl9kYXRhMihjdHgsIHRoaXNfdmFsKSkpCiAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsqLwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfU1lTQ0FMTDogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfQ09ERTogewogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU1lTQ0FMTEVSUk9SX1BST1BfRVJSTk86IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLOiB7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTWVNDQUxMRVJST1JfUFJPUF9NRVNTQUdFOiB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIC8vCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3lzY2FsbCIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NZU0NBTEwpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm5hbWUiLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9DT0RFKSwKICAgIEpTX0FMSUFTX0RFRigiY29kZSIsICJuYW1lIiksCiAgICBKU19DR0VUU0VUX01BR0lDX0ZMQUdTX0RFRigiZXJybm8iLCBqc19zeXNjYWxsZXJyb3JfZ2V0LCBqc19zeXNjYWxsZXJyb3Jfc2V0LCBTWVNDQUxMRVJST1JfUFJPUF9FUlJOTywgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQUxJQVNfREVGKCJudW1iZXIiLCAiZXJybm8iKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdGFjayIsIGpzX3N5c2NhbGxlcnJvcl9nZXQsIGpzX3N5c2NhbGxlcnJvcl9zZXQsIFNZU0NBTExFUlJPUl9QUk9QX1NUQUNLKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfRkxBR1NfREVGKAogICAgICAgICJtZXNzYWdlIiwganNfc3lzY2FsbGVycm9yX2dldCwganNfc3lzY2FsbGVycm9yX3NldCwgU1lTQ0FMTEVSUk9SX1BST1BfTUVTU0FHRSwgSlNfUFJPUF9DT05GSUdVUkFCTEUgfCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3N5c2NhbGxlcnJvcl9tZXRob2QsIFNZU0NBTExFUlJPUl9UT1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlT2YiLCAwLCBqc19zeXNjYWxsZXJyb3JfbWV0aG9kLCBTWVNDQUxMRVJST1JfVkFMVUVPRiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wudG9QcmltaXRpdmVdIiwgInZhbHVlT2YiKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiU3lzY2FsbEVycm9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9Owpjb25zdCBzaXplX3QganNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzX3NpemUgPSBjb3VudG9mKGpzX3N5c2NhbGxlcnJvcl9wcm90b19mdW5jcyk7CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc3lzY2FsbGVycm9yX2RlZnNbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFUEVSTSIsIEVQRVJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9FTlQiLCBFTk9FTlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVTUkNIIiwgRVNSQ0gsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTlRSIiwgRUlOVFIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJTyIsIEVJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5YSU8iLCBFTlhJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRTJCSUciLCBFMkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PRVhFQyIsIEVOT0VYRUMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVCQURGIiwgRUJBREYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDSElMRCIsIEVDSElMRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFHQUlOIiwgRUFHQUlOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9NRU0iLCBFTk9NRU0sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBQ0NFUyIsIEVBQ0NFUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZBVUxUIiwgRUZBVUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQlVTWSIsIEVCVVNZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFRVhJU1QiLCBFRVhJU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVYREVWIiwgRVhERVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0RFViIsIEVOT0RFViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVERJUiIsIEVOT1RESVIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVJU0RJUiIsIEVJU0RJUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOVkFMIiwgRUlOVkFMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkZJTEUiLCBFTkZJTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNRklMRSIsIEVNRklMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFRZIiwgRU5PVFRZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVFhUQlNZIiwgRVRYVEJTWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUZCSUciLCBFRkJJRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PU1BDIiwgRU5PU1BDLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFU1BJUEUiLCBFU1BJUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVST0ZTIiwgRVJPRlMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVNTElOSyIsIEVNTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBJUEUiLCBFUElQRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURPTSIsIEVET00sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVSQU5HRSIsIEVSQU5HRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRURFQURMSyIsIEVERUFETEssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOQU1FVE9PTE9ORyIsIEVOQU1FVE9PTE9ORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTENLIiwgRU5PTENLLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9TWVMiLCBFTk9TWVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RFTVBUWSIsIEVOT1RFTVBUWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PTVNHIiwgRU5PTVNHLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSURSTSIsIEVJRFJNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTk9MSU5LIiwgRU5PTElOSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPIiwgRVBST1RPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQkFETVNHIiwgRUJBRE1TRywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9WRVJGTE9XIiwgRU9WRVJGTE9XLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSUxTRVEiLCBFSUxTRVEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1RTT0NLIiwgRU5PVFNPQ0ssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVERVNUQUREUlJFUSIsIEVERVNUQUREUlJFUSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU1TR1NJWkUiLCBFTVNHU0laRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVBST1RPVFlQRSIsIEVQUk9UT1RZUEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT1BST1RPT1BUIiwgRU5PUFJPVE9PUFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVQUk9UT05PU1VQUE9SVCIsIEVQUk9UT05PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU9QTk9UU1VQUCIsIEVPUE5PVFNVUFAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRk5PU1VQUE9SVCIsIEVBRk5PU1VQUE9SVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFERFJJTlVTRSIsIEVBRERSSU5VU0UsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVBRERSTk9UQVZBSUwiLCBFQUREUk5PVEFWQUlMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVURE9XTiIsIEVORVRET1dOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUVU5SRUFDSCIsIEVORVRVTlJFQUNILCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFTkVUUkVTRVQiLCBFTkVUUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVDT05OQUJPUlRFRCIsIEVDT05OQUJPUlRFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNPTk5SRVNFVCIsIEVDT05OUkVTRVQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVOT0JVRlMiLCBFTk9CVUZTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFSVNDT05OIiwgRUlTQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVENPTk4iLCBFTk9UQ09OTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVRJTUVET1VUIiwgRVRJTUVET1VULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFQ09OTlJFRlVTRUQiLCBFQ09OTlJFRlVTRUQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVIT1NUVU5SRUFDSCIsIEVIT1NUVU5SRUFDSCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUFMUkVBRFkiLCBFQUxSRUFEWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUlOUFJPR1JFU1MiLCBFSU5QUk9HUkVTUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRUNBTkNFTEVEIiwgRUNBTkNFTEVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFT1dORVJERUFEIiwgRU9XTkVSREVBRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRU5PVFJFQ09WRVJBQkxFIiwgRU5PVFJFQ09WRVJBQkxFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFV09VTERCTE9DSyIsIEVXT1VMREJMT0NLLCAwKSwKfTsKCnN0YXRpYyB2b2lkCmpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBTeXNjYWxsRXJyb3IqIGVyciA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX3N5c2NhbGxlcnJvcl9jbGFzc19pZCk7CiAgaWYoZXJyKSB7CiAgICBpZihlcnItPnN5c2NhbGwpCiAgICAgIGpzX2ZyZWVfcnQocnQsIGVyci0+c3lzY2FsbCk7CiAgICBpZihlcnItPnN0YWNrKQogICAgICBqc19mcmVlX3J0KHJ0LCBlcnItPnN0YWNrKTsKICAgIGpzX2ZyZWVfcnQocnQsIGVycik7CiAgfQp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc19zeXNjYWxsZXJyb3JfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTeXNjYWxsRXJyb3IiLAogICAgLmZpbmFsaXplciA9IGpzX3N5c2NhbGxlcnJvcl9maW5hbGl6ZXIsCn07CgpzdGF0aWMgaW50CmpzX3N5c2NhbGxlcnJvcl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZXJyb3IgPSBqc19nbG9iYWxfcHJvdG90eXBlKGN0eCwgIkVycm9yIik7CgogIGFzc2VydChKU19Jc09iamVjdChlcnJvcikpOwoKICAvKmlmKCFqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQgJiYgIUpTX0lzT2JqZWN0KHN5c2NhbGxlcnJvcl9jdG9yKSkqLyB7CiAgICBKU19OZXdDbGFzc0lEKCZqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19zeXNjYWxsZXJyb3JfY2xhc3NfaWQsICZqc19zeXNjYWxsZXJyb3JfY2xhc3MpOwogICAgc3lzY2FsbGVycm9yX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc3lzY2FsbGVycm9yX2NvbnN0cnVjdG9yLCAiU3lzY2FsbEVycm9yIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICAgIHN5c2NhbGxlcnJvcl9wcm90byA9IEpTX05ld09iamVjdFByb3RvKGN0eCwgZXJyb3IpOwogICAgLy8gc3lzY2FsbGVycm9yX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzeXNjYWxsZXJyb3JfY3RvciwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc3lzY2FsbGVycm9yX3Byb3RvLCBqc19zeXNjYWxsZXJyb3JfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfc3lzY2FsbGVycm9yX2NsYXNzX2lkLCBzeXNjYWxsZXJyb3JfcHJvdG8pOwoKICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc3lzY2FsbGVycm9yX2N0b3IsIHN5c2NhbGxlcnJvcl9wcm90byk7CgogICAgLy8gIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHN5c2NhbGxlcnJvcl9wcm90bywganNfc3lzY2FsbGVycm9yX2luc3BlY3QpOwogIH0KCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlN5c2NhbGxFcnJvciIsIHN5c2NhbGxlcnJvcl9jdG9yKTsKICAgIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19zeXNjYWxsZXJyb3JfZGVmcywgY291bnRvZihqc19zeXNjYWxsZXJyb3JfZGVmcykpOwogIH0KCiAgSlNfRnJlZVZhbHVlKGN0eCwgZXJyb3IpOwoKICByZXR1cm4gMDsKfQoKI2lmIGRlZmluZWQoSlNfU0hBUkVEX0xJQlJBUlkpICYmIGRlZmluZWQoSlNfU1lTQ0FMTEVSUk9SX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3N5c2NhbGxlcnJvcgojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX3N5c2NhbGxlcnJvcl9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTeXNjYWxsRXJyb3IiKTsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfc3lzY2FsbGVycm9yX2RlZnMsIGNvdW50b2YoanNfc3lzY2FsbGVycm9yX2RlZnMpKTsKICByZXR1cm4gbTsKfQoKY29uc3QgY2hhciogY29uc3QgZXJyb3JzWzEzM10gPSB7CiAgICAwLAogICAgIkVQRVJNIiwKICAgICJFTk9FTlQiLAogICAgIkVTUkNIIiwKICAgICJFSU5UUiIsCiAgICAiRUlPIiwKICAgICJFTlhJTyIsCiAgICAiRTJCSUciLAogICAgIkVOT0VYRUMiLAogICAgIkVCQURGIiwKICAgICJFQ0hJTEQiLAogICAgIkVBR0FJTiIsCiAgICAiRU5PTUVNIiwKICAgICJFQUNDRVMiLAogICAgIkVGQVVMVCIsCiAgICAiRU5PVEJMSyIsCiAgICAiRUJVU1kiLAogICAgIkVFWElTVCIsCiAgICAiRVhERVYiLAogICAgIkVOT0RFViIsCiAgICAiRU5PVERJUiIsCiAgICAiRUlTRElSIiwKICAgICJFSU5WQUwiLAogICAgIkVORklMRSIsCiAgICAiRU1GSUxFIiwKICAgICJFTk9UVFkiLAogICAgIkVUWFRCU1kiLAogICAgIkVGQklHIiwKICAgICJFTk9TUEMiLAogICAgIkVTUElQRSIsCiAgICAiRVJPRlMiLAogICAgIkVNTElOSyIsCiAgICAiRVBJUEUiLAogICAgIkVET00iLAogICAgIkVSQU5HRSIsCiAgICAiRURFQURMSyIsCiAgICAiRU5BTUVUT09MT05HIiwKICAgICJFTk9MQ0siLAogICAgIkVOT1NZUyIsCiAgICAiRU5PVEVNUFRZIiwKICAgIDAsCiAgICAwLAogICAgIkVOT01TRyIsCiAgICAiRUlEUk0iLAogICAgIkVDSFJORyIsCiAgICAiRUwyTlNZTkMiLAogICAgIkVMM0hMVCIsCiAgICAiRUwzUlNUIiwKICAgICJFTE5STkciLAogICAgIkVVTkFUQ0giLAogICAgIkVOT0NTSSIsCiAgICAiRUwySExUIiwKICAgICJFQkFERSIsCiAgICAiRUJBRFIiLAogICAgIkVYRlVMTCIsCiAgICAiRU5PQU5PIiwKICAgICJFQkFEUlFDIiwKICAgIDAsCiAgICAwLAogICAgIkVCRk9OVCIsCiAgICAiRU5PU1RSIiwKICAgICJFTk9EQVRBIiwKICAgICJFVElNRSIsCiAgICAiRU5PU1IiLAogICAgIkVOT05FVCIsCiAgICAiRU5PUEtHIiwKICAgICJFUkVNT1RFIiwKICAgICJFTk9MSU5LIiwKICAgICJFQURWIiwKICAgICJFU1JNTlQiLAogICAgIkVDT01NIiwKICAgICJFUFJPVE8iLAogICAgIkVET1RET1QiLAogICAgIkVCQURNU0ciLAogICAgIkVPVkVSRkxPVyIsCiAgICAiRU5PVFVOSVEiLAogICAgIkVCQURGRCIsCiAgICAiRVJFTUNIRyIsCiAgICAiRUxJQkFDQyIsCiAgICAiRUxJQkJBRCIsCiAgICAiRUxJQlNDTiIsCiAgICAiRUxJQk1BWCIsCiAgICAiRUxJQkVYRUMiLAogICAgIkVJTFNFUSIsCiAgICAiRVJFU1RBUlQiLAogICAgIkVTVFJQSVBFIiwKICAgICJFVVNFUlMiLAogICAgIkVOT1RTT0NLIiwKICAgICJFREVTVEFERFJSRVEiLAogICAgIkVNU0dTSVpFIiwKICAgICJFUFJPVE9UWVBFIiwKICAgICJFTk9QUk9UT09QVCIsCiAgICAiRVBST1RPTk9TVVBQT1JUIiwKICAgICJFU09DS1ROT1NVUFBPUlQiLAogICAgIkVPUE5PVFNVUFAiLAogICAgIkVQRk5PU1VQUE9SVCIsCiAgICAiRUFGTk9TVVBQT1JUIiwKICAgICJFQUREUklOVVNFIiwKICAgICJFQUREUk5PVEFWQUlMIiwKICAgICJFTkVURE9XTiIsCiAgICAiRU5FVFVOUkVBQ0giLAogICAgIkVORVRSRVNFVCIsCiAgICAiRUNPTk5BQk9SVEVEIiwKICAgICJFQ09OTlJFU0VUIiwKICAgICJFTk9CVUZTIiwKICAgICJFSVNDT05OIiwKICAgICJFTk9UQ09OTiIsCiAgICAiRVNIVVRET1dOIiwKICAgICJFVE9PTUFOWVJFRlMiLAogICAgIkVUSU1FRE9VVCIsCiAgICAiRUNPTk5SRUZVU0VEIiwKICAgICJFSE9TVERPV04iLAogICAgIkVIT1NUVU5SRUFDSCIsCiAgICAiRUFMUkVBRFkiLAogICAgIkVJTlBST0dSRVNTIiwKICAgICJFVUNMRUFOIiwKICAgICJFTk9UTkFNIiwKICAgICJFTkFWQUlMIiwKICAgICJFSVNOQU0iLAogICAgIkVSRU1PVEVJTyIsCiAgICAiRU5PTUVESVVNIiwKICAgICJFTUVESVVNVFlQRSIsCiAgICAiRUNBTkNFTEVEIiwKICAgICJFTk9LRVkiLAogICAgIkVLRVlFWFBJUkVEIiwKICAgICJFS0VZUkVWT0tFRCIsCiAgICAiRUtFWVJFSkVDVEVEIiwKICAgICJFT1dORVJERUFEIiwKICAgICJFTk9UUkVDT1ZFUkFCTEUiLAogICAgIkVSRktJTEwiLAp9Owpjb25zdCBzaXplX3QgZXJyb3JzX3NpemUgPSBjb3VudG9mKGVycm9ycyk7CgAAAAAAAAAAqEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIzAAAAAAAADaIgAAAAAAAAAAAAAAAPC/"
				]
			]
		}
	],
	"build_system": "Packages/Makefile/Make.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Build all",
					""
				],
				[
					"Build tests",
					""
				],
				[
					"List",
					""
				],
				[
					"Rebuild CTags",
					""
				],
				[
					"clang-format",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				]
			],
			[
				"Packages/Makefile/Make.sublime-build",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"debugger",
				"Preferences: Debugger Settings"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"add re",
				"Package Control: Add Repository"
			],
			[
				"scheme",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"outli",
				"Browse Mode: Outline (Right)"
			],
			[
				"outline",
				"Browse Mode: Outline (Right)"
			],
			[
				"outlin",
				"Browse Mode: Outline (Right)"
			],
			[
				"INSTALL",
				"Package Control: Install Package"
			],
			[
				"edit",
				"SchemeEditor: Edit Current Scheme"
			],
			[
				"",
				"Arithmetic"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: ",
				"Package Control: Disable Package"
			],
			[
				"adap",
				"Debugger: Install Adapters"
			],
			[
				"install ada",
				"Debugger: Install Adapters"
			],
			[
				"adapter",
				"Debugger: Install Adapters"
			],
			[
				"debug",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: remove",
				"Package Control: Remove Package"
			],
			[
				"debu",
				"Debugger: Install Adapters"
			],
			[
				"instal",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 289.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/libarchive",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests"
	],
	"file_history":
	[
		"/home/roman/.config/sublime-text/Packages/ExtendedSwitcher/ExtendedSwitcher.sublime-settings",
		"/home/roman/Projects/plot-cv/lib/jslexer.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/jslexer.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/console.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lexer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/util.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_lexer.js",
		"/home/roman/.config/sublime-text/Packages/User/LiveReload.sublime-settings",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/events.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/child-process.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/buffer-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-child-process.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/path.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/socketpair_win32.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/extendArray.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/predicate.c",
		"/home/roman/.config/sublime-text/Packages/LiveReload/LiveReload.sublime-settings",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/qsort_r.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/vector.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/QuickJSModule.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/char-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/buffer-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/vector.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-lexer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-location.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/pointer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/pointer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-pointer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-pointer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/fs.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/predicate.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-predicate.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/child-process.h",
		"/home/roman/Projects/coreutils/gnulib/lib/execute.c",
		"/home/roman/Projects/coreutils/gnulib/lib/windows-spawn.h",
		"/home/roman/Projects/coreutils/gnulib/lib/spawn-pipe.c",
		"/tmp/spawn/pcs_exec.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/modules.project",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/mmap-win32.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/mmap-win32.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-mmap.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-path.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/FindQuickJS.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/qjsm.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-inspect.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-repeater.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/process.js",
		"/tmp/spawn/process.2.c",
		"/tmp/spawn/process.c",
		"/tmp/spawn/systemimpl.1.c",
		"/tmp/spawn/systemimpl.c",
		"/tmp/spawnvpe/fgvsys_d.c",
		"/tmp/spawnvpe/posixmodule.1.c",
		"/tmp/spawnvpe/posixmodule.c",
		"/tmp/spawnvpe/process.c",
		"/tmp/spawnvpe/redirect.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-debug/modules/util.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-internal.h",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.c",
		"/home/roman/.config/sublime-text/Packages/Search in Project/README.md",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-deep.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/lib/repl.js",
		"/home/roman/.config/sublime-text/Packages/Outline/outline-Dark.hidden-tmTheme",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-debug/modules/fs.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/extendGenerator.js",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/test-repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/path.h",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/quickjs-sockets.c",
		"/home/roman/Projects/plot-cv/quickjs/quickjs-libc.c",
		"/home/roman/Projects/plot-cv/quickjs/quickjs-libc.h",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-internal.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_misc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/property-enumeration.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/bc-socklen_t.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/char-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_childprocess.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.h",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/ringbuffer.h",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/buffer-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/property-enumeration.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-stringdecoder.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-syscallerror.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-syscallerror.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/utils.h",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/qjsm.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/utils.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/cmake/QuickJSModule.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/qjsm",
		"/home/roman/Sources/plot-cv/quickjs/quickjs.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/quickjs-repeater.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/quickjs-inspect.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/quickjs-predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-bjson.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-archive.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/stack.js",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/lexer.c",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/property-enumeration.h",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/quickjs-lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/location.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/socklen_t.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_sockets.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/parser.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/fd_set.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/timeval.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_parser.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-gpio.h",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/cmake/FindQuickJS.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/.clang-format",
		"/home/roman/Sources/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/CMakeCache.txt",
		"/home/roman/Projects/plot-cv/quickjs/cutils.h"
	],
	"find":
	{
		"height": 38.0
	},
	"find_in_files":
	{
		"height": 130.0,
		"where_history":
		[
			"/home/roman/Projects/plot-cv/quickjs/qjs-modules,*.c,*.h,*.js,-*/build/*,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/qjs-modules,*.c,*.h,*.js,-*/build/*,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js,-*/build/*,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js",
			"/home/roman/Sources/plot-cv/quickjs,*.c,*.h,*.js",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js"
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"js_misc_concat",
			"js_input_buffer",
			"concat",
			"js_function",
			"JSCFunctionType",
			"JS_CLASS_C_FUNCTION",
			"JS_CLASS_C_FUNCTION_DATA",
			"struct JSObject",
			"JSVarRef",
			"data:",
			"Location",
			"\\.tokens",
			"topState",
			"popState",
			"\"state",
			"\\.state",
			"outputFunction",
			"logFunction",
			"output",
			"outputFunction",
			"output =",
			"lexer.tokens",
			"JSLexer",
			"new Lexer",
			"js_sockets_init",
			"NewCFunctionData",
			"js_socket_async_wait",
			"js_socket_async_read",
			"module_exports",
			"SOCKETS_ERRNO:",
			"SOCKETS_ERRNO",
			"JSExportEntry",
			"JSModuleDef",
			"^JSModuleDef",
			"wait",
			"CHILD_PROCESS_EXITED",
			"EAGAIN",
			"\"EAGAIN\"",
			"encoding",
			"ArrayBufferToString",
			"encoding",
			"class_id",
			"js_is_location",
			"array_contains",
			"array_sea",
			"QJSM_EXTRA",
			"location_SOURCES",
			"QJSM_EXTRA_SOURCES",
			"qjsm ",
			"\\(qjsm",
			"qjsm",
			"vector_SOURCES",
			"char_utils_SOURCES",
			"util_SOURCES",
			"utils.c utils.h",
			"utils\\.c",
			"set.lexer",
			"vector.c vector.h",
			"vector_",
			"vector",
			"stringde",
			"flags",
			"socketpair_win32",
			"socketpair",
			" qsort_r\\.c",
			" qsort_r.c",
			"qsort",
			"quicksort",
			"status",
			"PROCESS_STATUS_ERROR",
			"child.process",
			"child_process",
			"TERMIOS",
			"prepare_spawn",
			"_WIN32",
			"dup2",
			"spawnvp",
			"child_p",
			"prot",
			"PROT_READ",
			"HAVE_MMAP",
			"gpio",
			"HAVE_MMAP",
			"^",
			"mmap",
			"realpath",
			"getuid",
			"#endif\n#ifndef __wasi__\n",
			"FUNC_GETUID",
			"\"getuid",
			"fmemopen",
			"HAVE_STRVERSCMP",
			"utils.c",
			"qsort",
			"check_func",
			"qsort",
			"QUICKJS_LIBRARY[^_]",
			"QUICKJS_LIBRARY",
			"WIN32",
			"QUICKJS_LIBRARY_DIR",
			"target_link",
			"add_library",
			"add_lib",
			"QUICKJS_LIBRARY",
			"SOCKETS_NDELAY,",
			"_MODE:",
			"SOCKET_ERROR",
			"SOCKET_SYSCALL",
			"SOCKET_",
			"alloca",
			"check_func",
			"lstat",
			"misc_uname",
			"utsname",
			"SIGTERM",
			"readSync",
			"stdout",
			"jsm_load_package",
			"jsm_module_load",
			"jsm_init_modules",
			"jsm_modules",
			"SOCKET_ERROR",
			"js_sockets_init",
			"vector_forea",
			"js_sockets_funcs",
			"exports",
			"valueOf",
			"\"valueOf"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			"js_socket_async_wait",
			"utils_SOURCES",
			"${util_SOURCES}",
			"${vector_SOURCES}",
			"socketpair",
			"",
			"#",
			"",
			"HAVE_MEMMEM",
			"log",
			"class_key",
			"}\\n\\nsize_t",
			"# ",
			"#",
			"HAVE_REALPATH",
			"",
			"HAVE_TERMIOS_H",
			"HAVE_MMAP",
			"HAVE_SYS_MMAN_H",
			"HAVE_SYS_WAIT_H",
			"length",
			"loc->",
			"ret->",
			"arg",
			" ",
			"",
			"\"\\\\t",
			"\"\\t",
			"imp.",
			"ctx,",
			"",
			"JSValueConst)",
			"",
			"jsm_module_loader",
			"js_module_loader_so",
			"js_eval_file",
			"js_eval_buf",
			"js_load_script",
			"jsm_eval_script",
			"js_eval_file",
			"js_load_module",
			"js_eval_str",
			"js_module_get",
			"JSValueConst)",
			"js_module_search",
			"jsm_module_find",
			"js_module_find",
			"js_load_",
			"js_load_module",
			"js_eval_buf",
			"js_load_script",
			"js_std_dump_error",
			"js_module_exports",
			"fdset",
			" ",
			"js_input_buffer",
			"\\1(\\2, sock",
			"\\1(",
			"",
			"JS_CGETSET_MAGIC_DEF",
			"off.",
			"} else if(",
			"port",
			".buf",
			"'",
			"",
			"socket_send",
			"0x00",
			" 0x00,",
			"0x78,",
			"0x78",
			" 0x00,",
			"0x78",
			"JS_CGETSET_MAGIC_DEF",
			"socket_syscalls_size",
			"js_syscallerror_get, js_syscallerror_set,",
			"js_socket_get, js_socket_set, ",
			"e",
			"js_syscallerror_proto_funcs",
			"s.fd",
			"js_socket_proto_funcs",
			"\"",
			"SYSCALLERROR_VALUEOF",
			"s, ",
			"JS_SOCKETCALL",
			"JS_SOCKETCALL_RETURN",
			"js_socket_data2(ctx",
			"sa->family",
			"QUICKJS_SYSCALLERROR_H",
			"data2",
			"js_syscallerror_data2",
			"QUICKJS_MISC_H",
			"js_sockets_defines",
			"js_sockaddr_data2",
			"js_sockaddr_data",
			"SockAddr",
			"struct sockaddr*",
			"sockets_init",
			"argv[i]",
			"pigpio",
			"CHAR_UTILS",
			"${util_SOURCES}",
			"ol.",
			"range_from",
			".range.length",
			".range.offset",
			"input_buffer_length(in)",
			"input_buffer_data(in)",
			"blob",
			"location->vec",
			"location",
			"Location",
			"r->data\\1",
			" this.fs.",
			"stringdecoder",
			"js_stringdecoder_set",
			"js_stringdecoder_get",
			"stringdecoder",
			"\\1if(gpio->debug) fprintf",
			"struct gpio",
			"struct GPIO",
			"struct GPIO*",
			"ctx->rt",
			"",
			": ",
			"\"",
			"ret = \\1;",
			"->errnum"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2071,
						"regions":
						{
						},
						"selection":
						[
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"current_file": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.c",
							"function_name_status_row": 34,
							"outline_rename_mode": false,
							"symkeys":
							[
								[
									148,
									157
								],
								[
									196,
									205
								],
								[
									247,
									257
								],
								[
									647,
									662
								],
								[
									705,
									725
								],
								[
									788,
									801
								],
								[
									934,
									952
								],
								[
									1073,
									1093
								],
								[
									1965,
									1979
								],
								[
									2233,
									2245
								],
								[
									2367,
									2390
								],
								[
									2521,
									2537
								],
								[
									2778,
									2793
								],
								[
									2967,
									2983
								],
								[
									4117,
									4140
								],
								[
									4950,
									4968
								],
								[
									6021,
									6036
								],
								[
									6992,
									7007
								],
								[
									7867,
									7886
								],
								[
									8599,
									8620
								],
								[
									9910,
									9922
								],
								[
									10869,
									10882
								],
								[
									11506,
									11516
								],
								[
									12119,
									12130
								],
								[
									12666,
									12679
								],
								[
									12958,
									12969
								],
								[
									13831,
									13843
								],
								[
									14781,
									14791
								],
								[
									15413,
									15422
								],
								[
									15844,
									15857
								],
								[
									16455,
									16464
								],
								[
									17451,
									17458
								],
								[
									19712,
									19731
								],
								[
									20172,
									20185
								],
								[
									20337,
									20353
								],
								[
									20539,
									20552
								],
								[
									22809,
									22822
								],
								[
									23411,
									23424
								],
								[
									23749,
									23765
								],
								[
									29500,
									29521
								],
								[
									30186,
									30203
								],
								[
									31108,
									31125
								],
								[
									31561,
									31584
								],
								[
									32072,
									32092
								],
								[
									33699,
									33714
								],
								[
									33909,
									33928
								],
								[
									34223,
									34233
								],
								[
									49510,
									49525
								],
								[
									52065,
									52079
								],
								[
									52109,
									52123
								]
							],
							"symlist":
							[
								"\tâ’¡  inet_pton ( ) ; â€” function declaration",
								"\tâ’¡  inet_ntop ( ) ; â€” function declaration",
								"\tâ’¡  socketpair ( ) ; â€” function declaration",
								"\tâ’¡  js_sockets_init ( ) ; â€” function declaration",
								"\tâ’¡  js_socket_async_wait ( ) ; â€” function declaration",
								"â€”â“‚â€“ JS_SOCKETCALL ( ) â€¦ â€” macro function",
								"â€”â“‚â€“ JS_SOCKETCALL_FAIL ( ) â€¦ â€” macro function",
								"â€”â“‚â€“ JS_SOCKETCALL_RETURN ( ) â€¦ â€” macro function",
								"â€”â’»â€“ syscall_return ( ) { â€¦ } â€” function",
								"â€”â’»â€“ sockaddr_new ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_free_buffer ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_wrap ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_new ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_init ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_constructor ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_method ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_get ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_set ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_inspect ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockaddr_finalizer ( ) { â€¦ } â€” function",
								"â€”â’»â€“ timeval_read ( ) { â€¦ } â€” function",
								"â€”â’»â€“ timeval_write ( ) { â€¦ } â€” function",
								"â€”â’»â€“ fdset_read ( ) { â€¦ } â€” function",
								"â€”â’»â€“ fdset_write ( ) { â€¦ } â€” function",
								"â€”â’»â€“ fdset_toarray ( ) { â€¦ } â€” function",
								"â€”â’»â€“ pollfd_read ( ) { â€¦ } â€” function",
								"â€”â’»â€“ pollfd_write ( ) { â€¦ } â€” function",
								"â€”â’»â€“ optval_buf ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socketpair ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_select ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_poll ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_new_proto ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_new ( ) { â€¦ } â€” function",
								"â€”â’¸â€“ SocketProperties { â€¦ } ; â€” type",
								"â€”â’»â€“ js_socket_get ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_set ( ) { â€¦ } â€” function",
								"â€”â’¸â€“ SocketMethods { â€¦ } ; â€” type",
								"â€”â’»â€“ js_socket_method ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_constructor ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_inspect ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_valueof ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_async_resolve ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_async_wait ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_adopt ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_socket_finalizer ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockopt ( ) { â€¦ } â€” function",
								"â€”â’»â€“ js_sockets_init ( ) { â€¦ } â€” function",
								"\tâ“‚  JS_INIT_MODULE â€¦ â€” macro object",
								"\tâ“‚  JS_INIT_MODULE â€¦ â€” macro object"
							],
							"syntax": "Packages/Outline/outline.hidden-tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633746602.44,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 1,
					"file": "quickjs-sockets.c",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 52950,
						"regions":
						{
						},
						"selection":
						[
							[
								31542,
								31542
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 1110,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633755681.44,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 16770.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "utils.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 58492,
						"regions":
						{
						},
						"selection":
						[
							[
								58492,
								58492
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 2266,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633746685.6,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 33249.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "lib/util.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 21895,
						"regions":
						{
						},
						"selection":
						[
							[
								20456,
								20563
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 796,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633747140.23,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 11940.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "quickjs-misc.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 42575,
						"regions":
						{
						},
						"selection":
						[
							[
								35505,
								35522
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 1266,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633747139.8,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 18796.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "buffer-utils.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7924,
						"regions":
						{
						},
						"selection":
						[
							[
								603,
								603
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 22,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633747139.05,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "quickjs-lexer.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 44664,
						"regions":
						{
						},
						"selection":
						[
							[
								22355,
								22369
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 825,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633746602.45,
							"tabs_extra_last_activated_sheet_index": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 12121.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "buffer-utils.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 11684,
						"regions":
						{
						},
						"selection":
						[
							[
								10049,
								10049
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 410,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633746926.89,
							"tabs_extra_last_activated_sheet_index": 6,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 5941.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "quickjs-internal.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 37634,
						"regions":
						{
						},
						"selection":
						[
							[
								22263,
								22273
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 608,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633739789.4,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 8904.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "utils.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 28737,
						"regions":
						{
						},
						"selection":
						[
							[
								17802,
								17819
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 644,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633740713.88,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 9249.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "/home/roman/.config/sublime-text/Packages/User/ExtendedSwitcher.sublime-settings",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 0,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/JSON/JSON.sublime-syntax",
							"tabs_extra_last_activated": 1633496614.03,
							"tabs_extra_last_activated_sheet_index": 22
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "quickjs-syscallerror.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16552,
						"regions":
						{
						},
						"selection":
						[
							[
								12323,
								8922
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 318,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1633411808.74,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3936.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 24.0
	},
	"input":
	{
		"height": 42.0
	},
	"layout":
	{
		"cells":
		[
			[
				2,
				0,
				3,
				2
			],
			[
				0,
				0,
				2,
				2
			]
		],
		"cols":
		[
			0.0,
			0.2,
			0.8,
			1.0
		],
		"rows":
		[
			0.0,
			0.5,
			1.0
		]
	},
	"menu_visible": true,
	"output.Debugger":
	{
		"height": 139.0
	},
	"output.Debugger: Console":
	{
		"height": 0.0
	},
	"output.Debugger: Protocol":
	{
		"height": 0.0
	},
	"output.exec":
	{
		"height": 120.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.unsaved_changes":
	{
		"height": 108.0
	},
	"pinned_build_system": "",
	"project": "modules.sublime-project",
	"replace":
	{
		"height": 44.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"quickjs-lex",
				"quickjs-lexer.c"
			],
			[
				"test_lexer",
				"tests/test_lexer.js"
			],
			[
				"exten",
				"lib/extendArray.js"
			],
			[
				"console",
				"lib/console.js"
			],
			[
				"child",
				"child-process.c"
			],
			[
				"fs.js",
				"lib/fs.js"
			],
			[
				"qsort_r",
				"qsort_r.c"
			],
			[
				"qjsm",
				"qjsm.c"
			],
			[
				"quick",
				"quickjs-path.c"
			],
			[
				"path.c",
				"path.c"
			],
			[
				"quickjs-misc",
				"quickjs-misc.c"
			],
			[
				"qjsm.c",
				"qjsm.c"
			],
			[
				"quickjs-ins",
				"quickjs-inspect.c"
			],
			[
				"quicksj-misc",
				"quickjs-misc.c"
			],
			[
				"process.js",
				"lib/process.js"
			],
			[
				"quickjs-mm",
				"quickjs-mmap.c"
			],
			[
				"quickjs.h",
				"~/Projects/plot-cv/quickjs/quickjs.h"
			],
			[
				"utils.c",
				"utils.c"
			],
			[
				"sockets.c",
				"quickjs-sockets.c"
			],
			[
				"quickjs-m",
				"quickjs-misc.c"
			],
			[
				"redicate.c",
				"predicate.c"
			],
			[
				"sockets.h",
				"quickjs-sockets.h"
			],
			[
				"quickjs-pat",
				"quickjs-path.c"
			],
			[
				"",
				"quickjs-inspect.c"
			],
			[
				"utils.h",
				"utils.h"
			],
			[
				"test_sock",
				"tests/test_sockets.js"
			],
			[
				"buffer-u",
				"buffer-utils.c"
			],
			[
				"buffer-",
				"buffer-utils.h"
			],
			[
				"parser.js",
				"lib/parser.js"
			],
			[
				"char-",
				"char-utils.h"
			],
			[
				"test_par",
				"tests/test_parser.js"
			],
			[
				"test_misc",
				"tests/test_misc.js"
			],
			[
				"conso",
				"lib/console.js"
			],
			[
				"clang-f",
				".clang-format"
			],
			[
				"util",
				"lib/util.js"
			],
			[
				"test_mi",
				"tests/test_misc.js"
			],
			[
				"ockets.",
				"quickjs-sockets.h"
			],
			[
				"quickjs-ar",
				"quickjs-archive.c"
			],
			[
				"fd_set",
				"lib/fd_set.js"
			],
			[
				"clang-fo",
				".clang-format"
			],
			[
				"buffer-ut",
				"buffer-utils.c"
			],
			[
				"misc.",
				"quickjs-misc.h"
			],
			[
				"misc.c",
				"quickjs-misc.c"
			],
			[
				"qjsm.",
				"qjsm.c"
			],
			[
				"cmakelists",
				"CMakeLists.txt"
			],
			[
				"quickjs-mi",
				"quickjs-misc.c"
			],
			[
				"socklen_t.js",
				"lib/socklen_t.js"
			],
			[
				"str.h",
				"quickjs-stringdecoder.h"
			],
			[
				"quickjs-libc",
				"~/Sources/plot-cv/quickjs/quickjs-libc.h"
			],
			[
				"quickjs-sock",
				"quickjs-sockets.c"
			],
			[
				"sockets",
				"quickjs-sockets.c"
			],
			[
				"test_so",
				"tests/test_sockets.js"
			],
			[
				"test_loca",
				"tests/test_location.js"
			],
			[
				"inspect.c",
				"quickjs-inspect.c"
			],
			[
				".clang-fo",
				".clang-format"
			],
			[
				"buff",
				"buffer-utils.c"
			],
			[
				"buffer-util",
				"buffer-utils.c"
			],
			[
				"buffer-utils.c",
				"buffer-utils.c"
			],
			[
				"util.js",
				"lib/util.js"
			],
			[
				"quickjs-so",
				"quickjs-sockets.c"
			],
			[
				"quickjs-socket",
				"quickjs-sockets.c"
			],
			[
				"quickjs-insp",
				"quickjs-inspect.c"
			],
			[
				"test_soc",
				"tests/test_sockets.js"
			],
			[
				"test_qjsm",
				"tests/test_qjsm.js"
			],
			[
				"buffer-tu",
				"buffer-utils.c"
			],
			[
				"quickjs-in",
				"quickjs-inspect.c"
			],
			[
				"repl.",
				"lib/repl.js"
			],
			[
				"quickjs-blo",
				"quickjs-blob.c"
			],
			[
				"cmake",
				"CMakeLists.txt"
			],
			[
				"test_mis",
				"tests/test_misc.js"
			],
			[
				"test_blob",
				"tests/test_blob.js"
			],
			[
				"test_string",
				"tests/test_stringdecoder.js"
			],
			[
				"test_str",
				"tests/test_stringdecoder.js"
			],
			[
				"quickjs-blb",
				"quickjs-blob.h"
			],
			[
				"vector.h",
				"vector.h"
			],
			[
				"ringbuffer.h",
				"ringbuffer.h"
			],
			[
				"repl.js",
				"lib/repl.js"
			],
			[
				"quickjsmo",
				"cmake/QuickJSModule.cmake"
			],
			[
				"inspe",
				"quickjs-inspect.c"
			],
			[
				"misc",
				"quickjs-misc.c"
			],
			[
				"deep",
				"quickjs-deep.c"
			],
			[
				"terminal.",
				"lib/terminal.js"
			],
			[
				"tty.js",
				"lib/tty.js"
			],
			[
				"intern",
				"quickjs-internal.h"
			],
			[
				"test_chil",
				"tests/test_childprocess.js"
			],
			[
				"pointer.h",
				"pointer.h"
			],
			[
				"stack",
				"lib/stack.js"
			],
			[
				"test_lex",
				"tests/test_lexer.js"
			],
			[
				"quickjs.c",
				"~/Projects/plot-cv/quickjs/quickjs.c"
			],
			[
				"pointer.c",
				"pointer.c"
			],
			[
				"-insp",
				"quickjs-inspect.c"
			],
			[
				"test_op",
				"tests/test_op_overloading.js"
			],
			[
				"lexer.c",
				"lexer.c"
			],
			[
				"quickjs-lexer",
				"quickjs-lexer.c"
			],
			[
				"test_qjs",
				"tests/test_qjsm.js"
			],
			[
				"quickjs-pre",
				"quickjs-predicate.c"
			],
			[
				"pred",
				"predicate.c"
			],
			[
				"dee",
				"quickjs-deep.c"
			],
			[
				"test_qj",
				"tests/test_qjsm.js"
			],
			[
				"quicksj-in",
				"quickjs-internal.h"
			],
			[
				"property",
				"property-enumeration.c"
			],
			[
				"pointer.",
				"pointer.c"
			],
			[
				"quickjs",
				"quickjs-inspect.c"
			],
			[
				"util.j",
				"lib/util.js"
			],
			[
				"jsm.c",
				"qjsm.c"
			],
			[
				"test_point",
				"tests/test_pointer.js"
			],
			[
				"bnflex",
				"lib/bnflexer.js"
			],
			[
				"bnf.y",
				"~/Projects/plot-cv/lib/grammars/bnf.y"
			],
			[
				"grammar.ki",
				"grammar.kison"
			],
			[
				"test_pat",
				"tests/test_path.js"
			],
			[
				"test_parse",
				"tests/test_parser.js"
			],
			[
				"test_path",
				"tests/test_path.js"
			],
			[
				"lexer.h",
				"lexer.h"
			],
			[
				"test_tree",
				"tests/test_treewalker.js"
			],
			[
				"tree.h",
				"src/tree.h"
			],
			[
				"scan_ulongn",
				"lib/scan/scan_ulongn.c"
			],
			[
				"term_rest",
				"src/term/term_restore.c"
			],
			[
				"parse.h",
				"src/parse.h"
			],
			[
				"cmakeli",
				"CMakeLists.txt"
			],
			[
				"byte.h",
				"lib/byte.h"
			],
			[
				"buffer.h",
				"lib/buffer.h"
			],
			[
				"shell.h",
				"lib/shell.h"
			],
			[
				"mmap_file",
				"lib/stralloc/mmap_filename.c"
			],
			[
				"uffer.h",
				"lib/buffer.h"
			],
			[
				"scan.h",
				"lib/scan.h"
			],
			[
				"stralloc.h",
				"lib/stralloc.h"
			],
			[
				"path.h",
				"lib/path.h"
			],
			[
				"scan.",
				"lib/scan.h"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"~/Projects/plot-cv/plot-cv.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 370.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"WS"
			]
		],
		"width": 970.0
	},
	"selected_group": 1,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 236.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
