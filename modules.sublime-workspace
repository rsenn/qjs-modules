{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"isF",
				"isFunction"
			],
			[
				"tab",
				"tab_atom_len"
			],
			[
				"isARr",
				"isArrayBuffer"
			],
			[
				"JS_",
				"JS_ThrowTypeError"
			],
			[
				"BIT",
				"BITFIELD_FROMARRAY"
			],
			[
				"to",
				"toStringTag"
			],
			[
				"inotify",
				"inotify_add_watch"
			],
			[
				"JS_SetProp",
				"JS_SetPropertyUint32"
			],
			[
				"JS_GEt",
				"JS_GetGlobalObject"
			],
			[
				"dbuf_put",
				"dbuf_put_colorstr"
			],
			[
				"REPEATER_",
				"REPEATER_REJECTED"
			],
			[
				"REP",
				"REPEATER_DONE"
			],
			[
				"js_is_null",
				"js_is_null_or_undefined"
			],
			[
				"resol",
				"resolving_funcs"
			],
			[
				"JS_Free",
				"JS_FreeCString"
			],
			[
				"JS_NEwCFun",
				"JS_NewCFunctionData"
			],
			[
				"js_function",
				"js_function_bind_this"
			],
			[
				"js_repeater_iter",
				"js_repeater_iteration"
			],
			[
				"REPEA",
				"REPEATER_REJECTED"
			],
			[
				"JS_New",
				"JS_NewCFunctionData"
			],
			[
				"exe",
				"execution"
			],
			[
				"REPEAT",
				"REPEATER_STOPPED"
			],
			[
				"JS_THro",
				"JS_ThrowOutOfMemory"
			],
			[
				"JS_SetP",
				"JS_SetPropertyStr"
			],
			[
				"repeater",
				"repeater_finalizer"
			],
			[
				"JS_Th",
				"JS_ThrowOutOfMemory"
			],
			[
				"BACK",
				"BACKGROUND_RED"
			],
			[
				"js_inspec",
				"js_inspect_tostring"
			],
			[
				"JS_Atom",
				"JS_AtomToValue"
			],
			[
				"JS_GetP",
				"JS_GetPropertyStr"
			],
			[
				"JS_Set",
				"JS_SetPropertyUint32"
			],
			[
				"js_misc_glob_err",
				"js_misc_glob_errfunc_ctx"
			],
			[
				"js_misc",
				"js_misc_glob"
			],
			[
				"js_mi",
				"js_misc_glob_errfunc"
			],
			[
				"js_misc_glob_",
				"js_misc_glob_errfunc_ctx"
			],
			[
				"JS_VALUE_",
				"JS_VALUE_GET_OBJ"
			],
			[
				"js_io_Read",
				"js_io_readhandler_fn"
			],
			[
				"JS_NewS",
				"JS_NewStringLen"
			],
			[
				"target_link",
				"target_link_directories"
			],
			[
				"brea",
				"breakLength"
			],
			[
				"JS_Get",
				"JS_GetArrayBuffer"
			],
			[
				"WIF",
				"WIFSIGNALED"
			],
			[
				"JS_VALUE",
				"JS_VALUE_GET_PTR"
			],
			[
				"JS_NewObj",
				"JS_NewObjectProtoClass"
			],
			[
				"JS_Throw",
				"JS_ThrowOutOfMemory"
			],
			[
				"module_",
				"module_func"
			],
			[
				"initiali",
				"initialization"
			],
			[
				"qjsm_sock",
				"qjsm_socklen_t_size"
			],
			[
				"getCas",
				"getClassConstructor"
			],
			[
				"js_syscall",
				"js_syscallerror_proto_funcs"
			],
			[
				"syscal",
				"syscallerror_proto"
			],
			[
				"JS_SetProper",
				"JS_SetPropertyStr"
			],
			[
				"JS_CGET",
				"JS_CGETSET_ENUMERABLE_DEF"
			],
			[
				"sys",
				"syscallerror_ctor"
			],
			[
				"js_sys",
				"js_syscallerror_get"
			],
			[
				"Sys",
				"SyscallError"
			],
			[
				"JS_CGETSET",
				"JS_CGETSET_MAGIC_DEF"
			],
			[
				"JS_T",
				"JS_ThrowTypeError"
			],
			[
				"JS_Thro",
				"JS_ThrowOutOfMemory"
			],
			[
				"js_",
				"js_sockaddr_class_id"
			],
			[
				"STRING",
				"STRINGDECODER_ENCODING"
			],
			[
				"STRINGDECODER_EN",
				"STRINGDECODER_ENCODING"
			],
			[
				"STRINGDE",
				"STRINGDECODER_END"
			],
			[
				"ringbuffer_",
				"ringbuffer_continuous_length"
			],
			[
				"string",
				"stringdecoder_proto"
			],
			[
				"get",
				"getOwnPropertyNames"
			],
			[
				"JS_Thr",
				"JS_ThrowInternalError"
			],
			[
				"ringbuffer_res",
				"ringbuffer_resize"
			],
			[
				"ringb",
				"ringbuffer_normalize"
			],
			[
				"ringbuffer",
				"ringbuffer_length"
			],
			[
				"ring",
				"ringbuffer_full"
			],
			[
				"STRINGDEC",
				"STRINGDECODER_END"
			],
			[
				"Ar",
				"ArchiveEntryRef"
			],
			[
				"js_archive",
				"js_archiveentry_data"
			],
			[
				"ARC",
				"ARCHIVE_METHOD_READ"
			],
			[
				"CMAKE_CURREN",
				"CMAKE_CURRENT_BINARY_DIR"
			],
			[
				"getCommand",
				"getCommandExecutable"
			],
			[
				"SYS",
				"SYSCALLERROR_ERRNO"
			],
			[
				"SYSCALL",
				"SYSCALLERROR_SYSCALL"
			],
			[
				"FUNC_",
				"FUNC_GETUID"
			],
			[
				"predi",
				"predicates"
			],
			[
				"int64_t",
				"uint64_t"
			],
			[
				"PRECEDENCE_LOG",
				"PRECEDENCE_LOGICAL_NOT"
			],
			[
				"js_is",
				"js_is_null_or_undefined"
			],
			[
				"js_set_to",
				"js_set_tostringtag_value"
			],
			[
				"Predicate",
				"PredicateOperatorSet"
			],
			[
				"Predi",
				"PredicateOperatorSet"
			],
			[
				"JS_P",
				"JS_PROP_CONFIGURABLE"
			],
			[
				"operat",
				"operators_set"
			],
			[
				"break",
				"stringBreakNewline"
			],
			[
				"define",
				"defineProperty"
			],
			[
				"Event",
				"EventEmitter"
			],
			[
				"sy",
				"syntaxerror_ctor"
			],
			[
				"child_pr",
				"child_process_proto"
			],
			[
				"targtet_",
				"target_compile_definitions"
			],
			[
				"jsm_module",
				"jsm_module_loader_so"
			],
			[
				"base",
				"base_name"
			],
			[
				"ATOM",
				"ATOM_TO_VALUE"
			],
			[
				"prop",
				"propenum_tab"
			],
			[
				"js_loca",
				"js_location_data"
			],
			[
				"loca",
				"location_proto"
			],
			[
				"HAVE_QUI",
				"HAVE_QUICKJS_LIBRARY"
			],
			[
				"jsm_load",
				"jsm_load_packages_json"
			],
			[
				"js_sy",
				"js_syntaxerror_class_id"
			],
			[
				"synta",
				"syntaxerror_proto"
			],
			[
				"property_",
				"property_enumeration_key"
			],
			[
				"jsm_mo",
				"jsm_module_loader_path"
			],
			[
				"inspe",
				"inspect_custom_node"
			],
			[
				"inspect",
				"inspect_custom_node"
			],
			[
				"property",
				"property_enumeration_circular"
			],
			[
				"Reg",
				"RegExpCompare"
			],
			[
				"property_enum",
				"property_enumeration_length"
			],
			[
				"Opera",
				"OperatorsObjects"
			],
			[
				"else",
				"elseif"
			],
			[
				"ABC",
				"ABCDEF"
			]
		]
	},
	"buffers":
	[
		{
			"contents": "A sample Markdown document\nText Formatting\nLinks and References\nLists\nTables\nCode Blocks\n  fibo(n)\n-89,6 +89,12\nCriticMarkup\nReference Definitions\n[^1]: This is a footnote definition [links]: https://example.com/index.html\n[sample image]: https://example.com/sample.png",
			"settings":
			{
				"buffer_size": 269,
				"line_ending": "Unix",
				"name": "ğŒ† Outline",
				"scratch": true
			},
			"undo_stack":
			[
				[
					196,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoBQAAICDik4IgIFBBVEhfTUFYIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBsc3RhdCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9hYnNvbHV0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfYWJzb2x1dGVfZGIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2FwcGVuZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY2Fub25pY2FsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jYW5vbmljYWxfYnVmICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jb2xsYXBzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tbW9uX3ByZWZpeCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tcG9uZW50cyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29uY2F0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9leGlzdHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2V4dG5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2dldGN3ZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfZ2V0aG9tZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfYWJzb2x1dGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2lzX2RpcmVjdG9yeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfc3ltbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfbm9ybWFsaXplICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9yZWxhdGl2ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcmVsYXRpdmVfYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfc2tpcF9jb21wb25lbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX3NraXBfc2VwYXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgX19wYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pOCICBTVEFSVCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9yZWFkbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					197,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/path.c",
						"symkeys":
						[
							[
								70,
								78
							],
							[
								119,
								124
							],
							[
								177,
								190
							],
							[
								576,
								592
							],
							[
								1182,
								1193
							],
							[
								1455,
								1469
							],
							[
								1620,
								1638
							],
							[
								1766,
								1779
							],
							[
								2415,
								2433
							],
							[
								3032,
								3047
							],
							[
								3337,
								3348
							],
							[
								3797,
								3808
							],
							[
								3905,
								3917
							],
							[
								4067,
								4076
							],
							[
								4487,
								4499
							],
							[
								6940,
								6951
							],
							[
								7165,
								7177
							],
							[
								8024,
								8040
							],
							[
								8197,
								8214
							],
							[
								8359,
								8374
							],
							[
								8570,
								8584
							],
							[
								10283,
								10296
							],
							[
								10447,
								10462
							],
							[
								11009,
								11018
							],
							[
								11196,
								11215
							],
							[
								11413,
								11432
							],
							[
								11628,
								11642
							],
							[
								11975,
								11987
							],
							[
								12096,
								12101
							],
							[
								12129,
								12142
							]
						],
						"symlist":
						[
							"â€ƒâ“‚â€‚â€ƒPATH_MAXâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒlstatâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€”â’»â€“â€ƒpath_absoluteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_absolute_dbâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_appendâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_canonicalâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_canonical_bufâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_collapseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_common_prefixâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_componentsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_concatâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_existsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_extnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_findâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_getcwdâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_gethomeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_absoluteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_directoryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_symlinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_normalizeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_relativeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_relative_bâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_rootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_skip_componentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_skip_separatorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒ__path_dirnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_dirnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€”â’»â€“â€ƒpath_readlinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction"
						]
					},
					"AQAAAAAAAAAAAAAAiAQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					198,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoBQAAICDik4IgIFBBVEhfTUFYIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBsc3RhdCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9hYnNvbHV0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfYWJzb2x1dGVfZGIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2FwcGVuZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY2Fub25pY2FsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jYW5vbmljYWxfYnVmICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jb2xsYXBzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tbW9uX3ByZWZpeCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tcG9uZW50cyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29uY2F0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9leGlzdHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2V4dG5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2dldGN3ZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfZ2V0aG9tZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfYWJzb2x1dGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2lzX2RpcmVjdG9yeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfc3ltbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfbm9ybWFsaXplICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9yZWxhdGl2ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcmVsYXRpdmVfYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfc2tpcF9jb21wb25lbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX3NraXBfc2VwYXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgX19wYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pOCICBTVEFSVCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9yZWFkbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					199,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/path.c",
						"symkeys":
						[
							[
								70,
								78
							],
							[
								119,
								124
							],
							[
								177,
								190
							],
							[
								576,
								592
							],
							[
								1182,
								1193
							],
							[
								1455,
								1469
							],
							[
								1620,
								1638
							],
							[
								1766,
								1779
							],
							[
								2415,
								2433
							],
							[
								3032,
								3047
							],
							[
								3337,
								3348
							],
							[
								3797,
								3808
							],
							[
								3905,
								3917
							],
							[
								4067,
								4076
							],
							[
								4487,
								4499
							],
							[
								6940,
								6951
							],
							[
								7165,
								7177
							],
							[
								8024,
								8040
							],
							[
								8197,
								8214
							],
							[
								8359,
								8374
							],
							[
								8570,
								8584
							],
							[
								10283,
								10296
							],
							[
								10447,
								10462
							],
							[
								11009,
								11018
							],
							[
								11196,
								11215
							],
							[
								11413,
								11432
							],
							[
								11628,
								11642
							],
							[
								11975,
								11987
							],
							[
								12096,
								12101
							],
							[
								12129,
								12142
							]
						],
						"symlist":
						[
							"â€ƒâ“‚â€‚â€ƒPATH_MAXâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒlstatâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€”â’»â€“â€ƒpath_absoluteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_absolute_dbâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_appendâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_canonicalâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_canonical_bufâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_collapseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_common_prefixâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_componentsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_concatâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_existsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_extnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_findâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_getcwdâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_gethomeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_absoluteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_directoryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_symlinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_normalizeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_relativeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_relative_bâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_rootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_skip_componentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_skip_separatorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒ__path_dirnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_dirnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€”â’»â€“â€ƒpath_readlinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction"
						]
					},
					"AQAAAAAAAAAAAAAAiAQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					200,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/path.c",
						"symkeys":
						[
							[
								70,
								78
							],
							[
								119,
								124
							],
							[
								177,
								190
							],
							[
								576,
								592
							],
							[
								1182,
								1193
							],
							[
								1455,
								1469
							],
							[
								1620,
								1638
							],
							[
								1766,
								1779
							],
							[
								2415,
								2433
							],
							[
								3032,
								3047
							],
							[
								3337,
								3348
							],
							[
								3797,
								3808
							],
							[
								3905,
								3917
							],
							[
								4067,
								4076
							],
							[
								4487,
								4499
							],
							[
								6940,
								6951
							],
							[
								7150,
								7162
							],
							[
								8009,
								8025
							],
							[
								8182,
								8199
							],
							[
								8344,
								8359
							],
							[
								8555,
								8569
							],
							[
								10268,
								10281
							],
							[
								10432,
								10447
							],
							[
								10994,
								11003
							],
							[
								11181,
								11200
							],
							[
								11398,
								11417
							],
							[
								11613,
								11627
							],
							[
								11960,
								11972
							],
							[
								12081,
								12086
							],
							[
								12114,
								12127
							]
						],
						"symlist":
						[
							"â€ƒâ“‚â€‚â€ƒPATH_MAXâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒlstatâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€”â’»â€“â€ƒpath_absoluteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_absolute_dbâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_appendâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_canonicalâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_canonical_bufâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_collapseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_common_prefixâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_componentsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_concatâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_existsâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_extnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_findâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_fnmatchâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_getcwdâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_gethomeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_absoluteâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_directoryâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_is_symlinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_normalizeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_relativeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_relative_bâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_rootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_skip_componentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_skip_separatorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒ__path_dirnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒpath_dirnameâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€”â’»â€“â€ƒpath_readlinkâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoBQAAICDik4IgIFBBVEhfTUFYIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBsc3RhdCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9hYnNvbHV0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfYWJzb2x1dGVfZGIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2FwcGVuZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY2Fub25pY2FsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jYW5vbmljYWxfYnVmICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jb2xsYXBzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tbW9uX3ByZWZpeCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tcG9uZW50cyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29uY2F0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9leGlzdHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2V4dG5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2dldGN3ZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfZ2V0aG9tZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfYWJzb2x1dGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2lzX2RpcmVjdG9yeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfc3ltbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfbm9ybWFsaXplICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9yZWxhdGl2ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcmVsYXRpdmVfYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfc2tpcF9jb21wb25lbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX3NraXBfc2VwYXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgX19wYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pOCICBTVEFSVCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9yZWFkbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAIgEAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					201,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACoBQAAICDik4IgIFBBVEhfTUFYIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBsc3RhdCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9hYnNvbHV0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfYWJzb2x1dGVfZGIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2FwcGVuZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY2Fub25pY2FsICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jYW5vbmljYWxfYnVmICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9jb2xsYXBzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tbW9uX3ByZWZpeCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29tcG9uZW50cyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfY29uY2F0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9leGlzdHMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2V4dG5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZpbmQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2ZubWF0Y2ggKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2dldGN3ZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfZ2V0aG9tZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfYWJzb2x1dGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2lzX2RpcmVjdG9yeSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfaXNfc3ltbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfbm9ybWFsaXplICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgcGF0aF9yZWxhdGl2ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcmVsYXRpdmVfYiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfcm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHBhdGhfc2tpcF9jb21wb25lbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX3NraXBfc2VwYXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgX19wYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBwYXRoX2Rpcm5hbWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCiAg4pOCICBTVEFSVCDigKYg4oCUIG1hY3JvIG9iamVjdArigJTikrvigJMgcGF0aF9yZWFkbGluayAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24AAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					202,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2825,
								2848
							],
							[
								3253,
								3272
							],
							[
								3928,
								3949
							],
							[
								5443,
								5461
							],
							[
								6654,
								6672
							],
							[
								7426,
								7449
							],
							[
								7835,
								7859
							],
							[
								8256,
								8284
							],
							[
								9169,
								9190
							],
							[
								10405,
								10431
							],
							[
								14029,
								14048
							],
							[
								15621,
								15635
							],
							[
								15665,
								15679
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					203,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					204,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2825,
								2848
							],
							[
								3253,
								3272
							],
							[
								3928,
								3949
							],
							[
								5443,
								5461
							],
							[
								6654,
								6672
							],
							[
								7426,
								7449
							],
							[
								7835,
								7859
							],
							[
								8256,
								8284
							],
							[
								9169,
								9190
							],
							[
								10405,
								10431
							],
							[
								14029,
								14048
							],
							[
								15621,
								15635
							],
							[
								15665,
								15679
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					205,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					206,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2825,
								2848
							],
							[
								3253,
								3272
							],
							[
								3928,
								3949
							],
							[
								5443,
								5461
							],
							[
								6654,
								6672
							],
							[
								7426,
								7449
							],
							[
								7835,
								7859
							],
							[
								8256,
								8284
							],
							[
								9169,
								9190
							],
							[
								10405,
								10431
							],
							[
								14029,
								14048
							],
							[
								15621,
								15635
							],
							[
								15665,
								15679
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					207,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2825,
								2848
							],
							[
								3253,
								3272
							],
							[
								3928,
								3949
							],
							[
								5443,
								5461
							],
							[
								6654,
								6672
							],
							[
								7426,
								7449
							],
							[
								7835,
								7859
							],
							[
								8256,
								8284
							],
							[
								9169,
								9190
							],
							[
								10409,
								10435
							],
							[
								14033,
								14052
							],
							[
								15625,
								15639
							],
							[
								15669,
								15683
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					208,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					209,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2825,
								2848
							],
							[
								3253,
								3272
							],
							[
								3928,
								3949
							],
							[
								5443,
								5461
							],
							[
								6654,
								6672
							],
							[
								7426,
								7449
							],
							[
								7835,
								7859
							],
							[
								8256,
								8284
							],
							[
								9169,
								9190
							],
							[
								10409,
								10435
							],
							[
								14033,
								14052
							],
							[
								15625,
								15639
							],
							[
								15669,
								15683
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					210,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2825,
								2848
							],
							[
								3253,
								3272
							],
							[
								3928,
								3949
							],
							[
								5443,
								5461
							],
							[
								6654,
								6672
							],
							[
								7426,
								7449
							],
							[
								7835,
								7859
							],
							[
								8256,
								8284
							],
							[
								9171,
								9192
							],
							[
								10411,
								10437
							],
							[
								14035,
								14054
							],
							[
								15627,
								15641
							],
							[
								15671,
								15685
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					211,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					212,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2825,
								2848
							],
							[
								3253,
								3272
							],
							[
								3928,
								3949
							],
							[
								5443,
								5461
							],
							[
								6654,
								6672
							],
							[
								7426,
								7449
							],
							[
								7835,
								7859
							],
							[
								8256,
								8284
							],
							[
								9171,
								9192
							],
							[
								10411,
								10437
							],
							[
								14035,
								14054
							],
							[
								15627,
								15641
							],
							[
								15671,
								15685
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					213,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2827,
								2850
							],
							[
								3255,
								3274
							],
							[
								3930,
								3951
							],
							[
								5445,
								5463
							],
							[
								6656,
								6674
							],
							[
								7428,
								7451
							],
							[
								7837,
								7861
							],
							[
								8258,
								8286
							],
							[
								9173,
								9194
							],
							[
								10413,
								10439
							],
							[
								14037,
								14056
							],
							[
								15629,
								15643
							],
							[
								15673,
								15687
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					214,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13621,
								13632
							],
							[
								14223,
								14239
							],
							[
								15418,
								15430
							],
							[
								16188,
								16199
							],
							[
								16383,
								16397
							],
							[
								16427,
								16441
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					215,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					216,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13621,
								13632
							],
							[
								14223,
								14239
							],
							[
								15418,
								15430
							],
							[
								16188,
								16199
							],
							[
								16383,
								16397
							],
							[
								16427,
								16441
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					217,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13628,
								13639
							],
							[
								14230,
								14246
							],
							[
								15425,
								15437
							],
							[
								16195,
								16206
							],
							[
								16390,
								16404
							],
							[
								16434,
								16448
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					218,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					219,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13628,
								13639
							],
							[
								14230,
								14246
							],
							[
								15425,
								15437
							],
							[
								16195,
								16206
							],
							[
								16390,
								16404
							],
							[
								16434,
								16448
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					220,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13641,
								13652
							],
							[
								14243,
								14259
							],
							[
								15438,
								15450
							],
							[
								16208,
								16219
							],
							[
								16403,
								16417
							],
							[
								16447,
								16461
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAA3wUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8HAAAgIOKSoSAganNfaW5zcGVjdF90b3N0cmluZyAoICkgOyDigJQgZnVuY3Rpb24gZGVjbGFyYXRpb24KICDik4IgIFdTIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBTVEFSVCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgRU5EIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBRVU9URSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgQ0xPU0Ug4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVRVUFMIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBTUEVDSUFMIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgQkFDS1NMQVNIIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBRVUVTVElPTiDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgRVhDTEFNIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBIWVBIRU4g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4kgIE91dHB1dFZhbHVlIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIGNoYXJhY3Rlcl9jbGFzc2VzX2luaXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKTguKAkyBQVVNIICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBQT1AgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIEFERCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgVFJVTkMgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIE5FWFQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFNLSVAgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFNLSVBfVU5USUwgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFNLSVBfV1MgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIENIQVJfSVMgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pK74oCTIGZpbmRfdGFnICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX251bV9jaGlsZHJlbiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9zZXRfYXR0cl92YWx1ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9zZXRfYXR0cl9ieXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9hdHRyaWJ1dGVzICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX2luZGVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfdGV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2Nsb3NlX2VsZW1lbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfZW51bWVyYXRpb25fbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF9wYXJzZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF9yZWFkICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfeG1sX3dyaXRlX29iaiAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZSAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAADfBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					221,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					222,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13641,
								13652
							],
							[
								14243,
								14259
							],
							[
								15438,
								15450
							],
							[
								16208,
								16219
							],
							[
								16403,
								16417
							],
							[
								16447,
								16461
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					223,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13651,
								13662
							],
							[
								14253,
								14269
							],
							[
								15448,
								15460
							],
							[
								16218,
								16229
							],
							[
								16413,
								16427
							],
							[
								16457,
								16471
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					224,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2827,
								2850
							],
							[
								3255,
								3274
							],
							[
								3930,
								3951
							],
							[
								5445,
								5463
							],
							[
								6656,
								6674
							],
							[
								7428,
								7451
							],
							[
								7837,
								7861
							],
							[
								8258,
								8286
							],
							[
								9173,
								9194
							],
							[
								10413,
								10439
							],
							[
								14037,
								14056
							],
							[
								15629,
								15643
							],
							[
								15673,
								15687
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					225,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					226,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2827,
								2850
							],
							[
								3255,
								3274
							],
							[
								3930,
								3951
							],
							[
								5445,
								5463
							],
							[
								6656,
								6674
							],
							[
								7428,
								7451
							],
							[
								7837,
								7861
							],
							[
								8258,
								8286
							],
							[
								9173,
								9194
							],
							[
								10413,
								10439
							],
							[
								14037,
								14056
							],
							[
								15629,
								15643
							],
							[
								15673,
								15687
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					227,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2831,
								2854
							],
							[
								3259,
								3278
							],
							[
								3934,
								3955
							],
							[
								5449,
								5467
							],
							[
								6660,
								6678
							],
							[
								7432,
								7455
							],
							[
								7841,
								7865
							],
							[
								8262,
								8290
							],
							[
								9177,
								9198
							],
							[
								10417,
								10443
							],
							[
								14041,
								14060
							],
							[
								15633,
								15647
							],
							[
								15677,
								15691
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGMEAADigJTikrjigJMgdHJlZV93YWxrZXJfbWV0aG9kcyB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIHRyZWVfd2Fsa2VyX2dldHRlcnMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX2l0ZXJhdG9yX3JldHVybiB7IOKApiB9IDsg4oCUIHR5cGUKICDik4kgIFRyZWVXYWxrZXIgOyDigJQgdHlwZWRlZgrigJTikrvigJMgdHJlZV93YWxrZXJfcmVzZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB0cmVlX3dhbGtlcl9zZXRyb290ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbWV0aG9kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaXRlcmF0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX2l0ZXJhdG9yX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAACfAwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					228,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					229,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2831,
								2854
							],
							[
								3259,
								3278
							],
							[
								3934,
								3955
							],
							[
								5449,
								5467
							],
							[
								6660,
								6678
							],
							[
								7432,
								7455
							],
							[
								7841,
								7865
							],
							[
								8262,
								8290
							],
							[
								9177,
								9198
							],
							[
								10417,
								10443
							],
							[
								14041,
								14060
							],
							[
								15633,
								15647
							],
							[
								15677,
								15691
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AQAAAAAAAAAAAAAAnwMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					230,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2831,
								2854
							],
							[
								3259,
								3278
							],
							[
								3934,
								3955
							],
							[
								5449,
								5467
							],
							[
								6660,
								6678
							],
							[
								7432,
								7455
							],
							[
								7841,
								7865
							],
							[
								8262,
								8290
							],
							[
								9181,
								9202
							],
							[
								10421,
								10447
							],
							[
								14045,
								14064
							],
							[
								15637,
								15651
							],
							[
								15681,
								15695
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGMEAADigJTikrjigJMgdHJlZV93YWxrZXJfbWV0aG9kcyB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIHRyZWVfd2Fsa2VyX2dldHRlcnMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX2l0ZXJhdG9yX3JldHVybiB7IOKApiB9IDsg4oCUIHR5cGUKICDik4kgIFRyZWVXYWxrZXIgOyDigJQgdHlwZWRlZgrigJTikrvigJMgdHJlZV93YWxrZXJfcmVzZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB0cmVlX3dhbGtlcl9zZXRyb290ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbWV0aG9kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaXRlcmF0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX2l0ZXJhdG9yX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAACfAwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					231,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2831,
								2854
							],
							[
								3259,
								3278
							],
							[
								3934,
								3955
							],
							[
								5449,
								5467
							],
							[
								6660,
								6678
							],
							[
								7432,
								7455
							],
							[
								7841,
								7865
							],
							[
								8262,
								8290
							],
							[
								9181,
								9202
							],
							[
								10421,
								10447
							],
							[
								14045,
								14064
							],
							[
								15637,
								15651
							],
							[
								15681,
								15695
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGMEAADigJTikrjigJMgdHJlZV93YWxrZXJfbWV0aG9kcyB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIHRyZWVfd2Fsa2VyX2dldHRlcnMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX2l0ZXJhdG9yX3JldHVybiB7IOKApiB9IDsg4oCUIHR5cGUKICDik4kgIFRyZWVXYWxrZXIgOyDigJQgdHlwZWRlZgrigJTikrvigJMgdHJlZV93YWxrZXJfcmVzZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB0cmVlX3dhbGtlcl9zZXRyb290ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbWV0aG9kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaXRlcmF0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX2l0ZXJhdG9yX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAACfAwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					232,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
						"symkeys":
						[
							[
								555,
								574
							],
							[
								700,
								719
							],
							[
								884,
								904
							],
							[
								1091,
								1101
							],
							[
								1116,
								1133
							],
							[
								1372,
								1391
							],
							[
								1593,
								1609
							],
							[
								1892,
								1918
							],
							[
								2831,
								2854
							],
							[
								3259,
								3278
							],
							[
								3934,
								3955
							],
							[
								5449,
								5467
							],
							[
								6660,
								6678
							],
							[
								7432,
								7455
							],
							[
								7841,
								7865
							],
							[
								8262,
								8290
							],
							[
								9176,
								9197
							],
							[
								10416,
								10442
							],
							[
								14040,
								14059
							],
							[
								15632,
								15646
							],
							[
								15676,
								15690
							]
						],
						"symlist":
						[
							"â€”â’¸â€“â€ƒtree_walker_methodsâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_walker_gettersâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€”â’¸â€“â€ƒtree_iterator_returnâ€ƒ{â€‰â€¦â€‰}â€‰;â€ƒâ€”â€ƒtype",
							"â€ƒâ“‰â€‚â€ƒTreeWalkerâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒtree_walker_resetâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_setrootâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒtree_walker_dumpâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_tostringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_methodâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_getâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_setâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_iteratorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_constructorâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_iterator_finalizerâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_tree_walker_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAnwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGMEAADigJTikrjigJMgdHJlZV93YWxrZXJfbWV0aG9kcyB7IOKApiB9IDsg4oCUIHR5cGUK4oCU4pK44oCTIHRyZWVfd2Fsa2VyX2dldHRlcnMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX2l0ZXJhdG9yX3JldHVybiB7IOKApiB9IDsg4oCUIHR5cGUKICDik4kgIFRyZWVXYWxrZXIgOyDigJQgdHlwZWRlZgrigJTikrvigJMgdHJlZV93YWxrZXJfcmVzZXQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB0cmVlX3dhbGtlcl9zZXRyb290ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfZHVtcCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfdG9zdHJpbmcgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbWV0aG9kICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZ2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaXRlcmF0b3IgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX2l0ZXJhdG9yX2NvbnN0cnVjdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9uZXh0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9maW5hbGl6ZXIgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgogIOKTgiAgSlNfSU5JVF9NT0RVTEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0AAAAAAAAAACfAwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					233,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
						"symkeys":
						[
							[
								190,
								209
							],
							[
								338,
								340
							],
							[
								354,
								359
							],
							[
								373,
								376
							],
							[
								390,
								395
							],
							[
								409,
								414
							],
							[
								428,
								433
							],
							[
								447,
								454
							],
							[
								468,
								473
							],
							[
								487,
								496
							],
							[
								511,
								519
							],
							[
								534,
								540
							],
							[
								555,
								561
							],
							[
								690,
								701
							],
							[
								709,
								731
							],
							[
								1024,
								1028
							],
							[
								1208,
								1211
							],
							[
								1412,
								1415
							],
							[
								1550,
								1555
							],
							[
								1736,
								1740
							],
							[
								1796,
								1800
							],
							[
								1937,
								1947
							],
							[
								1976,
								1983
							],
							[
								2014,
								2021
							],
							[
								2075,
								2083
							],
							[
								2447,
								2463
							],
							[
								2753,
								2771
							],
							[
								3005,
								3023
							],
							[
								3294,
								3314
							],
							[
								4216,
								4232
							],
							[
								4321,
								4337
							],
							[
								4977,
								4991
							],
							[
								5465,
								5482
							],
							[
								6764,
								6781
							],
							[
								7396,
								7416
							],
							[
								8470,
								8482
							],
							[
								13651,
								13662
							],
							[
								14253,
								14269
							],
							[
								15448,
								15460
							],
							[
								16218,
								16229
							],
							[
								16413,
								16427
							],
							[
								16457,
								16471
							]
						],
						"symlist":
						[
							"â€ƒâ’¡â€‚â€ƒjs_inspect_tostringâ€‰(â€‰)â€‰;â€ƒâ€”â€ƒfunction declaration",
							"â€ƒâ“‚â€‚â€ƒWSâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSTARTâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒENDâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUOTEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒCLOSEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEQUALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSPECIALâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒBACKSLASHâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒQUESTIONâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒEXCLAMâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒHYPHENâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‰â€‚â€ƒOutputValueâ€‰;â€ƒâ€”â€ƒtypedef",
							"â€”â’»â€“â€ƒcharacter_classes_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â“‚â€“â€ƒPUSHâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒPOPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒADDâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒTRUNCâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒNEXTâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIPâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_UNTILâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒSKIP_WSâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â“‚â€“â€ƒCHAR_ISâ€‰(â€‰)â€ƒâ€¦â€ƒâ€”â€ƒmacro function",
							"â€”â’»â€“â€ƒfind_tagâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_num_childrenâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_valueâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_set_attr_bytesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_attributesâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_indentâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_stringâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_textâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_write_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_close_elementâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒxml_enumeration_nextâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_parseâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_readâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_write_objâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_writeâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€”â’»â€“â€ƒjs_xml_initâ€‰(â€‰)â€ƒ{â€‰â€¦â€‰}â€ƒâ€”â€ƒfunction",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object",
							"â€ƒâ“‚â€‚â€ƒJS_INIT_MODULEâ€ƒâ€¦â€ƒâ€”â€ƒmacro object"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABjBAAA4oCU4pK44oCTIHRyZWVfd2Fsa2VyX21ldGhvZHMgeyDigKYgfSA7IOKAlCB0eXBlCuKAlOKSuOKAkyB0cmVlX3dhbGtlcl9nZXR0ZXJzIHsg4oCmIH0gOyDigJQgdHlwZQrigJTikrjigJMgdHJlZV9pdGVyYXRvcl9yZXR1cm4geyDigKYgfSA7IOKAlCB0eXBlCiAg4pOJICBUcmVlV2Fsa2VyIDsg4oCUIHR5cGVkZWYK4oCU4pK74oCTIHRyZWVfd2Fsa2VyX3Jlc2V0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgdHJlZV93YWxrZXJfc2V0cm9vdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHRyZWVfd2Fsa2VyX2R1bXAgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2dldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX3NldCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMganNfdHJlZV93YWxrZXJfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAAAAAA"
				],
				[
					1,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA/BwAAICDikqEgIGpzX2luc3BlY3RfdG9zdHJpbmcgKCApIDsg4oCUIGZ1bmN0aW9uIGRlY2xhcmF0aW9uCiAg4pOCICBXUyDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1RBUlQg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVORCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVPVEUg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIENMT1NFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBFUVVBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU1BFQ0lBTCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgU0xBU0gg4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEJBQ0tTTEFTSCDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgUVVFU1RJT04g4oCmIOKAlCBtYWNybyBvYmplY3QKICDik4IgIEVYQ0xBTSDigKYg4oCUIG1hY3JvIG9iamVjdAogIOKTgiAgSFlQSEVOIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOJICBPdXRwdXRWYWx1ZSA7IOKAlCB0eXBlZGVmCuKAlOKSu+KAkyBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTik4LigJMgUFVTSCAoICkg4oCmIOKAlCBtYWNybyBmdW5jdGlvbgrigJTik4LigJMgUE9QICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBBREQgKCApIOKApiDigJQgbWFjcm8gZnVuY3Rpb24K4oCU4pOC4oCTIFRSVU5DICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBORVhUICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1VOVElMICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBTS0lQX1dTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKTguKAkyBDSEFSX0lTICggKSDigKYg4oCUIG1hY3JvIGZ1bmN0aW9uCuKAlOKSu+KAkyBmaW5kX3RhZyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9udW1fY2hpbGRyZW4gKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfdmFsdWUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfc2V0X2F0dHJfYnl0ZXMgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfYXR0cmlidXRlcyAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF93cml0ZV9pbmRlbnQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfc3RyaW5nICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX3dyaXRlX3RleHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyB4bWxfd3JpdGVfZWxlbWVudCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIHhtbF9jbG9zZV9lbGVtZW50ICggKSB7IOKApiB9IOKAlCBmdW5jdGlvbgrigJTikrvigJMgeG1sX2VudW1lcmF0aW9uX25leHQgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcGFyc2UgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfcmVhZCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24K4oCU4pK74oCTIGpzX3htbF93cml0ZV9vYmogKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfd3JpdGUgKCApIHsg4oCmIH0g4oCUIGZ1bmN0aW9uCuKAlOKSu+KAkyBqc194bWxfaW5pdCAoICkgeyDigKYgfSDigJQgZnVuY3Rpb24KICDik4IgIEpTX0lOSVRfTU9EVUxFIOKApiDigJQgbWFjcm8gb2JqZWN0CiAg4pOCICBKU19JTklUX01PRFVMRSDigKYg4oCUIG1hY3JvIG9iamVjdAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAzAQAAAAAAAFIBAAAAAAAAAAAAAAAA8L8"
				],
				[
					1,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
							[
								53,
								81
							],
							[
								148,
								166
							],
							[
								1041,
								1064
							],
							[
								1354,
								1362
							],
							[
								1607,
								1616
							],
							[
								1661,
								1675
							],
							[
								2012,
								2028
							],
							[
								2314,
								2326
							],
							[
								2381,
								2396
							],
							[
								2534,
								2558
							],
							[
								2560,
								2636
							],
							[
								2637,
								2683
							]
						],
						"symlist":
						[
							" A sample Markdown document",
							"   Text Formatting",
							"   Links and References",
							"   Lists",
							"   Tables",
							"   Code Blocks",
							"function fibo(n)",
							"-89,6 +89,12",
							"   CriticMarkup",
							"   Reference Definitions",
							"[^1]: This is a footnote definition [links]: https://example.com/index.html",
							"[sample image]: https://example.com/sample.png"
						]
					},
					"AQAAAAAAAAAAAAAADQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"contents": "#include <cutils.h>\n#include \"property-enumeration.h\"\n#include <quickjs.h>\n#include \"utils.h\"\n#include \"vector.h\"\n#include \"buffer-utils.h\"\n#include \"location.h\"\n\n#include <stdint.h>\n\nchar* js_inspect_tostring(JSContext* ctx, JSValueConst value);\n\n/**\n * \\defgroup quickjs-xml QuickJS module: xml - XML parser & printer\n * @{\n */\n#define WS 0x01\n#define START 0x02\n#define END 0x04\n#define QUOTE 0x08\n#define CLOSE 0x10\n#define EQUAL 0x20\n#define SPECIAL 0x40\n#define SLASH 0x80\n#define BACKSLASH 0x100\n#define QUESTION 0x200\n#define EXCLAM 0x400\n#define HYPHEN 0x400\n\nstatic int chars[256] = {0};\n\ntypedef struct {\n  uint32_t idx;\n  JSValue obj;\n  const uint8_t* name;\n  size_t namelen;\n} OutputValue;\n\nvoid\ncharacter_classes_init(int c[256]) {\n  c[' '] = WS;\n  c['\\t'] = WS;\n  c['\\r'] = WS;\n  c['\\n'] = WS;\n  c['!'] = SPECIAL | EXCLAM;\n  c['\"'] = QUOTE;\n  c['/'] = END | SLASH;\n  c['<'] = START;\n  c['='] = EQUAL;\n  c['>'] = END | CLOSE;\n  c['?'] = SPECIAL | QUESTION;\n  c['\\\\'] = BACKSLASH;\n  c['-'] = HYPHEN;\n}\n\n#define yield_push() \\\n  do { \\\n    out = vector_push(&st, ((OutputValue){0, JS_NewArray(ctx), name, namelen})); \\\n    JS_SetPropertyStr(ctx, element, \"children\", out->obj); \\\n  } while(0)\n\n#define yield_pop() \\\n  do { \\\n    if(vector_size(&st, sizeof(OutputValue)) >= 2 ?) { \\\n      vector_pop(&st, sizeof(OutputValue)); \\\n      out = vector_back(&st, sizeof(OutputValue))); \\\n    } \\\n    while(0)\n\n#define yield_next() \\\n  do { \\\n    element = JS_NewObject(ctx); \\\n    JS_SetPropertyUint32(ctx, out->obj, out->idx++, element); \\\n  } while(0)\n\n#define \n\n\n(index) \\\n  do { \\\n    if(index >= 1) { \\\n      vector_shrink(&st, sizeof(OutputValue), index); \\\n      out = vector_back(&st, sizeof(OutputValue)); \\\n    } \\\n  } while(0)\n\n#define parse_getc() ((c = *++ptr), ptr >= end ? done = TRUE : 0)\n#define parse_skip(cond) \\\n  do { \\\n    c = *ptr; \\\n    if(!(cond)) \\\n      break; \\\n    if(++ptr >= end) \\\n      done = TRUE; \\\n  } while(!done)\n\n#define parse_until(cond) parse_skip(!(cond))\n#define parse_skipspace() parse_skip(chars[c] & WS)\n#define parse_is(c, classes) (chars[(c)] & (classes))\n\nstatic int32_t\nfind_tag(Vector* st, const char* name, size_t namelen) {\n  OutputValue* o;\n  int32_t index = vector_size(st, sizeof(OutputValue));\n\n  for(o = vector_back(st, sizeof(OutputValue)); o >= (OutputValue*)vector_begin(st); o--) {\n    --index;\n\n    if(o->namelen == namelen && !strncmp((const char*)o->name, name, namelen))\n      return index;\n  }\n  return -1;\n}\n\nstatic int32_t\nxml_num_children(JSContext* ctx, JSValueConst element) {\n  int64_t num_children = -1;\n  JSValue children = JS_GetPropertyStr(ctx, element, \"children\");\n\n  if(JS_IsArray(ctx, children))\n    num_children = js_array_length(ctx, children);\n\n  JS_FreeValue(ctx, children);\n  return num_children;\n}\n\nstatic void\nxml_set_attr_value(JSContext* ctx, JSValueConst obj, const char* attr, size_t alen, JSValue value) {\n  JSAtom prop;\n  prop = JS_NewAtomLen(ctx, (const char*)attr, alen);\n  JS_SetProperty(ctx, obj, prop, value);\n  JS_FreeAtom(ctx, prop);\n}\n\nstatic void\nxml_set_attr_bytes(JSContext* ctx, JSValueConst obj, const char* attr, size_t alen, const uint8_t* str, size_t slen) {\n  JSValue value;\n  value = JS_NewStringLen(ctx, (const char*)str, slen);\n  xml_set_attr_value(ctx, obj, attr, alen, value);\n  // JS_FreeValue(ctx, value);\n}\n\nstatic void\nxml_write_attributes(JSContext* ctx, JSValueConst attributes, DynBuf* db) {\n  size_t i;\n  PropertyEnumeration props = {0};\n\n  property_enumeration_init(&props, ctx, JS_DupValue(ctx, attributes), PROPENUM_DEFAULT_FLAGS);\n\n  for(i = 0; i < props.tab_atom_len; i++) {\n    const char *keystr, *valuestr;\n    JSValue value;\n    property_enumeration_setpos(&props, i);\n    keystr = property_enumeration_keystr(&props, ctx);\n    value = property_enumeration_value(&props, ctx);\n    dbuf_putc(db, ' ');\n    dbuf_putstr(db, keystr);\n    if(!(JS_IsBool(value) && JS_ToBool(ctx, value))) {\n      valuestr = property_enumeration_valuestr(&props, ctx);\n      dbuf_putstr(db, \"=\\\"\");\n      dbuf_putstr(db, valuestr);\n      js_cstring_free(ctx, valuestr);\n      dbuf_putc(db, '\"');\n    }\n    js_cstring_free(ctx, keystr);\n    JS_FreeValue(ctx, value);\n  }\n\n  property_enumeration_reset(&props, JS_GetRuntime(ctx));\n}\n\nstatic inline void\nxml_write_indent(DynBuf* db, int32_t depth) {\n  while(depth-- > 0) dbuf_putstr(db, \"  \");\n}\n\nstatic void\nxml_write_string(JSContext* ctx, const char* textStr, size_t textLen, DynBuf* db, int32_t depth) {\n  const char* p;\n  for(p = textStr;;) {\n    size_t n;\n\n    while(textLen) {\n      if(byte_chr(\"\\r\\n \\t\", 4, *p) == 4)\n        break;\n      p++;\n      textLen--;\n    }\n    n = byte_chr(p, textLen, '\\n');\n    dbuf_append(db, (const uint8_t*)p, n);\n    if(n < textLen)\n      n++;\n    p += n;\n    textLen -= n;\n\n    /*while(textLen > 0 &&  (p[0] == ' ' ||  p[0] == '\\t')) {\n      textLen--;\n      p++;\n    }    */\n\n    if(textLen == 0)\n      break;\n\n    if(depth > 0) {\n      dbuf_putc(db, '\\n');\n      xml_write_indent(db, depth + 1);\n    }\n  }\n}\n\nstatic void\nxml_write_text(JSContext* ctx, JSValueConst text, DynBuf* db, int32_t depth, BOOL multiline) {\n  const char* textStr;\n  size_t textLen;\n  textStr = JS_ToCStringLen(ctx, &textLen, text);\n  if(multiline)\n    xml_write_indent(db, depth);\n  else {\n    while(db->size > 0 && is_whitespace_char(db->buf[db->size - 1])) db->size--;\n  }\n  xml_write_string(ctx, textStr, textLen, db, multiline ? depth : 0);\n  js_cstring_free(ctx, textStr);\n  if(multiline)\n    dbuf_putc(db, '\\n');\n}\n\nstatic void\nxml_write_element(JSContext* ctx, JSValueConst element, DynBuf* db, int32_t depth) {\n  JSValue attributes = JS_GetPropertyStr(ctx, element, \"attributes\");\n  int32_t num_children;\n  size_t tagLen;\n  const char* tagName = js_get_propertystr_cstringlen(ctx, element, \"tagName\", &tagLen);\n  BOOL isComment;\n\n  if(!tagName || !tagName[0])\n    return;\n\n  assert(tagName);\n  isComment = !strncmp(tagName, \"!--\", 3);\n\n  xml_write_indent(db, depth);\n\n  if(tagName[0])\n    dbuf_putc(db, '<');\n\n  if(isComment) {\n    if(byte_chr(tagName, tagLen, '\\n') < tagLen) {\n      xml_write_string(ctx, tagName, tagLen - 2, db, depth - 1);\n      dbuf_putc(db, '\\n');\n      xml_write_indent(db, depth + 1);\n      dbuf_putc(db, '-');\n      dbuf_putc(db, '-');\n    } else {\n      xml_write_string(ctx, tagName, tagLen, db, depth - 1);\n    }\n  } else if(tagName[0] == '!') {\n    dbuf_putstr(db, tagName);\n  } else {\n    dbuf_putstr(db, tagName);\n    if(JS_IsObject(attributes))\n      xml_write_attributes(ctx, attributes, db);\n  }\n  num_children = xml_num_children(ctx, element);\n\n  if(tagName[0])\n    dbuf_putstr(db, (num_children >= 0 || isComment) ? tagName[0] == '?' ? \"?>\" : \">\" : tagName[0] == '!' ? \">\" : \" />\");\n  dbuf_putc(db, '\\n');\n\n  js_cstring_free(ctx, tagName);\n  JS_FreeValue(ctx, attributes);\n}\n\nstatic void\nxml_close_element(JSContext* ctx, JSValueConst element, DynBuf* db, int32_t depth) {\n  int32_t num_children = xml_num_children(ctx, element);\n\n  if(num_children >= 0) {\n    size_t tagLen;\n    const char* tagName = js_get_propertystr_cstringlen(ctx, element, \"tagName\", &tagLen);\n\n    if(tagName[0] != '?' && tagName[0]) {\n      if(db->size > 0 && db->buf[db->size - 1] == '\\n')\n        xml_write_indent(db, depth);\n\n      dbuf_putstr(db, \"</\");\n      dbuf_append(db, (const uint8_t*)tagName, tagLen);\n      dbuf_putstr(db, \">\");\n      dbuf_putc(db, '\\n');\n    }\n    js_cstring_free(ctx, tagName);\n  }\n}\n\nstatic PropertyEnumeration*\nxml_enumeration_next(Vector* vec, JSContext* ctx, DynBuf* db, int32_t max_depth) {\n  PropertyEnumeration* it;\n  JSValue value = JS_UNDEFINED, children;\n\n  it = vector_back(vec, sizeof(PropertyEnumeration));\n  value = property_enumeration_value(it, ctx);\n\n  if(JS_IsObject(value)) {\n    children = JS_GetPropertyStr(ctx, value, \"children\");\n    JS_FreeValue(ctx, value);\n    if(!JS_IsUndefined(children) && (max_depth == INT32_MAX || vector_size(vec, sizeof(PropertyEnumeration)) < (uint32_t)max_depth)) {\n      if((it = property_enumeration_push(vec, ctx, children, PROPENUM_DEFAULT_FLAGS)))\n        if(property_enumeration_setpos(it, 0))\n          return it;\n    }\n  } else {\n    JS_FreeValue(ctx, value);\n  }\n\n  for(;;) {\n    if(property_enumeration_setpos(it, it->idx + 1))\n      break;\n\n    if((it = property_enumeration_pop(vec, ctx)) == 0)\n      break;\n\n    value = property_enumeration_value(it, ctx);\n    xml_close_element(ctx, value, db, (int32_t)vector_size(vec, sizeof(PropertyEnumeration)) - 1);\n    JS_FreeValue(ctx, value);\n  }\n\n  return it;\n}\n\nstatic JSValue\njs_xml_parse(JSContext* ctx, const uint8_t* buf, size_t len, const char* input_name) {\n  BOOL done = FALSE;\n  const uint8_t *ptr, *end, *start;\n  uint8_t c;\n  OutputValue* out;\n  JSValue ret, element = JS_UNDEFINED;\n  Vector st = VECTOR(ctx);\n  Location loc = {(char*)input_name};\n  ptr = buf;\n  end = buf + len;\n\n  ret = JS_NewArray(ctx);\n\n  out = vector_emplace(&st, sizeof(OutputValue));\n  out->obj = ret;\n  out->idx = 0;\n\n  while(!done) {\n    // parse_skipspace();\n    start = ptr;\n    parse_until(parse_is(c, START));\n\n    if(ptr > start) {\n      size_t len;\n\n      while(start < ptr && is_whitespace_char(*start)) start++;\n\n      len = ptr - start;\n      while(len > 0 && is_whitespace_char(start[len - 1])) len--;\n\n      if(len > 0) {\n        JSValue str = JS_NewStringLen(ctx, (const char*)start, len);\n        JS_SetPropertyUint32(ctx, out->obj, out->idx++, str);\n      }\n    }\n\n    if(done)\n      break;\n\n    if(parse_is(c, START)) {\n      const uint8_t* name;\n      size_t namelen;\n      BOOL closing = FALSE, self_closing = FALSE;\n      parse_getc();\n      if(parse_is(c, SLASH)) {\n        closing = TRUE;\n        parse_getc();\n      }\n      name = ptr;\n      parse_until(parse_is(c, WS | END));\n      namelen = ptr - name;\n\n      if(closing) {\n        int32_t index;\n        parse_skipspace();\n        if(parse_is(c, CLOSE))\n          parse_getc();\n\n        if((index = find_tag(&st, (const char*)name, namelen)) == -1) {\n          JS_FreeValue(ctx, ret);\n          location_count(&loc, (const char*)buf, start - buf);\n          printf(\"mismatch </%.*s> at %s:%u:%u\", (int)namelen, name, loc.file, loc.line, loc.column);\n          ret = JS_ThrowSyntaxError(ctx, \"mismatch </%.*s> at %s:%u:%u\", (int)namelen, name, loc.file, loc.line, loc.column);\n          return ret;\n        }\n\n        // printf(\"end-of [%zd] tagName: %s%.*s\\n\", index - 1, closing ? \"/\" : \"\", namelen, name);\n\n        yield_return(index);\n        continue;\n\n        /* if(out->namelen == namelen && !memcmp(out->name, name, namelen)) {\n           yield_pop();\n           continue;\n         }*/\n      } else {\n        // printf(\"element [%zd] tagName: %s%.*s\\n\", vector_size(&st, sizeof(OutputValue)) - 1, closing ? \"/\" : \"\", namelen, name);\n        /*  printf(\"parent tagName: %.*s\\n\", out->namelen, out->name);*/\n        yield_next();\n\n        if(namelen && (parse_is(name[0], (/*QUESTION | */ EXCLAM))))\n          self_closing = TRUE;\n\n        if(namelen >= 3 && parse_is(start[0], EXCLAM) && parse_is(start[1], HYPHEN) && parse_is(start[2], HYPHEN)) {\n          /*  parse_getc();\n            parse_getc();*/\n          while(!done) {\n            parse_getc();\n            if(end - ptr >= 3 && parse_is(ptr[0], HYPHEN) && parse_is(ptr[1], HYPHEN) && parse_is(ptr[2], CLOSE)) {\n              ptr += 2;\n              break;\n            }\n          }\n          namelen = ptr - name;\n\n        } else if(namelen && parse_is(name[0], EXCLAM)) {\n          parse_until(parse_is(c, CLOSE));\n          namelen = ptr - name;\n        }\n        xml_set_attr_bytes(ctx, element, \"tagName\", 7, name, namelen);\n\n        if(namelen && parse_is(name[0], EXCLAM)) {\n          parse_getc();\n          continue;\n        }\n\n        /* Parse attributes if not a closing tag */\n        const uint8_t *attr, *value;\n        size_t alen, vlen, num_attrs = 0;\n        JSValue attributes = JS_NewObject(ctx);\n        while(!done) {\n          parse_skipspace();\n          if(parse_is(c, END))\n            break;\n          attr = ptr;\n          parse_until(parse_is(c, EQUAL | WS | SPECIAL | CLOSE));\n          if((alen = ptr - attr) == 0)\n            break;\n          if(parse_is(c, WS | CLOSE | SLASH)) {\n            xml_set_attr_value(ctx, attributes, (const char*)attr, alen, JS_NewBool(ctx, TRUE));\n            num_attrs++;\n            continue;\n          }\n          if(parse_is(c, EQUAL)) {\n            parse_getc();\n            if(parse_is(c, QUOTE))\n              parse_getc();\n            value = ptr;\n            parse_until(parse_is(c, QUOTE));\n            vlen = ptr - value;\n            if(parse_is(c, QUOTE))\n              parse_getc();\n            xml_set_attr_bytes(ctx, attributes, (const char*)attr, alen, value, vlen);\n            num_attrs++;\n          }\n        }\n        /*if(num_attrs == 0)\n          JS_FreeValue(ctx, attributes);\n        else*/\n        JS_SetPropertyStr(ctx, element, \"attributes\", attributes);\n\n        if(parse_is(name[0], QUESTION | EXCLAM)) {\n          if(chars[c] == chars[name[0]]) {\n            parse_getc();\n            yield_push();\n          }\n\n        } else if(parse_is(c, SLASH)) {\n          self_closing = TRUE;\n          parse_getc();\n\n        } else if(!self_closing) {\n          /*\n            out = vector_emplace(&st, sizeof(OutputValue));\n               out->obj = JS_NewArray(ctx);\n               out->idx = 0;\n               out->name = name;\n               out->namelen = namelen;\n               JS_SetPropertyStr(ctx, element, \"children\", out->obj);*/\n          yield_push();\n        }\n\n        /*{\n          char* estr = (char*)js_inspect_tostring(ctx, element);\n          printf(\"%03zu element #%i %s\\n\", vector_size(&st, sizeof(OutputValue)), out->idx, estr);\n          js_free(ctx, estr);\n        }*/\n      }\n\n      parse_skipspace();\n      if(parse_is(c, CLOSE))\n        parse_getc();\n    }\n  }\n  return ret;\n}\n\nstatic JSValue\njs_xml_read(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  JSValue ret;\n  InputBuffer input = js_input_chars(ctx, argv[0]);\n  const char* input_name = 0;\n\n  if(input.data == 0 || input.size == 0) {\n    JS_ThrowReferenceError(ctx, \"xml.read(): expecting buffer or string\");\n    return JS_EXCEPTION;\n  }\n\n  if(argc >= 2)\n    input_name = JS_ToCString(ctx, argv[1]);\n\n  ret = js_xml_parse(ctx, input.data, input.size, input_name ? input_name : \"<input>\");\n\n  if(input_name)\n    JS_FreeCString(ctx, input_name);\n\n  input_buffer_free(&input, ctx);\n  return ret;\n}\n\nstatic JSValue\njs_xml_write_obj(JSContext* ctx, JSValueConst obj, int max_depth, DynBuf* output) {\n  Vector enumerations = VECTOR(ctx);\n  PropertyEnumeration* it;\n  JSValue str, value = JS_UNDEFINED;\n\n  it = property_enumeration_push(&enumerations, ctx, JS_DupValue(ctx, obj), PROPENUM_DEFAULT_FLAGS);\n\n  do {\n    int32_t depth = vector_size(&enumerations, sizeof(PropertyEnumeration)) - 1;\n\n    value = property_enumeration_value(it, ctx);\n\n    if(JS_IsString(value))\n      xml_write_text(ctx, value, output, depth, it->tab_atom_len > 1);\n    else if(JS_IsObject(value) && !JS_IsArray(ctx, value))\n      xml_write_element(ctx, value, output, depth);\n\n    JS_FreeValue(ctx, value);\n  } while((it = xml_enumeration_next(&enumerations, ctx, output, max_depth)));\n\n  while(output->size > 0 && (output->buf[output->size - 1] == '\\0' || byte_chr(\"\\r\\n\\t \", 4, output->buf[output->size - 1]) < 4))\n    output->size--;\n  dbuf_putc(output, '\\0');\n\n  str = JS_NewString(ctx, (const char*)output->buf);\n  // str = JS_NewStringLen(ctx, output->buf, output->size);\n\n  vector_foreach_t(&enumerations, it) { property_enumeration_reset(it, JS_GetRuntime(ctx)); }\n  vector_free(&enumerations);\n  return str;\n}\n\nstatic JSValue\njs_xml_write(JSContext* ctx, JSValueConst this_val, int argc, JSValueConst argv[]) {\n  DynBuf output = {0};\n  JSValueConst obj = argc > 0 ? argv[0] : JS_UNDEFINED;\n  JSValue ret, arr = JS_UNDEFINED;\n  int32_t max_depth = INT32_MAX;\n\n  js_dbuf_init(ctx, &output);\n\n  if(argc >= 2)\n    JS_ToInt32(ctx, &max_depth, argv[1]);\n\n  if(!JS_IsArray(ctx, obj)) {\n    arr = JS_NewArray(ctx);\n    JS_SetPropertyUint32(ctx, arr, 0, JS_DupValue(ctx, obj));\n    obj = arr;\n  }\n\n  ret = js_xml_write_obj(ctx, obj, max_depth, &output);\n\n  dbuf_free(&output);\n\n  if(!JS_IsUndefined(arr))\n    JS_FreeValue(ctx, arr);\n\n  return ret;\n}\n\nstatic const JSCFunctionListEntry js_xml_funcs[] = {\n    JS_CFUNC_DEF(\"read\", 1, js_xml_read),\n    JS_CFUNC_DEF(\"write\", 2, js_xml_write),\n};\n\nstatic int\njs_xml_init(JSContext* ctx, JSModuleDef* m) {\n\n  character_classes_init(chars);\n\n  return JS_SetModuleExportList(ctx, m, js_xml_funcs, countof(js_xml_funcs));\n}\n\n#ifdef JS_SHARED_LIBRARY\n#define JS_INIT_MODULE js_init_module\n#else\n#define JS_INIT_MODULE js_init_module_xml\n#endif\n\nVISIBLE JSModuleDef*\nJS_INIT_MODULE(JSContext* ctx, const char* module_name) {\n  JSModuleDef* m;\n  m = JS_NewCModule(ctx, module_name, js_xml_init);\n  if(!m)\n    return NULL;\n  JS_AddModuleExportList(ctx, m, js_xml_funcs, countof(js_xml_funcs));\n  return m;\n}\n",
			"file": "quickjs-xml.c",
			"file_size": 16991,
			"file_write_time": 132843502083331369,
			"settings":
			{
				"buffer_size": 16982,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					588,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAClQQAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAicHJvcGVydHktZW51bWVyYXRpb24uaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJ2ZWN0b3IuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAibG9jYXRpb24uaCIKCiNpbmNsdWRlIDxzdGRpbnQuaD4KCmNoYXIqIGpzX2luc3BlY3RfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgovKioKICogXGRlZmdyb3VwIHF1aWNranMteG1sIFF1aWNrSlMgbW9kdWxlOiB4bWwgLSBYTUwgcGFyc2VyICYgcHJpbnRlcgogKiBAewogKi8KI2RlZmluZSBXUyAweDAxCiNkZWZpbmUgU1RBUlQgMHgwMgojZGVmaW5lIEVORCAweDA0CiNkZWZpbmUgUVVPVEUgMHgwOAojZGVmaW5lIENMT1NFIDB4MTAKI2RlZmluZSBFUVVBTCAweDIwCiNkZWZpbmUgU1BFQ0lBTCAweDQwCiNkZWZpbmUgU0xBU0ggMHg4MAojZGVmaW5lIEJBQ0tTTEFTSCAweDEwMAojZGVmaW5lIFFVRVNUSU9OIDB4MjAwCiNkZWZpbmUgRVhDTEFNIDB4NDAwCiNkZWZpbmUgSFlQSEVOIDB4NDAwCgpzdGF0aWMgaW50IGNoYXJzWzI1Nl0gPSB7MH07Cgp0eXBlZGVmIHN0cnVjdCB7CiAgdWludDMyX3QgaWR4OwogIEpTVmFsdWUgb2JqOwogIGNvbnN0IHVpbnQ4X3QqIG5hbWU7CiAgc2l6ZV90IG5hbWVsZW47Cn0gT3V0cHV0VmFsdWU7Cgp2b2lkCmNoYXJhY3Rlcl9jbGFzc2VzX2luaXQoaW50IGNbMjU2XSkgewogIGNbJyAnXSA9IFdTOwogIGNbJ1x0J10gPSBXUzsKICBjWydcciddID0gV1M7CiAgY1snXG4nXSA9IFdTOwogIGNbJyEnXSA9IFNQRUNJQUwgfCBFWENMQU07CiAgY1snIiddID0gUVVPVEU7CiAgY1snLyddID0gRU5EIHwgU0xBU0g7CiAgY1snPCddID0gU1RBUlQ7CiAgY1snPSddID0gRVFVQUw7CiAgY1snPiddID0gRU5EIHwgQ0xPU0U7CiAgY1snPyddID0gU1BFQ0lBTCB8IFFVRVNUSU9OOwogIGNbJ1xcJ10gPSBCQUNLU0xBU0g7CiAgY1snLSddID0gSFlQSEVOOwp9CgojZGVmaW5lIFBVU0goKSBcCiAgZG8geyBcCiAgICBvdXQgPSB2ZWN0b3JfcHVzaCgmc3QsICgoT3V0cHV0VmFsdWUpezAsIEpTX05ld0FycmF5KGN0eCksIG5hbWUsIG5hbWVsZW59KSk7IFwKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIiwgb3V0LT5vYmopOyBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSBQT1AoKSBcCiAgZG8geyBcCiAgICBpZih2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpID49IDIgPykgeyBcCiAgICAgIHZlY3Rvcl9wb3AoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgXAogICAgICBvdXQgPSB2ZWN0b3JfYmFjaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpKTsgXAogICAgfSBcCiAgICB3aGlsZSgwKQoKI2RlZmluZSBBREQoKSBcCiAgZG8geyBcCiAgICBlbGVtZW50ID0gSlNfTmV3T2JqZWN0KGN0eCk7IFwKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgb3V0LT5vYmosIG91dC0+aWR4KyssIGVsZW1lbnQpOyBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSBUUlVOQyhpbmRleCkgXAogIGRvIHsgXAogICAgaWYoaW5kZXggPj0gMSkgeyBcCiAgICAgIHZlY3Rvcl9zaHJpbmsoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpLCBpbmRleCk7IFwKICAgICAgb3V0ID0gdmVjdG9yX2JhY2soJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgXAogICAgfSBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSBORVhUKCkgKChjID0gKisrcHRyKSwgcHRyID49IGVuZCA/IGRvbmUgPSBUUlVFIDogMCkKI2RlZmluZSBTS0lQKGNvbmQpIFwKICBkbyB7IFwKICAgIGMgPSAqcHRyOyBcCiAgICBpZighKGNvbmQpKSBcCiAgICAgIGJyZWFrOyBcCiAgICBpZigrK3B0ciA+PSBlbmQpIFwKICAgICAgZG9uZSA9IFRSVUU7IFwKICB9IHdoaWxlKCFkb25lKQoKI2RlZmluZSBwYXJzZV91bnRpbChjb25kKSBTS0lQKCEoY29uZCkpCiNkZWZpbmUgcGFyc2Vfc2tpcHNwYWNlKCkgU0tJUChjaGFyc1tjXSAmIFdTKQojZGVmaW5lIENIQVJfSVMoYywgY2xhc3NlcykgKGNoYXJzWyhjKV0gJiAoY2xhc3NlcykpCgpzdGF0aWMgaW50MzJfdApmaW5kX3RhZyhWZWN0b3IqIHN0LCBjb25zdCBjaGFyKiBuYW1lLCBzaXplX3QgbmFtZWxlbikgewogIE91dHB1dFZhbHVlKiBvOwogIGludDMyX3QgaW5kZXggPSB2ZWN0b3Jfc2l6ZShzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSk7CgogIGZvcihvID0gdmVjdG9yX2JhY2soc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOyBvID49IChPdXRwdXRWYWx1ZSopdmVjdG9yX2JlZ2luKHN0KTsgby0tKSB7CiAgICAtLWluZGV4OwoKICAgIGlmKG8tPm5hbWVsZW4gPT0gbmFtZWxlbiAmJiAhc3RybmNtcCgoY29uc3QgY2hhciopby0+bmFtZSwgbmFtZSwgbmFtZWxlbikpCiAgICAgIHJldHVybiBpbmRleDsKICB9CiAgcmV0dXJuIC0xOwp9CgpzdGF0aWMgaW50MzJfdAp4bWxfbnVtX2NoaWxkcmVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZWxlbWVudCkgewogIGludDY0X3QgbnVtX2NoaWxkcmVuID0gLTE7CiAgSlNWYWx1ZSBjaGlsZHJlbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIik7CgogIGlmKEpTX0lzQXJyYXkoY3R4LCBjaGlsZHJlbikpCiAgICBudW1fY2hpbGRyZW4gPSBqc19hcnJheV9sZW5ndGgoY3R4LCBjaGlsZHJlbik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNoaWxkcmVuKTsKICByZXR1cm4gbnVtX2NoaWxkcmVuOwp9CgpzdGF0aWMgdm9pZAp4bWxfc2V0X2F0dHJfdmFsdWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIGF0dHIsIHNpemVfdCBhbGVuLCBKU1ZhbHVlIHZhbHVlKSB7CiAgSlNBdG9tIHByb3A7CiAgcHJvcCA9IEpTX05ld0F0b21MZW4oY3R4LCAoY29uc3QgY2hhciopYXR0ciwgYWxlbik7CiAgSlNfU2V0UHJvcGVydHkoY3R4LCBvYmosIHByb3AsIHZhbHVlKTsKICBKU19GcmVlQXRvbShjdHgsIHByb3ApOwp9CgpzdGF0aWMgdm9pZAp4bWxfc2V0X2F0dHJfYnl0ZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIGF0dHIsIHNpemVfdCBhbGVuLCBjb25zdCB1aW50OF90KiBzdHIsIHNpemVfdCBzbGVuKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICB2YWx1ZSA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilzdHIsIHNsZW4pOwogIHhtbF9zZXRfYXR0cl92YWx1ZShjdHgsIG9iaiwgYXR0ciwgYWxlbiwgdmFsdWUpOwogIC8vIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX2F0dHJpYnV0ZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhdHRyaWJ1dGVzLCBEeW5CdWYqIGRiKSB7CiAgc2l6ZV90IGk7CiAgUHJvcGVydHlFbnVtZXJhdGlvbiBwcm9wcyA9IHswfTsKCiAgcHJvcGVydHlfZW51bWVyYXRpb25faW5pdCgmcHJvcHMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBhdHRyaWJ1dGVzKSwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUyk7CgogIGZvcihpID0gMDsgaSA8IHByb3BzLnRhYl9hdG9tX2xlbjsgaSsrKSB7CiAgICBjb25zdCBjaGFyICprZXlzdHIsICp2YWx1ZXN0cjsKICAgIEpTVmFsdWUgdmFsdWU7CiAgICBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9zZXRwb3MoJnByb3BzLCBpKTsKICAgIGtleXN0ciA9IHByb3BlcnR5X2VudW1lcmF0aW9uX2tleXN0cigmcHJvcHMsIGN0eCk7CiAgICB2YWx1ZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKCZwcm9wcywgY3R4KTsKICAgIGRidWZfcHV0YyhkYiwgJyAnKTsKICAgIGRidWZfcHV0c3RyKGRiLCBrZXlzdHIpOwogICAgaWYoIShKU19Jc0Jvb2wodmFsdWUpICYmIEpTX1RvQm9vbChjdHgsIHZhbHVlKSkpIHsKICAgICAgdmFsdWVzdHIgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZXN0cigmcHJvcHMsIGN0eCk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCAiPVwiIik7CiAgICAgIGRidWZfcHV0c3RyKGRiLCB2YWx1ZXN0cik7CiAgICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHZhbHVlc3RyKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnIicpOwogICAgfQogICAganNfY3N0cmluZ19mcmVlKGN0eCwga2V5c3RyKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIHByb3BlcnR5X2VudW1lcmF0aW9uX3Jlc2V0KCZwcm9wcywgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCnhtbF93cml0ZV9pbmRlbnQoRHluQnVmKiBkYiwgaW50MzJfdCBkZXB0aCkgewogIHdoaWxlKGRlcHRoLS0gPiAwKSBkYnVmX3B1dHN0cihkYiwgIiAgIik7Cn0KCnN0YXRpYyB2b2lkCnhtbF93cml0ZV9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHRleHRTdHIsIHNpemVfdCB0ZXh0TGVuLCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoKSB7CiAgY29uc3QgY2hhciogcDsKICBmb3IocCA9IHRleHRTdHI7OykgewogICAgc2l6ZV90IG47CgogICAgd2hpbGUodGV4dExlbikgewogICAgICBpZihieXRlX2NocigiXHJcbiBcdCIsIDQsICpwKSA9PSA0KQogICAgICAgIGJyZWFrOwogICAgICBwKys7CiAgICAgIHRleHRMZW4tLTsKICAgIH0KICAgIG4gPSBieXRlX2NocihwLCB0ZXh0TGVuLCAnXG4nKTsKICAgIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopcCwgbik7CiAgICBpZihuIDwgdGV4dExlbikKICAgICAgbisrOwogICAgcCArPSBuOwogICAgdGV4dExlbiAtPSBuOwoKICAgIC8qd2hpbGUodGV4dExlbiA+IDAgJiYgIChwWzBdID09ICcgJyB8fCAgcFswXSA9PSAnXHQnKSkgewogICAgICB0ZXh0TGVuLS07CiAgICAgIHArKzsKICAgIH0gICAgKi8KCiAgICBpZih0ZXh0TGVuID09IDApCiAgICAgIGJyZWFrOwoKICAgIGlmKGRlcHRoID4gMCkgewogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCArIDEpOwogICAgfQogIH0KfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX3RleHQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0ZXh0LCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoLCBCT09MIG11bHRpbGluZSkgewogIGNvbnN0IGNoYXIqIHRleHRTdHI7CiAgc2l6ZV90IHRleHRMZW47CiAgdGV4dFN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZ0ZXh0TGVuLCB0ZXh0KTsKICBpZihtdWx0aWxpbmUpCiAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCk7CiAgZWxzZSB7CiAgICB3aGlsZShkYi0+c2l6ZSA+IDAgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKGRiLT5idWZbZGItPnNpemUgLSAxXSkpIGRiLT5zaXplLS07CiAgfQogIHhtbF93cml0ZV9zdHJpbmcoY3R4LCB0ZXh0U3RyLCB0ZXh0TGVuLCBkYiwgbXVsdGlsaW5lID8gZGVwdGggOiAwKTsKICBqc19jc3RyaW5nX2ZyZWUoY3R4LCB0ZXh0U3RyKTsKICBpZihtdWx0aWxpbmUpCiAgICBkYnVmX3B1dGMoZGIsICdcbicpOwp9CgpzdGF0aWMgdm9pZAp4bWxfd3JpdGVfZWxlbWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVsZW1lbnQsIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICBKU1ZhbHVlIGF0dHJpYnV0ZXMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJhdHRyaWJ1dGVzIik7CiAgaW50MzJfdCBudW1fY2hpbGRyZW47CiAgc2l6ZV90IHRhZ0xlbjsKICBjb25zdCBjaGFyKiB0YWdOYW1lID0ganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsICZ0YWdMZW4pOwogIEJPT0wgaXNDb21tZW50OwoKICBpZighdGFnTmFtZSB8fCAhdGFnTmFtZVswXSkKICAgIHJldHVybjsKCiAgYXNzZXJ0KHRhZ05hbWUpOwogIGlzQ29tbWVudCA9ICFzdHJuY21wKHRhZ05hbWUsICIhLS0iLCAzKTsKCiAgeG1sX3dyaXRlX2luZGVudChkYiwgZGVwdGgpOwoKICBpZih0YWdOYW1lWzBdKQogICAgZGJ1Zl9wdXRjKGRiLCAnPCcpOwoKICBpZihpc0NvbW1lbnQpIHsKICAgIGlmKGJ5dGVfY2hyKHRhZ05hbWUsIHRhZ0xlbiwgJ1xuJykgPCB0YWdMZW4pIHsKICAgICAgeG1sX3dyaXRlX3N0cmluZyhjdHgsIHRhZ05hbWUsIHRhZ0xlbiAtIDIsIGRiLCBkZXB0aCAtIDEpOwogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCArIDEpOwogICAgICBkYnVmX3B1dGMoZGIsICctJyk7CiAgICAgIGRidWZfcHV0YyhkYiwgJy0nKTsKICAgIH0gZWxzZSB7CiAgICAgIHhtbF93cml0ZV9zdHJpbmcoY3R4LCB0YWdOYW1lLCB0YWdMZW4sIGRiLCBkZXB0aCAtIDEpOwogICAgfQogIH0gZWxzZSBpZih0YWdOYW1lWzBdID09ICchJykgewogICAgZGJ1Zl9wdXRzdHIoZGIsIHRhZ05hbWUpOwogIH0gZWxzZSB7CiAgICBkYnVmX3B1dHN0cihkYiwgdGFnTmFtZSk7CiAgICBpZihKU19Jc09iamVjdChhdHRyaWJ1dGVzKSkKICAgICAgeG1sX3dyaXRlX2F0dHJpYnV0ZXMoY3R4LCBhdHRyaWJ1dGVzLCBkYik7CiAgfQogIG51bV9jaGlsZHJlbiA9IHhtbF9udW1fY2hpbGRyZW4oY3R4LCBlbGVtZW50KTsKCiAgaWYodGFnTmFtZVswXSkKICAgIGRidWZfcHV0c3RyKGRiLCAobnVtX2NoaWxkcmVuID49IDAgfHwgaXNDb21tZW50KSA/IHRhZ05hbWVbMF0gPT0gJz8nID8gIj8+IiA6ICI+IiA6IHRhZ05hbWVbMF0gPT0gJyEnID8gIj4iIDogIiAvPiIpOwogIGRidWZfcHV0YyhkYiwgJ1xuJyk7CgogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHRhZ05hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGF0dHJpYnV0ZXMpOwp9CgpzdGF0aWMgdm9pZAp4bWxfY2xvc2VfZWxlbWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVsZW1lbnQsIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICBpbnQzMl90IG51bV9jaGlsZHJlbiA9IHhtbF9udW1fY2hpbGRyZW4oY3R4LCBlbGVtZW50KTsKCiAgaWYobnVtX2NoaWxkcmVuID49IDApIHsKICAgIHNpemVfdCB0YWdMZW47CiAgICBjb25zdCBjaGFyKiB0YWdOYW1lID0ganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsICZ0YWdMZW4pOwoKICAgIGlmKHRhZ05hbWVbMF0gIT0gJz8nICYmIHRhZ05hbWVbMF0pIHsKICAgICAgaWYoZGItPnNpemUgPiAwICYmIGRiLT5idWZbZGItPnNpemUgLSAxXSA9PSAnXG4nKQogICAgICAgIHhtbF93cml0ZV9pbmRlbnQoZGIsIGRlcHRoKTsKCiAgICAgIGRidWZfcHV0c3RyKGRiLCAiPC8iKTsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kil0YWdOYW1lLCB0YWdMZW4pOwogICAgICBkYnVmX3B1dHN0cihkYiwgIj4iKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKICAgIH0KICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHRhZ05hbWUpOwogIH0KfQoKc3RhdGljIFByb3BlcnR5RW51bWVyYXRpb24qCnhtbF9lbnVtZXJhdGlvbl9uZXh0KFZlY3RvciogdmVjLCBKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBkYiwgaW50MzJfdCBtYXhfZGVwdGgpIHsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKICBKU1ZhbHVlIHZhbHVlID0gSlNfVU5ERUZJTkVELCBjaGlsZHJlbjsKCiAgaXQgPSB2ZWN0b3JfYmFjayh2ZWMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSk7CiAgdmFsdWUgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KTsKCiAgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICBjaGlsZHJlbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJjaGlsZHJlbiIpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogICAgaWYoIUpTX0lzVW5kZWZpbmVkKGNoaWxkcmVuKSAmJiAobWF4X2RlcHRoID09IElOVDMyX01BWCB8fCB2ZWN0b3Jfc2l6ZSh2ZWMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkgPCAodWludDMyX3QpbWF4X2RlcHRoKSkgewogICAgICBpZigoaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKHZlYywgY3R4LCBjaGlsZHJlbiwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUykpKQogICAgICAgIGlmKHByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgMCkpCiAgICAgICAgICByZXR1cm4gaXQ7CiAgICB9CiAgfSBlbHNlIHsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIGZvcig7OykgewogICAgaWYocHJvcGVydHlfZW51bWVyYXRpb25fc2V0cG9zKGl0LCBpdC0+aWR4ICsgMSkpCiAgICAgIGJyZWFrOwoKICAgIGlmKChpdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3BvcCh2ZWMsIGN0eCkpID09IDApCiAgICAgIGJyZWFrOwoKICAgIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CiAgICB4bWxfY2xvc2VfZWxlbWVudChjdHgsIHZhbHVlLCBkYiwgKGludDMyX3QpdmVjdG9yX3NpemUodmVjLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpIC0gMSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gaXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF9wYXJzZShKU0NvbnRleHQqIGN0eCwgY29uc3QgdWludDhfdCogYnVmLCBzaXplX3QgbGVuLCBjb25zdCBjaGFyKiBpbnB1dF9uYW1lKSB7CiAgQk9PTCBkb25lID0gRkFMU0U7CiAgY29uc3QgdWludDhfdCAqcHRyLCAqZW5kLCAqc3RhcnQ7CiAgdWludDhfdCBjOwogIE91dHB1dFZhbHVlKiBvdXQ7CiAgSlNWYWx1ZSByZXQsIGVsZW1lbnQgPSBKU19VTkRFRklORUQ7CiAgVmVjdG9yIHN0ID0gVkVDVE9SKGN0eCk7CiAgTG9jYXRpb24gbG9jID0geyhjaGFyKilpbnB1dF9uYW1lfTsKICBwdHIgPSBidWY7CiAgZW5kID0gYnVmICsgbGVuOwoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBvdXQgPSB2ZWN0b3JfZW1wbGFjZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOwogIG91dC0+b2JqID0gcmV0OwogIG91dC0+aWR4ID0gMDsKCiAgd2hpbGUoIWRvbmUpIHsKICAgIC8vIHBhcnNlX3NraXBzcGFjZSgpOwogICAgc3RhcnQgPSBwdHI7CiAgICBwYXJzZV91bnRpbChDSEFSX0lTKGMsIFNUQVJUKSk7CgogICAgaWYocHRyID4gc3RhcnQpIHsKICAgICAgc2l6ZV90IGxlbjsKCiAgICAgIHdoaWxlKHN0YXJ0IDwgcHRyICYmIGlzX3doaXRlc3BhY2VfY2hhcigqc3RhcnQpKSBzdGFydCsrOwoKICAgICAgbGVuID0gcHRyIC0gc3RhcnQ7CiAgICAgIHdoaWxlKGxlbiA+IDAgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKHN0YXJ0W2xlbiAtIDFdKSkgbGVuLS07CgogICAgICBpZihsZW4gPiAwKSB7CiAgICAgICAgSlNWYWx1ZSBzdHIgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopc3RhcnQsIGxlbik7CiAgICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBvdXQtPm9iaiwgb3V0LT5pZHgrKywgc3RyKTsKICAgICAgfQogICAgfQoKICAgIGlmKGRvbmUpCiAgICAgIGJyZWFrOwoKICAgIGlmKENIQVJfSVMoYywgU1RBUlQpKSB7CiAgICAgIGNvbnN0IHVpbnQ4X3QqIG5hbWU7CiAgICAgIHNpemVfdCBuYW1lbGVuOwogICAgICBCT09MIGNsb3NpbmcgPSBGQUxTRSwgc2VsZl9jbG9zaW5nID0gRkFMU0U7CiAgICAgIE5FWFQoKTsKICAgICAgaWYoQ0hBUl9JUyhjLCBTTEFTSCkpIHsKICAgICAgICBjbG9zaW5nID0gVFJVRTsKICAgICAgICBORVhUKCk7CiAgICAgIH0KICAgICAgbmFtZSA9IHB0cjsKICAgICAgcGFyc2VfdW50aWwoQ0hBUl9JUyhjLCBXUyB8IEVORCkpOwogICAgICBuYW1lbGVuID0gcHRyIC0gbmFtZTsKCiAgICAgIGlmKGNsb3NpbmcpIHsKICAgICAgICBpbnQzMl90IGluZGV4OwogICAgICAgIHBhcnNlX3NraXBzcGFjZSgpOwogICAgICAgIGlmKENIQVJfSVMoYywgQ0xPU0UpKQogICAgICAgICAgTkVYVCgpOwoKICAgICAgICBpZigoaW5kZXggPSBmaW5kX3RhZygmc3QsIChjb25zdCBjaGFyKiluYW1lLCBuYW1lbGVuKSkgPT0gLTEpIHsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICAgICAgICBsb2NhdGlvbl9jb3VudCgmbG9jLCAoY29uc3QgY2hhciopYnVmLCBzdGFydCAtIGJ1Zik7CiAgICAgICAgICBwcmludGYoIm1pc21hdGNoIDwvJS4qcz4gYXQgJXM6JXU6JXUiLCAoaW50KW5hbWVsZW4sIG5hbWUsIGxvYy5maWxlLCBsb2MubGluZSwgbG9jLmNvbHVtbik7CiAgICAgICAgICByZXQgPSBKU19UaHJvd1N5bnRheEVycm9yKGN0eCwgIm1pc21hdGNoIDwvJS4qcz4gYXQgJXM6JXU6JXUiLCAoaW50KW5hbWVsZW4sIG5hbWUsIGxvYy5maWxlLCBsb2MubGluZSwgbG9jLmNvbHVtbik7CiAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0KCiAgICAgICAgLy8gcHJpbnRmKCJlbmQtb2YgWyV6ZF0gdGFnTmFtZTogJXMlLipzXG4iLCBpbmRleCAtIDEsIGNsb3NpbmcgPyAiLyIgOiAiIiwgbmFtZWxlbiwgbmFtZSk7CgogICAgICAgIFRSVU5DKGluZGV4KTsKICAgICAgICBjb250aW51ZTsKCiAgICAgICAgLyogaWYob3V0LT5uYW1lbGVuID09IG5hbWVsZW4gJiYgIW1lbWNtcChvdXQtPm5hbWUsIG5hbWUsIG5hbWVsZW4pKSB7CiAgICAgICAgICAgUE9QKCk7CiAgICAgICAgICAgY29udGludWU7CiAgICAgICAgIH0qLwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHByaW50ZigiZWxlbWVudCBbJXpkXSB0YWdOYW1lOiAlcyUuKnNcbiIsIHZlY3Rvcl9zaXplKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSkgLSAxLCBjbG9zaW5nID8gIi8iIDogIiIsIG5hbWVsZW4sIG5hbWUpOwogICAgICAgIC8qICBwcmludGYoInBhcmVudCB0YWdOYW1lOiAlLipzXG4iLCBvdXQtPm5hbWVsZW4sIG91dC0+bmFtZSk7Ki8KICAgICAgICBBREQoKTsKCiAgICAgICAgaWYobmFtZWxlbiAmJiAoQ0hBUl9JUyhuYW1lWzBdLCAoLypRVUVTVElPTiB8ICovIEVYQ0xBTSkpKSkKICAgICAgICAgIHNlbGZfY2xvc2luZyA9IFRSVUU7CgogICAgICAgIGlmKG5hbWVsZW4gPj0gMyAmJiBDSEFSX0lTKHN0YXJ0WzBdLCBFWENMQU0pICYmIENIQVJfSVMoc3RhcnRbMV0sIEhZUEhFTikgJiYgQ0hBUl9JUyhzdGFydFsyXSwgSFlQSEVOKSkgewogICAgICAgICAgLyogIE5FWFQoKTsKICAgICAgICAgICAgTkVYVCgpOyovCiAgICAgICAgICB3aGlsZSghZG9uZSkgewogICAgICAgICAgICBORVhUKCk7CiAgICAgICAgICAgIGlmKGVuZCAtIHB0ciA+PSAzICYmIENIQVJfSVMocHRyWzBdLCBIWVBIRU4pICYmIENIQVJfSVMocHRyWzFdLCBIWVBIRU4pICYmIENIQVJfSVMocHRyWzJdLCBDTE9TRSkpIHsKICAgICAgICAgICAgICBwdHIgKz0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbmFtZWxlbiA9IHB0ciAtIG5hbWU7CgogICAgICAgIH0gZWxzZSBpZihuYW1lbGVuICYmIENIQVJfSVMobmFtZVswXSwgRVhDTEFNKSkgewogICAgICAgICAgcGFyc2VfdW50aWwoQ0hBUl9JUyhjLCBDTE9TRSkpOwogICAgICAgICAgbmFtZWxlbiA9IHB0ciAtIG5hbWU7CiAgICAgICAgfQogICAgICAgIHhtbF9zZXRfYXR0cl9ieXRlcyhjdHgsIGVsZW1lbnQsICJ0YWdOYW1lIiwgNywgbmFtZSwgbmFtZWxlbik7CgogICAgICAgIGlmKG5hbWVsZW4gJiYgQ0hBUl9JUyhuYW1lWzBdLCBFWENMQU0pKSB7CiAgICAgICAgICBORVhUKCk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIC8qIFBhcnNlIGF0dHJpYnV0ZXMgaWYgbm90IGEgY2xvc2luZyB0YWcgKi8KICAgICAgICBjb25zdCB1aW50OF90ICphdHRyLCAqdmFsdWU7CiAgICAgICAgc2l6ZV90IGFsZW4sIHZsZW4sIG51bV9hdHRycyA9IDA7CiAgICAgICAgSlNWYWx1ZSBhdHRyaWJ1dGVzID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgICAgICAgd2hpbGUoIWRvbmUpIHsKICAgICAgICAgIHBhcnNlX3NraXBzcGFjZSgpOwogICAgICAgICAgaWYoQ0hBUl9JUyhjLCBFTkQpKQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGF0dHIgPSBwdHI7CiAgICAgICAgICBwYXJzZV91bnRpbChDSEFSX0lTKGMsIEVRVUFMIHwgV1MgfCBTUEVDSUFMIHwgQ0xPU0UpKTsKICAgICAgICAgIGlmKChhbGVuID0gcHRyIC0gYXR0cikgPT0gMCkKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBpZihDSEFSX0lTKGMsIFdTIHwgQ0xPU0UgfCBTTEFTSCkpIHsKICAgICAgICAgICAgeG1sX3NldF9hdHRyX3ZhbHVlKGN0eCwgYXR0cmlidXRlcywgKGNvbnN0IGNoYXIqKWF0dHIsIGFsZW4sIEpTX05ld0Jvb2woY3R4LCBUUlVFKSk7CiAgICAgICAgICAgIG51bV9hdHRycysrOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKENIQVJfSVMoYywgRVFVQUwpKSB7CiAgICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgICAgaWYoQ0hBUl9JUyhjLCBRVU9URSkpCiAgICAgICAgICAgICAgTkVYVCgpOwogICAgICAgICAgICB2YWx1ZSA9IHB0cjsKICAgICAgICAgICAgcGFyc2VfdW50aWwoQ0hBUl9JUyhjLCBRVU9URSkpOwogICAgICAgICAgICB2bGVuID0gcHRyIC0gdmFsdWU7CiAgICAgICAgICAgIGlmKENIQVJfSVMoYywgUVVPVEUpKQogICAgICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgICAgeG1sX3NldF9hdHRyX2J5dGVzKGN0eCwgYXR0cmlidXRlcywgKGNvbnN0IGNoYXIqKWF0dHIsIGFsZW4sIHZhbHVlLCB2bGVuKTsKICAgICAgICAgICAgbnVtX2F0dHJzKys7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8qaWYobnVtX2F0dHJzID09IDApCiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBhdHRyaWJ1dGVzKTsKICAgICAgICBlbHNlKi8KICAgICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJhdHRyaWJ1dGVzIiwgYXR0cmlidXRlcyk7CgogICAgICAgIGlmKENIQVJfSVMobmFtZVswXSwgUVVFU1RJT04gfCBFWENMQU0pKSB7CiAgICAgICAgICBpZihjaGFyc1tjXSA9PSBjaGFyc1tuYW1lWzBdXSkgewogICAgICAgICAgICBORVhUKCk7CiAgICAgICAgICAgIFBVU0goKTsKICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIGlmKENIQVJfSVMoYywgU0xBU0gpKSB7CiAgICAgICAgICBzZWxmX2Nsb3NpbmcgPSBUUlVFOwogICAgICAgICAgTkVYVCgpOwoKICAgICAgICB9IGVsc2UgaWYoIXNlbGZfY2xvc2luZykgewogICAgICAgICAgLyoKICAgICAgICAgICAgb3V0ID0gdmVjdG9yX2VtcGxhY2UoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsKICAgICAgICAgICAgICAgb3V0LT5vYmogPSBKU19OZXdBcnJheShjdHgpOwogICAgICAgICAgICAgICBvdXQtPmlkeCA9IDA7CiAgICAgICAgICAgICAgIG91dC0+bmFtZSA9IG5hbWU7CiAgICAgICAgICAgICAgIG91dC0+bmFtZWxlbiA9IG5hbWVsZW47CiAgICAgICAgICAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIiwgb3V0LT5vYmopOyovCiAgICAgICAgICBQVVNIKCk7CiAgICAgICAgfQoKICAgICAgICAvKnsKICAgICAgICAgIGNoYXIqIGVzdHIgPSAoY2hhciopanNfaW5zcGVjdF90b3N0cmluZyhjdHgsIGVsZW1lbnQpOwogICAgICAgICAgcHJpbnRmKCIlMDN6dSBlbGVtZW50ICMlaSAlc1xuIiwgdmVjdG9yX3NpemUoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKSwgb3V0LT5pZHgsIGVzdHIpOwogICAgICAgICAganNfZnJlZShjdHgsIGVzdHIpOwogICAgICAgIH0qLwogICAgICB9CgogICAgICBwYXJzZV9za2lwc3BhY2UoKTsKICAgICAgaWYoQ0hBUl9JUyhjLCBDTE9TRSkpCiAgICAgICAgTkVYVCgpOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0OwogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKICBjb25zdCBjaGFyKiBpbnB1dF9uYW1lID0gMDsKCiAgaWYoaW5wdXQuZGF0YSA9PSAwIHx8IGlucHV0LnNpemUgPT0gMCkgewogICAgSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJ4bWwucmVhZCgpOiBleHBlY3RpbmcgYnVmZmVyIG9yIHN0cmluZyIpOwogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIGlmKGFyZ2MgPj0gMikKICAgIGlucHV0X25hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgcmV0ID0ganNfeG1sX3BhcnNlKGN0eCwgaW5wdXQuZGF0YSwgaW5wdXQuc2l6ZSwgaW5wdXRfbmFtZSA/IGlucHV0X25hbWUgOiAiPGlucHV0PiIpOwoKICBpZihpbnB1dF9uYW1lKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbnB1dF9uYW1lKTsKCiAgaW5wdXRfYnVmZmVyX2ZyZWUoJmlucHV0LCBjdHgpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF93cml0ZV9vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGludCBtYXhfZGVwdGgsIER5bkJ1Ziogb3V0cHV0KSB7CiAgVmVjdG9yIGVudW1lcmF0aW9ucyA9IFZFQ1RPUihjdHgpOwogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwogIEpTVmFsdWUgc3RyLCB2YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKCZlbnVtZXJhdGlvbnMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBvYmopLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKTsKCiAgZG8gewogICAgaW50MzJfdCBkZXB0aCA9IHZlY3Rvcl9zaXplKCZlbnVtZXJhdGlvbnMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkgLSAxOwoKICAgIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CgogICAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKQogICAgICB4bWxfd3JpdGVfdGV4dChjdHgsIHZhbHVlLCBvdXRwdXQsIGRlcHRoLCBpdC0+dGFiX2F0b21fbGVuID4gMSk7CiAgICBlbHNlIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSAmJiAhSlNfSXNBcnJheShjdHgsIHZhbHVlKSkKICAgICAgeG1sX3dyaXRlX2VsZW1lbnQoY3R4LCB2YWx1ZSwgb3V0cHV0LCBkZXB0aCk7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0gd2hpbGUoKGl0ID0geG1sX2VudW1lcmF0aW9uX25leHQoJmVudW1lcmF0aW9ucywgY3R4LCBvdXRwdXQsIG1heF9kZXB0aCkpKTsKCiAgd2hpbGUob3V0cHV0LT5zaXplID4gMCAmJiAob3V0cHV0LT5idWZbb3V0cHV0LT5zaXplIC0gMV0gPT0gJ1wwJyB8fCBieXRlX2NocigiXHJcblx0ICIsIDQsIG91dHB1dC0+YnVmW291dHB1dC0+c2l6ZSAtIDFdKSA8IDQpKQogICAgb3V0cHV0LT5zaXplLS07CiAgZGJ1Zl9wdXRjKG91dHB1dCwgJ1wwJyk7CgogIHN0ciA9IEpTX05ld1N0cmluZyhjdHgsIChjb25zdCBjaGFyKilvdXRwdXQtPmJ1Zik7CiAgLy8gc3RyID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgb3V0cHV0LT5idWYsIG91dHB1dC0+c2l6ZSk7CgogIHZlY3Rvcl9mb3JlYWNoX3QoJmVudW1lcmF0aW9ucywgaXQpIHsgcHJvcGVydHlfZW51bWVyYXRpb25fcmVzZXQoaXQsIEpTX0dldFJ1bnRpbWUoY3R4KSk7IH0KICB2ZWN0b3JfZnJlZSgmZW51bWVyYXRpb25zKTsKICByZXR1cm4gc3RyOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfd3JpdGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBEeW5CdWYgb3V0cHV0ID0gezB9OwogIEpTVmFsdWVDb25zdCBvYmogPSBhcmdjID4gMCA/IGFyZ3ZbMF0gOiBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSByZXQsIGFyciA9IEpTX1VOREVGSU5FRDsKICBpbnQzMl90IG1heF9kZXB0aCA9IElOVDMyX01BWDsKCiAganNfZGJ1Zl9pbml0KGN0eCwgJm91dHB1dCk7CgogIGlmKGFyZ2MgPj0gMikKICAgIEpTX1RvSW50MzIoY3R4LCAmbWF4X2RlcHRoLCBhcmd2WzFdKTsKCiAgaWYoIUpTX0lzQXJyYXkoY3R4LCBvYmopKSB7CiAgICBhcnIgPSBKU19OZXdBcnJheShjdHgpOwogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIDAsIEpTX0R1cFZhbHVlKGN0eCwgb2JqKSk7CiAgICBvYmogPSBhcnI7CiAgfQoKICByZXQgPSBqc194bWxfd3JpdGVfb2JqKGN0eCwgb2JqLCBtYXhfZGVwdGgsICZvdXRwdXQpOwoKICBkYnVmX2ZyZWUoJm91dHB1dCk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChhcnIpKQogICAgSlNfRnJlZVZhbHVlKGN0eCwgYXJyKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3htbF9mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJyZWFkIiwgMSwganNfeG1sX3JlYWQpLAogICAgSlNfQ0ZVTkNfREVGKCJ3cml0ZSIsIDIsIGpzX3htbF93cml0ZSksCn07CgpzdGF0aWMgaW50CmpzX3htbF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0KGNoYXJzKTsKCiAgcmV0dXJuIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc194bWxfZnVuY3MsIGNvdW50b2YoanNfeG1sX2Z1bmNzKSk7Cn0KCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfeG1sCiNlbmRpZgoKVklTSUJMRSBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwganNfeG1sX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX3htbF9mdW5jcywgY291bnRvZihqc194bWxfZnVuY3MpKTsKICByZXR1cm4gbTsKfQoAAAAAAAAAAL9BAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJEHAAAAAAAAmwcAAAAAAAAAAAAAAADwvw"
				],
				[
					589,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC/QQAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAicHJvcGVydHktZW51bWVyYXRpb24uaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJ2ZWN0b3IuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAibG9jYXRpb24uaCIKCiNpbmNsdWRlIDxzdGRpbnQuaD4KCmNoYXIqIGpzX2luc3BlY3RfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgovKioKICogXGRlZmdyb3VwIHF1aWNranMteG1sIFF1aWNrSlMgbW9kdWxlOiB4bWwgLSBYTUwgcGFyc2VyICYgcHJpbnRlcgogKiBAewogKi8KI2RlZmluZSBXUyAweDAxCiNkZWZpbmUgU1RBUlQgMHgwMgojZGVmaW5lIEVORCAweDA0CiNkZWZpbmUgUVVPVEUgMHgwOAojZGVmaW5lIENMT1NFIDB4MTAKI2RlZmluZSBFUVVBTCAweDIwCiNkZWZpbmUgU1BFQ0lBTCAweDQwCiNkZWZpbmUgU0xBU0ggMHg4MAojZGVmaW5lIEJBQ0tTTEFTSCAweDEwMAojZGVmaW5lIFFVRVNUSU9OIDB4MjAwCiNkZWZpbmUgRVhDTEFNIDB4NDAwCiNkZWZpbmUgSFlQSEVOIDB4NDAwCgpzdGF0aWMgaW50IGNoYXJzWzI1Nl0gPSB7MH07Cgp0eXBlZGVmIHN0cnVjdCB7CiAgdWludDMyX3QgaWR4OwogIEpTVmFsdWUgb2JqOwogIGNvbnN0IHVpbnQ4X3QqIG5hbWU7CiAgc2l6ZV90IG5hbWVsZW47Cn0gT3V0cHV0VmFsdWU7Cgp2b2lkCmNoYXJhY3Rlcl9jbGFzc2VzX2luaXQoaW50IGNbMjU2XSkgewogIGNbJyAnXSA9IFdTOwogIGNbJ1x0J10gPSBXUzsKICBjWydcciddID0gV1M7CiAgY1snXG4nXSA9IFdTOwogIGNbJyEnXSA9IFNQRUNJQUwgfCBFWENMQU07CiAgY1snIiddID0gUVVPVEU7CiAgY1snLyddID0gRU5EIHwgU0xBU0g7CiAgY1snPCddID0gU1RBUlQ7CiAgY1snPSddID0gRVFVQUw7CiAgY1snPiddID0gRU5EIHwgQ0xPU0U7CiAgY1snPyddID0gU1BFQ0lBTCB8IFFVRVNUSU9OOwogIGNbJ1xcJ10gPSBCQUNLU0xBU0g7CiAgY1snLSddID0gSFlQSEVOOwp9CgojZGVmaW5lIFBVU0goKSBcCiAgZG8geyBcCiAgICBvdXQgPSB2ZWN0b3JfcHVzaCgmc3QsICgoT3V0cHV0VmFsdWUpezAsIEpTX05ld0FycmF5KGN0eCksIG5hbWUsIG5hbWVsZW59KSk7IFwKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIiwgb3V0LT5vYmopOyBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSBQT1AoKSBcCiAgZG8geyBcCiAgICBpZih2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpID49IDIgPykgeyBcCiAgICAgIHZlY3Rvcl9wb3AoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgXAogICAgICBvdXQgPSB2ZWN0b3JfYmFjaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpKTsgXAogICAgfSBcCiAgICB3aGlsZSgwKQoKI2RlZmluZSBBREQoKSBcCiAgZG8geyBcCiAgICBlbGVtZW50ID0gSlNfTmV3T2JqZWN0KGN0eCk7IFwKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgb3V0LT5vYmosIG91dC0+aWR4KyssIGVsZW1lbnQpOyBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSBUUlVOQyhpbmRleCkgXAogIGRvIHsgXAogICAgaWYoaW5kZXggPj0gMSkgeyBcCiAgICAgIHZlY3Rvcl9zaHJpbmsoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpLCBpbmRleCk7IFwKICAgICAgb3V0ID0gdmVjdG9yX2JhY2soJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgXAogICAgfSBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSBORVhUKCkgKChjID0gKisrcHRyKSwgcHRyID49IGVuZCA/IGRvbmUgPSBUUlVFIDogMCkKI2RlZmluZSBTS0lQKGNvbmQpIFwKICBkbyB7IFwKICAgIGMgPSAqcHRyOyBcCiAgICBpZighKGNvbmQpKSBcCiAgICAgIGJyZWFrOyBcCiAgICBpZigrK3B0ciA+PSBlbmQpIFwKICAgICAgZG9uZSA9IFRSVUU7IFwKICB9IHdoaWxlKCFkb25lKQoKI2RlZmluZSBwYXJzZV91bnRpbChjb25kKSBTS0lQKCEoY29uZCkpCiNkZWZpbmUgcGFyc2Vfc2tpcHNwYWNlKCkgU0tJUChjaGFyc1tjXSAmIFdTKQojZGVmaW5lIHBhcnNlX2lzKGMsIGNsYXNzZXMpIChjaGFyc1soYyldICYgKGNsYXNzZXMpKQoKc3RhdGljIGludDMyX3QKZmluZF90YWcoVmVjdG9yKiBzdCwgY29uc3QgY2hhciogbmFtZSwgc2l6ZV90IG5hbWVsZW4pIHsKICBPdXRwdXRWYWx1ZSogbzsKICBpbnQzMl90IGluZGV4ID0gdmVjdG9yX3NpemUoc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOwoKICBmb3IobyA9IHZlY3Rvcl9iYWNrKHN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgbyA+PSAoT3V0cHV0VmFsdWUqKXZlY3Rvcl9iZWdpbihzdCk7IG8tLSkgewogICAgLS1pbmRleDsKCiAgICBpZihvLT5uYW1lbGVuID09IG5hbWVsZW4gJiYgIXN0cm5jbXAoKGNvbnN0IGNoYXIqKW8tPm5hbWUsIG5hbWUsIG5hbWVsZW4pKQogICAgICByZXR1cm4gaW5kZXg7CiAgfQogIHJldHVybiAtMTsKfQoKc3RhdGljIGludDMyX3QKeG1sX251bV9jaGlsZHJlbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVsZW1lbnQpIHsKICBpbnQ2NF90IG51bV9jaGlsZHJlbiA9IC0xOwogIEpTVmFsdWUgY2hpbGRyZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJjaGlsZHJlbiIpOwoKICBpZihKU19Jc0FycmF5KGN0eCwgY2hpbGRyZW4pKQogICAgbnVtX2NoaWxkcmVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgY2hpbGRyZW4pOwoKICBKU19GcmVlVmFsdWUoY3R4LCBjaGlsZHJlbik7CiAgcmV0dXJuIG51bV9jaGlsZHJlbjsKfQoKc3RhdGljIHZvaWQKeG1sX3NldF9hdHRyX3ZhbHVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBhdHRyLCBzaXplX3QgYWxlbiwgSlNWYWx1ZSB2YWx1ZSkgewogIEpTQXRvbSBwcm9wOwogIHByb3AgPSBKU19OZXdBdG9tTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWF0dHIsIGFsZW4pOwogIEpTX1NldFByb3BlcnR5KGN0eCwgb2JqLCBwcm9wLCB2YWx1ZSk7CiAgSlNfRnJlZUF0b20oY3R4LCBwcm9wKTsKfQoKc3RhdGljIHZvaWQKeG1sX3NldF9hdHRyX2J5dGVzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBhdHRyLCBzaXplX3QgYWxlbiwgY29uc3QgdWludDhfdCogc3RyLCBzaXplX3Qgc2xlbikgewogIEpTVmFsdWUgdmFsdWU7CiAgdmFsdWUgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopc3RyLCBzbGVuKTsKICB4bWxfc2V0X2F0dHJfdmFsdWUoY3R4LCBvYmosIGF0dHIsIGFsZW4sIHZhbHVlKTsKICAvLyBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7Cn0KCnN0YXRpYyB2b2lkCnhtbF93cml0ZV9hdHRyaWJ1dGVzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXR0cmlidXRlcywgRHluQnVmKiBkYikgewogIHNpemVfdCBpOwogIFByb3BlcnR5RW51bWVyYXRpb24gcHJvcHMgPSB7MH07CgogIHByb3BlcnR5X2VudW1lcmF0aW9uX2luaXQoJnByb3BzLCBjdHgsIEpTX0R1cFZhbHVlKGN0eCwgYXR0cmlidXRlcyksIFBST1BFTlVNX0RFRkFVTFRfRkxBR1MpOwoKICBmb3IoaSA9IDA7IGkgPCBwcm9wcy50YWJfYXRvbV9sZW47IGkrKykgewogICAgY29uc3QgY2hhciAqa2V5c3RyLCAqdmFsdWVzdHI7CiAgICBKU1ZhbHVlIHZhbHVlOwogICAgcHJvcGVydHlfZW51bWVyYXRpb25fc2V0cG9zKCZwcm9wcywgaSk7CiAgICBrZXlzdHIgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9rZXlzdHIoJnByb3BzLCBjdHgpOwogICAgdmFsdWUgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZSgmcHJvcHMsIGN0eCk7CiAgICBkYnVmX3B1dGMoZGIsICcgJyk7CiAgICBkYnVmX3B1dHN0cihkYiwga2V5c3RyKTsKICAgIGlmKCEoSlNfSXNCb29sKHZhbHVlKSAmJiBKU19Ub0Jvb2woY3R4LCB2YWx1ZSkpKSB7CiAgICAgIHZhbHVlc3RyID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWVzdHIoJnByb3BzLCBjdHgpOwogICAgICBkYnVmX3B1dHN0cihkYiwgIj1cIiIpOwogICAgICBkYnVmX3B1dHN0cihkYiwgdmFsdWVzdHIpOwogICAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCB2YWx1ZXN0cik7CiAgICAgIGRidWZfcHV0YyhkYiwgJyInKTsKICAgIH0KICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIGtleXN0cik7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9yZXNldCgmcHJvcHMsIEpTX0dldFJ1bnRpbWUoY3R4KSk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZAp4bWxfd3JpdGVfaW5kZW50KER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICB3aGlsZShkZXB0aC0tID4gMCkgZGJ1Zl9wdXRzdHIoZGIsICIgICIpOwp9CgpzdGF0aWMgdm9pZAp4bWxfd3JpdGVfc3RyaW5nKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiB0ZXh0U3RyLCBzaXplX3QgdGV4dExlbiwgRHluQnVmKiBkYiwgaW50MzJfdCBkZXB0aCkgewogIGNvbnN0IGNoYXIqIHA7CiAgZm9yKHAgPSB0ZXh0U3RyOzspIHsKICAgIHNpemVfdCBuOwoKICAgIHdoaWxlKHRleHRMZW4pIHsKICAgICAgaWYoYnl0ZV9jaHIoIlxyXG4gXHQiLCA0LCAqcCkgPT0gNCkKICAgICAgICBicmVhazsKICAgICAgcCsrOwogICAgICB0ZXh0TGVuLS07CiAgICB9CiAgICBuID0gYnl0ZV9jaHIocCwgdGV4dExlbiwgJ1xuJyk7CiAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKXAsIG4pOwogICAgaWYobiA8IHRleHRMZW4pCiAgICAgIG4rKzsKICAgIHAgKz0gbjsKICAgIHRleHRMZW4gLT0gbjsKCiAgICAvKndoaWxlKHRleHRMZW4gPiAwICYmICAocFswXSA9PSAnICcgfHwgIHBbMF0gPT0gJ1x0JykpIHsKICAgICAgdGV4dExlbi0tOwogICAgICBwKys7CiAgICB9ICAgICovCgogICAgaWYodGV4dExlbiA9PSAwKQogICAgICBicmVhazsKCiAgICBpZihkZXB0aCA+IDApIHsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKICAgICAgeG1sX3dyaXRlX2luZGVudChkYiwgZGVwdGggKyAxKTsKICAgIH0KICB9Cn0KCnN0YXRpYyB2b2lkCnhtbF93cml0ZV90ZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGV4dCwgRHluQnVmKiBkYiwgaW50MzJfdCBkZXB0aCwgQk9PTCBtdWx0aWxpbmUpIHsKICBjb25zdCBjaGFyKiB0ZXh0U3RyOwogIHNpemVfdCB0ZXh0TGVuOwogIHRleHRTdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmdGV4dExlbiwgdGV4dCk7CiAgaWYobXVsdGlsaW5lKQogICAgeG1sX3dyaXRlX2luZGVudChkYiwgZGVwdGgpOwogIGVsc2UgewogICAgd2hpbGUoZGItPnNpemUgPiAwICYmIGlzX3doaXRlc3BhY2VfY2hhcihkYi0+YnVmW2RiLT5zaXplIC0gMV0pKSBkYi0+c2l6ZS0tOwogIH0KICB4bWxfd3JpdGVfc3RyaW5nKGN0eCwgdGV4dFN0ciwgdGV4dExlbiwgZGIsIG11bHRpbGluZSA/IGRlcHRoIDogMCk7CiAganNfY3N0cmluZ19mcmVlKGN0eCwgdGV4dFN0cik7CiAgaWYobXVsdGlsaW5lKQogICAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX2VsZW1lbnQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBlbGVtZW50LCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoKSB7CiAgSlNWYWx1ZSBhdHRyaWJ1dGVzID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBlbGVtZW50LCAiYXR0cmlidXRlcyIpOwogIGludDMyX3QgbnVtX2NoaWxkcmVuOwogIHNpemVfdCB0YWdMZW47CiAgY29uc3QgY2hhciogdGFnTmFtZSA9IGpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nbGVuKGN0eCwgZWxlbWVudCwgInRhZ05hbWUiLCAmdGFnTGVuKTsKICBCT09MIGlzQ29tbWVudDsKCiAgaWYoIXRhZ05hbWUgfHwgIXRhZ05hbWVbMF0pCiAgICByZXR1cm47CgogIGFzc2VydCh0YWdOYW1lKTsKICBpc0NvbW1lbnQgPSAhc3RybmNtcCh0YWdOYW1lLCAiIS0tIiwgMyk7CgogIHhtbF93cml0ZV9pbmRlbnQoZGIsIGRlcHRoKTsKCiAgaWYodGFnTmFtZVswXSkKICAgIGRidWZfcHV0YyhkYiwgJzwnKTsKCiAgaWYoaXNDb21tZW50KSB7CiAgICBpZihieXRlX2Nocih0YWdOYW1lLCB0YWdMZW4sICdcbicpIDwgdGFnTGVuKSB7CiAgICAgIHhtbF93cml0ZV9zdHJpbmcoY3R4LCB0YWdOYW1lLCB0YWdMZW4gLSAyLCBkYiwgZGVwdGggLSAxKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKICAgICAgeG1sX3dyaXRlX2luZGVudChkYiwgZGVwdGggKyAxKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnLScpOwogICAgICBkYnVmX3B1dGMoZGIsICctJyk7CiAgICB9IGVsc2UgewogICAgICB4bWxfd3JpdGVfc3RyaW5nKGN0eCwgdGFnTmFtZSwgdGFnTGVuLCBkYiwgZGVwdGggLSAxKTsKICAgIH0KICB9IGVsc2UgaWYodGFnTmFtZVswXSA9PSAnIScpIHsKICAgIGRidWZfcHV0c3RyKGRiLCB0YWdOYW1lKTsKICB9IGVsc2UgewogICAgZGJ1Zl9wdXRzdHIoZGIsIHRhZ05hbWUpOwogICAgaWYoSlNfSXNPYmplY3QoYXR0cmlidXRlcykpCiAgICAgIHhtbF93cml0ZV9hdHRyaWJ1dGVzKGN0eCwgYXR0cmlidXRlcywgZGIpOwogIH0KICBudW1fY2hpbGRyZW4gPSB4bWxfbnVtX2NoaWxkcmVuKGN0eCwgZWxlbWVudCk7CgogIGlmKHRhZ05hbWVbMF0pCiAgICBkYnVmX3B1dHN0cihkYiwgKG51bV9jaGlsZHJlbiA+PSAwIHx8IGlzQ29tbWVudCkgPyB0YWdOYW1lWzBdID09ICc/JyA/ICI/PiIgOiAiPiIgOiB0YWdOYW1lWzBdID09ICchJyA/ICI+IiA6ICIgLz4iKTsKICBkYnVmX3B1dGMoZGIsICdcbicpOwoKICBqc19jc3RyaW5nX2ZyZWUoY3R4LCB0YWdOYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCBhdHRyaWJ1dGVzKTsKfQoKc3RhdGljIHZvaWQKeG1sX2Nsb3NlX2VsZW1lbnQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBlbGVtZW50LCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoKSB7CiAgaW50MzJfdCBudW1fY2hpbGRyZW4gPSB4bWxfbnVtX2NoaWxkcmVuKGN0eCwgZWxlbWVudCk7CgogIGlmKG51bV9jaGlsZHJlbiA+PSAwKSB7CiAgICBzaXplX3QgdGFnTGVuOwogICAgY29uc3QgY2hhciogdGFnTmFtZSA9IGpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nbGVuKGN0eCwgZWxlbWVudCwgInRhZ05hbWUiLCAmdGFnTGVuKTsKCiAgICBpZih0YWdOYW1lWzBdICE9ICc/JyAmJiB0YWdOYW1lWzBdKSB7CiAgICAgIGlmKGRiLT5zaXplID4gMCAmJiBkYi0+YnVmW2RiLT5zaXplIC0gMV0gPT0gJ1xuJykKICAgICAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCk7CgogICAgICBkYnVmX3B1dHN0cihkYiwgIjwvIik7CiAgICAgIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopdGFnTmFtZSwgdGFnTGVuKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGIsICI+Iik7CiAgICAgIGRidWZfcHV0YyhkYiwgJ1xuJyk7CiAgICB9CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCB0YWdOYW1lKTsKICB9Cn0KCnN0YXRpYyBQcm9wZXJ0eUVudW1lcmF0aW9uKgp4bWxfZW51bWVyYXRpb25fbmV4dChWZWN0b3IqIHZlYywgSlNDb250ZXh0KiBjdHgsIER5bkJ1ZiogZGIsIGludDMyX3QgbWF4X2RlcHRoKSB7CiAgUHJvcGVydHlFbnVtZXJhdGlvbiogaXQ7CiAgSlNWYWx1ZSB2YWx1ZSA9IEpTX1VOREVGSU5FRCwgY2hpbGRyZW47CgogIGl0ID0gdmVjdG9yX2JhY2sodmVjLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpOwogIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CgogIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgY2hpbGRyZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAiY2hpbGRyZW4iKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICAgIGlmKCFKU19Jc1VuZGVmaW5lZChjaGlsZHJlbikgJiYgKG1heF9kZXB0aCA9PSBJTlQzMl9NQVggfHwgdmVjdG9yX3NpemUodmVjLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpIDwgKHVpbnQzMl90KW1heF9kZXB0aCkpIHsKICAgICAgaWYoKGl0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fcHVzaCh2ZWMsIGN0eCwgY2hpbGRyZW4sIFBST1BFTlVNX0RFRkFVTFRfRkxBR1MpKSkKICAgICAgICBpZihwcm9wZXJ0eV9lbnVtZXJhdGlvbl9zZXRwb3MoaXQsIDApKQogICAgICAgICAgcmV0dXJuIGl0OwogICAgfQogIH0gZWxzZSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICBmb3IoOzspIHsKICAgIGlmKHByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgaXQtPmlkeCArIDEpKQogICAgICBicmVhazsKCiAgICBpZigoaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wb3AodmVjLCBjdHgpKSA9PSAwKQogICAgICBicmVhazsKCiAgICB2YWx1ZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKGl0LCBjdHgpOwogICAgeG1sX2Nsb3NlX2VsZW1lbnQoY3R4LCB2YWx1ZSwgZGIsIChpbnQzMl90KXZlY3Rvcl9zaXplKHZlYywgc2l6ZW9mKFByb3BlcnR5RW51bWVyYXRpb24pKSAtIDEpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KCiAgcmV0dXJuIGl0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfcGFyc2UoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHVpbnQ4X3QqIGJ1Ziwgc2l6ZV90IGxlbiwgY29uc3QgY2hhciogaW5wdXRfbmFtZSkgewogIEJPT0wgZG9uZSA9IEZBTFNFOwogIGNvbnN0IHVpbnQ4X3QgKnB0ciwgKmVuZCwgKnN0YXJ0OwogIHVpbnQ4X3QgYzsKICBPdXRwdXRWYWx1ZSogb3V0OwogIEpTVmFsdWUgcmV0LCBlbGVtZW50ID0gSlNfVU5ERUZJTkVEOwogIFZlY3RvciBzdCA9IFZFQ1RPUihjdHgpOwogIExvY2F0aW9uIGxvYyA9IHsoY2hhciopaW5wdXRfbmFtZX07CiAgcHRyID0gYnVmOwogIGVuZCA9IGJ1ZiArIGxlbjsKCiAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgb3V0ID0gdmVjdG9yX2VtcGxhY2UoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsKICBvdXQtPm9iaiA9IHJldDsKICBvdXQtPmlkeCA9IDA7CgogIHdoaWxlKCFkb25lKSB7CiAgICAvLyBwYXJzZV9za2lwc3BhY2UoKTsKICAgIHN0YXJ0ID0gcHRyOwogICAgcGFyc2VfdW50aWwocGFyc2VfaXMoYywgU1RBUlQpKTsKCiAgICBpZihwdHIgPiBzdGFydCkgewogICAgICBzaXplX3QgbGVuOwoKICAgICAgd2hpbGUoc3RhcnQgPCBwdHIgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKCpzdGFydCkpIHN0YXJ0Kys7CgogICAgICBsZW4gPSBwdHIgLSBzdGFydDsKICAgICAgd2hpbGUobGVuID4gMCAmJiBpc193aGl0ZXNwYWNlX2NoYXIoc3RhcnRbbGVuIC0gMV0pKSBsZW4tLTsKCiAgICAgIGlmKGxlbiA+IDApIHsKICAgICAgICBKU1ZhbHVlIHN0ciA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilzdGFydCwgbGVuKTsKICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG91dC0+b2JqLCBvdXQtPmlkeCsrLCBzdHIpOwogICAgICB9CiAgICB9CgogICAgaWYoZG9uZSkKICAgICAgYnJlYWs7CgogICAgaWYocGFyc2VfaXMoYywgU1RBUlQpKSB7CiAgICAgIGNvbnN0IHVpbnQ4X3QqIG5hbWU7CiAgICAgIHNpemVfdCBuYW1lbGVuOwogICAgICBCT09MIGNsb3NpbmcgPSBGQUxTRSwgc2VsZl9jbG9zaW5nID0gRkFMU0U7CiAgICAgIE5FWFQoKTsKICAgICAgaWYocGFyc2VfaXMoYywgU0xBU0gpKSB7CiAgICAgICAgY2xvc2luZyA9IFRSVUU7CiAgICAgICAgTkVYVCgpOwogICAgICB9CiAgICAgIG5hbWUgPSBwdHI7CiAgICAgIHBhcnNlX3VudGlsKHBhcnNlX2lzKGMsIFdTIHwgRU5EKSk7CiAgICAgIG5hbWVsZW4gPSBwdHIgLSBuYW1lOwoKICAgICAgaWYoY2xvc2luZykgewogICAgICAgIGludDMyX3QgaW5kZXg7CiAgICAgICAgcGFyc2Vfc2tpcHNwYWNlKCk7CiAgICAgICAgaWYocGFyc2VfaXMoYywgQ0xPU0UpKQogICAgICAgICAgTkVYVCgpOwoKICAgICAgICBpZigoaW5kZXggPSBmaW5kX3RhZygmc3QsIChjb25zdCBjaGFyKiluYW1lLCBuYW1lbGVuKSkgPT0gLTEpIHsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7CiAgICAgICAgICBsb2NhdGlvbl9jb3VudCgmbG9jLCAoY29uc3QgY2hhciopYnVmLCBzdGFydCAtIGJ1Zik7CiAgICAgICAgICBwcmludGYoIm1pc21hdGNoIDwvJS4qcz4gYXQgJXM6JXU6JXUiLCAoaW50KW5hbWVsZW4sIG5hbWUsIGxvYy5maWxlLCBsb2MubGluZSwgbG9jLmNvbHVtbik7CiAgICAgICAgICByZXQgPSBKU19UaHJvd1N5bnRheEVycm9yKGN0eCwgIm1pc21hdGNoIDwvJS4qcz4gYXQgJXM6JXU6JXUiLCAoaW50KW5hbWVsZW4sIG5hbWUsIGxvYy5maWxlLCBsb2MubGluZSwgbG9jLmNvbHVtbik7CiAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0KCiAgICAgICAgLy8gcHJpbnRmKCJlbmQtb2YgWyV6ZF0gdGFnTmFtZTogJXMlLipzXG4iLCBpbmRleCAtIDEsIGNsb3NpbmcgPyAiLyIgOiAiIiwgbmFtZWxlbiwgbmFtZSk7CgogICAgICAgIFRSVU5DKGluZGV4KTsKICAgICAgICBjb250aW51ZTsKCiAgICAgICAgLyogaWYob3V0LT5uYW1lbGVuID09IG5hbWVsZW4gJiYgIW1lbWNtcChvdXQtPm5hbWUsIG5hbWUsIG5hbWVsZW4pKSB7CiAgICAgICAgICAgUE9QKCk7CiAgICAgICAgICAgY29udGludWU7CiAgICAgICAgIH0qLwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHByaW50ZigiZWxlbWVudCBbJXpkXSB0YWdOYW1lOiAlcyUuKnNcbiIsIHZlY3Rvcl9zaXplKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSkgLSAxLCBjbG9zaW5nID8gIi8iIDogIiIsIG5hbWVsZW4sIG5hbWUpOwogICAgICAgIC8qICBwcmludGYoInBhcmVudCB0YWdOYW1lOiAlLipzXG4iLCBvdXQtPm5hbWVsZW4sIG91dC0+bmFtZSk7Ki8KICAgICAgICBBREQoKTsKCiAgICAgICAgaWYobmFtZWxlbiAmJiAocGFyc2VfaXMobmFtZVswXSwgKC8qUVVFU1RJT04gfCAqLyBFWENMQU0pKSkpCiAgICAgICAgICBzZWxmX2Nsb3NpbmcgPSBUUlVFOwoKICAgICAgICBpZihuYW1lbGVuID49IDMgJiYgcGFyc2VfaXMoc3RhcnRbMF0sIEVYQ0xBTSkgJiYgcGFyc2VfaXMoc3RhcnRbMV0sIEhZUEhFTikgJiYgcGFyc2VfaXMoc3RhcnRbMl0sIEhZUEhFTikpIHsKICAgICAgICAgIC8qICBORVhUKCk7CiAgICAgICAgICAgIE5FWFQoKTsqLwogICAgICAgICAgd2hpbGUoIWRvbmUpIHsKICAgICAgICAgICAgTkVYVCgpOwogICAgICAgICAgICBpZihlbmQgLSBwdHIgPj0gMyAmJiBwYXJzZV9pcyhwdHJbMF0sIEhZUEhFTikgJiYgcGFyc2VfaXMocHRyWzFdLCBIWVBIRU4pICYmIHBhcnNlX2lzKHB0clsyXSwgQ0xPU0UpKSB7CiAgICAgICAgICAgICAgcHRyICs9IDI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIG5hbWVsZW4gPSBwdHIgLSBuYW1lOwoKICAgICAgICB9IGVsc2UgaWYobmFtZWxlbiAmJiBwYXJzZV9pcyhuYW1lWzBdLCBFWENMQU0pKSB7CiAgICAgICAgICBwYXJzZV91bnRpbChwYXJzZV9pcyhjLCBDTE9TRSkpOwogICAgICAgICAgbmFtZWxlbiA9IHB0ciAtIG5hbWU7CiAgICAgICAgfQogICAgICAgIHhtbF9zZXRfYXR0cl9ieXRlcyhjdHgsIGVsZW1lbnQsICJ0YWdOYW1lIiwgNywgbmFtZSwgbmFtZWxlbik7CgogICAgICAgIGlmKG5hbWVsZW4gJiYgcGFyc2VfaXMobmFtZVswXSwgRVhDTEFNKSkgewogICAgICAgICAgTkVYVCgpOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICAvKiBQYXJzZSBhdHRyaWJ1dGVzIGlmIG5vdCBhIGNsb3NpbmcgdGFnICovCiAgICAgICAgY29uc3QgdWludDhfdCAqYXR0ciwgKnZhbHVlOwogICAgICAgIHNpemVfdCBhbGVuLCB2bGVuLCBudW1fYXR0cnMgPSAwOwogICAgICAgIEpTVmFsdWUgYXR0cmlidXRlcyA9IEpTX05ld09iamVjdChjdHgpOwogICAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgICBwYXJzZV9za2lwc3BhY2UoKTsKICAgICAgICAgIGlmKHBhcnNlX2lzKGMsIEVORCkpCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgYXR0ciA9IHB0cjsKICAgICAgICAgIHBhcnNlX3VudGlsKHBhcnNlX2lzKGMsIEVRVUFMIHwgV1MgfCBTUEVDSUFMIHwgQ0xPU0UpKTsKICAgICAgICAgIGlmKChhbGVuID0gcHRyIC0gYXR0cikgPT0gMCkKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBpZihwYXJzZV9pcyhjLCBXUyB8IENMT1NFIHwgU0xBU0gpKSB7CiAgICAgICAgICAgIHhtbF9zZXRfYXR0cl92YWx1ZShjdHgsIGF0dHJpYnV0ZXMsIChjb25zdCBjaGFyKilhdHRyLCBhbGVuLCBKU19OZXdCb29sKGN0eCwgVFJVRSkpOwogICAgICAgICAgICBudW1fYXR0cnMrKzsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZihwYXJzZV9pcyhjLCBFUVVBTCkpIHsKICAgICAgICAgICAgTkVYVCgpOwogICAgICAgICAgICBpZihwYXJzZV9pcyhjLCBRVU9URSkpCiAgICAgICAgICAgICAgTkVYVCgpOwogICAgICAgICAgICB2YWx1ZSA9IHB0cjsKICAgICAgICAgICAgcGFyc2VfdW50aWwocGFyc2VfaXMoYywgUVVPVEUpKTsKICAgICAgICAgICAgdmxlbiA9IHB0ciAtIHZhbHVlOwogICAgICAgICAgICBpZihwYXJzZV9pcyhjLCBRVU9URSkpCiAgICAgICAgICAgICAgTkVYVCgpOwogICAgICAgICAgICB4bWxfc2V0X2F0dHJfYnl0ZXMoY3R4LCBhdHRyaWJ1dGVzLCAoY29uc3QgY2hhciopYXR0ciwgYWxlbiwgdmFsdWUsIHZsZW4pOwogICAgICAgICAgICBudW1fYXR0cnMrKzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLyppZihudW1fYXR0cnMgPT0gMCkKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGF0dHJpYnV0ZXMpOwogICAgICAgIGVsc2UqLwogICAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImF0dHJpYnV0ZXMiLCBhdHRyaWJ1dGVzKTsKCiAgICAgICAgaWYocGFyc2VfaXMobmFtZVswXSwgUVVFU1RJT04gfCBFWENMQU0pKSB7CiAgICAgICAgICBpZihjaGFyc1tjXSA9PSBjaGFyc1tuYW1lWzBdXSkgewogICAgICAgICAgICBORVhUKCk7CiAgICAgICAgICAgIFBVU0goKTsKICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIGlmKHBhcnNlX2lzKGMsIFNMQVNIKSkgewogICAgICAgICAgc2VsZl9jbG9zaW5nID0gVFJVRTsKICAgICAgICAgIE5FWFQoKTsKCiAgICAgICAgfSBlbHNlIGlmKCFzZWxmX2Nsb3NpbmcpIHsKICAgICAgICAgIC8qCiAgICAgICAgICAgIG91dCA9IHZlY3Rvcl9lbXBsYWNlKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSk7CiAgICAgICAgICAgICAgIG91dC0+b2JqID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgICAgICAgICAgICAgb3V0LT5pZHggPSAwOwogICAgICAgICAgICAgICBvdXQtPm5hbWUgPSBuYW1lOwogICAgICAgICAgICAgICBvdXQtPm5hbWVsZW4gPSBuYW1lbGVuOwogICAgICAgICAgICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJjaGlsZHJlbiIsIG91dC0+b2JqKTsqLwogICAgICAgICAgUFVTSCgpOwogICAgICAgIH0KCiAgICAgICAgLyp7CiAgICAgICAgICBjaGFyKiBlc3RyID0gKGNoYXIqKWpzX2luc3BlY3RfdG9zdHJpbmcoY3R4LCBlbGVtZW50KTsKICAgICAgICAgIHByaW50ZigiJTAzenUgZWxlbWVudCAjJWkgJXNcbiIsIHZlY3Rvcl9zaXplKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSksIG91dC0+aWR4LCBlc3RyKTsKICAgICAgICAgIGpzX2ZyZWUoY3R4LCBlc3RyKTsKICAgICAgICB9Ki8KICAgICAgfQoKICAgICAgcGFyc2Vfc2tpcHNwYWNlKCk7CiAgICAgIGlmKHBhcnNlX2lzKGMsIENMT1NFKSkKICAgICAgICBORVhUKCk7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF9yZWFkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIGNvbnN0IGNoYXIqIGlucHV0X25hbWUgPSAwOwoKICBpZihpbnB1dC5kYXRhID09IDAgfHwgaW5wdXQuc2l6ZSA9PSAwKSB7CiAgICBKU19UaHJvd1JlZmVyZW5jZUVycm9yKGN0eCwgInhtbC5yZWFkKCk6IGV4cGVjdGluZyBidWZmZXIgb3Igc3RyaW5nIik7CiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIH0KCiAgaWYoYXJnYyA+PSAyKQogICAgaW5wdXRfbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwoKICByZXQgPSBqc194bWxfcGFyc2UoY3R4LCBpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBpbnB1dF9uYW1lID8gaW5wdXRfbmFtZSA6ICI8aW5wdXQ+Iik7CgogIGlmKGlucHV0X25hbWUpCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGlucHV0X25hbWUpOwoKICBpbnB1dF9idWZmZXJfZnJlZSgmaW5wdXQsIGN0eCk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfeG1sX3dyaXRlX29iaihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgaW50IG1heF9kZXB0aCwgRHluQnVmKiBvdXRwdXQpIHsKICBWZWN0b3IgZW51bWVyYXRpb25zID0gVkVDVE9SKGN0eCk7CiAgUHJvcGVydHlFbnVtZXJhdGlvbiogaXQ7CiAgSlNWYWx1ZSBzdHIsIHZhbHVlID0gSlNfVU5ERUZJTkVEOwoKICBpdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3B1c2goJmVudW1lcmF0aW9ucywgY3R4LCBKU19EdXBWYWx1ZShjdHgsIG9iaiksIFBST1BFTlVNX0RFRkFVTFRfRkxBR1MpOwoKICBkbyB7CiAgICBpbnQzMl90IGRlcHRoID0gdmVjdG9yX3NpemUoJmVudW1lcmF0aW9ucywgc2l6ZW9mKFByb3BlcnR5RW51bWVyYXRpb24pKSAtIDE7CgogICAgdmFsdWUgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KTsKCiAgICBpZihKU19Jc1N0cmluZyh2YWx1ZSkpCiAgICAgIHhtbF93cml0ZV90ZXh0KGN0eCwgdmFsdWUsIG91dHB1dCwgZGVwdGgsIGl0LT50YWJfYXRvbV9sZW4gPiAxKTsKICAgIGVsc2UgaWYoSlNfSXNPYmplY3QodmFsdWUpICYmICFKU19Jc0FycmF5KGN0eCwgdmFsdWUpKQogICAgICB4bWxfd3JpdGVfZWxlbWVudChjdHgsIHZhbHVlLCBvdXRwdXQsIGRlcHRoKTsKCiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfSB3aGlsZSgoaXQgPSB4bWxfZW51bWVyYXRpb25fbmV4dCgmZW51bWVyYXRpb25zLCBjdHgsIG91dHB1dCwgbWF4X2RlcHRoKSkpOwoKICB3aGlsZShvdXRwdXQtPnNpemUgPiAwICYmIChvdXRwdXQtPmJ1ZltvdXRwdXQtPnNpemUgLSAxXSA9PSAnXDAnIHx8IGJ5dGVfY2hyKCJcclxuXHQgIiwgNCwgb3V0cHV0LT5idWZbb3V0cHV0LT5zaXplIC0gMV0pIDwgNCkpCiAgICBvdXRwdXQtPnNpemUtLTsKICBkYnVmX3B1dGMob3V0cHV0LCAnXDAnKTsKCiAgc3RyID0gSlNfTmV3U3RyaW5nKGN0eCwgKGNvbnN0IGNoYXIqKW91dHB1dC0+YnVmKTsKICAvLyBzdHIgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCBvdXRwdXQtPmJ1Ziwgb3V0cHV0LT5zaXplKTsKCiAgdmVjdG9yX2ZvcmVhY2hfdCgmZW51bWVyYXRpb25zLCBpdCkgeyBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9yZXNldChpdCwgSlNfR2V0UnVudGltZShjdHgpKTsgfQogIHZlY3Rvcl9mcmVlKCZlbnVtZXJhdGlvbnMpOwogIHJldHVybiBzdHI7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF93cml0ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIER5bkJ1ZiBvdXRwdXQgPSB7MH07CiAgSlNWYWx1ZUNvbnN0IG9iaiA9IGFyZ2MgPiAwID8gYXJndlswXSA6IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHJldCwgYXJyID0gSlNfVU5ERUZJTkVEOwogIGludDMyX3QgbWF4X2RlcHRoID0gSU5UMzJfTUFYOwoKICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKCiAgaWYoYXJnYyA+PSAyKQogICAgSlNfVG9JbnQzMihjdHgsICZtYXhfZGVwdGgsIGFyZ3ZbMV0pOwoKICBpZighSlNfSXNBcnJheShjdHgsIG9iaikpIHsKICAgIGFyciA9IEpTX05ld0FycmF5KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyciwgMCwgSlNfRHVwVmFsdWUoY3R4LCBvYmopKTsKICAgIG9iaiA9IGFycjsKICB9CgogIHJldCA9IGpzX3htbF93cml0ZV9vYmooY3R4LCBvYmosIG1heF9kZXB0aCwgJm91dHB1dCk7CgogIGRidWZfZnJlZSgmb3V0cHV0KTsKCiAgaWYoIUpTX0lzVW5kZWZpbmVkKGFycikpCiAgICBKU19GcmVlVmFsdWUoY3R4LCBhcnIpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfeG1sX2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19ERUYoInJlYWQiLCAxLCBqc194bWxfcmVhZCksCiAgICBKU19DRlVOQ19ERUYoIndyaXRlIiwgMiwganNfeG1sX3dyaXRlKSwKfTsKCnN0YXRpYyBpbnQKanNfeG1sX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGNoYXJhY3Rlcl9jbGFzc2VzX2luaXQoY2hhcnMpOwoKICByZXR1cm4gSlNfU2V0TW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX3htbF9mdW5jcywgY291bnRvZihqc194bWxfZnVuY3MpKTsKfQoKI2lmZGVmIEpTX1NIQVJFRF9MSUJSQVJZCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV94bWwKI2VuZGlmCgpWSVNJQkxFIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCBqc194bWxfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfeG1sX2Z1bmNzLCBjb3VudG9mKGpzX3htbF9mdW5jcykpOwogIHJldHVybiBtOwp9CgAAAAAAAAAA60EAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJEHAAAAAAAAmwcAAAAAAAAAAAAAAADwvw"
				],
				[
					590,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADrQQAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAicHJvcGVydHktZW51bWVyYXRpb24uaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJ2ZWN0b3IuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAibG9jYXRpb24uaCIKCiNpbmNsdWRlIDxzdGRpbnQuaD4KCmNoYXIqIGpzX2luc3BlY3RfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgovKioKICogXGRlZmdyb3VwIHF1aWNranMteG1sIFF1aWNrSlMgbW9kdWxlOiB4bWwgLSBYTUwgcGFyc2VyICYgcHJpbnRlcgogKiBAewogKi8KI2RlZmluZSBXUyAweDAxCiNkZWZpbmUgU1RBUlQgMHgwMgojZGVmaW5lIEVORCAweDA0CiNkZWZpbmUgUVVPVEUgMHgwOAojZGVmaW5lIENMT1NFIDB4MTAKI2RlZmluZSBFUVVBTCAweDIwCiNkZWZpbmUgU1BFQ0lBTCAweDQwCiNkZWZpbmUgU0xBU0ggMHg4MAojZGVmaW5lIEJBQ0tTTEFTSCAweDEwMAojZGVmaW5lIFFVRVNUSU9OIDB4MjAwCiNkZWZpbmUgRVhDTEFNIDB4NDAwCiNkZWZpbmUgSFlQSEVOIDB4NDAwCgpzdGF0aWMgaW50IGNoYXJzWzI1Nl0gPSB7MH07Cgp0eXBlZGVmIHN0cnVjdCB7CiAgdWludDMyX3QgaWR4OwogIEpTVmFsdWUgb2JqOwogIGNvbnN0IHVpbnQ4X3QqIG5hbWU7CiAgc2l6ZV90IG5hbWVsZW47Cn0gT3V0cHV0VmFsdWU7Cgp2b2lkCmNoYXJhY3Rlcl9jbGFzc2VzX2luaXQoaW50IGNbMjU2XSkgewogIGNbJyAnXSA9IFdTOwogIGNbJ1x0J10gPSBXUzsKICBjWydcciddID0gV1M7CiAgY1snXG4nXSA9IFdTOwogIGNbJyEnXSA9IFNQRUNJQUwgfCBFWENMQU07CiAgY1snIiddID0gUVVPVEU7CiAgY1snLyddID0gRU5EIHwgU0xBU0g7CiAgY1snPCddID0gU1RBUlQ7CiAgY1snPSddID0gRVFVQUw7CiAgY1snPiddID0gRU5EIHwgQ0xPU0U7CiAgY1snPyddID0gU1BFQ0lBTCB8IFFVRVNUSU9OOwogIGNbJ1xcJ10gPSBCQUNLU0xBU0g7CiAgY1snLSddID0gSFlQSEVOOwp9CgojZGVmaW5lIHlpZWxkX3B1c2goKSBcCiAgZG8geyBcCiAgICBvdXQgPSB2ZWN0b3JfcHVzaCgmc3QsICgoT3V0cHV0VmFsdWUpezAsIEpTX05ld0FycmF5KGN0eCksIG5hbWUsIG5hbWVsZW59KSk7IFwKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIiwgb3V0LT5vYmopOyBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSB5aWVsZF9wb3AoKSBcCiAgZG8geyBcCiAgICBpZih2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpID49IDIgPykgeyBcCiAgICAgIHZlY3Rvcl9wb3AoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgXAogICAgICBvdXQgPSB2ZWN0b3JfYmFjaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpKTsgXAogICAgfSBcCiAgICB3aGlsZSgwKQoKI2RlZmluZSB5aWVsZF9uZXh0KCkgXAogIGRvIHsgXAogICAgZWxlbWVudCA9IEpTX05ld09iamVjdChjdHgpOyBcCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG91dC0+b2JqLCBvdXQtPmlkeCsrLCBlbGVtZW50KTsgXAogIH0gd2hpbGUoMCkKCiNkZWZpbmUgVFJVTkMoaW5kZXgpIFwKICBkbyB7IFwKICAgIGlmKGluZGV4ID49IDEpIHsgXAogICAgICB2ZWN0b3Jfc2hyaW5rKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSwgaW5kZXgpOyBcCiAgICAgIG91dCA9IHZlY3Rvcl9iYWNrKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSk7IFwKICAgIH0gXAogIH0gd2hpbGUoMCkKCiNkZWZpbmUgTkVYVCgpICgoYyA9ICorK3B0ciksIHB0ciA+PSBlbmQgPyBkb25lID0gVFJVRSA6IDApCiNkZWZpbmUgU0tJUChjb25kKSBcCiAgZG8geyBcCiAgICBjID0gKnB0cjsgXAogICAgaWYoIShjb25kKSkgXAogICAgICBicmVhazsgXAogICAgaWYoKytwdHIgPj0gZW5kKSBcCiAgICAgIGRvbmUgPSBUUlVFOyBcCiAgfSB3aGlsZSghZG9uZSkKCiNkZWZpbmUgcGFyc2VfdW50aWwoY29uZCkgU0tJUCghKGNvbmQpKQojZGVmaW5lIHBhcnNlX3NraXBzcGFjZSgpIFNLSVAoY2hhcnNbY10gJiBXUykKI2RlZmluZSBwYXJzZV9pcyhjLCBjbGFzc2VzKSAoY2hhcnNbKGMpXSAmIChjbGFzc2VzKSkKCnN0YXRpYyBpbnQzMl90CmZpbmRfdGFnKFZlY3Rvciogc3QsIGNvbnN0IGNoYXIqIG5hbWUsIHNpemVfdCBuYW1lbGVuKSB7CiAgT3V0cHV0VmFsdWUqIG87CiAgaW50MzJfdCBpbmRleCA9IHZlY3Rvcl9zaXplKHN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsKCiAgZm9yKG8gPSB2ZWN0b3JfYmFjayhzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSk7IG8gPj0gKE91dHB1dFZhbHVlKil2ZWN0b3JfYmVnaW4oc3QpOyBvLS0pIHsKICAgIC0taW5kZXg7CgogICAgaWYoby0+bmFtZWxlbiA9PSBuYW1lbGVuICYmICFzdHJuY21wKChjb25zdCBjaGFyKilvLT5uYW1lLCBuYW1lLCBuYW1lbGVuKSkKICAgICAgcmV0dXJuIGluZGV4OwogIH0KICByZXR1cm4gLTE7Cn0KCnN0YXRpYyBpbnQzMl90CnhtbF9udW1fY2hpbGRyZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBlbGVtZW50KSB7CiAgaW50NjRfdCBudW1fY2hpbGRyZW4gPSAtMTsKICBKU1ZhbHVlIGNoaWxkcmVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBlbGVtZW50LCAiY2hpbGRyZW4iKTsKCiAgaWYoSlNfSXNBcnJheShjdHgsIGNoaWxkcmVuKSkKICAgIG51bV9jaGlsZHJlbiA9IGpzX2FycmF5X2xlbmd0aChjdHgsIGNoaWxkcmVuKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgY2hpbGRyZW4pOwogIHJldHVybiBudW1fY2hpbGRyZW47Cn0KCnN0YXRpYyB2b2lkCnhtbF9zZXRfYXR0cl92YWx1ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogYXR0ciwgc2l6ZV90IGFsZW4sIEpTVmFsdWUgdmFsdWUpIHsKICBKU0F0b20gcHJvcDsKICBwcm9wID0gSlNfTmV3QXRvbUxlbihjdHgsIChjb25zdCBjaGFyKilhdHRyLCBhbGVuKTsKICBKU19TZXRQcm9wZXJ0eShjdHgsIG9iaiwgcHJvcCwgdmFsdWUpOwogIEpTX0ZyZWVBdG9tKGN0eCwgcHJvcCk7Cn0KCnN0YXRpYyB2b2lkCnhtbF9zZXRfYXR0cl9ieXRlcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogYXR0ciwgc2l6ZV90IGFsZW4sIGNvbnN0IHVpbnQ4X3QqIHN0ciwgc2l6ZV90IHNsZW4pIHsKICBKU1ZhbHVlIHZhbHVlOwogIHZhbHVlID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKXN0ciwgc2xlbik7CiAgeG1sX3NldF9hdHRyX3ZhbHVlKGN0eCwgb2JqLCBhdHRyLCBhbGVuLCB2YWx1ZSk7CiAgLy8gSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwp9CgpzdGF0aWMgdm9pZAp4bWxfd3JpdGVfYXR0cmlidXRlcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGF0dHJpYnV0ZXMsIER5bkJ1ZiogZGIpIHsKICBzaXplX3QgaTsKICBQcm9wZXJ0eUVudW1lcmF0aW9uIHByb3BzID0gezB9OwoKICBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9pbml0KCZwcm9wcywgY3R4LCBKU19EdXBWYWx1ZShjdHgsIGF0dHJpYnV0ZXMpLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKTsKCiAgZm9yKGkgPSAwOyBpIDwgcHJvcHMudGFiX2F0b21fbGVuOyBpKyspIHsKICAgIGNvbnN0IGNoYXIgKmtleXN0ciwgKnZhbHVlc3RyOwogICAgSlNWYWx1ZSB2YWx1ZTsKICAgIHByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcygmcHJvcHMsIGkpOwogICAga2V5c3RyID0gcHJvcGVydHlfZW51bWVyYXRpb25fa2V5c3RyKCZwcm9wcywgY3R4KTsKICAgIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoJnByb3BzLCBjdHgpOwogICAgZGJ1Zl9wdXRjKGRiLCAnICcpOwogICAgZGJ1Zl9wdXRzdHIoZGIsIGtleXN0cik7CiAgICBpZighKEpTX0lzQm9vbCh2YWx1ZSkgJiYgSlNfVG9Cb29sKGN0eCwgdmFsdWUpKSkgewogICAgICB2YWx1ZXN0ciA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlc3RyKCZwcm9wcywgY3R4KTsKICAgICAgZGJ1Zl9wdXRzdHIoZGIsICI9XCIiKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGIsIHZhbHVlc3RyKTsKICAgICAganNfY3N0cmluZ19mcmVlKGN0eCwgdmFsdWVzdHIpOwogICAgICBkYnVmX3B1dGMoZGIsICciJyk7CiAgICB9CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBrZXlzdHIpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KCiAgcHJvcGVydHlfZW51bWVyYXRpb25fcmVzZXQoJnByb3BzLCBKU19HZXRSdW50aW1lKGN0eCkpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKeG1sX3dyaXRlX2luZGVudChEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoKSB7CiAgd2hpbGUoZGVwdGgtLSA+IDApIGRidWZfcHV0c3RyKGRiLCAiICAiKTsKfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogdGV4dFN0ciwgc2l6ZV90IHRleHRMZW4sIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICBjb25zdCBjaGFyKiBwOwogIGZvcihwID0gdGV4dFN0cjs7KSB7CiAgICBzaXplX3QgbjsKCiAgICB3aGlsZSh0ZXh0TGVuKSB7CiAgICAgIGlmKGJ5dGVfY2hyKCJcclxuIFx0IiwgNCwgKnApID09IDQpCiAgICAgICAgYnJlYWs7CiAgICAgIHArKzsKICAgICAgdGV4dExlbi0tOwogICAgfQogICAgbiA9IGJ5dGVfY2hyKHAsIHRleHRMZW4sICdcbicpOwogICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90KilwLCBuKTsKICAgIGlmKG4gPCB0ZXh0TGVuKQogICAgICBuKys7CiAgICBwICs9IG47CiAgICB0ZXh0TGVuIC09IG47CgogICAgLyp3aGlsZSh0ZXh0TGVuID4gMCAmJiAgKHBbMF0gPT0gJyAnIHx8ICBwWzBdID09ICdcdCcpKSB7CiAgICAgIHRleHRMZW4tLTsKICAgICAgcCsrOwogICAgfSAgICAqLwoKICAgIGlmKHRleHRMZW4gPT0gMCkKICAgICAgYnJlYWs7CgogICAgaWYoZGVwdGggPiAwKSB7CiAgICAgIGRidWZfcHV0YyhkYiwgJ1xuJyk7CiAgICAgIHhtbF93cml0ZV9pbmRlbnQoZGIsIGRlcHRoICsgMSk7CiAgICB9CiAgfQp9CgpzdGF0aWMgdm9pZAp4bWxfd3JpdGVfdGV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRleHQsIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgsIEJPT0wgbXVsdGlsaW5lKSB7CiAgY29uc3QgY2hhciogdGV4dFN0cjsKICBzaXplX3QgdGV4dExlbjsKICB0ZXh0U3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJnRleHRMZW4sIHRleHQpOwogIGlmKG11bHRpbGluZSkKICAgIHhtbF93cml0ZV9pbmRlbnQoZGIsIGRlcHRoKTsKICBlbHNlIHsKICAgIHdoaWxlKGRiLT5zaXplID4gMCAmJiBpc193aGl0ZXNwYWNlX2NoYXIoZGItPmJ1ZltkYi0+c2l6ZSAtIDFdKSkgZGItPnNpemUtLTsKICB9CiAgeG1sX3dyaXRlX3N0cmluZyhjdHgsIHRleHRTdHIsIHRleHRMZW4sIGRiLCBtdWx0aWxpbmUgPyBkZXB0aCA6IDApOwogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHRleHRTdHIpOwogIGlmKG11bHRpbGluZSkKICAgIGRidWZfcHV0YyhkYiwgJ1xuJyk7Cn0KCnN0YXRpYyB2b2lkCnhtbF93cml0ZV9lbGVtZW50KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZWxlbWVudCwgRHluQnVmKiBkYiwgaW50MzJfdCBkZXB0aCkgewogIEpTVmFsdWUgYXR0cmlidXRlcyA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImF0dHJpYnV0ZXMiKTsKICBpbnQzMl90IG51bV9jaGlsZHJlbjsKICBzaXplX3QgdGFnTGVuOwogIGNvbnN0IGNoYXIqIHRhZ05hbWUgPSBqc19nZXRfcHJvcGVydHlzdHJfY3N0cmluZ2xlbihjdHgsIGVsZW1lbnQsICJ0YWdOYW1lIiwgJnRhZ0xlbik7CiAgQk9PTCBpc0NvbW1lbnQ7CgogIGlmKCF0YWdOYW1lIHx8ICF0YWdOYW1lWzBdKQogICAgcmV0dXJuOwoKICBhc3NlcnQodGFnTmFtZSk7CiAgaXNDb21tZW50ID0gIXN0cm5jbXAodGFnTmFtZSwgIiEtLSIsIDMpOwoKICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCk7CgogIGlmKHRhZ05hbWVbMF0pCiAgICBkYnVmX3B1dGMoZGIsICc8Jyk7CgogIGlmKGlzQ29tbWVudCkgewogICAgaWYoYnl0ZV9jaHIodGFnTmFtZSwgdGFnTGVuLCAnXG4nKSA8IHRhZ0xlbikgewogICAgICB4bWxfd3JpdGVfc3RyaW5nKGN0eCwgdGFnTmFtZSwgdGFnTGVuIC0gMiwgZGIsIGRlcHRoIC0gMSk7CiAgICAgIGRidWZfcHV0YyhkYiwgJ1xuJyk7CiAgICAgIHhtbF93cml0ZV9pbmRlbnQoZGIsIGRlcHRoICsgMSk7CiAgICAgIGRidWZfcHV0YyhkYiwgJy0nKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnLScpOwogICAgfSBlbHNlIHsKICAgICAgeG1sX3dyaXRlX3N0cmluZyhjdHgsIHRhZ05hbWUsIHRhZ0xlbiwgZGIsIGRlcHRoIC0gMSk7CiAgICB9CiAgfSBlbHNlIGlmKHRhZ05hbWVbMF0gPT0gJyEnKSB7CiAgICBkYnVmX3B1dHN0cihkYiwgdGFnTmFtZSk7CiAgfSBlbHNlIHsKICAgIGRidWZfcHV0c3RyKGRiLCB0YWdOYW1lKTsKICAgIGlmKEpTX0lzT2JqZWN0KGF0dHJpYnV0ZXMpKQogICAgICB4bWxfd3JpdGVfYXR0cmlidXRlcyhjdHgsIGF0dHJpYnV0ZXMsIGRiKTsKICB9CiAgbnVtX2NoaWxkcmVuID0geG1sX251bV9jaGlsZHJlbihjdHgsIGVsZW1lbnQpOwoKICBpZih0YWdOYW1lWzBdKQogICAgZGJ1Zl9wdXRzdHIoZGIsIChudW1fY2hpbGRyZW4gPj0gMCB8fCBpc0NvbW1lbnQpID8gdGFnTmFtZVswXSA9PSAnPycgPyAiPz4iIDogIj4iIDogdGFnTmFtZVswXSA9PSAnIScgPyAiPiIgOiAiIC8+Iik7CiAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKCiAganNfY3N0cmluZ19mcmVlKGN0eCwgdGFnTmFtZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXR0cmlidXRlcyk7Cn0KCnN0YXRpYyB2b2lkCnhtbF9jbG9zZV9lbGVtZW50KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZWxlbWVudCwgRHluQnVmKiBkYiwgaW50MzJfdCBkZXB0aCkgewogIGludDMyX3QgbnVtX2NoaWxkcmVuID0geG1sX251bV9jaGlsZHJlbihjdHgsIGVsZW1lbnQpOwoKICBpZihudW1fY2hpbGRyZW4gPj0gMCkgewogICAgc2l6ZV90IHRhZ0xlbjsKICAgIGNvbnN0IGNoYXIqIHRhZ05hbWUgPSBqc19nZXRfcHJvcGVydHlzdHJfY3N0cmluZ2xlbihjdHgsIGVsZW1lbnQsICJ0YWdOYW1lIiwgJnRhZ0xlbik7CgogICAgaWYodGFnTmFtZVswXSAhPSAnPycgJiYgdGFnTmFtZVswXSkgewogICAgICBpZihkYi0+c2l6ZSA+IDAgJiYgZGItPmJ1ZltkYi0+c2l6ZSAtIDFdID09ICdcbicpCiAgICAgICAgeG1sX3dyaXRlX2luZGVudChkYiwgZGVwdGgpOwoKICAgICAgZGJ1Zl9wdXRzdHIoZGIsICI8LyIpOwogICAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKXRhZ05hbWUsIHRhZ0xlbik7CiAgICAgIGRidWZfcHV0c3RyKGRiLCAiPiIpOwogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgfQogICAganNfY3N0cmluZ19mcmVlKGN0eCwgdGFnTmFtZSk7CiAgfQp9CgpzdGF0aWMgUHJvcGVydHlFbnVtZXJhdGlvbioKeG1sX2VudW1lcmF0aW9uX25leHQoVmVjdG9yKiB2ZWMsIEpTQ29udGV4dCogY3R4LCBEeW5CdWYqIGRiLCBpbnQzMl90IG1heF9kZXB0aCkgewogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwogIEpTVmFsdWUgdmFsdWUgPSBKU19VTkRFRklORUQsIGNoaWxkcmVuOwoKICBpdCA9IHZlY3Rvcl9iYWNrKHZlYywgc2l6ZW9mKFByb3BlcnR5RW51bWVyYXRpb24pKTsKICB2YWx1ZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKGl0LCBjdHgpOwoKICBpZihKU19Jc09iamVjdCh2YWx1ZSkpIHsKICAgIGNoaWxkcmVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB2YWx1ZSwgImNoaWxkcmVuIik7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgICBpZighSlNfSXNVbmRlZmluZWQoY2hpbGRyZW4pICYmIChtYXhfZGVwdGggPT0gSU5UMzJfTUFYIHx8IHZlY3Rvcl9zaXplKHZlYywgc2l6ZW9mKFByb3BlcnR5RW51bWVyYXRpb24pKSA8ICh1aW50MzJfdCltYXhfZGVwdGgpKSB7CiAgICAgIGlmKChpdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3B1c2godmVjLCBjdHgsIGNoaWxkcmVuLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKSkpCiAgICAgICAgaWYocHJvcGVydHlfZW51bWVyYXRpb25fc2V0cG9zKGl0LCAwKSkKICAgICAgICAgIHJldHVybiBpdDsKICAgIH0KICB9IGVsc2UgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KCiAgZm9yKDs7KSB7CiAgICBpZihwcm9wZXJ0eV9lbnVtZXJhdGlvbl9zZXRwb3MoaXQsIGl0LT5pZHggKyAxKSkKICAgICAgYnJlYWs7CgogICAgaWYoKGl0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fcG9wKHZlYywgY3R4KSkgPT0gMCkKICAgICAgYnJlYWs7CgogICAgdmFsdWUgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KTsKICAgIHhtbF9jbG9zZV9lbGVtZW50KGN0eCwgdmFsdWUsIGRiLCAoaW50MzJfdCl2ZWN0b3Jfc2l6ZSh2ZWMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkgLSAxKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIHJldHVybiBpdDsKfQoKc3RhdGljIEpTVmFsdWUKanNfeG1sX3BhcnNlKEpTQ29udGV4dCogY3R4LCBjb25zdCB1aW50OF90KiBidWYsIHNpemVfdCBsZW4sIGNvbnN0IGNoYXIqIGlucHV0X25hbWUpIHsKICBCT09MIGRvbmUgPSBGQUxTRTsKICBjb25zdCB1aW50OF90ICpwdHIsICplbmQsICpzdGFydDsKICB1aW50OF90IGM7CiAgT3V0cHV0VmFsdWUqIG91dDsKICBKU1ZhbHVlIHJldCwgZWxlbWVudCA9IEpTX1VOREVGSU5FRDsKICBWZWN0b3Igc3QgPSBWRUNUT1IoY3R4KTsKICBMb2NhdGlvbiBsb2MgPSB7KGNoYXIqKWlucHV0X25hbWV9OwogIHB0ciA9IGJ1ZjsKICBlbmQgPSBidWYgKyBsZW47CgogIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogIG91dCA9IHZlY3Rvcl9lbXBsYWNlKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSk7CiAgb3V0LT5vYmogPSByZXQ7CiAgb3V0LT5pZHggPSAwOwoKICB3aGlsZSghZG9uZSkgewogICAgLy8gcGFyc2Vfc2tpcHNwYWNlKCk7CiAgICBzdGFydCA9IHB0cjsKICAgIHBhcnNlX3VudGlsKHBhcnNlX2lzKGMsIFNUQVJUKSk7CgogICAgaWYocHRyID4gc3RhcnQpIHsKICAgICAgc2l6ZV90IGxlbjsKCiAgICAgIHdoaWxlKHN0YXJ0IDwgcHRyICYmIGlzX3doaXRlc3BhY2VfY2hhcigqc3RhcnQpKSBzdGFydCsrOwoKICAgICAgbGVuID0gcHRyIC0gc3RhcnQ7CiAgICAgIHdoaWxlKGxlbiA+IDAgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKHN0YXJ0W2xlbiAtIDFdKSkgbGVuLS07CgogICAgICBpZihsZW4gPiAwKSB7CiAgICAgICAgSlNWYWx1ZSBzdHIgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopc3RhcnQsIGxlbik7CiAgICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBvdXQtPm9iaiwgb3V0LT5pZHgrKywgc3RyKTsKICAgICAgfQogICAgfQoKICAgIGlmKGRvbmUpCiAgICAgIGJyZWFrOwoKICAgIGlmKHBhcnNlX2lzKGMsIFNUQVJUKSkgewogICAgICBjb25zdCB1aW50OF90KiBuYW1lOwogICAgICBzaXplX3QgbmFtZWxlbjsKICAgICAgQk9PTCBjbG9zaW5nID0gRkFMU0UsIHNlbGZfY2xvc2luZyA9IEZBTFNFOwogICAgICBORVhUKCk7CiAgICAgIGlmKHBhcnNlX2lzKGMsIFNMQVNIKSkgewogICAgICAgIGNsb3NpbmcgPSBUUlVFOwogICAgICAgIE5FWFQoKTsKICAgICAgfQogICAgICBuYW1lID0gcHRyOwogICAgICBwYXJzZV91bnRpbChwYXJzZV9pcyhjLCBXUyB8IEVORCkpOwogICAgICBuYW1lbGVuID0gcHRyIC0gbmFtZTsKCiAgICAgIGlmKGNsb3NpbmcpIHsKICAgICAgICBpbnQzMl90IGluZGV4OwogICAgICAgIHBhcnNlX3NraXBzcGFjZSgpOwogICAgICAgIGlmKHBhcnNlX2lzKGMsIENMT1NFKSkKICAgICAgICAgIE5FWFQoKTsKCiAgICAgICAgaWYoKGluZGV4ID0gZmluZF90YWcoJnN0LCAoY29uc3QgY2hhciopbmFtZSwgbmFtZWxlbikpID09IC0xKSB7CiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgICAgICAgbG9jYXRpb25fY291bnQoJmxvYywgKGNvbnN0IGNoYXIqKWJ1Ziwgc3RhcnQgLSBidWYpOwogICAgICAgICAgcHJpbnRmKCJtaXNtYXRjaCA8LyUuKnM+IGF0ICVzOiV1OiV1IiwgKGludCluYW1lbGVuLCBuYW1lLCBsb2MuZmlsZSwgbG9jLmxpbmUsIGxvYy5jb2x1bW4pOwogICAgICAgICAgcmV0ID0gSlNfVGhyb3dTeW50YXhFcnJvcihjdHgsICJtaXNtYXRjaCA8LyUuKnM+IGF0ICVzOiV1OiV1IiwgKGludCluYW1lbGVuLCBuYW1lLCBsb2MuZmlsZSwgbG9jLmxpbmUsIGxvYy5jb2x1bW4pOwogICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9CgogICAgICAgIC8vIHByaW50ZigiZW5kLW9mIFslemRdIHRhZ05hbWU6ICVzJS4qc1xuIiwgaW5kZXggLSAxLCBjbG9zaW5nID8gIi8iIDogIiIsIG5hbWVsZW4sIG5hbWUpOwoKICAgICAgICBUUlVOQyhpbmRleCk7CiAgICAgICAgY29udGludWU7CgogICAgICAgIC8qIGlmKG91dC0+bmFtZWxlbiA9PSBuYW1lbGVuICYmICFtZW1jbXAob3V0LT5uYW1lLCBuYW1lLCBuYW1lbGVuKSkgewogICAgICAgICAgIHlpZWxkX3BvcCgpOwogICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICB9Ki8KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBwcmludGYoImVsZW1lbnQgWyV6ZF0gdGFnTmFtZTogJXMlLipzXG4iLCB2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpIC0gMSwgY2xvc2luZyA/ICIvIiA6ICIiLCBuYW1lbGVuLCBuYW1lKTsKICAgICAgICAvKiAgcHJpbnRmKCJwYXJlbnQgdGFnTmFtZTogJS4qc1xuIiwgb3V0LT5uYW1lbGVuLCBvdXQtPm5hbWUpOyovCiAgICAgICAgeWllbGRfbmV4dCgpOwoKICAgICAgICBpZihuYW1lbGVuICYmIChwYXJzZV9pcyhuYW1lWzBdLCAoLypRVUVTVElPTiB8ICovIEVYQ0xBTSkpKSkKICAgICAgICAgIHNlbGZfY2xvc2luZyA9IFRSVUU7CgogICAgICAgIGlmKG5hbWVsZW4gPj0gMyAmJiBwYXJzZV9pcyhzdGFydFswXSwgRVhDTEFNKSAmJiBwYXJzZV9pcyhzdGFydFsxXSwgSFlQSEVOKSAmJiBwYXJzZV9pcyhzdGFydFsyXSwgSFlQSEVOKSkgewogICAgICAgICAgLyogIE5FWFQoKTsKICAgICAgICAgICAgTkVYVCgpOyovCiAgICAgICAgICB3aGlsZSghZG9uZSkgewogICAgICAgICAgICBORVhUKCk7CiAgICAgICAgICAgIGlmKGVuZCAtIHB0ciA+PSAzICYmIHBhcnNlX2lzKHB0clswXSwgSFlQSEVOKSAmJiBwYXJzZV9pcyhwdHJbMV0sIEhZUEhFTikgJiYgcGFyc2VfaXMocHRyWzJdLCBDTE9TRSkpIHsKICAgICAgICAgICAgICBwdHIgKz0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbmFtZWxlbiA9IHB0ciAtIG5hbWU7CgogICAgICAgIH0gZWxzZSBpZihuYW1lbGVuICYmIHBhcnNlX2lzKG5hbWVbMF0sIEVYQ0xBTSkpIHsKICAgICAgICAgIHBhcnNlX3VudGlsKHBhcnNlX2lzKGMsIENMT1NFKSk7CiAgICAgICAgICBuYW1lbGVuID0gcHRyIC0gbmFtZTsKICAgICAgICB9CiAgICAgICAgeG1sX3NldF9hdHRyX2J5dGVzKGN0eCwgZWxlbWVudCwgInRhZ05hbWUiLCA3LCBuYW1lLCBuYW1lbGVuKTsKCiAgICAgICAgaWYobmFtZWxlbiAmJiBwYXJzZV9pcyhuYW1lWzBdLCBFWENMQU0pKSB7CiAgICAgICAgICBORVhUKCk7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIC8qIFBhcnNlIGF0dHJpYnV0ZXMgaWYgbm90IGEgY2xvc2luZyB0YWcgKi8KICAgICAgICBjb25zdCB1aW50OF90ICphdHRyLCAqdmFsdWU7CiAgICAgICAgc2l6ZV90IGFsZW4sIHZsZW4sIG51bV9hdHRycyA9IDA7CiAgICAgICAgSlNWYWx1ZSBhdHRyaWJ1dGVzID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgICAgICAgd2hpbGUoIWRvbmUpIHsKICAgICAgICAgIHBhcnNlX3NraXBzcGFjZSgpOwogICAgICAgICAgaWYocGFyc2VfaXMoYywgRU5EKSkKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBhdHRyID0gcHRyOwogICAgICAgICAgcGFyc2VfdW50aWwocGFyc2VfaXMoYywgRVFVQUwgfCBXUyB8IFNQRUNJQUwgfCBDTE9TRSkpOwogICAgICAgICAgaWYoKGFsZW4gPSBwdHIgLSBhdHRyKSA9PSAwKQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGlmKHBhcnNlX2lzKGMsIFdTIHwgQ0xPU0UgfCBTTEFTSCkpIHsKICAgICAgICAgICAgeG1sX3NldF9hdHRyX3ZhbHVlKGN0eCwgYXR0cmlidXRlcywgKGNvbnN0IGNoYXIqKWF0dHIsIGFsZW4sIEpTX05ld0Jvb2woY3R4LCBUUlVFKSk7CiAgICAgICAgICAgIG51bV9hdHRycysrOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHBhcnNlX2lzKGMsIEVRVUFMKSkgewogICAgICAgICAgICBORVhUKCk7CiAgICAgICAgICAgIGlmKHBhcnNlX2lzKGMsIFFVT1RFKSkKICAgICAgICAgICAgICBORVhUKCk7CiAgICAgICAgICAgIHZhbHVlID0gcHRyOwogICAgICAgICAgICBwYXJzZV91bnRpbChwYXJzZV9pcyhjLCBRVU9URSkpOwogICAgICAgICAgICB2bGVuID0gcHRyIC0gdmFsdWU7CiAgICAgICAgICAgIGlmKHBhcnNlX2lzKGMsIFFVT1RFKSkKICAgICAgICAgICAgICBORVhUKCk7CiAgICAgICAgICAgIHhtbF9zZXRfYXR0cl9ieXRlcyhjdHgsIGF0dHJpYnV0ZXMsIChjb25zdCBjaGFyKilhdHRyLCBhbGVuLCB2YWx1ZSwgdmxlbik7CiAgICAgICAgICAgIG51bV9hdHRycysrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvKmlmKG51bV9hdHRycyA9PSAwKQogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgYXR0cmlidXRlcyk7CiAgICAgICAgZWxzZSovCiAgICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlbGVtZW50LCAiYXR0cmlidXRlcyIsIGF0dHJpYnV0ZXMpOwoKICAgICAgICBpZihwYXJzZV9pcyhuYW1lWzBdLCBRVUVTVElPTiB8IEVYQ0xBTSkpIHsKICAgICAgICAgIGlmKGNoYXJzW2NdID09IGNoYXJzW25hbWVbMF1dKSB7CiAgICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgICAgeWllbGRfcHVzaCgpOwogICAgICAgICAgfQoKICAgICAgICB9IGVsc2UgaWYocGFyc2VfaXMoYywgU0xBU0gpKSB7CiAgICAgICAgICBzZWxmX2Nsb3NpbmcgPSBUUlVFOwogICAgICAgICAgTkVYVCgpOwoKICAgICAgICB9IGVsc2UgaWYoIXNlbGZfY2xvc2luZykgewogICAgICAgICAgLyoKICAgICAgICAgICAgb3V0ID0gdmVjdG9yX2VtcGxhY2UoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsKICAgICAgICAgICAgICAgb3V0LT5vYmogPSBKU19OZXdBcnJheShjdHgpOwogICAgICAgICAgICAgICBvdXQtPmlkeCA9IDA7CiAgICAgICAgICAgICAgIG91dC0+bmFtZSA9IG5hbWU7CiAgICAgICAgICAgICAgIG91dC0+bmFtZWxlbiA9IG5hbWVsZW47CiAgICAgICAgICAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIiwgb3V0LT5vYmopOyovCiAgICAgICAgICB5aWVsZF9wdXNoKCk7CiAgICAgICAgfQoKICAgICAgICAvKnsKICAgICAgICAgIGNoYXIqIGVzdHIgPSAoY2hhciopanNfaW5zcGVjdF90b3N0cmluZyhjdHgsIGVsZW1lbnQpOwogICAgICAgICAgcHJpbnRmKCIlMDN6dSBlbGVtZW50ICMlaSAlc1xuIiwgdmVjdG9yX3NpemUoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKSwgb3V0LT5pZHgsIGVzdHIpOwogICAgICAgICAganNfZnJlZShjdHgsIGVzdHIpOwogICAgICAgIH0qLwogICAgICB9CgogICAgICBwYXJzZV9za2lwc3BhY2UoKTsKICAgICAgaWYocGFyc2VfaXMoYywgQ0xPU0UpKQogICAgICAgIE5FWFQoKTsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfeG1sX3JlYWQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldDsKICBJbnB1dEJ1ZmZlciBpbnB1dCA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAgY29uc3QgY2hhciogaW5wdXRfbmFtZSA9IDA7CgogIGlmKGlucHV0LmRhdGEgPT0gMCB8fCBpbnB1dC5zaXplID09IDApIHsKICAgIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAieG1sLnJlYWQoKTogZXhwZWN0aW5nIGJ1ZmZlciBvciBzdHJpbmciKTsKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgfQoKICBpZihhcmdjID49IDIpCiAgICBpbnB1dF9uYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CgogIHJldCA9IGpzX3htbF9wYXJzZShjdHgsIGlucHV0LmRhdGEsIGlucHV0LnNpemUsIGlucHV0X25hbWUgPyBpbnB1dF9uYW1lIDogIjxpbnB1dD4iKTsKCiAgaWYoaW5wdXRfbmFtZSkKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgaW5wdXRfbmFtZSk7CgogIGlucHV0X2J1ZmZlcl9mcmVlKCZpbnB1dCwgY3R4KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfd3JpdGVfb2JqKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBpbnQgbWF4X2RlcHRoLCBEeW5CdWYqIG91dHB1dCkgewogIFZlY3RvciBlbnVtZXJhdGlvbnMgPSBWRUNUT1IoY3R4KTsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKICBKU1ZhbHVlIHN0ciwgdmFsdWUgPSBKU19VTkRFRklORUQ7CgogIGl0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fcHVzaCgmZW51bWVyYXRpb25zLCBjdHgsIEpTX0R1cFZhbHVlKGN0eCwgb2JqKSwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUyk7CgogIGRvIHsKICAgIGludDMyX3QgZGVwdGggPSB2ZWN0b3Jfc2l6ZSgmZW51bWVyYXRpb25zLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpIC0gMTsKCiAgICB2YWx1ZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKGl0LCBjdHgpOwoKICAgIGlmKEpTX0lzU3RyaW5nKHZhbHVlKSkKICAgICAgeG1sX3dyaXRlX3RleHQoY3R4LCB2YWx1ZSwgb3V0cHV0LCBkZXB0aCwgaXQtPnRhYl9hdG9tX2xlbiA+IDEpOwogICAgZWxzZSBpZihKU19Jc09iamVjdCh2YWx1ZSkgJiYgIUpTX0lzQXJyYXkoY3R4LCB2YWx1ZSkpCiAgICAgIHhtbF93cml0ZV9lbGVtZW50KGN0eCwgdmFsdWUsIG91dHB1dCwgZGVwdGgpOwoKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9IHdoaWxlKChpdCA9IHhtbF9lbnVtZXJhdGlvbl9uZXh0KCZlbnVtZXJhdGlvbnMsIGN0eCwgb3V0cHV0LCBtYXhfZGVwdGgpKSk7CgogIHdoaWxlKG91dHB1dC0+c2l6ZSA+IDAgJiYgKG91dHB1dC0+YnVmW291dHB1dC0+c2l6ZSAtIDFdID09ICdcMCcgfHwgYnl0ZV9jaHIoIlxyXG5cdCAiLCA0LCBvdXRwdXQtPmJ1ZltvdXRwdXQtPnNpemUgLSAxXSkgPCA0KSkKICAgIG91dHB1dC0+c2l6ZS0tOwogIGRidWZfcHV0YyhvdXRwdXQsICdcMCcpOwoKICBzdHIgPSBKU19OZXdTdHJpbmcoY3R4LCAoY29uc3QgY2hhciopb3V0cHV0LT5idWYpOwogIC8vIHN0ciA9IEpTX05ld1N0cmluZ0xlbihjdHgsIG91dHB1dC0+YnVmLCBvdXRwdXQtPnNpemUpOwoKICB2ZWN0b3JfZm9yZWFjaF90KCZlbnVtZXJhdGlvbnMsIGl0KSB7IHByb3BlcnR5X2VudW1lcmF0aW9uX3Jlc2V0KGl0LCBKU19HZXRSdW50aW1lKGN0eCkpOyB9CiAgdmVjdG9yX2ZyZWUoJmVudW1lcmF0aW9ucyk7CiAgcmV0dXJuIHN0cjsKfQoKc3RhdGljIEpTVmFsdWUKanNfeG1sX3dyaXRlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgRHluQnVmIG91dHB1dCA9IHswfTsKICBKU1ZhbHVlQ29uc3Qgb2JqID0gYXJnYyA+IDAgPyBhcmd2WzBdIDogSlNfVU5ERUZJTkVEOwogIEpTVmFsdWUgcmV0LCBhcnIgPSBKU19VTkRFRklORUQ7CiAgaW50MzJfdCBtYXhfZGVwdGggPSBJTlQzMl9NQVg7CgogIGpzX2RidWZfaW5pdChjdHgsICZvdXRwdXQpOwoKICBpZihhcmdjID49IDIpCiAgICBKU19Ub0ludDMyKGN0eCwgJm1heF9kZXB0aCwgYXJndlsxXSk7CgogIGlmKCFKU19Jc0FycmF5KGN0eCwgb2JqKSkgewogICAgYXJyID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCAwLCBKU19EdXBWYWx1ZShjdHgsIG9iaikpOwogICAgb2JqID0gYXJyOwogIH0KCiAgcmV0ID0ganNfeG1sX3dyaXRlX29iaihjdHgsIG9iaiwgbWF4X2RlcHRoLCAmb3V0cHV0KTsKCiAgZGJ1Zl9mcmVlKCZvdXRwdXQpOwoKICBpZighSlNfSXNVbmRlZmluZWQoYXJyKSkKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGFycik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc194bWxfZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX0RFRigicmVhZCIsIDEsIGpzX3htbF9yZWFkKSwKICAgIEpTX0NGVU5DX0RFRigid3JpdGUiLCAyLCBqc194bWxfd3JpdGUpLAp9OwoKc3RhdGljIGludApqc194bWxfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgY2hhcmFjdGVyX2NsYXNzZXNfaW5pdChjaGFycyk7CgogIHJldHVybiBKU19TZXRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfeG1sX2Z1bmNzLCBjb3VudG9mKGpzX3htbF9mdW5jcykpOwp9CgojaWZkZWYgSlNfU0hBUkVEX0xJQlJBUlkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3htbAojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX3htbF9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc194bWxfZnVuY3MsIGNvdW50b2YoanNfeG1sX2Z1bmNzKSk7CiAgcmV0dXJuIG07Cn0KAAAAAAAAAAD5QQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJEHAAAAAAAAmwcAAAAAAAAAAAAAAADwvw"
				],
				[
					591,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD5QQAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAicHJvcGVydHktZW51bWVyYXRpb24uaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJ2ZWN0b3IuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAibG9jYXRpb24uaCIKCiNpbmNsdWRlIDxzdGRpbnQuaD4KCmNoYXIqIGpzX2luc3BlY3RfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgovKioKICogXGRlZmdyb3VwIHF1aWNranMteG1sIFF1aWNrSlMgbW9kdWxlOiB4bWwgLSBYTUwgcGFyc2VyICYgcHJpbnRlcgogKiBAewogKi8KI2RlZmluZSBXUyAweDAxCiNkZWZpbmUgU1RBUlQgMHgwMgojZGVmaW5lIEVORCAweDA0CiNkZWZpbmUgUVVPVEUgMHgwOAojZGVmaW5lIENMT1NFIDB4MTAKI2RlZmluZSBFUVVBTCAweDIwCiNkZWZpbmUgU1BFQ0lBTCAweDQwCiNkZWZpbmUgU0xBU0ggMHg4MAojZGVmaW5lIEJBQ0tTTEFTSCAweDEwMAojZGVmaW5lIFFVRVNUSU9OIDB4MjAwCiNkZWZpbmUgRVhDTEFNIDB4NDAwCiNkZWZpbmUgSFlQSEVOIDB4NDAwCgpzdGF0aWMgaW50IGNoYXJzWzI1Nl0gPSB7MH07Cgp0eXBlZGVmIHN0cnVjdCB7CiAgdWludDMyX3QgaWR4OwogIEpTVmFsdWUgb2JqOwogIGNvbnN0IHVpbnQ4X3QqIG5hbWU7CiAgc2l6ZV90IG5hbWVsZW47Cn0gT3V0cHV0VmFsdWU7Cgp2b2lkCmNoYXJhY3Rlcl9jbGFzc2VzX2luaXQoaW50IGNbMjU2XSkgewogIGNbJyAnXSA9IFdTOwogIGNbJ1x0J10gPSBXUzsKICBjWydcciddID0gV1M7CiAgY1snXG4nXSA9IFdTOwogIGNbJyEnXSA9IFNQRUNJQUwgfCBFWENMQU07CiAgY1snIiddID0gUVVPVEU7CiAgY1snLyddID0gRU5EIHwgU0xBU0g7CiAgY1snPCddID0gU1RBUlQ7CiAgY1snPSddID0gRVFVQUw7CiAgY1snPiddID0gRU5EIHwgQ0xPU0U7CiAgY1snPyddID0gU1BFQ0lBTCB8IFFVRVNUSU9OOwogIGNbJ1xcJ10gPSBCQUNLU0xBU0g7CiAgY1snLSddID0gSFlQSEVOOwp9CgojZGVmaW5lIHlpZWxkX3B1c2goKSBcCiAgZG8geyBcCiAgICBvdXQgPSB2ZWN0b3JfcHVzaCgmc3QsICgoT3V0cHV0VmFsdWUpezAsIEpTX05ld0FycmF5KGN0eCksIG5hbWUsIG5hbWVsZW59KSk7IFwKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIiwgb3V0LT5vYmopOyBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSB5aWVsZF9wb3AoKSBcCiAgZG8geyBcCiAgICBpZih2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpID49IDIgPykgeyBcCiAgICAgIHZlY3Rvcl9wb3AoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgXAogICAgICBvdXQgPSB2ZWN0b3JfYmFjaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpKTsgXAogICAgfSBcCiAgICB3aGlsZSgwKQoKI2RlZmluZSB5aWVsZF9uZXh0KCkgXAogIGRvIHsgXAogICAgZWxlbWVudCA9IEpTX05ld09iamVjdChjdHgpOyBcCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG91dC0+b2JqLCBvdXQtPmlkeCsrLCBlbGVtZW50KTsgXAogIH0gd2hpbGUoMCkKCiNkZWZpbmUgeWllbGRfcmV0dXJuKGluZGV4KSBcCiAgZG8geyBcCiAgICBpZihpbmRleCA+PSAxKSB7IFwKICAgICAgdmVjdG9yX3Nocmluaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSksIGluZGV4KTsgXAogICAgICBvdXQgPSB2ZWN0b3JfYmFjaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOyBcCiAgICB9IFwKICB9IHdoaWxlKDApCgojZGVmaW5lIE5FWFQoKSAoKGMgPSAqKytwdHIpLCBwdHIgPj0gZW5kID8gZG9uZSA9IFRSVUUgOiAwKQojZGVmaW5lIFNLSVAoY29uZCkgXAogIGRvIHsgXAogICAgYyA9ICpwdHI7IFwKICAgIGlmKCEoY29uZCkpIFwKICAgICAgYnJlYWs7IFwKICAgIGlmKCsrcHRyID49IGVuZCkgXAogICAgICBkb25lID0gVFJVRTsgXAogIH0gd2hpbGUoIWRvbmUpCgojZGVmaW5lIHBhcnNlX3VudGlsKGNvbmQpIFNLSVAoIShjb25kKSkKI2RlZmluZSBwYXJzZV9za2lwc3BhY2UoKSBTS0lQKGNoYXJzW2NdICYgV1MpCiNkZWZpbmUgcGFyc2VfaXMoYywgY2xhc3NlcykgKGNoYXJzWyhjKV0gJiAoY2xhc3NlcykpCgpzdGF0aWMgaW50MzJfdApmaW5kX3RhZyhWZWN0b3IqIHN0LCBjb25zdCBjaGFyKiBuYW1lLCBzaXplX3QgbmFtZWxlbikgewogIE91dHB1dFZhbHVlKiBvOwogIGludDMyX3QgaW5kZXggPSB2ZWN0b3Jfc2l6ZShzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSk7CgogIGZvcihvID0gdmVjdG9yX2JhY2soc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOyBvID49IChPdXRwdXRWYWx1ZSopdmVjdG9yX2JlZ2luKHN0KTsgby0tKSB7CiAgICAtLWluZGV4OwoKICAgIGlmKG8tPm5hbWVsZW4gPT0gbmFtZWxlbiAmJiAhc3RybmNtcCgoY29uc3QgY2hhciopby0+bmFtZSwgbmFtZSwgbmFtZWxlbikpCiAgICAgIHJldHVybiBpbmRleDsKICB9CiAgcmV0dXJuIC0xOwp9CgpzdGF0aWMgaW50MzJfdAp4bWxfbnVtX2NoaWxkcmVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZWxlbWVudCkgewogIGludDY0X3QgbnVtX2NoaWxkcmVuID0gLTE7CiAgSlNWYWx1ZSBjaGlsZHJlbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIik7CgogIGlmKEpTX0lzQXJyYXkoY3R4LCBjaGlsZHJlbikpCiAgICBudW1fY2hpbGRyZW4gPSBqc19hcnJheV9sZW5ndGgoY3R4LCBjaGlsZHJlbik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNoaWxkcmVuKTsKICByZXR1cm4gbnVtX2NoaWxkcmVuOwp9CgpzdGF0aWMgdm9pZAp4bWxfc2V0X2F0dHJfdmFsdWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIGF0dHIsIHNpemVfdCBhbGVuLCBKU1ZhbHVlIHZhbHVlKSB7CiAgSlNBdG9tIHByb3A7CiAgcHJvcCA9IEpTX05ld0F0b21MZW4oY3R4LCAoY29uc3QgY2hhciopYXR0ciwgYWxlbik7CiAgSlNfU2V0UHJvcGVydHkoY3R4LCBvYmosIHByb3AsIHZhbHVlKTsKICBKU19GcmVlQXRvbShjdHgsIHByb3ApOwp9CgpzdGF0aWMgdm9pZAp4bWxfc2V0X2F0dHJfYnl0ZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIGF0dHIsIHNpemVfdCBhbGVuLCBjb25zdCB1aW50OF90KiBzdHIsIHNpemVfdCBzbGVuKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICB2YWx1ZSA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilzdHIsIHNsZW4pOwogIHhtbF9zZXRfYXR0cl92YWx1ZShjdHgsIG9iaiwgYXR0ciwgYWxlbiwgdmFsdWUpOwogIC8vIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX2F0dHJpYnV0ZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhdHRyaWJ1dGVzLCBEeW5CdWYqIGRiKSB7CiAgc2l6ZV90IGk7CiAgUHJvcGVydHlFbnVtZXJhdGlvbiBwcm9wcyA9IHswfTsKCiAgcHJvcGVydHlfZW51bWVyYXRpb25faW5pdCgmcHJvcHMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBhdHRyaWJ1dGVzKSwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUyk7CgogIGZvcihpID0gMDsgaSA8IHByb3BzLnRhYl9hdG9tX2xlbjsgaSsrKSB7CiAgICBjb25zdCBjaGFyICprZXlzdHIsICp2YWx1ZXN0cjsKICAgIEpTVmFsdWUgdmFsdWU7CiAgICBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9zZXRwb3MoJnByb3BzLCBpKTsKICAgIGtleXN0ciA9IHByb3BlcnR5X2VudW1lcmF0aW9uX2tleXN0cigmcHJvcHMsIGN0eCk7CiAgICB2YWx1ZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKCZwcm9wcywgY3R4KTsKICAgIGRidWZfcHV0YyhkYiwgJyAnKTsKICAgIGRidWZfcHV0c3RyKGRiLCBrZXlzdHIpOwogICAgaWYoIShKU19Jc0Jvb2wodmFsdWUpICYmIEpTX1RvQm9vbChjdHgsIHZhbHVlKSkpIHsKICAgICAgdmFsdWVzdHIgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZXN0cigmcHJvcHMsIGN0eCk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCAiPVwiIik7CiAgICAgIGRidWZfcHV0c3RyKGRiLCB2YWx1ZXN0cik7CiAgICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHZhbHVlc3RyKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnIicpOwogICAgfQogICAganNfY3N0cmluZ19mcmVlKGN0eCwga2V5c3RyKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIHByb3BlcnR5X2VudW1lcmF0aW9uX3Jlc2V0KCZwcm9wcywgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCnhtbF93cml0ZV9pbmRlbnQoRHluQnVmKiBkYiwgaW50MzJfdCBkZXB0aCkgewogIHdoaWxlKGRlcHRoLS0gPiAwKSBkYnVmX3B1dHN0cihkYiwgIiAgIik7Cn0KCnN0YXRpYyB2b2lkCnhtbF93cml0ZV9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHRleHRTdHIsIHNpemVfdCB0ZXh0TGVuLCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoKSB7CiAgY29uc3QgY2hhciogcDsKICBmb3IocCA9IHRleHRTdHI7OykgewogICAgc2l6ZV90IG47CgogICAgd2hpbGUodGV4dExlbikgewogICAgICBpZihieXRlX2NocigiXHJcbiBcdCIsIDQsICpwKSA9PSA0KQogICAgICAgIGJyZWFrOwogICAgICBwKys7CiAgICAgIHRleHRMZW4tLTsKICAgIH0KICAgIG4gPSBieXRlX2NocihwLCB0ZXh0TGVuLCAnXG4nKTsKICAgIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopcCwgbik7CiAgICBpZihuIDwgdGV4dExlbikKICAgICAgbisrOwogICAgcCArPSBuOwogICAgdGV4dExlbiAtPSBuOwoKICAgIC8qd2hpbGUodGV4dExlbiA+IDAgJiYgIChwWzBdID09ICcgJyB8fCAgcFswXSA9PSAnXHQnKSkgewogICAgICB0ZXh0TGVuLS07CiAgICAgIHArKzsKICAgIH0gICAgKi8KCiAgICBpZih0ZXh0TGVuID09IDApCiAgICAgIGJyZWFrOwoKICAgIGlmKGRlcHRoID4gMCkgewogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCArIDEpOwogICAgfQogIH0KfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX3RleHQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0ZXh0LCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoLCBCT09MIG11bHRpbGluZSkgewogIGNvbnN0IGNoYXIqIHRleHRTdHI7CiAgc2l6ZV90IHRleHRMZW47CiAgdGV4dFN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZ0ZXh0TGVuLCB0ZXh0KTsKICBpZihtdWx0aWxpbmUpCiAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCk7CiAgZWxzZSB7CiAgICB3aGlsZShkYi0+c2l6ZSA+IDAgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKGRiLT5idWZbZGItPnNpemUgLSAxXSkpIGRiLT5zaXplLS07CiAgfQogIHhtbF93cml0ZV9zdHJpbmcoY3R4LCB0ZXh0U3RyLCB0ZXh0TGVuLCBkYiwgbXVsdGlsaW5lID8gZGVwdGggOiAwKTsKICBqc19jc3RyaW5nX2ZyZWUoY3R4LCB0ZXh0U3RyKTsKICBpZihtdWx0aWxpbmUpCiAgICBkYnVmX3B1dGMoZGIsICdcbicpOwp9CgpzdGF0aWMgdm9pZAp4bWxfd3JpdGVfZWxlbWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVsZW1lbnQsIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICBKU1ZhbHVlIGF0dHJpYnV0ZXMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJhdHRyaWJ1dGVzIik7CiAgaW50MzJfdCBudW1fY2hpbGRyZW47CiAgc2l6ZV90IHRhZ0xlbjsKICBjb25zdCBjaGFyKiB0YWdOYW1lID0ganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsICZ0YWdMZW4pOwogIEJPT0wgaXNDb21tZW50OwoKICBpZighdGFnTmFtZSB8fCAhdGFnTmFtZVswXSkKICAgIHJldHVybjsKCiAgYXNzZXJ0KHRhZ05hbWUpOwogIGlzQ29tbWVudCA9ICFzdHJuY21wKHRhZ05hbWUsICIhLS0iLCAzKTsKCiAgeG1sX3dyaXRlX2luZGVudChkYiwgZGVwdGgpOwoKICBpZih0YWdOYW1lWzBdKQogICAgZGJ1Zl9wdXRjKGRiLCAnPCcpOwoKICBpZihpc0NvbW1lbnQpIHsKICAgIGlmKGJ5dGVfY2hyKHRhZ05hbWUsIHRhZ0xlbiwgJ1xuJykgPCB0YWdMZW4pIHsKICAgICAgeG1sX3dyaXRlX3N0cmluZyhjdHgsIHRhZ05hbWUsIHRhZ0xlbiAtIDIsIGRiLCBkZXB0aCAtIDEpOwogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCArIDEpOwogICAgICBkYnVmX3B1dGMoZGIsICctJyk7CiAgICAgIGRidWZfcHV0YyhkYiwgJy0nKTsKICAgIH0gZWxzZSB7CiAgICAgIHhtbF93cml0ZV9zdHJpbmcoY3R4LCB0YWdOYW1lLCB0YWdMZW4sIGRiLCBkZXB0aCAtIDEpOwogICAgfQogIH0gZWxzZSBpZih0YWdOYW1lWzBdID09ICchJykgewogICAgZGJ1Zl9wdXRzdHIoZGIsIHRhZ05hbWUpOwogIH0gZWxzZSB7CiAgICBkYnVmX3B1dHN0cihkYiwgdGFnTmFtZSk7CiAgICBpZihKU19Jc09iamVjdChhdHRyaWJ1dGVzKSkKICAgICAgeG1sX3dyaXRlX2F0dHJpYnV0ZXMoY3R4LCBhdHRyaWJ1dGVzLCBkYik7CiAgfQogIG51bV9jaGlsZHJlbiA9IHhtbF9udW1fY2hpbGRyZW4oY3R4LCBlbGVtZW50KTsKCiAgaWYodGFnTmFtZVswXSkKICAgIGRidWZfcHV0c3RyKGRiLCAobnVtX2NoaWxkcmVuID49IDAgfHwgaXNDb21tZW50KSA/IHRhZ05hbWVbMF0gPT0gJz8nID8gIj8+IiA6ICI+IiA6IHRhZ05hbWVbMF0gPT0gJyEnID8gIj4iIDogIiAvPiIpOwogIGRidWZfcHV0YyhkYiwgJ1xuJyk7CgogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHRhZ05hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGF0dHJpYnV0ZXMpOwp9CgpzdGF0aWMgdm9pZAp4bWxfY2xvc2VfZWxlbWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVsZW1lbnQsIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICBpbnQzMl90IG51bV9jaGlsZHJlbiA9IHhtbF9udW1fY2hpbGRyZW4oY3R4LCBlbGVtZW50KTsKCiAgaWYobnVtX2NoaWxkcmVuID49IDApIHsKICAgIHNpemVfdCB0YWdMZW47CiAgICBjb25zdCBjaGFyKiB0YWdOYW1lID0ganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsICZ0YWdMZW4pOwoKICAgIGlmKHRhZ05hbWVbMF0gIT0gJz8nICYmIHRhZ05hbWVbMF0pIHsKICAgICAgaWYoZGItPnNpemUgPiAwICYmIGRiLT5idWZbZGItPnNpemUgLSAxXSA9PSAnXG4nKQogICAgICAgIHhtbF93cml0ZV9pbmRlbnQoZGIsIGRlcHRoKTsKCiAgICAgIGRidWZfcHV0c3RyKGRiLCAiPC8iKTsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kil0YWdOYW1lLCB0YWdMZW4pOwogICAgICBkYnVmX3B1dHN0cihkYiwgIj4iKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKICAgIH0KICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHRhZ05hbWUpOwogIH0KfQoKc3RhdGljIFByb3BlcnR5RW51bWVyYXRpb24qCnhtbF9lbnVtZXJhdGlvbl9uZXh0KFZlY3RvciogdmVjLCBKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBkYiwgaW50MzJfdCBtYXhfZGVwdGgpIHsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKICBKU1ZhbHVlIHZhbHVlID0gSlNfVU5ERUZJTkVELCBjaGlsZHJlbjsKCiAgaXQgPSB2ZWN0b3JfYmFjayh2ZWMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSk7CiAgdmFsdWUgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KTsKCiAgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICBjaGlsZHJlbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJjaGlsZHJlbiIpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogICAgaWYoIUpTX0lzVW5kZWZpbmVkKGNoaWxkcmVuKSAmJiAobWF4X2RlcHRoID09IElOVDMyX01BWCB8fCB2ZWN0b3Jfc2l6ZSh2ZWMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkgPCAodWludDMyX3QpbWF4X2RlcHRoKSkgewogICAgICBpZigoaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKHZlYywgY3R4LCBjaGlsZHJlbiwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUykpKQogICAgICAgIGlmKHByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgMCkpCiAgICAgICAgICByZXR1cm4gaXQ7CiAgICB9CiAgfSBlbHNlIHsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIGZvcig7OykgewogICAgaWYocHJvcGVydHlfZW51bWVyYXRpb25fc2V0cG9zKGl0LCBpdC0+aWR4ICsgMSkpCiAgICAgIGJyZWFrOwoKICAgIGlmKChpdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3BvcCh2ZWMsIGN0eCkpID09IDApCiAgICAgIGJyZWFrOwoKICAgIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CiAgICB4bWxfY2xvc2VfZWxlbWVudChjdHgsIHZhbHVlLCBkYiwgKGludDMyX3QpdmVjdG9yX3NpemUodmVjLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpIC0gMSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gaXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF9wYXJzZShKU0NvbnRleHQqIGN0eCwgY29uc3QgdWludDhfdCogYnVmLCBzaXplX3QgbGVuLCBjb25zdCBjaGFyKiBpbnB1dF9uYW1lKSB7CiAgQk9PTCBkb25lID0gRkFMU0U7CiAgY29uc3QgdWludDhfdCAqcHRyLCAqZW5kLCAqc3RhcnQ7CiAgdWludDhfdCBjOwogIE91dHB1dFZhbHVlKiBvdXQ7CiAgSlNWYWx1ZSByZXQsIGVsZW1lbnQgPSBKU19VTkRFRklORUQ7CiAgVmVjdG9yIHN0ID0gVkVDVE9SKGN0eCk7CiAgTG9jYXRpb24gbG9jID0geyhjaGFyKilpbnB1dF9uYW1lfTsKICBwdHIgPSBidWY7CiAgZW5kID0gYnVmICsgbGVuOwoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBvdXQgPSB2ZWN0b3JfZW1wbGFjZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOwogIG91dC0+b2JqID0gcmV0OwogIG91dC0+aWR4ID0gMDsKCiAgd2hpbGUoIWRvbmUpIHsKICAgIC8vIHBhcnNlX3NraXBzcGFjZSgpOwogICAgc3RhcnQgPSBwdHI7CiAgICBwYXJzZV91bnRpbChwYXJzZV9pcyhjLCBTVEFSVCkpOwoKICAgIGlmKHB0ciA+IHN0YXJ0KSB7CiAgICAgIHNpemVfdCBsZW47CgogICAgICB3aGlsZShzdGFydCA8IHB0ciAmJiBpc193aGl0ZXNwYWNlX2NoYXIoKnN0YXJ0KSkgc3RhcnQrKzsKCiAgICAgIGxlbiA9IHB0ciAtIHN0YXJ0OwogICAgICB3aGlsZShsZW4gPiAwICYmIGlzX3doaXRlc3BhY2VfY2hhcihzdGFydFtsZW4gLSAxXSkpIGxlbi0tOwoKICAgICAgaWYobGVuID4gMCkgewogICAgICAgIEpTVmFsdWUgc3RyID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKXN0YXJ0LCBsZW4pOwogICAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgb3V0LT5vYmosIG91dC0+aWR4KyssIHN0cik7CiAgICAgIH0KICAgIH0KCiAgICBpZihkb25lKQogICAgICBicmVhazsKCiAgICBpZihwYXJzZV9pcyhjLCBTVEFSVCkpIHsKICAgICAgY29uc3QgdWludDhfdCogbmFtZTsKICAgICAgc2l6ZV90IG5hbWVsZW47CiAgICAgIEJPT0wgY2xvc2luZyA9IEZBTFNFLCBzZWxmX2Nsb3NpbmcgPSBGQUxTRTsKICAgICAgTkVYVCgpOwogICAgICBpZihwYXJzZV9pcyhjLCBTTEFTSCkpIHsKICAgICAgICBjbG9zaW5nID0gVFJVRTsKICAgICAgICBORVhUKCk7CiAgICAgIH0KICAgICAgbmFtZSA9IHB0cjsKICAgICAgcGFyc2VfdW50aWwocGFyc2VfaXMoYywgV1MgfCBFTkQpKTsKICAgICAgbmFtZWxlbiA9IHB0ciAtIG5hbWU7CgogICAgICBpZihjbG9zaW5nKSB7CiAgICAgICAgaW50MzJfdCBpbmRleDsKICAgICAgICBwYXJzZV9za2lwc3BhY2UoKTsKICAgICAgICBpZihwYXJzZV9pcyhjLCBDTE9TRSkpCiAgICAgICAgICBORVhUKCk7CgogICAgICAgIGlmKChpbmRleCA9IGZpbmRfdGFnKCZzdCwgKGNvbnN0IGNoYXIqKW5hbWUsIG5hbWVsZW4pKSA9PSAtMSkgewogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgICAgICAgIGxvY2F0aW9uX2NvdW50KCZsb2MsIChjb25zdCBjaGFyKilidWYsIHN0YXJ0IC0gYnVmKTsKICAgICAgICAgIHByaW50ZigibWlzbWF0Y2ggPC8lLipzPiBhdCAlczoldToldSIsIChpbnQpbmFtZWxlbiwgbmFtZSwgbG9jLmZpbGUsIGxvYy5saW5lLCBsb2MuY29sdW1uKTsKICAgICAgICAgIHJldCA9IEpTX1Rocm93U3ludGF4RXJyb3IoY3R4LCAibWlzbWF0Y2ggPC8lLipzPiBhdCAlczoldToldSIsIChpbnQpbmFtZWxlbiwgbmFtZSwgbG9jLmZpbGUsIGxvYy5saW5lLCBsb2MuY29sdW1uKTsKICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfQoKICAgICAgICAvLyBwcmludGYoImVuZC1vZiBbJXpkXSB0YWdOYW1lOiAlcyUuKnNcbiIsIGluZGV4IC0gMSwgY2xvc2luZyA/ICIvIiA6ICIiLCBuYW1lbGVuLCBuYW1lKTsKCiAgICAgICAgeWllbGRfcmV0dXJuKGluZGV4KTsKICAgICAgICBjb250aW51ZTsKCiAgICAgICAgLyogaWYob3V0LT5uYW1lbGVuID09IG5hbWVsZW4gJiYgIW1lbWNtcChvdXQtPm5hbWUsIG5hbWUsIG5hbWVsZW4pKSB7CiAgICAgICAgICAgeWllbGRfcG9wKCk7CiAgICAgICAgICAgY29udGludWU7CiAgICAgICAgIH0qLwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHByaW50ZigiZWxlbWVudCBbJXpkXSB0YWdOYW1lOiAlcyUuKnNcbiIsIHZlY3Rvcl9zaXplKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSkgLSAxLCBjbG9zaW5nID8gIi8iIDogIiIsIG5hbWVsZW4sIG5hbWUpOwogICAgICAgIC8qICBwcmludGYoInBhcmVudCB0YWdOYW1lOiAlLipzXG4iLCBvdXQtPm5hbWVsZW4sIG91dC0+bmFtZSk7Ki8KICAgICAgICB5aWVsZF9uZXh0KCk7CgogICAgICAgIGlmKG5hbWVsZW4gJiYgKHBhcnNlX2lzKG5hbWVbMF0sICgvKlFVRVNUSU9OIHwgKi8gRVhDTEFNKSkpKQogICAgICAgICAgc2VsZl9jbG9zaW5nID0gVFJVRTsKCiAgICAgICAgaWYobmFtZWxlbiA+PSAzICYmIHBhcnNlX2lzKHN0YXJ0WzBdLCBFWENMQU0pICYmIHBhcnNlX2lzKHN0YXJ0WzFdLCBIWVBIRU4pICYmIHBhcnNlX2lzKHN0YXJ0WzJdLCBIWVBIRU4pKSB7CiAgICAgICAgICAvKiAgTkVYVCgpOwogICAgICAgICAgICBORVhUKCk7Ki8KICAgICAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgICAgaWYoZW5kIC0gcHRyID49IDMgJiYgcGFyc2VfaXMocHRyWzBdLCBIWVBIRU4pICYmIHBhcnNlX2lzKHB0clsxXSwgSFlQSEVOKSAmJiBwYXJzZV9pcyhwdHJbMl0sIENMT1NFKSkgewogICAgICAgICAgICAgIHB0ciArPSAyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBuYW1lbGVuID0gcHRyIC0gbmFtZTsKCiAgICAgICAgfSBlbHNlIGlmKG5hbWVsZW4gJiYgcGFyc2VfaXMobmFtZVswXSwgRVhDTEFNKSkgewogICAgICAgICAgcGFyc2VfdW50aWwocGFyc2VfaXMoYywgQ0xPU0UpKTsKICAgICAgICAgIG5hbWVsZW4gPSBwdHIgLSBuYW1lOwogICAgICAgIH0KICAgICAgICB4bWxfc2V0X2F0dHJfYnl0ZXMoY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsIDcsIG5hbWUsIG5hbWVsZW4pOwoKICAgICAgICBpZihuYW1lbGVuICYmIHBhcnNlX2lzKG5hbWVbMF0sIEVYQ0xBTSkpIHsKICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgLyogUGFyc2UgYXR0cmlidXRlcyBpZiBub3QgYSBjbG9zaW5nIHRhZyAqLwogICAgICAgIGNvbnN0IHVpbnQ4X3QgKmF0dHIsICp2YWx1ZTsKICAgICAgICBzaXplX3QgYWxlbiwgdmxlbiwgbnVtX2F0dHJzID0gMDsKICAgICAgICBKU1ZhbHVlIGF0dHJpYnV0ZXMgPSBKU19OZXdPYmplY3QoY3R4KTsKICAgICAgICB3aGlsZSghZG9uZSkgewogICAgICAgICAgcGFyc2Vfc2tpcHNwYWNlKCk7CiAgICAgICAgICBpZihwYXJzZV9pcyhjLCBFTkQpKQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGF0dHIgPSBwdHI7CiAgICAgICAgICBwYXJzZV91bnRpbChwYXJzZV9pcyhjLCBFUVVBTCB8IFdTIHwgU1BFQ0lBTCB8IENMT1NFKSk7CiAgICAgICAgICBpZigoYWxlbiA9IHB0ciAtIGF0dHIpID09IDApCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgaWYocGFyc2VfaXMoYywgV1MgfCBDTE9TRSB8IFNMQVNIKSkgewogICAgICAgICAgICB4bWxfc2V0X2F0dHJfdmFsdWUoY3R4LCBhdHRyaWJ1dGVzLCAoY29uc3QgY2hhciopYXR0ciwgYWxlbiwgSlNfTmV3Qm9vbChjdHgsIFRSVUUpKTsKICAgICAgICAgICAgbnVtX2F0dHJzKys7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYocGFyc2VfaXMoYywgRVFVQUwpKSB7CiAgICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgICAgaWYocGFyc2VfaXMoYywgUVVPVEUpKQogICAgICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgICAgdmFsdWUgPSBwdHI7CiAgICAgICAgICAgIHBhcnNlX3VudGlsKHBhcnNlX2lzKGMsIFFVT1RFKSk7CiAgICAgICAgICAgIHZsZW4gPSBwdHIgLSB2YWx1ZTsKICAgICAgICAgICAgaWYocGFyc2VfaXMoYywgUVVPVEUpKQogICAgICAgICAgICAgIE5FWFQoKTsKICAgICAgICAgICAgeG1sX3NldF9hdHRyX2J5dGVzKGN0eCwgYXR0cmlidXRlcywgKGNvbnN0IGNoYXIqKWF0dHIsIGFsZW4sIHZhbHVlLCB2bGVuKTsKICAgICAgICAgICAgbnVtX2F0dHJzKys7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8qaWYobnVtX2F0dHJzID09IDApCiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBhdHRyaWJ1dGVzKTsKICAgICAgICBlbHNlKi8KICAgICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJhdHRyaWJ1dGVzIiwgYXR0cmlidXRlcyk7CgogICAgICAgIGlmKHBhcnNlX2lzKG5hbWVbMF0sIFFVRVNUSU9OIHwgRVhDTEFNKSkgewogICAgICAgICAgaWYoY2hhcnNbY10gPT0gY2hhcnNbbmFtZVswXV0pIHsKICAgICAgICAgICAgTkVYVCgpOwogICAgICAgICAgICB5aWVsZF9wdXNoKCk7CiAgICAgICAgICB9CgogICAgICAgIH0gZWxzZSBpZihwYXJzZV9pcyhjLCBTTEFTSCkpIHsKICAgICAgICAgIHNlbGZfY2xvc2luZyA9IFRSVUU7CiAgICAgICAgICBORVhUKCk7CgogICAgICAgIH0gZWxzZSBpZighc2VsZl9jbG9zaW5nKSB7CiAgICAgICAgICAvKgogICAgICAgICAgICBvdXQgPSB2ZWN0b3JfZW1wbGFjZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOwogICAgICAgICAgICAgICBvdXQtPm9iaiA9IEpTX05ld0FycmF5KGN0eCk7CiAgICAgICAgICAgICAgIG91dC0+aWR4ID0gMDsKICAgICAgICAgICAgICAgb3V0LT5uYW1lID0gbmFtZTsKICAgICAgICAgICAgICAgb3V0LT5uYW1lbGVuID0gbmFtZWxlbjsKICAgICAgICAgICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlbGVtZW50LCAiY2hpbGRyZW4iLCBvdXQtPm9iaik7Ki8KICAgICAgICAgIHlpZWxkX3B1c2goKTsKICAgICAgICB9CgogICAgICAgIC8qewogICAgICAgICAgY2hhciogZXN0ciA9IChjaGFyKilqc19pbnNwZWN0X3Rvc3RyaW5nKGN0eCwgZWxlbWVudCk7CiAgICAgICAgICBwcmludGYoIiUwM3p1IGVsZW1lbnQgIyVpICVzXG4iLCB2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpLCBvdXQtPmlkeCwgZXN0cik7CiAgICAgICAgICBqc19mcmVlKGN0eCwgZXN0cik7CiAgICAgICAgfSovCiAgICAgIH0KCiAgICAgIHBhcnNlX3NraXBzcGFjZSgpOwogICAgICBpZihwYXJzZV9pcyhjLCBDTE9TRSkpCiAgICAgICAgTkVYVCgpOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0OwogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKICBjb25zdCBjaGFyKiBpbnB1dF9uYW1lID0gMDsKCiAgaWYoaW5wdXQuZGF0YSA9PSAwIHx8IGlucHV0LnNpemUgPT0gMCkgewogICAgSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJ4bWwucmVhZCgpOiBleHBlY3RpbmcgYnVmZmVyIG9yIHN0cmluZyIpOwogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIGlmKGFyZ2MgPj0gMikKICAgIGlucHV0X25hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgcmV0ID0ganNfeG1sX3BhcnNlKGN0eCwgaW5wdXQuZGF0YSwgaW5wdXQuc2l6ZSwgaW5wdXRfbmFtZSA/IGlucHV0X25hbWUgOiAiPGlucHV0PiIpOwoKICBpZihpbnB1dF9uYW1lKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbnB1dF9uYW1lKTsKCiAgaW5wdXRfYnVmZmVyX2ZyZWUoJmlucHV0LCBjdHgpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF93cml0ZV9vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGludCBtYXhfZGVwdGgsIER5bkJ1Ziogb3V0cHV0KSB7CiAgVmVjdG9yIGVudW1lcmF0aW9ucyA9IFZFQ1RPUihjdHgpOwogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwogIEpTVmFsdWUgc3RyLCB2YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKCZlbnVtZXJhdGlvbnMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBvYmopLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKTsKCiAgZG8gewogICAgaW50MzJfdCBkZXB0aCA9IHZlY3Rvcl9zaXplKCZlbnVtZXJhdGlvbnMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkgLSAxOwoKICAgIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CgogICAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKQogICAgICB4bWxfd3JpdGVfdGV4dChjdHgsIHZhbHVlLCBvdXRwdXQsIGRlcHRoLCBpdC0+dGFiX2F0b21fbGVuID4gMSk7CiAgICBlbHNlIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSAmJiAhSlNfSXNBcnJheShjdHgsIHZhbHVlKSkKICAgICAgeG1sX3dyaXRlX2VsZW1lbnQoY3R4LCB2YWx1ZSwgb3V0cHV0LCBkZXB0aCk7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0gd2hpbGUoKGl0ID0geG1sX2VudW1lcmF0aW9uX25leHQoJmVudW1lcmF0aW9ucywgY3R4LCBvdXRwdXQsIG1heF9kZXB0aCkpKTsKCiAgd2hpbGUob3V0cHV0LT5zaXplID4gMCAmJiAob3V0cHV0LT5idWZbb3V0cHV0LT5zaXplIC0gMV0gPT0gJ1wwJyB8fCBieXRlX2NocigiXHJcblx0ICIsIDQsIG91dHB1dC0+YnVmW291dHB1dC0+c2l6ZSAtIDFdKSA8IDQpKQogICAgb3V0cHV0LT5zaXplLS07CiAgZGJ1Zl9wdXRjKG91dHB1dCwgJ1wwJyk7CgogIHN0ciA9IEpTX05ld1N0cmluZyhjdHgsIChjb25zdCBjaGFyKilvdXRwdXQtPmJ1Zik7CiAgLy8gc3RyID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgb3V0cHV0LT5idWYsIG91dHB1dC0+c2l6ZSk7CgogIHZlY3Rvcl9mb3JlYWNoX3QoJmVudW1lcmF0aW9ucywgaXQpIHsgcHJvcGVydHlfZW51bWVyYXRpb25fcmVzZXQoaXQsIEpTX0dldFJ1bnRpbWUoY3R4KSk7IH0KICB2ZWN0b3JfZnJlZSgmZW51bWVyYXRpb25zKTsKICByZXR1cm4gc3RyOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfd3JpdGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBEeW5CdWYgb3V0cHV0ID0gezB9OwogIEpTVmFsdWVDb25zdCBvYmogPSBhcmdjID4gMCA/IGFyZ3ZbMF0gOiBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSByZXQsIGFyciA9IEpTX1VOREVGSU5FRDsKICBpbnQzMl90IG1heF9kZXB0aCA9IElOVDMyX01BWDsKCiAganNfZGJ1Zl9pbml0KGN0eCwgJm91dHB1dCk7CgogIGlmKGFyZ2MgPj0gMikKICAgIEpTX1RvSW50MzIoY3R4LCAmbWF4X2RlcHRoLCBhcmd2WzFdKTsKCiAgaWYoIUpTX0lzQXJyYXkoY3R4LCBvYmopKSB7CiAgICBhcnIgPSBKU19OZXdBcnJheShjdHgpOwogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIDAsIEpTX0R1cFZhbHVlKGN0eCwgb2JqKSk7CiAgICBvYmogPSBhcnI7CiAgfQoKICByZXQgPSBqc194bWxfd3JpdGVfb2JqKGN0eCwgb2JqLCBtYXhfZGVwdGgsICZvdXRwdXQpOwoKICBkYnVmX2ZyZWUoJm91dHB1dCk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChhcnIpKQogICAgSlNfRnJlZVZhbHVlKGN0eCwgYXJyKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3htbF9mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJyZWFkIiwgMSwganNfeG1sX3JlYWQpLAogICAgSlNfQ0ZVTkNfREVGKCJ3cml0ZSIsIDIsIGpzX3htbF93cml0ZSksCn07CgpzdGF0aWMgaW50CmpzX3htbF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0KGNoYXJzKTsKCiAgcmV0dXJuIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc194bWxfZnVuY3MsIGNvdW50b2YoanNfeG1sX2Z1bmNzKSk7Cn0KCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfeG1sCiNlbmRpZgoKVklTSUJMRSBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwganNfeG1sX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX3htbF9mdW5jcywgY291bnRvZihqc194bWxfZnVuY3MpKTsKICByZXR1cm4gbTsKfQoAAAAAAAAAAF9CAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJEHAAAAAAAAmwcAAAAAAAAAAAAAAADwvw"
				],
				[
					592,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAABfQgAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAicHJvcGVydHktZW51bWVyYXRpb24uaCIKI2luY2x1ZGUgPHF1aWNranMuaD4KI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJ2ZWN0b3IuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgojaW5jbHVkZSAibG9jYXRpb24uaCIKCiNpbmNsdWRlIDxzdGRpbnQuaD4KCmNoYXIqIGpzX2luc3BlY3RfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSk7CgovKioKICogXGRlZmdyb3VwIHF1aWNranMteG1sIFF1aWNrSlMgbW9kdWxlOiB4bWwgLSBYTUwgcGFyc2VyICYgcHJpbnRlcgogKiBAewogKi8KI2RlZmluZSBXUyAweDAxCiNkZWZpbmUgU1RBUlQgMHgwMgojZGVmaW5lIEVORCAweDA0CiNkZWZpbmUgUVVPVEUgMHgwOAojZGVmaW5lIENMT1NFIDB4MTAKI2RlZmluZSBFUVVBTCAweDIwCiNkZWZpbmUgU1BFQ0lBTCAweDQwCiNkZWZpbmUgU0xBU0ggMHg4MAojZGVmaW5lIEJBQ0tTTEFTSCAweDEwMAojZGVmaW5lIFFVRVNUSU9OIDB4MjAwCiNkZWZpbmUgRVhDTEFNIDB4NDAwCiNkZWZpbmUgSFlQSEVOIDB4NDAwCgpzdGF0aWMgaW50IGNoYXJzWzI1Nl0gPSB7MH07Cgp0eXBlZGVmIHN0cnVjdCB7CiAgdWludDMyX3QgaWR4OwogIEpTVmFsdWUgb2JqOwogIGNvbnN0IHVpbnQ4X3QqIG5hbWU7CiAgc2l6ZV90IG5hbWVsZW47Cn0gT3V0cHV0VmFsdWU7Cgp2b2lkCmNoYXJhY3Rlcl9jbGFzc2VzX2luaXQoaW50IGNbMjU2XSkgewogIGNbJyAnXSA9IFdTOwogIGNbJ1x0J10gPSBXUzsKICBjWydcciddID0gV1M7CiAgY1snXG4nXSA9IFdTOwogIGNbJyEnXSA9IFNQRUNJQUwgfCBFWENMQU07CiAgY1snIiddID0gUVVPVEU7CiAgY1snLyddID0gRU5EIHwgU0xBU0g7CiAgY1snPCddID0gU1RBUlQ7CiAgY1snPSddID0gRVFVQUw7CiAgY1snPiddID0gRU5EIHwgQ0xPU0U7CiAgY1snPyddID0gU1BFQ0lBTCB8IFFVRVNUSU9OOwogIGNbJ1xcJ10gPSBCQUNLU0xBU0g7CiAgY1snLSddID0gSFlQSEVOOwp9CgojZGVmaW5lIHlpZWxkX3B1c2goKSBcCiAgZG8geyBcCiAgICBvdXQgPSB2ZWN0b3JfcHVzaCgmc3QsICgoT3V0cHV0VmFsdWUpezAsIEpTX05ld0FycmF5KGN0eCksIG5hbWUsIG5hbWVsZW59KSk7IFwKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIiwgb3V0LT5vYmopOyBcCiAgfSB3aGlsZSgwKQoKI2RlZmluZSB5aWVsZF9wb3AoKSBcCiAgZG8geyBcCiAgICBpZih2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpID49IDIgPykgeyBcCiAgICAgIHZlY3Rvcl9wb3AoJnN0LCBzaXplb2YoT3V0cHV0VmFsdWUpKTsgXAogICAgICBvdXQgPSB2ZWN0b3JfYmFjaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpKTsgXAogICAgfSBcCiAgICB3aGlsZSgwKQoKI2RlZmluZSB5aWVsZF9uZXh0KCkgXAogIGRvIHsgXAogICAgZWxlbWVudCA9IEpTX05ld09iamVjdChjdHgpOyBcCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG91dC0+b2JqLCBvdXQtPmlkeCsrLCBlbGVtZW50KTsgXAogIH0gd2hpbGUoMCkKCiNkZWZpbmUgeWllbGRfcmV0dXJuKGluZGV4KSBcCiAgZG8geyBcCiAgICBpZihpbmRleCA+PSAxKSB7IFwKICAgICAgdmVjdG9yX3Nocmluaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSksIGluZGV4KTsgXAogICAgICBvdXQgPSB2ZWN0b3JfYmFjaygmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOyBcCiAgICB9IFwKICB9IHdoaWxlKDApCgojZGVmaW5lIHBhcnNlX2dldGMoKSAoKGMgPSAqKytwdHIpLCBwdHIgPj0gZW5kID8gZG9uZSA9IFRSVUUgOiAwKQojZGVmaW5lIHBhcnNlX3NraXAoY29uZCkgXAogIGRvIHsgXAogICAgYyA9ICpwdHI7IFwKICAgIGlmKCEoY29uZCkpIFwKICAgICAgYnJlYWs7IFwKICAgIGlmKCsrcHRyID49IGVuZCkgXAogICAgICBkb25lID0gVFJVRTsgXAogIH0gd2hpbGUoIWRvbmUpCgojZGVmaW5lIHBhcnNlX3VudGlsKGNvbmQpIHBhcnNlX3NraXAoIShjb25kKSkKI2RlZmluZSBwYXJzZV9za2lwc3BhY2UoKSBwYXJzZV9za2lwKGNoYXJzW2NdICYgV1MpCiNkZWZpbmUgcGFyc2VfaXMoYywgY2xhc3NlcykgKGNoYXJzWyhjKV0gJiAoY2xhc3NlcykpCgpzdGF0aWMgaW50MzJfdApmaW5kX3RhZyhWZWN0b3IqIHN0LCBjb25zdCBjaGFyKiBuYW1lLCBzaXplX3QgbmFtZWxlbikgewogIE91dHB1dFZhbHVlKiBvOwogIGludDMyX3QgaW5kZXggPSB2ZWN0b3Jfc2l6ZShzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSk7CgogIGZvcihvID0gdmVjdG9yX2JhY2soc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOyBvID49IChPdXRwdXRWYWx1ZSopdmVjdG9yX2JlZ2luKHN0KTsgby0tKSB7CiAgICAtLWluZGV4OwoKICAgIGlmKG8tPm5hbWVsZW4gPT0gbmFtZWxlbiAmJiAhc3RybmNtcCgoY29uc3QgY2hhciopby0+bmFtZSwgbmFtZSwgbmFtZWxlbikpCiAgICAgIHJldHVybiBpbmRleDsKICB9CiAgcmV0dXJuIC0xOwp9CgpzdGF0aWMgaW50MzJfdAp4bWxfbnVtX2NoaWxkcmVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZWxlbWVudCkgewogIGludDY0X3QgbnVtX2NoaWxkcmVuID0gLTE7CiAgSlNWYWx1ZSBjaGlsZHJlbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZWxlbWVudCwgImNoaWxkcmVuIik7CgogIGlmKEpTX0lzQXJyYXkoY3R4LCBjaGlsZHJlbikpCiAgICBudW1fY2hpbGRyZW4gPSBqc19hcnJheV9sZW5ndGgoY3R4LCBjaGlsZHJlbik7CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGNoaWxkcmVuKTsKICByZXR1cm4gbnVtX2NoaWxkcmVuOwp9CgpzdGF0aWMgdm9pZAp4bWxfc2V0X2F0dHJfdmFsdWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIGF0dHIsIHNpemVfdCBhbGVuLCBKU1ZhbHVlIHZhbHVlKSB7CiAgSlNBdG9tIHByb3A7CiAgcHJvcCA9IEpTX05ld0F0b21MZW4oY3R4LCAoY29uc3QgY2hhciopYXR0ciwgYWxlbik7CiAgSlNfU2V0UHJvcGVydHkoY3R4LCBvYmosIHByb3AsIHZhbHVlKTsKICBKU19GcmVlQXRvbShjdHgsIHByb3ApOwp9CgpzdGF0aWMgdm9pZAp4bWxfc2V0X2F0dHJfYnl0ZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIGF0dHIsIHNpemVfdCBhbGVuLCBjb25zdCB1aW50OF90KiBzdHIsIHNpemVfdCBzbGVuKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICB2YWx1ZSA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilzdHIsIHNsZW4pOwogIHhtbF9zZXRfYXR0cl92YWx1ZShjdHgsIG9iaiwgYXR0ciwgYWxlbiwgdmFsdWUpOwogIC8vIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX2F0dHJpYnV0ZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhdHRyaWJ1dGVzLCBEeW5CdWYqIGRiKSB7CiAgc2l6ZV90IGk7CiAgUHJvcGVydHlFbnVtZXJhdGlvbiBwcm9wcyA9IHswfTsKCiAgcHJvcGVydHlfZW51bWVyYXRpb25faW5pdCgmcHJvcHMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBhdHRyaWJ1dGVzKSwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUyk7CgogIGZvcihpID0gMDsgaSA8IHByb3BzLnRhYl9hdG9tX2xlbjsgaSsrKSB7CiAgICBjb25zdCBjaGFyICprZXlzdHIsICp2YWx1ZXN0cjsKICAgIEpTVmFsdWUgdmFsdWU7CiAgICBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9zZXRwb3MoJnByb3BzLCBpKTsKICAgIGtleXN0ciA9IHByb3BlcnR5X2VudW1lcmF0aW9uX2tleXN0cigmcHJvcHMsIGN0eCk7CiAgICB2YWx1ZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKCZwcm9wcywgY3R4KTsKICAgIGRidWZfcHV0YyhkYiwgJyAnKTsKICAgIGRidWZfcHV0c3RyKGRiLCBrZXlzdHIpOwogICAgaWYoIShKU19Jc0Jvb2wodmFsdWUpICYmIEpTX1RvQm9vbChjdHgsIHZhbHVlKSkpIHsKICAgICAgdmFsdWVzdHIgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZXN0cigmcHJvcHMsIGN0eCk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCAiPVwiIik7CiAgICAgIGRidWZfcHV0c3RyKGRiLCB2YWx1ZXN0cik7CiAgICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHZhbHVlc3RyKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnIicpOwogICAgfQogICAganNfY3N0cmluZ19mcmVlKGN0eCwga2V5c3RyKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIHByb3BlcnR5X2VudW1lcmF0aW9uX3Jlc2V0KCZwcm9wcywgSlNfR2V0UnVudGltZShjdHgpKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCnhtbF93cml0ZV9pbmRlbnQoRHluQnVmKiBkYiwgaW50MzJfdCBkZXB0aCkgewogIHdoaWxlKGRlcHRoLS0gPiAwKSBkYnVmX3B1dHN0cihkYiwgIiAgIik7Cn0KCnN0YXRpYyB2b2lkCnhtbF93cml0ZV9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHRleHRTdHIsIHNpemVfdCB0ZXh0TGVuLCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoKSB7CiAgY29uc3QgY2hhciogcDsKICBmb3IocCA9IHRleHRTdHI7OykgewogICAgc2l6ZV90IG47CgogICAgd2hpbGUodGV4dExlbikgewogICAgICBpZihieXRlX2NocigiXHJcbiBcdCIsIDQsICpwKSA9PSA0KQogICAgICAgIGJyZWFrOwogICAgICBwKys7CiAgICAgIHRleHRMZW4tLTsKICAgIH0KICAgIG4gPSBieXRlX2NocihwLCB0ZXh0TGVuLCAnXG4nKTsKICAgIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopcCwgbik7CiAgICBpZihuIDwgdGV4dExlbikKICAgICAgbisrOwogICAgcCArPSBuOwogICAgdGV4dExlbiAtPSBuOwoKICAgIC8qd2hpbGUodGV4dExlbiA+IDAgJiYgIChwWzBdID09ICcgJyB8fCAgcFswXSA9PSAnXHQnKSkgewogICAgICB0ZXh0TGVuLS07CiAgICAgIHArKzsKICAgIH0gICAgKi8KCiAgICBpZih0ZXh0TGVuID09IDApCiAgICAgIGJyZWFrOwoKICAgIGlmKGRlcHRoID4gMCkgewogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCArIDEpOwogICAgfQogIH0KfQoKc3RhdGljIHZvaWQKeG1sX3dyaXRlX3RleHQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0ZXh0LCBEeW5CdWYqIGRiLCBpbnQzMl90IGRlcHRoLCBCT09MIG11bHRpbGluZSkgewogIGNvbnN0IGNoYXIqIHRleHRTdHI7CiAgc2l6ZV90IHRleHRMZW47CiAgdGV4dFN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZ0ZXh0TGVuLCB0ZXh0KTsKICBpZihtdWx0aWxpbmUpCiAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCk7CiAgZWxzZSB7CiAgICB3aGlsZShkYi0+c2l6ZSA+IDAgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKGRiLT5idWZbZGItPnNpemUgLSAxXSkpIGRiLT5zaXplLS07CiAgfQogIHhtbF93cml0ZV9zdHJpbmcoY3R4LCB0ZXh0U3RyLCB0ZXh0TGVuLCBkYiwgbXVsdGlsaW5lID8gZGVwdGggOiAwKTsKICBqc19jc3RyaW5nX2ZyZWUoY3R4LCB0ZXh0U3RyKTsKICBpZihtdWx0aWxpbmUpCiAgICBkYnVmX3B1dGMoZGIsICdcbicpOwp9CgpzdGF0aWMgdm9pZAp4bWxfd3JpdGVfZWxlbWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVsZW1lbnQsIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICBKU1ZhbHVlIGF0dHJpYnV0ZXMgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJhdHRyaWJ1dGVzIik7CiAgaW50MzJfdCBudW1fY2hpbGRyZW47CiAgc2l6ZV90IHRhZ0xlbjsKICBjb25zdCBjaGFyKiB0YWdOYW1lID0ganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsICZ0YWdMZW4pOwogIEJPT0wgaXNDb21tZW50OwoKICBpZighdGFnTmFtZSB8fCAhdGFnTmFtZVswXSkKICAgIHJldHVybjsKCiAgYXNzZXJ0KHRhZ05hbWUpOwogIGlzQ29tbWVudCA9ICFzdHJuY21wKHRhZ05hbWUsICIhLS0iLCAzKTsKCiAgeG1sX3dyaXRlX2luZGVudChkYiwgZGVwdGgpOwoKICBpZih0YWdOYW1lWzBdKQogICAgZGJ1Zl9wdXRjKGRiLCAnPCcpOwoKICBpZihpc0NvbW1lbnQpIHsKICAgIGlmKGJ5dGVfY2hyKHRhZ05hbWUsIHRhZ0xlbiwgJ1xuJykgPCB0YWdMZW4pIHsKICAgICAgeG1sX3dyaXRlX3N0cmluZyhjdHgsIHRhZ05hbWUsIHRhZ0xlbiAtIDIsIGRiLCBkZXB0aCAtIDEpOwogICAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgICB4bWxfd3JpdGVfaW5kZW50KGRiLCBkZXB0aCArIDEpOwogICAgICBkYnVmX3B1dGMoZGIsICctJyk7CiAgICAgIGRidWZfcHV0YyhkYiwgJy0nKTsKICAgIH0gZWxzZSB7CiAgICAgIHhtbF93cml0ZV9zdHJpbmcoY3R4LCB0YWdOYW1lLCB0YWdMZW4sIGRiLCBkZXB0aCAtIDEpOwogICAgfQogIH0gZWxzZSBpZih0YWdOYW1lWzBdID09ICchJykgewogICAgZGJ1Zl9wdXRzdHIoZGIsIHRhZ05hbWUpOwogIH0gZWxzZSB7CiAgICBkYnVmX3B1dHN0cihkYiwgdGFnTmFtZSk7CiAgICBpZihKU19Jc09iamVjdChhdHRyaWJ1dGVzKSkKICAgICAgeG1sX3dyaXRlX2F0dHJpYnV0ZXMoY3R4LCBhdHRyaWJ1dGVzLCBkYik7CiAgfQogIG51bV9jaGlsZHJlbiA9IHhtbF9udW1fY2hpbGRyZW4oY3R4LCBlbGVtZW50KTsKCiAgaWYodGFnTmFtZVswXSkKICAgIGRidWZfcHV0c3RyKGRiLCAobnVtX2NoaWxkcmVuID49IDAgfHwgaXNDb21tZW50KSA/IHRhZ05hbWVbMF0gPT0gJz8nID8gIj8+IiA6ICI+IiA6IHRhZ05hbWVbMF0gPT0gJyEnID8gIj4iIDogIiAvPiIpOwogIGRidWZfcHV0YyhkYiwgJ1xuJyk7CgogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHRhZ05hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGF0dHJpYnV0ZXMpOwp9CgpzdGF0aWMgdm9pZAp4bWxfY2xvc2VfZWxlbWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVsZW1lbnQsIER5bkJ1ZiogZGIsIGludDMyX3QgZGVwdGgpIHsKICBpbnQzMl90IG51bV9jaGlsZHJlbiA9IHhtbF9udW1fY2hpbGRyZW4oY3R4LCBlbGVtZW50KTsKCiAgaWYobnVtX2NoaWxkcmVuID49IDApIHsKICAgIHNpemVfdCB0YWdMZW47CiAgICBjb25zdCBjaGFyKiB0YWdOYW1lID0ganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmdsZW4oY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsICZ0YWdMZW4pOwoKICAgIGlmKHRhZ05hbWVbMF0gIT0gJz8nICYmIHRhZ05hbWVbMF0pIHsKICAgICAgaWYoZGItPnNpemUgPiAwICYmIGRiLT5idWZbZGItPnNpemUgLSAxXSA9PSAnXG4nKQogICAgICAgIHhtbF93cml0ZV9pbmRlbnQoZGIsIGRlcHRoKTsKCiAgICAgIGRidWZfcHV0c3RyKGRiLCAiPC8iKTsKICAgICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kil0YWdOYW1lLCB0YWdMZW4pOwogICAgICBkYnVmX3B1dHN0cihkYiwgIj4iKTsKICAgICAgZGJ1Zl9wdXRjKGRiLCAnXG4nKTsKICAgIH0KICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHRhZ05hbWUpOwogIH0KfQoKc3RhdGljIFByb3BlcnR5RW51bWVyYXRpb24qCnhtbF9lbnVtZXJhdGlvbl9uZXh0KFZlY3RvciogdmVjLCBKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBkYiwgaW50MzJfdCBtYXhfZGVwdGgpIHsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKICBKU1ZhbHVlIHZhbHVlID0gSlNfVU5ERUZJTkVELCBjaGlsZHJlbjsKCiAgaXQgPSB2ZWN0b3JfYmFjayh2ZWMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSk7CiAgdmFsdWUgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KTsKCiAgaWYoSlNfSXNPYmplY3QodmFsdWUpKSB7CiAgICBjaGlsZHJlbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJjaGlsZHJlbiIpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogICAgaWYoIUpTX0lzVW5kZWZpbmVkKGNoaWxkcmVuKSAmJiAobWF4X2RlcHRoID09IElOVDMyX01BWCB8fCB2ZWN0b3Jfc2l6ZSh2ZWMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkgPCAodWludDMyX3QpbWF4X2RlcHRoKSkgewogICAgICBpZigoaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKHZlYywgY3R4LCBjaGlsZHJlbiwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUykpKQogICAgICAgIGlmKHByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgMCkpCiAgICAgICAgICByZXR1cm4gaXQ7CiAgICB9CiAgfSBlbHNlIHsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIGZvcig7OykgewogICAgaWYocHJvcGVydHlfZW51bWVyYXRpb25fc2V0cG9zKGl0LCBpdC0+aWR4ICsgMSkpCiAgICAgIGJyZWFrOwoKICAgIGlmKChpdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3BvcCh2ZWMsIGN0eCkpID09IDApCiAgICAgIGJyZWFrOwoKICAgIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CiAgICB4bWxfY2xvc2VfZWxlbWVudChjdHgsIHZhbHVlLCBkYiwgKGludDMyX3QpdmVjdG9yX3NpemUodmVjLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpIC0gMSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICByZXR1cm4gaXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF9wYXJzZShKU0NvbnRleHQqIGN0eCwgY29uc3QgdWludDhfdCogYnVmLCBzaXplX3QgbGVuLCBjb25zdCBjaGFyKiBpbnB1dF9uYW1lKSB7CiAgQk9PTCBkb25lID0gRkFMU0U7CiAgY29uc3QgdWludDhfdCAqcHRyLCAqZW5kLCAqc3RhcnQ7CiAgdWludDhfdCBjOwogIE91dHB1dFZhbHVlKiBvdXQ7CiAgSlNWYWx1ZSByZXQsIGVsZW1lbnQgPSBKU19VTkRFRklORUQ7CiAgVmVjdG9yIHN0ID0gVkVDVE9SKGN0eCk7CiAgTG9jYXRpb24gbG9jID0geyhjaGFyKilpbnB1dF9uYW1lfTsKICBwdHIgPSBidWY7CiAgZW5kID0gYnVmICsgbGVuOwoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBvdXQgPSB2ZWN0b3JfZW1wbGFjZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOwogIG91dC0+b2JqID0gcmV0OwogIG91dC0+aWR4ID0gMDsKCiAgd2hpbGUoIWRvbmUpIHsKICAgIC8vIHBhcnNlX3NraXBzcGFjZSgpOwogICAgc3RhcnQgPSBwdHI7CiAgICBwYXJzZV91bnRpbChwYXJzZV9pcyhjLCBTVEFSVCkpOwoKICAgIGlmKHB0ciA+IHN0YXJ0KSB7CiAgICAgIHNpemVfdCBsZW47CgogICAgICB3aGlsZShzdGFydCA8IHB0ciAmJiBpc193aGl0ZXNwYWNlX2NoYXIoKnN0YXJ0KSkgc3RhcnQrKzsKCiAgICAgIGxlbiA9IHB0ciAtIHN0YXJ0OwogICAgICB3aGlsZShsZW4gPiAwICYmIGlzX3doaXRlc3BhY2VfY2hhcihzdGFydFtsZW4gLSAxXSkpIGxlbi0tOwoKICAgICAgaWYobGVuID4gMCkgewogICAgICAgIEpTVmFsdWUgc3RyID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKXN0YXJ0LCBsZW4pOwogICAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgb3V0LT5vYmosIG91dC0+aWR4KyssIHN0cik7CiAgICAgIH0KICAgIH0KCiAgICBpZihkb25lKQogICAgICBicmVhazsKCiAgICBpZihwYXJzZV9pcyhjLCBTVEFSVCkpIHsKICAgICAgY29uc3QgdWludDhfdCogbmFtZTsKICAgICAgc2l6ZV90IG5hbWVsZW47CiAgICAgIEJPT0wgY2xvc2luZyA9IEZBTFNFLCBzZWxmX2Nsb3NpbmcgPSBGQUxTRTsKICAgICAgcGFyc2VfZ2V0YygpOwogICAgICBpZihwYXJzZV9pcyhjLCBTTEFTSCkpIHsKICAgICAgICBjbG9zaW5nID0gVFJVRTsKICAgICAgICBwYXJzZV9nZXRjKCk7CiAgICAgIH0KICAgICAgbmFtZSA9IHB0cjsKICAgICAgcGFyc2VfdW50aWwocGFyc2VfaXMoYywgV1MgfCBFTkQpKTsKICAgICAgbmFtZWxlbiA9IHB0ciAtIG5hbWU7CgogICAgICBpZihjbG9zaW5nKSB7CiAgICAgICAgaW50MzJfdCBpbmRleDsKICAgICAgICBwYXJzZV9za2lwc3BhY2UoKTsKICAgICAgICBpZihwYXJzZV9pcyhjLCBDTE9TRSkpCiAgICAgICAgICBwYXJzZV9nZXRjKCk7CgogICAgICAgIGlmKChpbmRleCA9IGZpbmRfdGFnKCZzdCwgKGNvbnN0IGNoYXIqKW5hbWUsIG5hbWVsZW4pKSA9PSAtMSkgewogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcmV0KTsKICAgICAgICAgIGxvY2F0aW9uX2NvdW50KCZsb2MsIChjb25zdCBjaGFyKilidWYsIHN0YXJ0IC0gYnVmKTsKICAgICAgICAgIHByaW50ZigibWlzbWF0Y2ggPC8lLipzPiBhdCAlczoldToldSIsIChpbnQpbmFtZWxlbiwgbmFtZSwgbG9jLmZpbGUsIGxvYy5saW5lLCBsb2MuY29sdW1uKTsKICAgICAgICAgIHJldCA9IEpTX1Rocm93U3ludGF4RXJyb3IoY3R4LCAibWlzbWF0Y2ggPC8lLipzPiBhdCAlczoldToldSIsIChpbnQpbmFtZWxlbiwgbmFtZSwgbG9jLmZpbGUsIGxvYy5saW5lLCBsb2MuY29sdW1uKTsKICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgfQoKICAgICAgICAvLyBwcmludGYoImVuZC1vZiBbJXpkXSB0YWdOYW1lOiAlcyUuKnNcbiIsIGluZGV4IC0gMSwgY2xvc2luZyA/ICIvIiA6ICIiLCBuYW1lbGVuLCBuYW1lKTsKCiAgICAgICAgeWllbGRfcmV0dXJuKGluZGV4KTsKICAgICAgICBjb250aW51ZTsKCiAgICAgICAgLyogaWYob3V0LT5uYW1lbGVuID09IG5hbWVsZW4gJiYgIW1lbWNtcChvdXQtPm5hbWUsIG5hbWUsIG5hbWVsZW4pKSB7CiAgICAgICAgICAgeWllbGRfcG9wKCk7CiAgICAgICAgICAgY29udGludWU7CiAgICAgICAgIH0qLwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHByaW50ZigiZWxlbWVudCBbJXpkXSB0YWdOYW1lOiAlcyUuKnNcbiIsIHZlY3Rvcl9zaXplKCZzdCwgc2l6ZW9mKE91dHB1dFZhbHVlKSkgLSAxLCBjbG9zaW5nID8gIi8iIDogIiIsIG5hbWVsZW4sIG5hbWUpOwogICAgICAgIC8qICBwcmludGYoInBhcmVudCB0YWdOYW1lOiAlLipzXG4iLCBvdXQtPm5hbWVsZW4sIG91dC0+bmFtZSk7Ki8KICAgICAgICB5aWVsZF9uZXh0KCk7CgogICAgICAgIGlmKG5hbWVsZW4gJiYgKHBhcnNlX2lzKG5hbWVbMF0sICgvKlFVRVNUSU9OIHwgKi8gRVhDTEFNKSkpKQogICAgICAgICAgc2VsZl9jbG9zaW5nID0gVFJVRTsKCiAgICAgICAgaWYobmFtZWxlbiA+PSAzICYmIHBhcnNlX2lzKHN0YXJ0WzBdLCBFWENMQU0pICYmIHBhcnNlX2lzKHN0YXJ0WzFdLCBIWVBIRU4pICYmIHBhcnNlX2lzKHN0YXJ0WzJdLCBIWVBIRU4pKSB7CiAgICAgICAgICAvKiAgcGFyc2VfZ2V0YygpOwogICAgICAgICAgICBwYXJzZV9nZXRjKCk7Ki8KICAgICAgICAgIHdoaWxlKCFkb25lKSB7CiAgICAgICAgICAgIHBhcnNlX2dldGMoKTsKICAgICAgICAgICAgaWYoZW5kIC0gcHRyID49IDMgJiYgcGFyc2VfaXMocHRyWzBdLCBIWVBIRU4pICYmIHBhcnNlX2lzKHB0clsxXSwgSFlQSEVOKSAmJiBwYXJzZV9pcyhwdHJbMl0sIENMT1NFKSkgewogICAgICAgICAgICAgIHB0ciArPSAyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBuYW1lbGVuID0gcHRyIC0gbmFtZTsKCiAgICAgICAgfSBlbHNlIGlmKG5hbWVsZW4gJiYgcGFyc2VfaXMobmFtZVswXSwgRVhDTEFNKSkgewogICAgICAgICAgcGFyc2VfdW50aWwocGFyc2VfaXMoYywgQ0xPU0UpKTsKICAgICAgICAgIG5hbWVsZW4gPSBwdHIgLSBuYW1lOwogICAgICAgIH0KICAgICAgICB4bWxfc2V0X2F0dHJfYnl0ZXMoY3R4LCBlbGVtZW50LCAidGFnTmFtZSIsIDcsIG5hbWUsIG5hbWVsZW4pOwoKICAgICAgICBpZihuYW1lbGVuICYmIHBhcnNlX2lzKG5hbWVbMF0sIEVYQ0xBTSkpIHsKICAgICAgICAgIHBhcnNlX2dldGMoKTsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgLyogUGFyc2UgYXR0cmlidXRlcyBpZiBub3QgYSBjbG9zaW5nIHRhZyAqLwogICAgICAgIGNvbnN0IHVpbnQ4X3QgKmF0dHIsICp2YWx1ZTsKICAgICAgICBzaXplX3QgYWxlbiwgdmxlbiwgbnVtX2F0dHJzID0gMDsKICAgICAgICBKU1ZhbHVlIGF0dHJpYnV0ZXMgPSBKU19OZXdPYmplY3QoY3R4KTsKICAgICAgICB3aGlsZSghZG9uZSkgewogICAgICAgICAgcGFyc2Vfc2tpcHNwYWNlKCk7CiAgICAgICAgICBpZihwYXJzZV9pcyhjLCBFTkQpKQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGF0dHIgPSBwdHI7CiAgICAgICAgICBwYXJzZV91bnRpbChwYXJzZV9pcyhjLCBFUVVBTCB8IFdTIHwgU1BFQ0lBTCB8IENMT1NFKSk7CiAgICAgICAgICBpZigoYWxlbiA9IHB0ciAtIGF0dHIpID09IDApCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgaWYocGFyc2VfaXMoYywgV1MgfCBDTE9TRSB8IFNMQVNIKSkgewogICAgICAgICAgICB4bWxfc2V0X2F0dHJfdmFsdWUoY3R4LCBhdHRyaWJ1dGVzLCAoY29uc3QgY2hhciopYXR0ciwgYWxlbiwgSlNfTmV3Qm9vbChjdHgsIFRSVUUpKTsKICAgICAgICAgICAgbnVtX2F0dHJzKys7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYocGFyc2VfaXMoYywgRVFVQUwpKSB7CiAgICAgICAgICAgIHBhcnNlX2dldGMoKTsKICAgICAgICAgICAgaWYocGFyc2VfaXMoYywgUVVPVEUpKQogICAgICAgICAgICAgIHBhcnNlX2dldGMoKTsKICAgICAgICAgICAgdmFsdWUgPSBwdHI7CiAgICAgICAgICAgIHBhcnNlX3VudGlsKHBhcnNlX2lzKGMsIFFVT1RFKSk7CiAgICAgICAgICAgIHZsZW4gPSBwdHIgLSB2YWx1ZTsKICAgICAgICAgICAgaWYocGFyc2VfaXMoYywgUVVPVEUpKQogICAgICAgICAgICAgIHBhcnNlX2dldGMoKTsKICAgICAgICAgICAgeG1sX3NldF9hdHRyX2J5dGVzKGN0eCwgYXR0cmlidXRlcywgKGNvbnN0IGNoYXIqKWF0dHIsIGFsZW4sIHZhbHVlLCB2bGVuKTsKICAgICAgICAgICAgbnVtX2F0dHJzKys7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8qaWYobnVtX2F0dHJzID09IDApCiAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBhdHRyaWJ1dGVzKTsKICAgICAgICBlbHNlKi8KICAgICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGVsZW1lbnQsICJhdHRyaWJ1dGVzIiwgYXR0cmlidXRlcyk7CgogICAgICAgIGlmKHBhcnNlX2lzKG5hbWVbMF0sIFFVRVNUSU9OIHwgRVhDTEFNKSkgewogICAgICAgICAgaWYoY2hhcnNbY10gPT0gY2hhcnNbbmFtZVswXV0pIHsKICAgICAgICAgICAgcGFyc2VfZ2V0YygpOwogICAgICAgICAgICB5aWVsZF9wdXNoKCk7CiAgICAgICAgICB9CgogICAgICAgIH0gZWxzZSBpZihwYXJzZV9pcyhjLCBTTEFTSCkpIHsKICAgICAgICAgIHNlbGZfY2xvc2luZyA9IFRSVUU7CiAgICAgICAgICBwYXJzZV9nZXRjKCk7CgogICAgICAgIH0gZWxzZSBpZighc2VsZl9jbG9zaW5nKSB7CiAgICAgICAgICAvKgogICAgICAgICAgICBvdXQgPSB2ZWN0b3JfZW1wbGFjZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpOwogICAgICAgICAgICAgICBvdXQtPm9iaiA9IEpTX05ld0FycmF5KGN0eCk7CiAgICAgICAgICAgICAgIG91dC0+aWR4ID0gMDsKICAgICAgICAgICAgICAgb3V0LT5uYW1lID0gbmFtZTsKICAgICAgICAgICAgICAgb3V0LT5uYW1lbGVuID0gbmFtZWxlbjsKICAgICAgICAgICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlbGVtZW50LCAiY2hpbGRyZW4iLCBvdXQtPm9iaik7Ki8KICAgICAgICAgIHlpZWxkX3B1c2goKTsKICAgICAgICB9CgogICAgICAgIC8qewogICAgICAgICAgY2hhciogZXN0ciA9IChjaGFyKilqc19pbnNwZWN0X3Rvc3RyaW5nKGN0eCwgZWxlbWVudCk7CiAgICAgICAgICBwcmludGYoIiUwM3p1IGVsZW1lbnQgIyVpICVzXG4iLCB2ZWN0b3Jfc2l6ZSgmc3QsIHNpemVvZihPdXRwdXRWYWx1ZSkpLCBvdXQtPmlkeCwgZXN0cik7CiAgICAgICAgICBqc19mcmVlKGN0eCwgZXN0cik7CiAgICAgICAgfSovCiAgICAgIH0KCiAgICAgIHBhcnNlX3NraXBzcGFjZSgpOwogICAgICBpZihwYXJzZV9pcyhjLCBDTE9TRSkpCiAgICAgICAgcGFyc2VfZ2V0YygpOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0OwogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKICBjb25zdCBjaGFyKiBpbnB1dF9uYW1lID0gMDsKCiAgaWYoaW5wdXQuZGF0YSA9PSAwIHx8IGlucHV0LnNpemUgPT0gMCkgewogICAgSlNfVGhyb3dSZWZlcmVuY2VFcnJvcihjdHgsICJ4bWwucmVhZCgpOiBleHBlY3RpbmcgYnVmZmVyIG9yIHN0cmluZyIpOwogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIGlmKGFyZ2MgPj0gMikKICAgIGlucHV0X25hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgcmV0ID0ganNfeG1sX3BhcnNlKGN0eCwgaW5wdXQuZGF0YSwgaW5wdXQuc2l6ZSwgaW5wdXRfbmFtZSA/IGlucHV0X25hbWUgOiAiPGlucHV0PiIpOwoKICBpZihpbnB1dF9uYW1lKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBpbnB1dF9uYW1lKTsKCiAgaW5wdXRfYnVmZmVyX2ZyZWUoJmlucHV0LCBjdHgpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3htbF93cml0ZV9vYmooSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGludCBtYXhfZGVwdGgsIER5bkJ1Ziogb3V0cHV0KSB7CiAgVmVjdG9yIGVudW1lcmF0aW9ucyA9IFZFQ1RPUihjdHgpOwogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwogIEpTVmFsdWUgc3RyLCB2YWx1ZSA9IEpTX1VOREVGSU5FRDsKCiAgaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKCZlbnVtZXJhdGlvbnMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBvYmopLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKTsKCiAgZG8gewogICAgaW50MzJfdCBkZXB0aCA9IHZlY3Rvcl9zaXplKCZlbnVtZXJhdGlvbnMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkgLSAxOwoKICAgIHZhbHVlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CgogICAgaWYoSlNfSXNTdHJpbmcodmFsdWUpKQogICAgICB4bWxfd3JpdGVfdGV4dChjdHgsIHZhbHVlLCBvdXRwdXQsIGRlcHRoLCBpdC0+dGFiX2F0b21fbGVuID4gMSk7CiAgICBlbHNlIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSAmJiAhSlNfSXNBcnJheShjdHgsIHZhbHVlKSkKICAgICAgeG1sX3dyaXRlX2VsZW1lbnQoY3R4LCB2YWx1ZSwgb3V0cHV0LCBkZXB0aCk7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0gd2hpbGUoKGl0ID0geG1sX2VudW1lcmF0aW9uX25leHQoJmVudW1lcmF0aW9ucywgY3R4LCBvdXRwdXQsIG1heF9kZXB0aCkpKTsKCiAgd2hpbGUob3V0cHV0LT5zaXplID4gMCAmJiAob3V0cHV0LT5idWZbb3V0cHV0LT5zaXplIC0gMV0gPT0gJ1wwJyB8fCBieXRlX2NocigiXHJcblx0ICIsIDQsIG91dHB1dC0+YnVmW291dHB1dC0+c2l6ZSAtIDFdKSA8IDQpKQogICAgb3V0cHV0LT5zaXplLS07CiAgZGJ1Zl9wdXRjKG91dHB1dCwgJ1wwJyk7CgogIHN0ciA9IEpTX05ld1N0cmluZyhjdHgsIChjb25zdCBjaGFyKilvdXRwdXQtPmJ1Zik7CiAgLy8gc3RyID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgb3V0cHV0LT5idWYsIG91dHB1dC0+c2l6ZSk7CgogIHZlY3Rvcl9mb3JlYWNoX3QoJmVudW1lcmF0aW9ucywgaXQpIHsgcHJvcGVydHlfZW51bWVyYXRpb25fcmVzZXQoaXQsIEpTX0dldFJ1bnRpbWUoY3R4KSk7IH0KICB2ZWN0b3JfZnJlZSgmZW51bWVyYXRpb25zKTsKICByZXR1cm4gc3RyOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc194bWxfd3JpdGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBEeW5CdWYgb3V0cHV0ID0gezB9OwogIEpTVmFsdWVDb25zdCBvYmogPSBhcmdjID4gMCA/IGFyZ3ZbMF0gOiBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSByZXQsIGFyciA9IEpTX1VOREVGSU5FRDsKICBpbnQzMl90IG1heF9kZXB0aCA9IElOVDMyX01BWDsKCiAganNfZGJ1Zl9pbml0KGN0eCwgJm91dHB1dCk7CgogIGlmKGFyZ2MgPj0gMikKICAgIEpTX1RvSW50MzIoY3R4LCAmbWF4X2RlcHRoLCBhcmd2WzFdKTsKCiAgaWYoIUpTX0lzQXJyYXkoY3R4LCBvYmopKSB7CiAgICBhcnIgPSBKU19OZXdBcnJheShjdHgpOwogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIDAsIEpTX0R1cFZhbHVlKGN0eCwgb2JqKSk7CiAgICBvYmogPSBhcnI7CiAgfQoKICByZXQgPSBqc194bWxfd3JpdGVfb2JqKGN0eCwgb2JqLCBtYXhfZGVwdGgsICZvdXRwdXQpOwoKICBkYnVmX2ZyZWUoJm91dHB1dCk7CgogIGlmKCFKU19Jc1VuZGVmaW5lZChhcnIpKQogICAgSlNfRnJlZVZhbHVlKGN0eCwgYXJyKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3htbF9mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJyZWFkIiwgMSwganNfeG1sX3JlYWQpLAogICAgSlNfQ0ZVTkNfREVGKCJ3cml0ZSIsIDIsIGpzX3htbF93cml0ZSksCn07CgpzdGF0aWMgaW50CmpzX3htbF9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBjaGFyYWN0ZXJfY2xhc3Nlc19pbml0KGNoYXJzKTsKCiAgcmV0dXJuIEpTX1NldE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc194bWxfZnVuY3MsIGNvdW50b2YoanNfeG1sX2Z1bmNzKSk7Cn0KCiNpZmRlZiBKU19TSEFSRURfTElCUkFSWQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfeG1sCiNlbmRpZgoKVklTSUJMRSBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwganNfeG1sX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX3htbF9mdW5jcywgY291bnRvZihqc194bWxfZnVuY3MpKTsKICByZXR1cm4gbTsKfQoAAAAAAAAAAF9CAAAAAAAAAAAAAAAAAAAAAAAAX0IAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJEHAAAAAAAAmwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"insert",
					{
						"characters": "\n\n\n"
					},
					"BAAAACEGAAAAAAAAIgYAAAAAAAAAAAAAIgYAAAAAAAAiBgAAAAAAAAwAAAB5aWVsZF9yZXR1cm4iBgAAAAAAACMGAAAAAAAAAAAAACMGAAAAAAAAJAYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAhBgAAAAAAAC0GAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"contents": "---\nmeta:\n    author: Jon Doe\n    topic: Samples\n---\n# A sample Markdown document\n\nThis is a sample document so you can preview the color schemes.\n\n## Text Formatting\n\nMarkdown supports _italics_, __bold__, and ___bold italics___ style using underscores.\n\nMarkdown supports *italics*, **bold**, and ***bold italics*** style using asterisks.\n\nThere are also inline styles like `inline code in monospace font` and ~~strikethrough style~~.\n\n__There may be ~~strikethroughed text~~ or `code text` inside bold text.__\n\n_And There may be ~~strikethroughed text~~ or `code text` inside italic text._\n\n> __Here is some quotation__. Lorem ~~ipsum~~ dolor sit amet, consectetur  \n> adipisicing elit, *sed* do eiusmod tempor incididunt ut labore et\n> dolore magna aliqua. Ut enim <b>ad</b> minim <kbd>veniam</kbd>, quis nostrud exercitation.\n> \n> <code>\n>   code block\n> </code>\n\nInline <kbd>key</kbd> or ~~<kbd>key</kbd>~~ other <b>bold html</b> tags.\n\n<table align=\"center\">\n    <tr width=\"85%\">\n        <td>column&nbsp;text</td>\n    </tr>\n</table>\n\n## Links and References\n\nTo reference something from a URL, [Named Links][links],\n[Inline links](https://example.com/index.html \"Description\") and direct link like <https://example.com/>\nare of great help. Sometimes ![A picture][sample image] is worth a thousand words.\n\n---\n\nThis [[SamplePage]] is a wiki link.\n\n## Lists\n\nThere are two types of lists, ordered and unordered.\n\n1. Item 1 \n   <kbd>key</kbd>\n2. Item 2\n3. Item 3\n\n1) Item 1\n2) Item 2\n3) Item 3\n\n* Item A\n    - Sub list\n        + Sub sub list\n        + Sub sub list 2\n    - Sub list 2\n* Item B\n* Item C\n\n## Tables\n\nCol 1 | Col 2\n-----:|-------\nwhat  | else\n\n## Code Blocks\n\nAnything indented more than 3 characters is treated as raw code block.\n\n    function fibo(n) {\n        fibo.mem = fibo.mem || []; // I am some comment\n        return fibo.mem[n] || fibo.mem[n] = n <= 1 ? 1 : fibo(n - 1) + fibo(n - 2);\n\nFenced code blocks support syntax highlighting and are wrapped in triple backticks.\n\n```javascript\nfunction fibo(n) {\n    fibo.mem = fibo.mem || []; // I am some comment\n    return fibo.mem[n] || fibo.mem[n] = n <= 1 ? 1 : fibo(n - 1) + fibo(n - 2);\n}\n```\n\n```diff\ndiff --git a/schemes/Preview.md b/schemes/Preview.md\nindex 3d4b1fe..a85a22a 100644\n--- a/schemes/Preview.md\n+++ b/schemes/Preview.md\n@@ -89,6 +89,12 @@ function fibo(n) {\n \n-## Deleted\n+## Inserted\n```\n\n## CriticMarkup\n\nThis is {++ inserted ++} and {-- deleted --} or {== highlighted ==}{>> comment <<} text.\n\nWe can also {~~ substitute ~> something ~~}.\n\n## Reference Definitions\n\n[^1]: This is a footnote definition\n\n[links]: https://example.com/index.html\n[sample image]: https://example.com/sample.png\n",
			"settings":
			{
				"buffer_size": 2684,
				"line_ending": "Unix",
				"name": "A sample Markdown document",
				"read_only": true,
				"scratch": true
			},
			"undo_stack":
			[
				[
					1,
					1,
					"append",
					{
						"characters": "---\nmeta:\n    author: Jon Doe\n    topic: Samples\n---\n# A sample Markdown document\n\nThis is a sample document so you can preview the color schemes.\n\n## Text Formatting\n\nMarkdown supports _italics_, __bold__, and ___bold italics___ style using underscores.\n\nMarkdown supports *italics*, **bold**, and ***bold italics*** style using asterisks.\n\nThere are also inline styles like `inline code in monospace font` and ~~strikethrough style~~.\n\n__There may be ~~strikethroughed text~~ or `code text` inside bold text.__\n\n_And There may be ~~strikethroughed text~~ or `code text` inside italic text._\n\n> __Here is some quotation__. Lorem ~~ipsum~~ dolor sit amet, consectetur  \n> adipisicing elit, *sed* do eiusmod tempor incididunt ut labore et\n> dolore magna aliqua. Ut enim <b>ad</b> minim <kbd>veniam</kbd>, quis nostrud exercitation.\n> \n> <code>\n>   code block\n> </code>\n\nInline <kbd>key</kbd> or ~~<kbd>key</kbd>~~ other <b>bold html</b> tags.\n\n<table align=\"center\">\n    <tr width=\"85%\">\n        <td>column&nbsp;text</td>\n    </tr>\n</table>\n\n## Links and References\n\nTo reference something from a URL, [Named Links][links],\n[Inline links](https://example.com/index.html \"Description\") and direct link like <https://example.com/>\nare of great help. Sometimes ![A picture][sample image] is worth a thousand words.\n\n---\n\nThis [[SamplePage]] is a wiki link.\n\n## Lists\n\nThere are two types of lists, ordered and unordered.\n\n1. Item 1 \n   <kbd>key</kbd>\n2. Item 2\n3. Item 3\n\n1) Item 1\n2) Item 2\n3) Item 3\n\n* Item A\n    - Sub list\n        + Sub sub list\n        + Sub sub list 2\n    - Sub list 2\n* Item B\n* Item C\n\n## Tables\n\nCol 1 | Col 2\n-----:|-------\nwhat  | else\n\n## Code Blocks\n\nAnything indented more than 3 characters is treated as raw code block.\n\n    function fibo(n) {\n        fibo.mem = fibo.mem || []; // I am some comment\n        return fibo.mem[n] || fibo.mem[n] = n <= 1 ? 1 : fibo(n - 1) + fibo(n - 2);\n\nFenced code blocks support syntax highlighting and are wrapped in triple backticks.\n\n```javascript\nfunction fibo(n) {\n    fibo.mem = fibo.mem || []; // I am some comment\n    return fibo.mem[n] || fibo.mem[n] = n <= 1 ? 1 : fibo(n - 1) + fibo(n - 2);\n}\n```\n\n```diff\ndiff --git a/schemes/Preview.md b/schemes/Preview.md\nindex 3d4b1fe..a85a22a 100644\n--- a/schemes/Preview.md\n+++ b/schemes/Preview.md\n@@ -89,6 +89,12 @@ function fibo(n) {\n \n-## Deleted\n+## Inserted\n```\n\n## CriticMarkup\n\nThis is {++ inserted ++} and {-- deleted --} or {== highlighted ==}{>> comment <<} text.\n\nWe can also {~~ substitute ~> something ~~}.\n\n## Reference Definitions\n\n[^1]: This is a footnote definition\n\n[links]: https://example.com/index.html\n[sample image]: https://example.com/sample.png\n"
					},
					"AQAAAAAAAAAAAAAAfAoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "utils.c",
			"settings":
			{
				"buffer_size": 60223,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					10,
					1,
					"left_delete",
					null,
					"AQAAAG6mAAAAAAAAbqYAAAAAAAAOAAAAICBzaXplX3QgbGVuOwo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHymAAAAAAAAbqYAAAAAAAAAAAAAAAAAAA"
				],
				[
					13,
					1,
					"left_delete",
					null,
					"AQAAAMSmAAAAAAAAxKYAAAAAAAAYAAAAICBsZW4gPSBzdHJsZW4obW9kdWxlKTsK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMSmAAAAAAAA3KYAAAAAAAAAAAAAAAAAAA"
				],
				[
					16,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAA/6wAAI3VuZGVmIF9JU09DOTlfU09VUkNFCiNkZWZpbmUgX0lTT0M5OV9TT1VSQ0UgMQoKI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlIDxsaXN0Lmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgInZlY3Rvci5oIgojaW5jbHVkZSA8bGlicmVnZXhwLmg+CiNpbmNsdWRlICJxdWlja2pzLWludGVybmFsLmgiCiNpbmNsdWRlICJidWZmZXItdXRpbHMuaCIKI2luY2x1ZGUgPHRpbWUuaD4KI2luY2x1ZGUgPG1hdGguaD4KI2luY2x1ZGUgPGVycm5vLmg+CiNpbmNsdWRlIDxzaWduYWwuaD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CiNpbmNsdWRlIDxzeXMvdGltZS5oPgojaW5jbHVkZSA8cXVpY2tqcy1saWJjLmg+CgojaWYgZGVmaW5lZChfX0VNU0NSSVBURU5fXykgJiYgZGVmaW5lZChfX0dOVUNfXykKI2RlZmluZSBhdG9taWNfYWRkX2ludCBfX3N5bmNfYWRkX2FuZF9mZXRjaAojZW5kaWYKCi8qKgogKiBcYWRkdG9ncm91cCB1dGlscwogKiBAewogKi8Kdm9pZCBxdWlja3NvcnRfcih2b2lkKiwgc2l6ZV90LCBzaXplX3QsIGludCAoKikoY29uc3Qgdm9pZCosIGNvbnN0IHZvaWQqLCB2b2lkKiksIHZvaWQqKTsKaW50IHN0cnZlcnNjbXAoY29uc3QgY2hhciosIGNvbnN0IGNoYXIqKTsKCiNpZm5kZWYgSU5GSU5JVFkKI2RlZmluZSBJTkZJTklUWSBfX2J1aWx0aW5faW5mKCkKI2VuZGlmCgojaWZkZWYgVVNFX1dPUktFUgojaW5jbHVkZSA8cHRocmVhZC5oPgojaW5jbHVkZSA8c3RkYXRvbWljLmg+CgpzdGF0aWMgaW50CmF0b21pY19hZGRfaW50KGludCogcHRyLCBpbnQgdikgewogIHJldHVybiBhdG9taWNfZmV0Y2hfYWRkKChfQXRvbWljKHVpbnQzMl90KSopcHRyLCB2KSArIHY7Cn0KI2VuZGlmCgojaWYgZGVmaW5lZChfX2xpbnV4X18pIHx8IGRlZmluZWQoX19BUFBMRV9fKQp1aW50NjRfdAp0aW1lX3VzKHZvaWQpIHsKICBzdHJ1Y3QgdGltZXNwZWMgdHM7CiAgY2xvY2tfZ2V0dGltZShDTE9DS19NT05PVE9OSUMsICZ0cyk7CiAgcmV0dXJuICh1aW50NjRfdCl0cy50dl9zZWMgKiAxMDAwMDAwICsgKHRzLnR2X25zZWMgLyAxMDAwKTsKfQojZWxzZQovKiBtb3JlIHBvcnRhYmxlLCBidXQgZG9lcyBub3Qgd29yayBpZiB0aGUgZGF0ZSBpcyB1cGRhdGVkICovCnVpbnQ2NF90CnRpbWVfdXModm9pZCkgewogIHN0cnVjdCB0aW1ldmFsIHR2OwogIGdldHRpbWVvZmRheSgmdHYsIDApOwogIHJldHVybiAoaW50NjRfdCl0di50dl9zZWMgKiAxMDAwMDAwICsgdHYudHZfdXNlYzsKfQojZW5kaWYKCmludApyZWdleHBfZmxhZ3NfZnJvbXN0cmluZyhjb25zdCBjaGFyKiBzKSB7CiAgaW50IGZsYWdzID0gMDsKCiAgaWYoc3RyX2NvbnRhaW5zKHMsICdnJykpCiAgICBmbGFncyB8PSBMUkVfRkxBR19HTE9CQUw7CiAgaWYoc3RyX2NvbnRhaW5zKHMsICdpJykpCiAgICBmbGFncyB8PSBMUkVfRkxBR19JR05PUkVDQVNFOwogIGlmKHN0cl9jb250YWlucyhzLCAnbScpKQogICAgZmxhZ3MgfD0gTFJFX0ZMQUdfTVVMVElMSU5FOwogIGlmKHN0cl9jb250YWlucyhzLCAncycpKQogICAgZmxhZ3MgfD0gTFJFX0ZMQUdfRE9UQUxMOwogIGlmKHN0cl9jb250YWlucyhzLCAndScpKQogICAgZmxhZ3MgfD0gTFJFX0ZMQUdfVVRGMTY7CiAgaWYoc3RyX2NvbnRhaW5zKHMsICd5JykpCiAgICBmbGFncyB8PSBMUkVfRkxBR19TVElDS1k7CgogIHJldHVybiBmbGFnczsKfQoKaW50CnJlZ2V4cF9mbGFnc190b3N0cmluZyhpbnQgZmxhZ3MsIGNoYXIqIGJ1ZikgewogIGNoYXIqIG91dCA9IGJ1ZjsKCiAgaWYoZmxhZ3MgJiBMUkVfRkxBR19HTE9CQUwpCiAgICAqb3V0KysgPSAnZyc7CiAgaWYoZmxhZ3MgJiBMUkVfRkxBR19JR05PUkVDQVNFKQogICAgKm91dCsrID0gJ2knOwogIGlmKGZsYWdzICYgTFJFX0ZMQUdfTVVMVElMSU5FKQogICAgKm91dCsrID0gJ20nOwogIGlmKGZsYWdzICYgTFJFX0ZMQUdfRE9UQUxMKQogICAgKm91dCsrID0gJ3MnOwogIGlmKGZsYWdzICYgTFJFX0ZMQUdfVVRGMTYpCiAgICAqb3V0KysgPSAndSc7CiAgaWYoZmxhZ3MgJiBMUkVfRkxBR19TVElDS1kpCiAgICAqb3V0KysgPSAneSc7CgogICpvdXQgPSAnXDAnOwogIHJldHVybiBvdXQgLSBidWY7Cn0KClJlZ0V4cApyZWdleHBfZnJvbV9hcmd2KGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBKU0NvbnRleHQqIGN0eCkgewogIFJlZ0V4cCByZSA9IHswLCAwLCAwfTsKICBjb25zdCBjaGFyKiBmbGFnc3RyOwogIGFzc2VydChhcmdjID4gMCk7CiAgaWYoanNfaXNfcmVnZXhwKGN0eCwgYXJndlswXSkpIHsKICAgIHJlLnNvdXJjZSA9IGpzX2dldF9wcm9wZXJ0eXN0cl9zdHJpbmdsZW4oY3R4LCBhcmd2WzBdLCAic291cmNlIiwgJnJlLmxlbik7CiAgICByZS5mbGFncyA9IHJlZ2V4cF9mbGFnc19mcm9tc3RyaW5nKChmbGFnc3RyID0ganNfZ2V0X3Byb3BlcnR5c3RyX2NzdHJpbmcoY3R4LCBhcmd2WzBdLCAiZmxhZ3MiKSkpOwogICAganNfY3N0cmluZ19mcmVlKGN0eCwgZmxhZ3N0cik7CiAgfSBlbHNlIHsKICAgIHJlLnNvdXJjZSA9IGpzX3Rvc3RyaW5nbGVuKGN0eCwgJnJlLmxlbiwgYXJndlswXSk7CiAgICBpZihhcmdjID4gMSAmJiBKU19Jc1N0cmluZyhhcmd2WzFdKSkgewogICAgICByZS5mbGFncyA9IHJlZ2V4cF9mbGFnc19mcm9tc3RyaW5nKChmbGFnc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSkpKTsKICAgICAganNfY3N0cmluZ19mcmVlKGN0eCwgZmxhZ3N0cik7CiAgICB9CiAgfQogIHJldHVybiByZTsKfQoKUmVnRXhwCnJlZ2V4cF9mcm9tX2RidWYoRHluQnVmKiBkYnVmLCBpbnQgZmxhZ3MpIHsKICBSZWdFeHAgcmUgPSB7KGNoYXIqKWRidWYtPmJ1ZiwgZGJ1Zi0+c2l6ZSwgZmxhZ3N9OwogIGRidWYtPmJ1ZiA9IDA7CiAgZGJ1Zi0+YWxsb2NhdGVkX3NpemUgPSAwOwogIGRidWYtPnNpemUgPSAwOwogIHJldHVybiByZTsKfQoKdWludDhfdCoKcmVnZXhwX2NvbXBpbGUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCkgewogIGNoYXIgZXJyb3JfbXNnWzY0XTsKICBpbnQgbGVuID0gMDsKICB1aW50OF90KiBieXRlY29kZTsKICBpZighKGJ5dGVjb2RlID0gbHJlX2NvbXBpbGUoJmxlbiwgZXJyb3JfbXNnLCBzaXplb2YoZXJyb3JfbXNnKSwgcmUuc291cmNlLCByZS5sZW4sIHJlLmZsYWdzLCBjdHgpKSkKICAgIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJFcnJvciBjb21waWxpbmcgcmVnZXggLyUuKnMvOiAlcyIsIChpbnQpcmUubGVuLCByZS5zb3VyY2UsIGVycm9yX21zZyk7CgogIHJldHVybiBieXRlY29kZTsKfQoKSlNWYWx1ZQpyZWdleHBfdG9fdmFsdWUoUmVnRXhwIHJlLCBKU0NvbnRleHQqIGN0eCkgewogIGNoYXIgZmxhZ3N0clszMl0gPSB7MH07CiAgc2l6ZV90IGZsYWdsZW4gPSByZWdleHBfZmxhZ3NfdG9zdHJpbmcocmUuZmxhZ3MsIGZsYWdzdHIpOwogIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge0pTX05ld1N0cmluZ0xlbihjdHgsIHJlLnNvdXJjZSwgcmUubGVuKSwgSlNfTmV3U3RyaW5nTGVuKGN0eCwgZmxhZ3N0ciwgZmxhZ2xlbil9OwogIEpTVmFsdWUgcmVnZXgsIGN0b3IgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJSZWdFeHAiKTsKICByZWdleCA9IEpTX0NhbGxDb25zdHJ1Y3RvcihjdHgsIGN0b3IsIDIsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMF0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMV0pOwogIHJldHVybiByZWdleDsKfQoKaW50NjRfdApqc19hcnJheV9sZW5ndGgoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSkgewogIGludDY0X3QgbGVuID0gLTE7CiAgaWYoSlNfSXNBcnJheShjdHgsIGFycmF5KSB8fCBqc19pc190eXBlZGFycmF5KGFycmF5KSkgewogICAgSlNWYWx1ZSBsZW5ndGggPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFycmF5LCAibGVuZ3RoIik7CiAgICBKU19Ub0ludDY0KGN0eCwgJmxlbiwgbGVuZ3RoKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbmd0aCk7CiAgfQogIHJldHVybiBsZW47Cn0KCnZvaWQKanNfYXJyYXlfY2xlYXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnJheSkgewogIGludDY0X3QgbGVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJyYXkpOwogIEpTVmFsdWUgcmV0OwogIEpTQXRvbSBzcGxpY2UgPSBKU19OZXdBdG9tKGN0eCwgInNwbGljZSIpOwogIEpTVmFsdWVDb25zdCBhcmdzWzJdID0ge0pTX05ld0ludDY0KGN0eCwgMCksIEpTX05ld0ludDY0KGN0eCwgbGVuKX07CgogIHJldCA9IEpTX0ludm9rZShjdHgsIGFycmF5LCBzcGxpY2UsIDIsIGFyZ3MpOwogIEpTX0ZyZWVBdG9tKGN0eCwgc3BsaWNlKTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwoKICBhc3NlcnQoanNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJyYXkpID09IDApOwp9CgpjaGFyKioKanNfYXJyYXlfdG9fYXJndihKU0NvbnRleHQqIGN0eCwgaW50KiBhcmdjcCwgSlNWYWx1ZUNvbnN0IGFycmF5KSB7CiAgaW50IGksIGxlbiA9IGpzX2FycmF5X2xlbmd0aChjdHgsIGFycmF5KTsKICBjaGFyKiogcmV0ID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihjaGFyKikgKiAobGVuICsgMSkpOwogIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICBKU1ZhbHVlIGl0ZW0gPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFycmF5LCBpKTsKICAgIHJldFtpXSA9IGpzX3Rvc3RyaW5nKGN0eCwgaXRlbSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICB9CiAgaWYoYXJnY3ApCiAgICAqYXJnY3AgPSBsZW47CiAgcmV0dXJuIHJldDsKfQoKaW50CmpzX2FycmF5X2NvcHlzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyYXksIGludCBuLCBjaGFyKiogc3RyYSkgewogIGludCBpLCBsZW4gPSBNSU5fTlVNKG4sIGpzX2FycmF5X2xlbmd0aChjdHgsIGFycmF5KSk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyYXksIGkpOwogICAgaWYoc3RyYVtpXSkKICAgICAganNfZnJlZShjdHgsIHN0cmFbaV0pOwogICAgc3RyYVtpXSA9IGpzX3Rvc3RyaW5nKGN0eCwgaXRlbSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICB9CiAgcmV0dXJuIGk7Cn0KCmludApqc19zdHJ2X2NvcHlzKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG4sIGNoYXIqKiBzdHJhKSB7CiAgaW50IGksIGxlbiA9IE1JTl9OVU0obiwgYXJnYyk7CiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIGlmKCFKU19Jc051bGwoYXJndltpXSkgJiYgIUpTX0lzVW5kZWZpbmVkKGFyZ3ZbaV0pKQogICAgICBzdHJhW2ldID0ganNfdG9zdHJpbmcoY3R4LCBhcmd2W2ldKTsKICAgIGVsc2UKICAgICAgc3RyYVtpXSA9IDA7CiAgfQogIGZvcig7IGkgPCBuOyBpKyspIHN0cmFbaV0gPSAwOwoKICByZXR1cm4gaTsKfQoKSlNBdG9tCmpzX2F0b21fZnJvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3RyKSB7CiAgaWYoc3RyWzBdID09ICdbJykgewogICAgSlNWYWx1ZSBvYmosIHZhbCA9IEpTX1VOREVGSU5FRDsKICAgIEpTQXRvbSBwcm9wLCByZXQ7CiAgICBzaXplX3Qgb2JqbGVuLCBwcm9wbGVuOwogICAgb2JqbGVuID0gc3RyX2Nocigmc3RyWzFdLCAnLicpOwogICAgb2JqID0ganNfZ2xvYmFsX2dldF9zdHJfbihjdHgsICZzdHJbMV0sIG9iamxlbik7CiAgICBwcm9wbGVuID0gc3RyX2Nocigmc3RyWzEgKyBvYmpsZW4gKyAxXSwgJ10nKTsKICAgIHByb3AgPSBKU19OZXdBdG9tTGVuKGN0eCwgJnN0clsxICsgb2JqbGVuICsgMV0sIHByb3BsZW4pOwogICAgdmFsID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIHByb3ApOwogICAgSlNfRnJlZUF0b20oY3R4LCBwcm9wKTsKICAgIHJldCA9IEpTX1ZhbHVlVG9BdG9tKGN0eCwgdmFsKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbCk7CiAgICByZXR1cm4gcmV0OwogIH0KCiAgcmV0dXJuIEpTX05ld0F0b20oY3R4LCBzdHIpOwp9Cgp2b2lkCmpzX2F0b21fZHVtcChKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20sIER5bkJ1ZiogZGIsIEJPT0wgY29sb3IpIHsKICBjb25zdCBjaGFyKiBzdHI7CiAgQk9PTCBpc19pbnQ7CiAgc3RyID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsIGF0b20pOwogIGlzX2ludCA9IGpzX2F0b21faXNpbnQoYXRvbSkgfHwgaXNfaW50ZWdlcihzdHIpOwogIGlmKGNvbG9yKQogICAgZGJ1Zl9wdXRzdHIoZGIsIGlzX2ludCA/IENPTE9SX0JST1dOIDogQ09MT1JfR1JBWSk7CgogIGRidWZfcHV0c3RyKGRiLCBzdHIpOwogIGlmKGNvbG9yKQogICAgZGJ1Zl9wdXRzdHIoZGIsIENPTE9SX0NZQU4pOwoKICBpZighaXNfaW50KQogICAgZGJ1Zl9wcmludGYoZGIsICIoMHgleCkiLCBqc19hdG9tX3RvYmluYXJ5KGF0b20pKTsKCiAgaWYoY29sb3IpCiAgICBkYnVmX3B1dHN0cihkYiwgQ09MT1JfTk9ORSk7Cn0KCnVuc2lnbmVkIGludApqc19hdG9tX3RvYmluYXJ5KEpTQXRvbSBhdG9tKSB7CiAgc3NpemVfdCByZXQ7CiAgaWYoanNfYXRvbV9pc2ludChhdG9tKSkgewogICAgcmV0ID0ganNfYXRvbV90b2ludChhdG9tKTsKICAgIHJldCA9IC1yZXQ7CiAgfSBlbHNlIHsKICAgIHJldCA9IGF0b207CiAgfQogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmpzX2F0b21fdG9fY3N0cmluZ2xlbihKU0NvbnRleHQqIGN0eCwgc2l6ZV90KiBsZW4sIEpTQXRvbSBhdG9tKSB7CiAgSlNWYWx1ZSB2OwogIGNvbnN0IGNoYXIqIHM7CiAgdiA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgcyA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsIGxlbiwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdik7CiAgcmV0dXJuIHM7Cn0KCmludDMyX3QKanNfYXRvbV90b2ludDMyKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSkgewogIGlmKCFqc19hdG9tX2lzaW50KGF0b20pKSB7CiAgICBpbnQ2NF90IGkgPSBJTlQ2NF9NSU47CiAgICBqc19hdG9tX3RvaW50NjQoY3R4LCAmaSwgYXRvbSk7CiAgICByZXR1cm4gaTsKICB9CiAgcmV0dXJuIC1hdG9tOwp9CgppbnQKanNfYXRvbV90b2ludDY0KEpTQ29udGV4dCogY3R4LCBpbnQ2NF90KiBpLCBKU0F0b20gYXRvbSkgewogIGludCByZXQ7CiAgSlNWYWx1ZSB2YWx1ZTsKICAqaSA9IElOVDY0X01BWDsKICB2YWx1ZSA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgcmV0ID0gIUpTX1RvSW50NjQoY3R4LCBpLCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCkJPT0wKanNfYXRvbV9pc19pbmRleChKU0NvbnRleHQqIGN0eCwgaW50NjRfdCogcHZhbCwgSlNBdG9tIGF0b20pIHsKICBKU1ZhbHVlIHZhbHVlOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgaW50NjRfdCBpbmRleDsKCiAgaWYoYXRvbSAmICgxVSA8PCAzMSkpIHsKICAgICpwdmFsID0gYXRvbSAmICh+KDFVIDw8IDMxKSk7CiAgICByZXR1cm4gVFJVRTsKICB9CgogIHZhbHVlID0gSlNfQXRvbVRvVmFsdWUoY3R4LCBhdG9tKTsKCiAgaWYoSlNfSXNOdW1iZXIodmFsdWUpKSB7CiAgICBKU19Ub0ludDY0KGN0eCwgJmluZGV4LCB2YWx1ZSk7CiAgICByZXQgPSBUUlVFOwogIH0gZWxzZSBpZihKU19Jc1N0cmluZyh2YWx1ZSkpIHsKICAgIGNvbnN0IGNoYXIqIHMgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgICBpZihzWzBdID09ICctJyAmJiBpc19kaWdpdF9jaGFyKHNbc1swXSA9PSAnLSddKSkgewogICAgICBpbmRleCA9IGF0b2kocyk7CiAgICAgIHJldCA9IFRSVUU7CiAgICB9CiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHMpOwogIH0KCiAgaWYocmV0ID09IFRSVUUpCiAgICAqcHZhbCA9IGluZGV4OwoKICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2F0b21faXNfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU0F0b20gYXRvbSkgewogIGNvbnN0IGNoYXIqIHN0ciA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBhdG9tKTsKICBCT09MIHJldCA9ICFzdHJjbXAoc3RyLCAibGVuZ3RoIik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmpzX2Z1bmN0aW9uX25hbWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgc3RyLCBuYW1lLCBhcmdzWzJdLCBpZHg7CiAgY29uc3QgY2hhciogcyA9IDA7CiAgaW50MzJfdCBpID0gLTE7CiAgc3RyID0ganNfdmFsdWVfdG9zdHJpbmcoY3R4LCAiRnVuY3Rpb24iLCB2YWx1ZSk7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCAiaW5kZXhPZiIpOwogIGFyZ3NbMF0gPSBKU19OZXdTdHJpbmcoY3R4LCAiZnVuY3Rpb24gIik7CiAgaWR4ID0gSlNfSW52b2tlKGN0eCwgc3RyLCBhdG9tLCAxLCBhcmdzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBhcmdzWzBdKTsKICBKU19Ub0ludDMyKGN0eCwgJmksIGlkeCk7CiAgaWYoaSAhPSAwKSB7CiAgICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgc3RyKTsKICAgIHJldHVybiAwOwogIH0KICBhcmdzWzBdID0gSlNfTmV3U3RyaW5nKGN0eCwgIigiKTsKICBpZHggPSBKU19JbnZva2UoY3R4LCBzdHIsIGF0b20sIDEsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMF0pOwogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCAic3Vic3RyaW5nIik7CiAgYXJnc1swXSA9IEpTX05ld1VpbnQzMihjdHgsIDkpOwogIGFyZ3NbMV0gPSBpZHg7CiAgbmFtZSA9IEpTX0ludm9rZShjdHgsIHN0ciwgYXRvbSwgMiwgYXJncyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1sxXSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3RyKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHMgPSBKU19Ub0NTdHJpbmcoY3R4LCBuYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCBuYW1lKTsKICByZXR1cm4gczsKfQoKaW50CmpzX2Z1bmN0aW9uX2FyZ2MoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBqc19nZXRfcHJvcGVydHlzdHJfaW50MzIoY3R4LCB2YWx1ZSwgImxlbmd0aCIpOwp9CgpKU0NGdW5jdGlvbioKanNfZnVuY3Rpb25fY2Z1bmMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfQ19GVU5DVElPTikpIHsKICAgIEpTT2JqZWN0KiBvYmogPSBKU19WQUxVRV9HRVRfT0JKKHZhbHVlKTsKICAgIHJldHVybiBvYmotPnUuY2Z1bmMuY19mdW5jdGlvbi5nZW5lcmljOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIEpTVmFsdWUKanNfZnVuY3Rpb25fYm91bmQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgSlNWYWx1ZSogZnVuY19kYXRhKSB7CiAgaW50IGkgPSAwLCBqID0gMCwgayA9IEFCU19OVU0obWFnaWMpLCBsID0gU0lHTl9OVU0obWFnaWMpOwogIEpTVmFsdWUgYXJnc1thcmdjICsga107CgogIGZvcihpID0gMDsgaSA8IG1hZ2ljOyBpKyspIGFyZ3NbaV0gPSBmdW5jX2RhdGFbaSArIDFdOwogIGZvcihqID0gMDsgaiA8IGFyZ2M7IGorKykgYXJnc1tpKytdID0gYXJndltqXTsKCiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmdW5jX2RhdGFbMF0sIGwgPyBhcmdzWzBdIDogdGhpc192YWwsIGksIGFyZ3MgKyBsKTsKfQoKSlNWYWx1ZQpqc19mdW5jdGlvbl9iaW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYywgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIGRhdGFbYXJnYyArIDFdOwogIGludCBpOwogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgZGF0YVtpICsgMV0gPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbaV0pOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fYm91bmQsIDAsIGFyZ2MsIGFyZ2MgKyAxLCBkYXRhKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfZnVuY3Rpb25fYm91bmRfdGhpcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlIGZ1bmNfZGF0YVtdKSB7CiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBmdW5jX2RhdGFbMF0sIGZ1bmNfZGF0YVsxXSwgYXJnYywgYXJndik7Cn0KCkpTVmFsdWUKanNfZnVuY3Rpb25fYmluZF90aGlzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYywgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgSlNWYWx1ZSBkYXRhWzJdOwogIGRhdGFbMF0gPSBKU19EdXBWYWx1ZShjdHgsIGZ1bmMpOwogIGRhdGFbMV0gPSBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKICByZXR1cm4gSlNfTmV3Q0Z1bmN0aW9uRGF0YShjdHgsIGpzX2Z1bmN0aW9uX2JvdW5kX3RoaXMsIGpzX2Z1bmN0aW9uX2FyZ2MoY3R4LCBmdW5jKSwgMCwgMiwgZGF0YSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2Z1bmN0aW9uX3Rocm93X2ZuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMsIEpTVmFsdWVDb25zdCBkYXRhW10pIHsKICBpZighSlNfSXNVbmRlZmluZWQoZGF0YVswXSkpCiAgICByZXR1cm4gSlNfVGhyb3coY3R4LCBkYXRhWzBdKTsKCiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgYXJnYyA+PSAxID8gYXJndlswXSA6IEpTX1VOREVGSU5FRCk7Cn0KCkpTVmFsdWUKanNfZnVuY3Rpb25fdGhyb3coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBlcnIpIHsKICBKU1ZhbHVlQ29uc3QgZGF0YVsxXTsKICBkYXRhWzBdID0gSlNfRHVwVmFsdWUoY3R4LCBlcnIpOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fdGhyb3dfZm4sIDAsIDAsIDEsIGRhdGEpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19mdW5jdGlvbl9yZXR1cm5fdmFsdWVfZm4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYywgSlNWYWx1ZUNvbnN0IGRhdGFbXSkgewogIHJldHVybiBkYXRhWzBdOwp9CgpKU1ZhbHVlCmpzX2Z1bmN0aW9uX3JldHVybl91bmRlZmluZWQoSlNDb250ZXh0KiBjdHgpIHsKICBKU1ZhbHVlIGRhdGFbMV07CiAgZGF0YVswXSA9IEpTX1VOREVGSU5FRDsKICByZXR1cm4gSlNfTmV3Q0Z1bmN0aW9uRGF0YShjdHgsIGpzX2Z1bmN0aW9uX3JldHVybl92YWx1ZV9mbiwgMCwgMCwgMSwgZGF0YSk7Cn0KCkpTVmFsdWUKanNfZnVuY3Rpb25fcmV0dXJuX3ZhbHVlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIGRhdGFbMV07CiAgZGF0YVswXSA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfZnVuY3Rpb25fcmV0dXJuX3ZhbHVlX2ZuLCAwLCAwLCAxLCBkYXRhKTsKfQoKSlNWYWx1ZQpqc19nbG9iYWxfZ2V0X3N0cihKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwogIGdsb2JhbF9vYmogPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbF9vYmosIHByb3ApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGdsb2JhbF9vYmopOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfZ2xvYmFsX2dldF9zdHJfbihKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCwgc2l6ZV90IGxlbikgewogIEpTVmFsdWUgcmV0OwogIEpTQXRvbSBhdG9tID0gSlNfTmV3QXRvbUxlbihjdHgsIHByb3AsIGxlbik7CiAgcmV0ID0ganNfZ2xvYmFsX2dldF9hdG9tKGN0eCwgYXRvbSk7CiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2dsb2JhbF9nZXRfYXRvbShKU0NvbnRleHQqIGN0eCwgSlNBdG9tIHByb3ApIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIHJldDsKICBnbG9iYWxfb2JqID0gSlNfR2V0R2xvYmFsT2JqZWN0KGN0eCk7CiAgcmV0ID0gSlNfR2V0UHJvcGVydHkoY3R4LCBnbG9iYWxfb2JqLCBwcm9wKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2dsb2JhbF9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGNsYXNzX25hbWUpIHsKICBKU1ZhbHVlIGN0b3IsIHJldDsKICBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCBjbGFzc19uYW1lKTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGN0b3IsICJwcm90b3R5cGUiKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2dsb2JhbF9zdGF0aWNfZnVuYyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogY2xhc3NfbmFtZSwgY29uc3QgY2hhciogZnVuY19uYW1lKSB7CiAgSlNWYWx1ZSBjdG9yLCBmdW5jOwoKICBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCBjbGFzc19uYW1lKTsKICBmdW5jID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBjdG9yLCBmdW5jX25hbWUpOwoKICByZXR1cm4gZnVuYzsKfQoKSlNWYWx1ZQpqc19pdGVyYXRvcl9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICBKU0F0b20gYXRvbTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBhdG9tID0ganNfc3ltYm9sX3N0YXRpY19hdG9tKGN0eCwgImFzeW5jSXRlcmF0b3IiKTsKICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICByZXQgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSk7CgogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCByZXQpKSB7CiAgICBhdG9tID0ganNfc3ltYm9sX3N0YXRpY19hdG9tKGN0eCwgIml0ZXJhdG9yIik7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICAgIHJldCA9IEpTX0dldFByb3BlcnR5KGN0eCwgb2JqLCBhdG9tKTsKCiAgICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIH0KICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2l0ZXJhdG9yX25ldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTVmFsdWUgZm4sIHJldDsKICBmbiA9IGpzX2l0ZXJhdG9yX21ldGhvZChjdHgsIG9iaik7CiAgcmV0ID0gSlNfQ2FsbChjdHgsIGZuLCBvYmosIDAsIDApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGZuKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2l0ZXJhdG9yX25leHQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIEJPT0wqIGRvbmVfcCkgewogIEpTVmFsdWUgZm4sIHJlc3VsdCwgZG9uZSwgdmFsdWU7CiAgZm4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKICByZXN1bHQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgMCwgMCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZm4pOwogIGRvbmUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHJlc3VsdCwgImRvbmUiKTsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAidmFsdWUiKTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXN1bHQpOwogICpkb25lX3AgPSBKU19Ub0Jvb2woY3R4LCBkb25lKTsKICBKU19GcmVlVmFsdWUoY3R4LCBkb25lKTsKICByZXR1cm4gdmFsdWU7Cn0KCkpTVmFsdWUKanNfaXRlcmF0b3JfcmVzdWx0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIEJPT0wgZG9uZSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAiZG9uZSIsIEpTX05ld0Jvb2woY3R4LCBkb25lKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ2YWx1ZSIsIEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfaXRlcmF0b3JfdGhlbl9mbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljLCBKU1ZhbHVlQ29uc3QgZGF0YVtdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJkb25lIiwgSlNfRHVwVmFsdWUoY3R4LCBkYXRhWzBdKSk7CiAgaWYoYXJnYyA+PSAxKQogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ2YWx1ZSIsIEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSkpOwoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2l0ZXJhdG9yX3RoZW4oSlNDb250ZXh0KiBjdHgsIEJPT0wgZG9uZSkgewogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWVDb25zdCBkYXRhWzFdID0ge0pTX05ld0Jvb2woY3R4LCBkb25lKX07CgogIHJldHVybiBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwganNfaXRlcmF0b3JfdGhlbl9mbiwgMSwgMCwgMSwgZGF0YSk7Cn0KCkpTVmFsdWUKanNfb2JqZWN0X2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIGN0b3IgPSBKU19VTkRFRklORUQ7CiAgaWYoSlNfSXNPYmplY3QodmFsdWUpKQogICAgY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJjb25zdHJ1Y3RvciIpOwogIHJldHVybiBjdG9yOwp9CgpjaGFyKgpqc19vYmplY3RfY2xhc3NuYW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIHByb3RvLCBjdG9yOwogIGNvbnN0IGNoYXIqIHN0cjsKICBjaGFyKiBuYW1lID0gMDsKICBpbnQgbmFtZWxlbjsKICBjdG9yID0ganNfb2JqZWN0X2NvbnN0cnVjdG9yKGN0eCwgdmFsdWUpOwogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgY3RvcikpIHsKICAgIHByb3RvID0gSlNfR2V0UHJvdG90eXBlKGN0eCwgdmFsdWUpOwogICAgY3RvciA9IGpzX29iamVjdF9jb25zdHJ1Y3RvcihjdHgsIHByb3RvKTsKICB9CiAgaWYoKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGN0b3IpKSkgewogICAgaWYoIXN0cm5jbXAoc3RyLCAiZnVuY3Rpb24gIiwgOSkpIHsKICAgICAgbmFtZWxlbiA9IGJ5dGVfY2hyKHN0ciArIDksIHN0cmxlbihzdHIpIC0gOSwgJygnKTsKICAgICAgbmFtZSA9IGpzX3N0cm5kdXAoY3R4LCBzdHIgKyA5LCBuYW1lbGVuKTsKICAgIH0KICB9CiAgaWYoIW5hbWUpIHsKICAgIGlmKHN0cikKICAgICAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKICAgIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGN0b3IsICJuYW1lIikpKSkKICAgICAgbmFtZSA9IGpzX3N0cmR1cChjdHgsIHN0cik7CiAgfQogIGlmKHN0cikKICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cik7CiAgcmV0dXJuIG5hbWU7Cn0KCkJPT0wKanNfb2JqZWN0X2VxdWFscyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGEsIEpTVmFsdWVDb25zdCBiKSB7CiAgSlNQcm9wZXJ0eUVudW0gKmF0b21zX2EsICphdG9tc19iOwogIHVpbnQzMl90IGksIG5hdG9tc19hLCBuYXRvbXNfYjsKICBpbnQzMl90IHRhLCB0YjsKICB0YSA9IGpzX3ZhbHVlX3R5cGUoY3R4LCBhKTsKICB0YiA9IGpzX3ZhbHVlX3R5cGUoY3R4LCBiKTsKICBhc3NlcnQodGEgPT0gVFlQRV9PQkpFQ1QpOwogIGFzc2VydCh0YiA9PSBUWVBFX09CSkVDVCk7CiAgaWYoSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZhdG9tc19hLCAmbmF0b21zX2EsIGEsIEpTX0dQTl9TVFJJTkdfTUFTSyB8IEpTX0dQTl9TWU1CT0xfTUFTSyB8IEpTX0dQTl9FTlVNX09OTFkpKQogICAgcmV0dXJuIEZBTFNFOwoKICBpZihKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJmF0b21zX2IsICZuYXRvbXNfYiwgYiwgSlNfR1BOX1NUUklOR19NQVNLIHwgSlNfR1BOX1NZTUJPTF9NQVNLIHwgSlNfR1BOX0VOVU1fT05MWSkpCiAgICByZXR1cm4gRkFMU0U7CgogIGlmKG5hdG9tc19hICE9IG5hdG9tc19iKQogICAgcmV0dXJuIEZBTFNFOwoKICBxdWlja3NvcnRfcigmYXRvbXNfYSwgbmF0b21zX2EsIHNpemVvZihKU1Byb3BlcnR5RW51bSksICZqc19wcm9wZW51bV9jbXAsIGN0eCk7CiAgcXVpY2tzb3J0X3IoJmF0b21zX2IsIG5hdG9tc19iLCBzaXplb2YoSlNQcm9wZXJ0eUVudW0pLCAmanNfcHJvcGVudW1fY21wLCBjdHgpOwogIGZvcihpID0gMDsgaSA8IG5hdG9tc19hOyBpKyspCiAgICBpZihhdG9tc19hW2ldLmF0b20gIT0gYXRvbXNfYltpXS5hdG9tKQogICAgICByZXR1cm4gRkFMU0U7CiAgcmV0dXJuIFRSVUU7Cn0KCmludApqc19vYmplY3RfaXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY29uc3QgY2hhciogY21wKSB7CiAgQk9PTCByZXQgPSBGQUxTRTsKICBjb25zdCBjaGFyKiBzdHI7CiAgaWYoKHN0ciA9IGpzX29iamVjdF90b3N0cmluZyhjdHgsIHZhbHVlKSkpIHsKICAgIHJldCA9IHN0cmNtcChzdHIsIGNtcCkgPT0gMDsKICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cik7CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfb2JqZWN0X2NvbnN0cnVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGN0b3IpIHsKICBKU1ZhbHVlQ29uc3QgYXJnc1tdID0ge0pTX1VOREVGSU5FRH07CiAgcmV0dXJuIEpTX0NhbGxDb25zdHJ1Y3RvcihjdHgsIGN0b3IsIDAsIGFyZ3MpOwp9CgpKU1ZhbHVlCmpzX29iamVjdF9lcnJvcihKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbWVzc2FnZSkgewogIEpTVmFsdWVDb25zdCBhcmdzW10gPSB7SlNfTmV3U3RyaW5nKGN0eCwgbWVzc2FnZSl9OwogIEpTVmFsdWUgcmV0ID0ganNfb2JqZWN0X25ldyhjdHgsICJFcnJvciIsIDEsIGFyZ3MpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFyZ3NbMF0pOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfb2JqZWN0X25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogY2xhc3NfbmFtZSwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIGN0b3IgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsIGNsYXNzX25hbWUpOwogIEpTVmFsdWUgb2JqID0gSlNfQ2FsbENvbnN0cnVjdG9yKGN0eCwgY3RvciwgYXJnYywgYXJndik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgcmV0dXJuIG9iajsKfQoKSlNWYWx1ZQpqc19vYmplY3RfZnVuY3Rpb24oSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIGZ1bmNfbmFtZSwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTVmFsdWUgcmV0LCBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCAiT2JqZWN0Iik7CiAgcmV0ID0ganNfaW52b2tlKGN0eCwgY3RvciwgZnVuY19uYW1lLCAxLCAmb2JqKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2hhc19wcm9wZXJ0eXN0cihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKSB7CiAgSlNBdG9tIGF0b207CiAgQk9PTCByZXQgPSBGQUxTRTsKICBhdG9tID0gSlNfTmV3QXRvbShjdHgsIHN0cik7CiAgcmV0ID0gSlNfSGFzUHJvcGVydHkoY3R4LCBvYmosIGF0b20pOwogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19nZXRfcHJvcGVydHlzdHJfYm9vbChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogc3RyKSB7CiAgQk9PTCByZXQgPSBGQUxTRTsKICBKU1ZhbHVlIHZhbHVlOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHN0cik7CiAgaWYoIUpTX0lzRXhjZXB0aW9uKHZhbHVlKSkKICAgIHJldCA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKCiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBjb25zdCBjaGFyKiByZXQ7CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgcHJvcCk7CiAgaWYoSlNfSXNVbmRlZmluZWQodmFsdWUpIHx8IEpTX0lzRXhjZXB0aW9uKHZhbHVlKSkKICAgIHJldHVybiAwOwoKICByZXQgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wLCBzaXplX3QqIGxlbnApIHsKICBKU1ZhbHVlIHZhbHVlOwogIGNvbnN0IGNoYXIqIHJldDsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBwcm9wKTsKICBpZihKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgSlNfSXNFeGNlcHRpb24odmFsdWUpKQogICAgcmV0dXJuIDA7CgogIHJldCA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsIGxlbnAsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKY29uc3QgY2hhcioKanNfZ2V0X3Byb3BlcnR5aW50X2NzdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IHByb3ApIHsKICBKU1ZhbHVlIHZhbHVlOwogIGNoYXIqIHJldDsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCBwcm9wKTsKICAvKiBpZihKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgSlNfSXNFeGNlcHRpb24odmFsdWUpKQogICAgIHJldHVybiAwOyovCgogIHJldCA9IGpzX3Rvc3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9CgppbnQzMl90CmpzX2dldF9wcm9wZXJ0eWludF9pbnQzMihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgdWludDMyX3QgcHJvcCkgewogIGludDMyX3QgcmV0OwogIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG9iaiwgcHJvcCk7CiAgSlNfVG9JbnQzMihjdHgsICZyZXQsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKY2hhcioKanNfZ2V0X3Byb3BlcnR5c3RyX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgdmFsdWU7CiAgY2hhciogcmV0OwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHByb3ApOwogIGlmKEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICByZXR1cm4gMDsKCiAgcmV0ID0ganNfdG9zdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCmNoYXIqCmpzX2dldF9wcm9wZXJ0eXN0cl9zdHJpbmdsZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGNvbnN0IGNoYXIqIHByb3AsIHNpemVfdCogbGVucCkgewogIEpTVmFsdWUgdmFsdWU7CiAgY2hhciogcmV0OwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHByb3ApOwogIGlmKEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICByZXR1cm4gMDsKCiAgcmV0ID0ganNfdG9zdHJpbmdsZW4oY3R4LCBsZW5wLCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByZXQ7Cn0KCmludDMyX3QKanNfZ2V0X3Byb3BlcnR5c3RyX2ludDMyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBpbnQzMl90IHJldDsKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBwcm9wKTsKICBpZihKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgSlNfSXNFeGNlcHRpb24odmFsdWUpKQogICAgcmV0dXJuIDA7CiAgSlNfVG9JbnQzMihjdHgsICZyZXQsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHJldDsKfQoKdWludDY0X3QKanNfZ2V0X3Byb3BlcnR5c3RyX3VpbnQ2NChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgdmFsdWU7CiAgdWludDY0X3QgcmV0OwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHByb3ApOwogIGlmKEpTX0lzVW5kZWZpbmVkKHZhbHVlKSB8fCBKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpCiAgICByZXR1cm4gMDsKICBKU19Ub0luZGV4KGN0eCwgJnJldCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3NldF9wcm9wZXJ0eWludF9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHVpbnQzMl90IGksIGNvbnN0IGNoYXIqIHN0cikgewogIEpTVmFsdWUgdmFsdWU7CiAgdmFsdWUgPSBKU19OZXdTdHJpbmcoY3R4LCBzdHIpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCBpLCB2YWx1ZSk7Cn0KCnZvaWQKanNfc2V0X3Byb3BlcnR5aW50X2ludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgdWludDMyX3QgaSwgaW50MzJfdCB2YWx1ZSkgewogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgb2JqLCBpLCBKU19OZXdJbnQzMihjdHgsIHZhbHVlKSk7Cn0KCnZvaWQKanNfc2V0X3Byb3BlcnR5c3RyX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgY29uc3QgY2hhciogcHJvcCwgY29uc3QgY2hhciogc3RyKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICB2YWx1ZSA9IEpTX05ld1N0cmluZyhjdHgsIHN0cik7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIHByb3AsIHZhbHVlKTsKfQoKdm9pZApqc19zZXRfcHJvcGVydHlzdHJfc3RyaW5nbGVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqLCBjb25zdCBjaGFyKiBwcm9wLCBjb25zdCBjaGFyKiBzdHIsIHNpemVfdCBsZW4pIHsKICBKU1ZhbHVlIHZhbHVlOwogIHZhbHVlID0gSlNfTmV3U3RyaW5nTGVuKGN0eCwgc3RyLCBsZW4pOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBwcm9wLCB2YWx1ZSk7Cn0KCmludApqc19nZXRfcHJvcGVydHlkZXNjcmlwdG9yKEpTQ29udGV4dCogY3R4LCBKU1Byb3BlcnR5RGVzY3JpcHRvciogZGVzYywgSlNWYWx1ZUNvbnN0IHZhbHVlLCBKU0F0b20gcHJvcCkgewogIEpTVmFsdWUgb2JqLCBwcm90bzsKICBvYmogPSBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKICBkbyB7CiAgICBpZihKU19HZXRPd25Qcm9wZXJ0eShjdHgsIGRlc2MsIG9iaiwgcHJvcCkgPT0gVFJVRSkKICAgICAgcmV0dXJuIFRSVUU7CiAgICBwcm90byA9IEpTX0dldFByb3RvdHlwZShjdHgsIG9iaik7CiAgICBpZihKU19WQUxVRV9HRVRfT0JKKHByb3RvKSA9PSBKU19WQUxVRV9HRVRfT0JKKG9iaikpCiAgICAgIGJyZWFrOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICAgIG9iaiA9IHByb3RvOwogIH0gd2hpbGUoSlNfSXNPYmplY3Qob2JqKSk7CiAgcmV0dXJuIEZBTFNFOwp9CgpKU0NsYXNzSUQKanNfY2xhc3NfaWQoSlNDb250ZXh0KiBjdHgsIGludCBpZCkgewogIHJldHVybiBjdHgtPnJ0LT5jbGFzc19hcnJheVtpZF0uY2xhc3NfaWQ7Cn0KCkpTQ2xhc3NJRApqc19jbGFzc19uZXdpZCh2b2lkKSB7CiAgSlNDbGFzc0lEIGlkOwogIEpTX05ld0NsYXNzSUQoJmlkKTsKICByZXR1cm4gaWQ7Cn0KCkpTQ2xhc3MqCmpzX2NsYXNzX2dldChKU0NvbnRleHQqIGN0eCwgSlNDbGFzc0lEIGlkKSB7CiAgSlNDbGFzcyogcmV0ID0gJmN0eC0+cnQtPmNsYXNzX2FycmF5W2lkXTsKICByZXR1cm4gcmV0LT5jbGFzc19pZCA9PSBpZCA/IHJldCA6IDA7Cn0KCkpTQ2xhc3NJRApqc19jbGFzc19maW5kKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgSlNBdG9tIGF0b20gPSBKU19OZXdBdG9tKGN0eCwgbmFtZSk7CiAgSlNSdW50aW1lKiBydCA9IGN0eC0+cnQ7CiAgaW50IGksIG4gPSBydC0+Y2xhc3NfY291bnQ7CiAgZm9yKGkgPSAwOyBpIDwgbjsgaSsrKQogICAgaWYocnQtPmNsYXNzX2FycmF5W2ldLmNsYXNzX25hbWUgPT0gYXRvbSkKICAgICAgcmV0dXJuIGk7CgogIHJldHVybiAtMTsKfQoKSlNBdG9tCmpzX2NsYXNzX2F0b20oSlNDb250ZXh0KiBjdHgsIEpTQ2xhc3NJRCBpZCkgewogIEpTQXRvbSBhdG9tID0gMDsKICBpZihpZCA+IDAgJiYgaWQgPCAoSlNDbGFzc0lEKWN0eC0+cnQtPmNsYXNzX2NvdW50KQogICAgYXRvbSA9IGN0eC0+cnQtPmNsYXNzX2FycmF5W2lkXS5jbGFzc19uYW1lOwogIHJldHVybiBhdG9tOwp9Cgpjb25zdCBjaGFyKgpqc19jbGFzc19uYW1lKEpTQ29udGV4dCogY3R4LCBKU0NsYXNzSUQgaWQpIHsKICBKU0F0b20gYXRvbSA9IGN0eC0+cnQtPmNsYXNzX2FycmF5W2lkXS5jbGFzc19uYW1lOwogIHJldHVybiBKU19BdG9tVG9DU3RyaW5nKGN0eCwgYXRvbSk7Cn0KCmNvbnN0IGNoYXIqCmpzX29iamVjdF90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSBzdHIgPSBqc192YWx1ZV90b3N0cmluZyhjdHgsICJPYmplY3QiLCB2YWx1ZSk7CiAgY29uc3QgY2hhciogcyA9IEpTX1RvQ1N0cmluZyhjdHgsIHN0cik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3RyKTsKICByZXR1cm4gczsKfQoKY29uc3QgY2hhcioKanNfZnVuY3Rpb25fdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIEpTVmFsdWUgc3RyID0ganNfdmFsdWVfdG9zdHJpbmcoY3R4LCAiRnVuY3Rpb24iLCB2YWx1ZSk7CiAgY29uc3QgY2hhciogcyA9IEpTX1RvQ1N0cmluZyhjdHgsIHN0cik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3RyKTsKICByZXR1cm4gczsKfQoKQk9PTApqc19mdW5jdGlvbl9pc25hdGl2ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogZm4gPSBqc19mdW5jdGlvbl90b3N0cmluZyhjdHgsIHZhbHVlKTsKICBCT09MIHJldCA9ICEhc3Ryc3RyKGZuLCAiXG4gICAgW25hdGl2ZSBjb2RlXVxuIik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBmbik7CiAgcmV0dXJuIHJldDsKfQoKQk9PTApqc19pc19pbnB1dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzU3RyaW5nKHZhbHVlKSB8fCBqc192YWx1ZV9pc2NsYXNzKGN0eCwgdmFsdWUsIEpTX0NMQVNTX0FSUkFZX0JVRkZFUik7Cn0KCmludApqc19wcm9wZW51bV9jbXAoY29uc3Qgdm9pZCogYSwgY29uc3Qgdm9pZCogYiwgdm9pZCogcHRyKSB7CiAgSlNDb250ZXh0KiBjdHggPSBwdHI7CiAgY29uc3QgY2hhciAqc3RyYSwgKnN0cmI7CiAgaW50IHJldDsKICBzdHJhID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsICgoY29uc3QgSlNQcm9wZXJ0eUVudW0qKWEpLT5hdG9tKTsKICBzdHJiID0gSlNfQXRvbVRvQ1N0cmluZyhjdHgsICgoY29uc3QgSlNQcm9wZXJ0eUVudW0qKWIpLT5hdG9tKTsKICByZXQgPSBzdHJ2ZXJzY21wKHN0cmEsIHN0cmIpOwogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cmEpOwogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cmIpOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfcHJvcGVydHllbnVtc19mcmVlKEpTQ29udGV4dCogY3R4LCBKU1Byb3BlcnR5RW51bSogcHJvcHMsIHNpemVfdCBsZW4pIHsKICB1aW50MzJfdCBpOwogIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSBKU19GcmVlQXRvbShjdHgsIHByb3BzW2ldLmF0b20pOwogIC8vIGpzX2ZyZWUoY3R4LCBwcm9wcyk7Cn0KCnZvaWQKanNfc3Rydl9mcmVlX24oSlNDb250ZXh0KiBjdHgsIGludCBuLCBjaGFyKiBhcmd2W10pIHsKICBpbnQgaTsKICBmb3IoaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgIGlmKGFyZ3ZbaV0pIHsKICAgICAganNfZnJlZShjdHgsIGFyZ3ZbaV0pOwogICAgICBhcmd2W2ldID0gMDsKICAgIH0KICB9Cn0KCnZvaWQKanNfc3Rydl9mcmVlKEpTQ29udGV4dCogY3R4LCBjaGFyKiogc3RydikgewogIHNpemVfdCBpOwogIGlmKHN0cnYgPT0gMCkKICAgIHJldHVybjsKCiAgZm9yKGkgPSAwOyBzdHJ2W2ldOyBpKyspIHsganNfZnJlZShjdHgsIHN0cnZbaV0pOyB9CiAganNfZnJlZShjdHgsIHN0cnYpOwp9Cgp2b2lkCmpzX3N0cnZfZnJlZV9ydChKU1J1bnRpbWUqIHJ0LCBjaGFyKiogc3RydikgewogIHNpemVfdCBpOwogIGlmKHN0cnYgPT0gMCkKICAgIHJldHVybjsKCiAgZm9yKGkgPSAwOyBzdHJ2W2ldOyBpKyspIHsganNfZnJlZV9ydChydCwgc3RydltpXSk7IH0KICBqc19mcmVlX3J0KHJ0LCBzdHJ2KTsKfQoKSlNWYWx1ZQpqc19zdHJ2X3RvX2FycmF5KEpTQ29udGV4dCogY3R4LCBjaGFyKiogc3RydikgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBpZihzdHJ2KSB7CiAgICBzaXplX3QgaTsKICAgIGZvcihpID0gMDsgc3RydltpXTsgaSsrKSBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSwgSlNfTmV3U3RyaW5nKGN0eCwgc3RydltpXSkpOwogIH0KICByZXR1cm4gcmV0Owp9CgpzaXplX3QKanNfc3Rydl9sZW5ndGgoY2hhcioqIHN0cnYpIHsKICBzaXplX3QgaTsKICBmb3IoaSA9IDA7IHN0cnZbaV07IGkrKykge30KICByZXR1cm4gaTsKfQoKY2hhcioqCmpzX3N0cnZfZHVwKEpTQ29udGV4dCogY3R4LCBjaGFyKiogc3RydikgewogIGNoYXIqKiByZXQ7CiAgc2l6ZV90IGksIGxlbiA9IGpzX3N0cnZfbGVuZ3RoKHN0cnYpOwogIHJldCA9IGpzX21hbGxvYyhjdHgsIChsZW4gKyAxKSAqIHNpemVvZihjaGFyKikpOwogIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7IHJldFtpXSA9IGpzX3N0cmR1cChjdHgsIHN0cnZbaV0pOyB9CiAgcmV0W2ldID0gMDsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2ludHZfdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIGludCogaW50diwgc2l6ZV90IGxlbikgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBpZihpbnR2KSB7CiAgICBzaXplX3QgaTsKICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSwgSlNfTmV3SW50MzIoY3R4LCBpbnR2W2ldKSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTQXRvbQpqc19zeW1ib2xfc3RhdGljX2F0b20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bSA9IGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoY3R4LCBuYW1lKTsKICBKU0F0b20gcmV0ID0gSlNfVmFsdWVUb0F0b20oY3R4LCBzeW0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bSk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19zeW1ib2xfc3RhdGljX3ZhbHVlKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgSlNWYWx1ZSBzeW1ib2xfY3RvciwgcmV0OwogIHN5bWJvbF9jdG9yID0ganNfc3ltYm9sX2N0b3IoY3R4KTsKICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHN5bWJvbF9jdG9yLCBuYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCBzeW1ib2xfY3Rvcik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19zeW1ib2xfY3RvcihKU0NvbnRleHQqIGN0eCkgewogIHJldHVybiBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJTeW1ib2wiKTsKfQoKSlNWYWx1ZQpqc19zeW1ib2xfaW52b2tlX3N0YXRpYyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSwgSlNWYWx1ZUNvbnN0IGFyZykgewogIEpTVmFsdWUgcmV0OwogIEpTQXRvbSBtZXRob2RfbmFtZSA9IEpTX05ld0F0b20oY3R4LCBuYW1lKTsKICByZXQgPSBKU19JbnZva2UoY3R4LCBqc19zeW1ib2xfY3RvcihjdHgpLCBtZXRob2RfbmFtZSwgMSwgJmFyZyk7CiAgSlNfRnJlZUF0b20oY3R4LCBtZXRob2RfbmFtZSk7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19zeW1ib2xfZm9yKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeW1fZm9yKSB7CiAgSlNWYWx1ZSBrZXksIHN5bTsKICBKU0F0b20gYXRvbTsKICBrZXkgPSBKU19OZXdTdHJpbmcoY3R4LCBzeW1fZm9yKTsKICBzeW0gPSBqc19zeW1ib2xfaW52b2tlX3N0YXRpYyhjdHgsICJmb3IiLCBrZXkpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGtleSk7CiAgcmV0dXJuIHN5bTsKfQoKSlNBdG9tCmpzX3N5bWJvbF9mb3JfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3ltX2ZvcikgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX2ZvcihjdHgsIHN5bV9mb3IpOwogIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCBzeW0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bSk7CiAgcmV0dXJuIGF0b207Cn0KCkpTVmFsdWUKanNfc3ltYm9sX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHN5bSkgewogIEpTVmFsdWUgdmFsdWUsIHN0cjsKICBKU0F0b20gYXRvbTsKICB2YWx1ZSA9IGpzX3N5bWJvbF9pbnZva2Vfc3RhdGljKGN0eCwgImtleUZvciIsIHN5bSk7CiAgaWYoIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkKICAgIHJldHVybiB2YWx1ZTsKCiAgYXRvbSA9IEpTX1ZhbHVlVG9BdG9tKGN0eCwgc3ltKTsKICBzdHIgPSBKU19BdG9tVG9TdHJpbmcoY3R4LCBhdG9tKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHJldHVybiBzdHI7Cn0KCmNvbnN0IGNoYXIqCmpzX3N5bWJvbF90b19jc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgc3ltKSB7CiAgSlNWYWx1ZSB2YWx1ZSA9IGpzX3N5bWJvbF90b19zdHJpbmcoY3R4LCBzeW0pOwogIGNvbnN0IGNoYXIqIHN0cjsKICBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiBzdHI7Cn0KCkpTVmFsdWUqCmpzX3ZhbHVlc19kdXAoSlNDb250ZXh0KiBjdHgsIGludCBudmFsdWVzLCBKU1ZhbHVlQ29uc3QqIHZhbHVlcykgewogIEpTVmFsdWUqIHJldCA9IGpzX21hbGxvY3pfcnQoY3R4LT5ydCwgc2l6ZW9mKEpTVmFsdWUpICogbnZhbHVlcyk7CiAgaW50IGk7CiAgZm9yKGkgPSAwOyBpIDwgbnZhbHVlczsgaSsrKSByZXRbaV0gPSBKU19EdXBWYWx1ZVJUKGN0eC0+cnQsIHZhbHVlc1tpXSk7CiAgcmV0dXJuIHJldDsKfQovKgp2b2lkCmpzX3ZhbHVlc19mcmVlKEpTQ29udGV4dCogY3R4LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpIHsKICBpbnQgaTsKICBmb3IoaSA9IDA7IGkgPCBudmFsdWVzOyBpKyspIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlc1tpXSk7CiAganNfZnJlZShjdHgsIHZhbHVlcyk7Cn0KKi8Kdm9pZApqc192YWx1ZXNfZnJlZShKU1J1bnRpbWUqIHJ0LCBpbnQgbnZhbHVlcywgSlNWYWx1ZUNvbnN0KiB2YWx1ZXMpIHsKICBpbnQgaTsKICBmb3IoaSA9IDA7IGkgPCBudmFsdWVzOyBpKyspIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWx1ZXNbaV0pOwogIGpzX2ZyZWVfcnQocnQsIHZhbHVlcyk7Cn0KCkpTVmFsdWUKanNfdmFsdWVzX3RvYXJyYXkoSlNDb250ZXh0KiBjdHgsIGludCBudmFsdWVzLCBKU1ZhbHVlQ29uc3QqIHZhbHVlcykgewogIGludCBpOwogIEpTVmFsdWUgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBmb3IoaSA9IDA7IGkgPCBudmFsdWVzOyBpKyspIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19EdXBWYWx1ZShjdHgsIHZhbHVlc1tpXSkpOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUqCmpzX3ZhbHVlc19mcm9tYXJyYXkoSlNDb250ZXh0KiBjdHgsIHNpemVfdCogbnZhbHVlc19wLCBKU1ZhbHVlQ29uc3QgYXJyKSB7CiAgc2l6ZV90IGksIGxlbiA9IGpzX2FycmF5X2xlbmd0aChjdHgsIGFycik7CiAgSlNWYWx1ZSogcmV0ID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihKU1ZhbHVlQ29uc3QpICogbGVuKTsKCiAgaWYobnZhbHVlc19wKQogICAgKm52YWx1ZXNfcCA9IGxlbjsKCiAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsgcmV0W2ldID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIGkpOyB9CiAgcmV0dXJuIHJldDsKfQoKY29uc3QgY2hhcioKanNfdmFsdWVfdHlwZV9uYW1lKGludDMyX3QgdHlwZSkgewogIGludDMyX3QgZmxhZyA9IGpzX3ZhbHVlX3R5cGUyZmxhZyh0eXBlKTsKICBjb25zdCBjaGFyKiBjb25zdCB0eXBlc1tdID0gewogICAgICAiVU5ERUZJTkVEIiwgICAgICIwIiwKICAgICAgIkJPT0wiLCAgICAgICAgICAiSU5UIiwKICAgICAgIk9CSkVDVCIsICAgICAgICAiU1RSSU5HIiwKICAgICAgIlNZTUJPTCIsICAgICAgICAiQklHX0ZMT0FUIiwKICAgICAgIkJJR19JTlQiLCAgICAgICAiQklHX0RFQ0lNQUwiLAogICAgICAiRkxPQVQ2NCIsICAgICAgICJOQU4iLAogICAgICAiRlVOQ1RJT04iLCAgICAgICJBUlJBWSIsCiAgICAgICJNT0RVTEUiLCAgICAgICAgIkZVTkNUSU9OX0JZVEVDT0RFIiwKICAgICAgIlVOSU5JVElBTElaRUQiLCAiQ0FUQ0hfT0ZGU0VUIiwKICAgICAgIkVYQ0VQVElPTiIsCiAgfTsKICBpZihmbGFnID49IDAgJiYgZmxhZyA8IGNvdW50b2YodHlwZXMpKQogICAgcmV0dXJuIHR5cGVzW2ZsYWddOwogIHJldHVybiAwOwp9Cgpjb25zdCBjaGFyKgpqc192YWx1ZV90eXBlc3RyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQzMl90IHR5cGUgPSBqc192YWx1ZV90eXBlKGN0eCwgdmFsdWUpOwogIHJldHVybiBqc192YWx1ZV90eXBlX25hbWUodHlwZSk7Cn0KCkJPT0wKanNfdmFsdWVfaGFzX3JlZl9jb3VudChKU1ZhbHVlIHYpIHsKICByZXR1cm4gKCh1bnNpZ25lZClqc192YWx1ZV90YWcodikgPj0gKHVuc2lnbmVkKUpTX1RBR19GSVJTVCk7Cn0KCmVudW0gdmFsdWVfbWFzawpqc192YWx1ZV90eXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQzMl90IGZsYWc7CiAgdWludDMyX3QgdHlwZSA9IDA7CiAgaWYoKGZsYWcgPSBqc192YWx1ZV90eXBlX2dldChjdHgsIHZhbHVlKSkgPT0gLTEpCiAgICByZXR1cm4gMDsKCiAgaWYoZmxhZyA9PSBGTEFHX0FSUkFZIC8qfHwgZmxhZyA9PSBGTEFHX0ZVTkNUSU9OKi8pCiAgICB0eXBlIHw9IFRZUEVfT0JKRUNUOwoKICB0eXBlIHw9IDEgPDwgZmxhZzsKCiAgcmV0dXJuIHR5cGU7Cn0KCmludDMyX3QKanNfdmFsdWVfdHlwZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGlmKEpTX0lzQXJyYXkoY3R4LCB2YWx1ZSkpCiAgICByZXR1cm4gRkxBR19BUlJBWTsKCiAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIHZhbHVlKSkKICAgIHJldHVybiBGTEFHX0ZVTkNUSU9OOwoKICBpZihKU19WQUxVRV9JU19OQU4odmFsdWUpKQogICAgcmV0dXJuIEZMQUdfTkFOOwoKICByZXR1cm4ganNfdmFsdWVfdHlwZV9mbGFnKHZhbHVlKTsKfQoKaW50MzJfdApqc192YWx1ZV90eXBlX2ZsYWcoSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgc3dpdGNoKEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpKSB7CiAgICBjYXNlIEpTX1RBR19CSUdfREVDSU1BTDogcmV0dXJuIEZMQUdfQklHX0RFQ0lNQUw7CiAgICBjYXNlIEpTX1RBR19CSUdfSU5UOiByZXR1cm4gRkxBR19CSUdfSU5UOwogICAgY2FzZSBKU19UQUdfQklHX0ZMT0FUOiByZXR1cm4gRkxBR19CSUdfRkxPQVQ7CiAgICBjYXNlIEpTX1RBR19TWU1CT0w6IHJldHVybiBGTEFHX1NZTUJPTDsKICAgIGNhc2UgSlNfVEFHX1NUUklORzogcmV0dXJuIEZMQUdfU1RSSU5HOwogICAgY2FzZSBKU19UQUdfTU9EVUxFOiByZXR1cm4gRkxBR19NT0RVTEU7CiAgICBjYXNlIEpTX1RBR19GVU5DVElPTl9CWVRFQ09ERTogcmV0dXJuIEZMQUdfRlVOQ1RJT05fQllURUNPREU7CiAgICBjYXNlIEpTX1RBR19PQkpFQ1Q6IHJldHVybiBGTEFHX09CSkVDVDsKICAgIGNhc2UgSlNfVEFHX0lOVDogcmV0dXJuIEZMQUdfSU5UOwogICAgY2FzZSBKU19UQUdfQk9PTDogcmV0dXJuIEZMQUdfQk9PTDsKICAgIGNhc2UgSlNfVEFHX05VTEw6IHJldHVybiBGTEFHX05VTEw7CiAgICBjYXNlIEpTX1RBR19VTkRFRklORUQ6IHJldHVybiBGTEFHX1VOREVGSU5FRDsKICAgIGNhc2UgSlNfVEFHX1VOSU5JVElBTElaRUQ6IHJldHVybiBGTEFHX1VOSU5JVElBTElaRUQ7CiAgICBjYXNlIEpTX1RBR19DQVRDSF9PRkZTRVQ6IHJldHVybiBGTEFHX0NBVENIX09GRlNFVDsKICAgIGNhc2UgSlNfVEFHX0VYQ0VQVElPTjogcmV0dXJuIEZMQUdfRVhDRVBUSU9OOwogICAgY2FzZSBKU19UQUdfRkxPQVQ2NDogcmV0dXJuIEZMQUdfRkxPQVQ2NDsKICB9CiAgcmV0dXJuIC0xOwp9Cgp2b2lkCmpzX3ZhbHVlX2ZyZWUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgdikgewogIGlmKGpzX3ZhbHVlX2hhc19yZWZfY291bnQodikpIHsKICAgIEpTUmVmQ291bnRIZWFkZXIqIHAgPSAoSlNSZWZDb3VudEhlYWRlciopanNfdmFsdWVfcHRyKHYpOwogICAgaWYocC0+cmVmX2NvdW50ID4gMCkgewogICAgICAtLXAtPnJlZl9jb3VudDsKICAgICAgaWYocC0+cmVmX2NvdW50ID09IDApCiAgICAgICAgX19KU19GcmVlVmFsdWUoY3R4LCB2KTsKICAgIH0KICB9Cn0KCkpTVmFsdWUKanNfdmFsdWVfY2xvbmUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIGVudW0gdmFsdWVfbWFzayB0eXBlID0gMSA8PCBqc192YWx1ZV90eXBlX2dldChjdHgsIHZhbHVlKTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzd2l0Y2godHlwZSkgewogICAgLypjYXNlIFRZUEVfU1RSSU5HOiB7CiAgICAgc2l6ZV90IGxlbjsKICAgICBjb25zdCBjaGFyKiBzdHI7CiAgICAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIHN0ciwgbGVuKTsKICAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHIpOwogICAgIGJyZWFrOwogICAgIH0qLwogICAgY2FzZSBUWVBFX0lOVDogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIEpTX1ZBTFVFX0dFVF9JTlQodmFsdWUpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRZUEVfRkxPQVQ2NDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgSlNfVkFMVUVfR0VUX0ZMT0FUNjQodmFsdWUpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRZUEVfQk9PTDogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgSlNfVkFMVUVfR0VUX0JPT0wodmFsdWUpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFRZUEVfRlVOQ1RJT046CiAgICBjYXNlIFRZUEVfQVJSQVk6CiAgICBjYXNlIFRZUEVfT0JKRUNUOiB7CiAgICAgIEpTUHJvcGVydHlFbnVtKiB0YWJfYXRvbTsKICAgICAgdWludDMyX3QgdGFiX2F0b21fbGVuOwogICAgICByZXQgPSBKU19Jc0FycmF5KGN0eCwgdmFsdWUpID8gSlNfTmV3QXJyYXkoY3R4KSA6IEpTX05ld09iamVjdChjdHgpOwogICAgICBpZighSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZ0YWJfYXRvbSwgJnRhYl9hdG9tX2xlbiwgdmFsdWUsIEpTX0dQTl9TVFJJTkdfTUFTSyB8IEpTX0dQTl9TWU1CT0xfTUFTSyB8IEpTX0dQTl9FTlVNX09OTFkpKSB7CiAgICAgICAgdWludDMyX3QgaTsKICAgICAgICBmb3IoaSA9IDA7IGkgPCB0YWJfYXRvbV9sZW47IGkrKykgewogICAgICAgICAgSlNWYWx1ZSBwcm9wOwogICAgICAgICAgcHJvcCA9IEpTX0dldFByb3BlcnR5KGN0eCwgdmFsdWUsIHRhYl9hdG9tW2ldLmF0b20pOwogICAgICAgICAgSlNfU2V0UHJvcGVydHkoY3R4LCByZXQsIHRhYl9hdG9tW2ldLmF0b20sIGpzX3ZhbHVlX2Nsb25lKGN0eCwgcHJvcCkpOwogICAgICAgIH0KICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVFlQRV9VTkRFRklORUQ6CiAgICBjYXNlIFRZUEVfTlVMTDoKICAgIGNhc2UgVFlQRV9TVFJJTkc6CiAgICBjYXNlIFRZUEVfU1lNQk9MOgogICAgY2FzZSBUWVBFX0JJR19ERUNJTUFMOgogICAgY2FzZSBUWVBFX0JJR19JTlQ6CiAgICBjYXNlIFRZUEVfQklHX0ZMT0FUOiB7CiAgICAgIHJldCA9IEpTX0R1cFZhbHVlKGN0eCwgdmFsdWUpOwogICAgICBicmVhazsKICAgIH0KICAgIGRlZmF1bHQ6IHsKICAgICAgcmV0ID0gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiTm8gc3VjaCB0eXBlOiAlcyAoMHglMDh4KVxuIiwganNfdmFsdWVfdHlwZV9uYW1lKHR5cGUpLCB0eXBlKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfdmFsdWVfZndyaXRlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsLCBGSUxFKiBmKSB7CiAgRHluQnVmIGRidWYgPSB7MH07CiAgc2l6ZV90IG47CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogIGpzX3ZhbHVlX2R1bXAoY3R4LCB2YWwsICZkYnVmKTsKICBkYnVmX3B1dGMoJmRidWYsICdcbicpOwogIG4gPSBkYnVmLnNpemU7CiAgZGJ1Zl8wKCZkYnVmKTsKICBmd3JpdGUoZGJ1Zi5idWYsIDEsIG4sIGYpOwogIGZmbHVzaChmKTsKICBkYnVmX2ZyZWUoJmRidWYpOwp9Cgp2b2lkCmpzX3ZhbHVlX2R1bXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgRHluQnVmKiBkYikgewogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwogIGlmKEpTX0lzT2JqZWN0KHZhbHVlKSkgewogICAgY29uc3QgY2hhciogc3RyID0ganNfb2JqZWN0X3Rvc3RyaW5nKGN0eCwgdmFsdWUpOwogICAgZGJ1Zl9wdXRzdHIoZGIsIHN0cik7CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHIpOwogICAgaWYoZGItPnNpemUgJiYgZGItPmJ1ZltkYi0+c2l6ZSAtIDFdID09ICdcbicpCiAgICAgIGRiLT5zaXplLS07CiAgfSBlbHNlIHsKICAgIGludCBpc19zdHJpbmcgPSBKU19Jc1N0cmluZyh2YWx1ZSk7CgogICAgaWYoaXNfc3RyaW5nKQogICAgICBkYnVmX3B1dGMoZGIsICciJyk7CgogICAgc3RyID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJmxlbiwgdmFsdWUpOwogICAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90KilzdHIsIGxlbik7CgogICAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKCiAgICBpZihpc19zdHJpbmcpCiAgICAgIGRidWZfcHV0YyhkYiwgJyInKTsKICAgIGVsc2UgaWYoSlNfSXNCaWdGbG9hdCh2YWx1ZSkpCiAgICAgIGRidWZfcHV0YyhkYiwgJ2wnKTsKICAgIGVsc2UgaWYoSlNfSXNCaWdEZWNpbWFsKHZhbHVlKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCAnbScpOwogICAgZWxzZSBpZihKU19Jc0JpZ0ludChjdHgsIHZhbHVlKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCAnbicpOwogIH0KfQoKQk9PTApqc192YWx1ZV9lcXVhbHMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhLCBKU1ZhbHVlQ29uc3QgYikgewogIGludDMyX3QgdGEsIHRiOwogIEJPT0wgcmV0ID0gRkFMU0U7CiAgdGEgPSBqc192YWx1ZV90eXBlKGN0eCwgYSk7CiAgdGIgPSBqc192YWx1ZV90eXBlKGN0eCwgYik7CgogIGlmKHRhICE9IHRiKSB7CiAgICByZXQgPSBGQUxTRTsKICB9IGVsc2UgaWYodGEgJiB0YiAmIChUWVBFX05VTEwgfCBUWVBFX1VOREVGSU5FRCB8IFRZUEVfTkFOKSkgewogICAgcmV0ID0gVFJVRTsKICB9IGVsc2UgaWYodGEgJiB0YiAmIChUWVBFX0JJR19JTlQgfCBUWVBFX0JJR19GTE9BVCB8IFRZUEVfQklHX0RFQ0lNQUwpKSB7CiAgICBjb25zdCBjaGFyICphc3RyLCAqYnN0cjsKCiAgICBhc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYSk7CiAgICBic3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYik7CgogICAgcmV0ID0gIXN0cmNtcChhc3RyLCBic3RyKTsKCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIGFzdHIpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBic3RyKTsKCiAgfSBlbHNlIGlmKHRhICYgVFlQRV9JTlQpIHsKICAgIGludDMyX3QgaW50YSwgaW50YjsKCiAgICBpbnRhID0gSlNfVkFMVUVfR0VUX0lOVChhKTsKICAgIGludGIgPSBKU19WQUxVRV9HRVRfSU5UKGIpOwogICAgcmV0ID0gaW50YSA9PSBpbnRiOwogIH0gZWxzZSBpZih0YSAmIFRZUEVfQk9PTCkgewogICAgQk9PTCBib29sYSwgYm9vbGI7CgogICAgYm9vbGEgPSAhIUpTX1ZBTFVFX0dFVF9CT09MKGEpOwogICAgYm9vbGIgPSAhIUpTX1ZBTFVFX0dFVF9CT09MKGIpOwogICAgcmV0ID0gYm9vbGEgPT0gYm9vbGI7CgogIH0gZWxzZSBpZih0YSAmIFRZUEVfRkxPQVQ2NCkgewogICAgZG91YmxlIGZsdGEsIGZsdGI7CgogICAgZmx0YSA9IEpTX1ZBTFVFX0dFVF9GTE9BVDY0KGEpOwogICAgZmx0YiA9IEpTX1ZBTFVFX0dFVF9GTE9BVDY0KGIpOwogICAgcmV0ID0gZmx0YSA9PSBmbHRiOwoKICB9IGVsc2UgaWYodGEgJiBUWVBFX09CSkVDVCkgewogICAgcmV0ID0ganNfb2JqZWN0X2VxdWFscyhjdHgsIGEsIGIpOwogICAgLyp2b2lkICpvYmphLCAqb2JqYjsKCiAgICBvYmphID0gSlNfVkFMVUVfR0VUX09CSihhKTsKICAgIG9iamIgPSBKU19WQUxVRV9HRVRfT0JKKGIpOwoKICAgIHJldCA9IG9iamEgPT0gb2JqYjsqLwogIH0gZWxzZSBpZih0YSAmIFRZUEVfU1RSSU5HKSB7CiAgICBjb25zdCBjaGFyICpzdHJhLCAqc3RyYjsKCiAgICBzdHJhID0gSlNfVG9DU3RyaW5nKGN0eCwgYSk7CiAgICBzdHJiID0gSlNfVG9DU3RyaW5nKGN0eCwgYik7CgogICAgcmV0ID0gIXN0cmNtcChzdHJhLCBzdHJiKTsKCiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHJhKTsKICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cmIpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc192YWx1ZV9mcm9tX2NoYXIoSlNDb250ZXh0KiBjdHgsIGludCBjKSB7CiAgdWludDhfdCBidWZbMTZdOwogIHNpemVfdCBsZW4gPSB1bmljb2RlX3RvX3V0ZjgoYnVmLCBjKTsKICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgKGNvbnN0IGNoYXIqKWJ1ZiwgbGVuKTsKfQoKdm9pZApqc192YWx1ZV9wcmludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgRHluQnVmIGRidWY7CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogIGpzX3ZhbHVlX2R1bXAoY3R4LCB2YWx1ZSwgJmRidWYpOwogIGRidWZfMCgmZGJ1Zik7CiAgZnB1dHMoKGNvbnN0IGNoYXIqKWRidWYuYnVmLCBzdGRvdXQpOwogIGRidWZfZnJlZSgmZGJ1Zik7Cn0KCmludApqc192YWx1ZV90b3NpemUoSlNDb250ZXh0KiBjdHgsIHNpemVfdCogc3osIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHVpbnQ2NF90IHU2NCA9IDA7CiAgaW50IHI7CiAgciA9IEpTX1RvSW5kZXgoY3R4LCAmdTY0LCB2YWx1ZSk7CiAgKnN6ID0gdTY0OwogIHJldHVybiByOwp9Cgp2b2lkCmpzX3ZhbHVlX2ZyZWVfcnQoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2KSB7CiAgaWYoanNfdmFsdWVfaGFzX3JlZl9jb3VudCh2KSkgewogICAgSlNSZWZDb3VudEhlYWRlciogcCA9IChKU1JlZkNvdW50SGVhZGVyKilqc192YWx1ZV9wdHIodik7CiAgICAtLXAtPnJlZl9jb3VudDsKICAgIGlmKHAtPnJlZl9jb3VudCA9PSAwKQogICAgICBfX0pTX0ZyZWVWYWx1ZVJUKHJ0LCB2KTsKICB9Cn0KCmNoYXIqCmpzX2NzdHJpbmdfcHRyKEpTVmFsdWVDb25zdCB2KSB7CiAgSlNTdHJpbmcqIHA7CgogIGlmKEpTX0lzU3RyaW5nKHYpKSB7CiAgICBwID0gSlNfVkFMVUVfR0VUX1BUUih2KTsKICAgIHJldHVybiAoY2hhciopcC0+dS5zdHI4OwogIH0KICByZXR1cm4gMDsKfQoKY2hhcioKanNfY3N0cmluZ19kdXAoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHN0cikgewogIEpTU3RyaW5nKiBwOwogIGlmKCFzdHIpCiAgICByZXR1cm4gMDsKICAvKiBwdXJwb3NlbHkgcmVtb3ZpbmcgY29uc3RuZXNzICovCiAgcCA9IChKU1N0cmluZyopKHZvaWQqKShzdHIgLSBvZmZzZXRvZihKU1N0cmluZywgdSkpOwogIEpTX0R1cFZhbHVlKGN0eCwgSlNfTUtQVFIoSlNfVEFHX1NUUklORywgcCkpOwogIHJldHVybiAoY2hhciopc3RyOwp9CgpKU1ZhbHVlQ29uc3QKanNfY3N0cmluZ192YWx1ZShjb25zdCBjaGFyKiBwdHIpIHsKICBKU1N0cmluZyogcDsKICBpZighcHRyKQogICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKCiAgcCA9IChKU1N0cmluZyopKHZvaWQqKShwdHIgLSBvZmZzZXRvZihKU1N0cmluZywgdSkpOwogIHJldHVybiBKU19NS1BUUihKU19UQUdfU1RSSU5HLCBwKTsKfQoKdm9pZApqc19jc3RyaW5nX2R1bXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgRHluQnVmKiBkYikgewogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwoKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90KilzdHIsIGxlbik7CgogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cik7Cn0KCkpTVmFsdWUKanNfbWFwX25ldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVudHJpZXMpIHsKICBKU1ZhbHVlIG1hcCwgY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIk1hcCIpOwogIG1hcCA9IEpTX0NhbGxDb25zdHJ1Y3RvcihjdHgsIGN0b3IsIDEsICZlbnRyaWVzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gbWFwOwp9CgpKU1ZhbHVlCm1vZHVsZV9uYW1lKEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIGlmKG0tPm1vZHVsZV9uYW1lIDwgY3R4LT5ydC0+YXRvbV9jb3VudCkKICAgIHJldHVybiBKU19BdG9tVG9WYWx1ZShjdHgsIG0tPm1vZHVsZV9uYW1lKTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKY2hhcioKbW9kdWxlX25hbWVzdHIoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgY29uc3QgY2hhciogbmFtZSA9IEpTX0F0b21Ub0NTdHJpbmcoY3R4LCBtLT5tb2R1bGVfbmFtZSk7CiAgY2hhciogc3RyID0ganNfc3RyZHVwKGN0eCwgbmFtZSk7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICByZXR1cm4gc3RyOwp9CgpzdGF0aWMgSlNWYWx1ZQpjYWxsX21vZHVsZV9mdW5jKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYywgSlNWYWx1ZSogZGF0YSkgewogIHVuaW9uIHsKICAgIEpTTW9kdWxlSW5pdEZ1bmMqIGluaXRfZnVuYzsKICAgIGludDMyX3QgaVsyXTsKICB9IHU7CgogIHUuaVswXSA9IEpTX1ZBTFVFX0dFVF9JTlQoZGF0YVswXSk7CiAgdS5pWzFdID0gSlNfVkFMVUVfR0VUX0lOVChkYXRhWzFdKTsKCiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzTW9kdWxlKGFyZ3ZbMF0pKQogICAgcmV0dXJuIEpTX05ld0ludDMyKGN0eCwgdS5pbml0X2Z1bmMoY3R4LCBKU19WQUxVRV9HRVRfUFRSKGFyZ3ZbMF0pKSk7CgogIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIG1vZHVsZSBleHBlY3RlZCIpOwp9CgpKU1ZhbHVlCm1vZHVsZV9mdW5jKEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTVmFsdWUgZnVuYyA9IEpTX1VOREVGSU5FRDsKICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgbS0+ZnVuY19vYmopKSB7CiAgICBmdW5jID0gSlNfRHVwVmFsdWUoY3R4LCBtLT5mdW5jX29iaik7CiAgfSBlbHNlIGlmKG0tPmluaXRfZnVuYykgewogICAgdW5pb24gewogICAgICBKU01vZHVsZUluaXRGdW5jKiBpbml0X2Z1bmM7CiAgICAgIGludDMyX3QgaVsyXTsKICAgIH0gdSA9IHttLT5pbml0X2Z1bmN9OwogICAgSlNWYWx1ZUNvbnN0IGRhdGFbMl0gPSB7CiAgICAgICAgSlNfTUtWQUwoSlNfVEFHX0lOVCwgdS5pWzBdKSwKICAgICAgICBKU19NS1ZBTChKU19UQUdfSU5ULCB1LmlbMV0pLAogICAgfTsKICAgIGZ1bmMgPSBKU19OZXdDRnVuY3Rpb25EYXRhKGN0eCwgY2FsbF9tb2R1bGVfZnVuYywgMSwgMCwgMiwgZGF0YSk7CiAgfQogIHJldHVybiBmdW5jOwp9CgpKU1ZhbHVlCm1vZHVsZV9ucyhKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBtLT5tb2R1bGVfbnMpOwp9CgpKU1ZhbHVlCm1vZHVsZV9leHBvcnRzX2ZpbmQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtLCBKU0F0b20gYXRvbSkgewogIHNpemVfdCBpOwogIGZvcihpID0gMDsgaSA8IG0tPmV4cG9ydF9lbnRyaWVzX2NvdW50OyBpKyspIHsKICAgIEpTRXhwb3J0RW50cnkqIGVudHJ5ID0gJm0tPmV4cG9ydF9lbnRyaWVzW2ldOwoKICAgIGlmKGVudHJ5LT5leHBvcnRfbmFtZSA9PSBhdG9tKSB7CiAgICAgIEpTVmFyUmVmKiByZWYgPSBlbnRyeS0+dS5sb2NhbC52YXJfcmVmOwogICAgICBKU1ZhbHVlIGV4cG9ydCA9IHJlZiA/IEpTX0R1cFZhbHVlKGN0eCwgcmVmLT5wdmFsdWUgPyAqcmVmLT5wdmFsdWUgOiByZWYtPnZhbHVlKSA6IEpTX1VOREVGSU5FRDsKICAgICAgcmV0dXJuIGV4cG9ydDsKICAgIH0KICB9CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKdm9pZAptb2R1bGVfZXhwb3J0c19nZXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtLCBCT09MIHJlbmFtZV9kZWZhdWx0LCBKU1ZhbHVlQ29uc3QgZXhwb3J0cykgewogIEpTQXRvbSBkZWYgPSBKU19OZXdBdG9tKGN0eCwgImRlZmF1bHQiKTsKCiAgc2l6ZV90IGk7CiAgZm9yKGkgPSAwOyBpIDwgbS0+ZXhwb3J0X2VudHJpZXNfY291bnQ7IGkrKykgewogICAgSlNFeHBvcnRFbnRyeSogZW50cnkgPSAmbS0+ZXhwb3J0X2VudHJpZXNbaV07CiAgICBKU1ZhclJlZiogcmVmID0gZW50cnktPnUubG9jYWwudmFyX3JlZjsKICAgIGlmKHJlZikgewogICAgICBKU1ZhbHVlIGV4cG9ydCA9IEpTX0R1cFZhbHVlKGN0eCwgcmVmLT5wdmFsdWUgPyAqcmVmLT5wdmFsdWUgOiByZWYtPnZhbHVlKTsKICAgICAgSlNBdG9tIG5hbWUgPSBlbnRyeS0+ZXhwb3J0X25hbWU7CiAgICAgIGlmKHJlbmFtZV9kZWZhdWx0ICYmIG5hbWUgPT0gZGVmKQogICAgICAgIG5hbWUgPSBtLT5tb2R1bGVfbmFtZTsKICAgICAgSlNfU2V0UHJvcGVydHkoY3R4LCBleHBvcnRzLCBuYW1lLCBleHBvcnQpOwogICAgfQogIH0KICBKU19GcmVlQXRvbShjdHgsIGRlZik7Cn0KCkpTVmFsdWUKbW9kdWxlX2V4cG9ydHMoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNWYWx1ZSBleHBvcnRzOwogIGV4cG9ydHMgPSBKU19OZXdPYmplY3RQcm90byhjdHgsIEpTX05VTEwpOwogIG1vZHVsZV9leHBvcnRzX2dldChjdHgsIG0sIEZBTFNFLCBleHBvcnRzKTsKICByZXR1cm4gZXhwb3J0czsKfQoKc3RydWN0IGxpc3RfaGVhZCoKanNfbW9kdWxlc19saXN0KEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuICZjdHgtPmxvYWRlZF9tb2R1bGVzOwp9CgpKU1ZhbHVlCmpzX21vZHVsZXNfYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgc3RydWN0IGxpc3RfaGVhZCogZWw7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIHVpbnQzMl90IGkgPSAwOwogIGxpc3RfZm9yX2VhY2goZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoZWwsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIqIHN0ciA9IG1vZHVsZV9uYW1lc3RyKGN0eCwgbSk7CiAgICBKU1ZhbHVlIGVudHJ5ID0gbWFnaWMgPyBtb2R1bGVfZW50cnkoY3R4LCBtKSA6IG1vZHVsZV92YWx1ZShjdHgsIG0pOwogICAgaWYoMSAvKnN0clswXSAhPSAnPCcqLykKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgZW50cnkpOwogICAgZWxzZQogICAgICBKU19GcmVlVmFsdWUoY3R4LCBlbnRyeSk7CiAgICBqc19mcmVlKGN0eCwgc3RyKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19tb2R1bGVzX2VudHJpZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgc3RydWN0IGxpc3RfaGVhZCogZWw7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIHVpbnQzMl90IGkgPSAwOwogIGxpc3RfZm9yX2VhY2goZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoZWwsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIqIG5hbWUgPSBtb2R1bGVfbmFtZXN0cihjdHgsIG0pOwogICAgSlNWYWx1ZSBlbnRyeSA9IEpTX05ld0FycmF5KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGVudHJ5LCAwLCBKU19OZXdTdHJpbmcoY3R4LCAvKmJhc2VuYW1lKi8gKG5hbWUpKSk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGVudHJ5LCAxLCBtYWdpYyA/IG1vZHVsZV9lbnRyeShjdHgsIG0pIDogbW9kdWxlX3ZhbHVlKGN0eCwgbSkpOwogICAgaWYoMSAvKnN0clswXSAhPSAnPCcqLykKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGkrKywgZW50cnkpOwogICAgZWxzZQogICAgICBKU19GcmVlVmFsdWUoY3R4LCBlbnRyeSk7CiAgICBqc19mcmVlKGN0eCwgbmFtZSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfbW9kdWxlc19tYXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSBtYXAsIGVudHJpZXMgPSBqc19tb2R1bGVzX2VudHJpZXMoY3R4LCB0aGlzX3ZhbCwgbWFnaWMpOwogIG1hcCA9IGpzX21hcF9uZXcoY3R4LCBlbnRyaWVzKTsKICBKU19GcmVlVmFsdWUoY3R4LCBlbnRyaWVzKTsKICByZXR1cm4gbWFwOwp9CgpKU1ZhbHVlCmpzX21vZHVsZXNfb2JqZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIHN0cnVjdCBsaXN0X2hlYWQqIGl0OwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgbGlzdF9mb3JfZWFjaChpdCwgJmN0eC0+bG9hZGVkX21vZHVsZXMpIHsKICAgIEpTTW9kdWxlRGVmKiBtID0gbGlzdF9lbnRyeShpdCwgSlNNb2R1bGVEZWYsIGxpbmspOwogICAgY2hhciogbmFtZSA9IG1vZHVsZV9uYW1lc3RyKGN0eCwgbSk7CiAgICBKU1ZhbHVlIGVudHJ5ID0gbWFnaWMgPyBtb2R1bGVfZW50cnkoY3R4LCBtKSA6IG1vZHVsZV92YWx1ZShjdHgsIG0pOwogICAgaWYoMSAvKnN0clswXSAhPSAnPCcqLykKICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIGJhc2VuYW1lKG5hbWUpLCBlbnRyeSk7CiAgICBlbHNlCiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGVudHJ5KTsKICAgIGpzX2ZyZWUoY3R4LCBuYW1lKTsKICB9CiAgcmV0dXJuIG9iajsKfQoKSlNWYWx1ZQptb2R1bGVfdmFsdWUoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgSlNfTUtQVFIoSlNfVEFHX01PRFVMRSwgbSkpOwp9CgpKU1ZhbHVlCm1vZHVsZV9lbnRyeShKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU1ZhbHVlIGVudHJ5ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGVudHJ5LCAwLCBtb2R1bGVfbnMoY3R4LCBtKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBlbnRyeSwgMSwgbW9kdWxlX2V4cG9ydHMoY3R4LCBtKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBlbnRyeSwgMiwgbW9kdWxlX2Z1bmMoY3R4LCBtKSk7CiAgcmV0dXJuIGVudHJ5Owp9CgpKU1ZhbHVlCm1vZHVsZV9vYmplY3QoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNWYWx1ZSBucywgZXhwb3J0cywgZnVuYywgb2JqID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJuYW1lIiwgbW9kdWxlX25hbWUoY3R4LCBtKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJyZXNvbHZlZCIsIEpTX05ld0Jvb2woY3R4LCBtLT5yZXNvbHZlZCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAiZnVuY19jcmVhdGVkIiwgSlNfTmV3Qm9vbChjdHgsIG0tPmZ1bmNfY3JlYXRlZCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAiaW5zdGFudGlhdGVkIiwgSlNfTmV3Qm9vbChjdHgsIG0tPmluc3RhbnRpYXRlZCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAiZXZhbHVhdGVkIiwgSlNfTmV3Qm9vbChjdHgsIG0tPmV2YWx1YXRlZCkpOwoKICBucyA9IG1vZHVsZV9ucyhjdHgsIG0pOwogIGlmKCFKU19Jc1VuZGVmaW5lZChucykpCiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5zIiwgbnMpOwogIGV4cG9ydHMgPSBtb2R1bGVfZXhwb3J0cyhjdHgsIG0pOwogIGlmKCFKU19Jc1VuZGVmaW5lZChleHBvcnRzKSkKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAiZXhwb3J0cyIsIG1vZHVsZV9leHBvcnRzKGN0eCwgbSkpOwogIGZ1bmMgPSBtb2R1bGVfZnVuYyhjdHgsIG0pOwogIGlmKCFKU19Jc1VuZGVmaW5lZChmdW5jKSkKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCAiZnVuYyIsIGZ1bmMpOwogIHJldHVybiBvYmo7Cn0KCmNoYXIqCmpzX21vZHVsZV9zZWFyY2goSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIHNlYXJjaF9wYXRoLCBjb25zdCBjaGFyKiBtb2R1bGUpIHsKICBjaGFyKiBwYXRoID0gMDsKCiAgd2hpbGUoIXN0cm5jbXAobW9kdWxlLCAiLi8iLCAyKSkgbW9kdWxlID0gdHJpbV9kb3RzbGFzaChtb2R1bGUpOwoKICBpZighc3RyX2NvbnRhaW5zKG1vZHVsZSwgJy8nKSB8fCBzdHJfZW5kcyhtb2R1bGUsICIuc28iKSkKICAgIHBhdGggPSBqc19tb2R1bGVfc2VhcmNoX2V4dChjdHgsIHNlYXJjaF9wYXRoLCBtb2R1bGUsICIuc28iKTsKCiAgaWYoIXBhdGgpCiAgICBwYXRoID0ganNfbW9kdWxlX3NlYXJjaF9leHQoY3R4LCBzZWFyY2hfcGF0aCwgbW9kdWxlLCAiLmpzIik7CgogIHJldHVybiBwYXRoOwp9CgpjaGFyKgpqc19tb2R1bGVfc2VhcmNoX2V4dChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciogbmFtZSwgY29uc3QgY2hhciogZXh0KSB7CiAgY29uc3QgY2hhciAqcCwgKnE7CiAgY2hhciogZmlsZSA9IDA7CiAgc2l6ZV90IGksIGo7CiAgc3RydWN0IHN0YXQgc3Q7CgogIGZvcihwID0gcGF0aDsgKnA7IHAgPSBxKSB7CiAgICBpZigocSA9IHN0cmNocihwLCAnOicpKSA9PSAwKQogICAgICBxID0gcCArIHN0cmxlbihwKTsKICAgIGkgPSBxIC0gcDsKICAgIGZpbGUgPSBqc19tYWxsb2MoY3R4LCBpICsgMSArIHN0cmxlbihuYW1lKSArIDMgKyAxKTsKICAgIHN0cm5jcHkoZmlsZSwgcCwgaSk7CiAgICBmaWxlW2ldID0gJy8nOwogICAgc3RyY3B5KCZmaWxlW2kgKyAxXSwgbmFtZSk7CiAgICBqID0gc3RybGVuKG5hbWUpOwogICAgaWYoIShqID49IDMgJiYgIXN0cmNtcCgmbmFtZVtqIC0gM10sIGV4dCkpKQogICAgICBzdHJjcHkoJmZpbGVbaSArIDEgKyBqXSwgZXh0KTsKICAgIGlmKCFzdGF0KGZpbGUsICZzdCkpCiAgICAgIHJldHVybiBmaWxlOwogICAganNfZnJlZShjdHgsIGZpbGUpOwogICAgaWYoKnEgPT0gJzonKQogICAgICArK3E7CiAgfQogIHJldHVybiAwOwp9CgpjaGFyKgpqc19tb2R1bGVfbm9ybWFsaXplKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwYXRoLCBjb25zdCBjaGFyKiBuYW1lLCB2b2lkKiBvcGFxdWUpIHsKICBzaXplX3QgcDsKICBjb25zdCBjaGFyKiByOwogIER5bkJ1ZiBmaWxlID0gezAsIDAsIDB9OwogIHNpemVfdCBuOwogIGlmKG5hbWVbMF0gIT0gJy4nKQogICAgcmV0dXJuIGpzX3N0cmR1cChjdHgsIG5hbWUpOwogIGpzX2RidWZfaW5pdChjdHgsICZmaWxlKTsKICBuID0gcGF0aFsocCA9IHN0cl9yY2hyKHBhdGgsICcvJykpXSA/IHAgOiAwOwogIGRidWZfcHV0KCZmaWxlLCAoY29uc3QgdWludDhfdCopcGF0aCwgbik7CiAgZGJ1Zl8wKCZmaWxlKTsKICBmb3IociA9IG5hbWU7OykgewogICAgaWYoclswXSA9PSAnLicgJiYgclsxXSA9PSAnLycpIHsKICAgICAgciArPSAyOwogICAgfSBlbHNlIGlmKHJbMF0gPT0gJy4nICYmIHJbMV0gPT0gJy4nICYmIHJbMl0gPT0gJy8nKSB7CiAgICAgIGlmKGZpbGUuc2l6ZSA9PSAwKQogICAgICAgIGJyZWFrOwogICAgICBpZigocCA9IGJ5dGVfcmNocihmaWxlLmJ1ZiwgZmlsZS5zaXplLCAnLycpKSA8IGZpbGUuc2l6ZSkKICAgICAgICBwKys7CiAgICAgIGVsc2UKICAgICAgICBwID0gMDsKICAgICAgaWYoIXN0cmNtcCgoY29uc3QgY2hhciopJmZpbGUuYnVmW3BdLCAiLiIpIHx8ICFzdHJjbXAoKGNvbnN0IGNoYXIqKSZmaWxlLmJ1ZltwXSwgIi4uIikpCiAgICAgICAgYnJlYWs7CiAgICAgIGlmKHAgPiAwKQogICAgICAgIHAtLTsKICAgICAgZmlsZS5zaXplID0gcDsKICAgICAgciArPSAzOwogICAgfSBlbHNlIHsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIGlmKGZpbGUuc2l6ZSA9PSAwKQogICAgZGJ1Zl9wdXRjKCZmaWxlLCAnLicpOwogIGRidWZfcHV0YygmZmlsZSwgJy8nKTsKICBkYnVmX3B1dHN0cigmZmlsZSwgcik7CiAgZGJ1Zl8wKCZmaWxlKTsKICByZXR1cm4gKGNoYXIqKWZpbGUuYnVmOwp9CgpKU01vZHVsZURlZioKanNfbW9kdWxlX2RlZihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNNb2R1bGVEZWYqIG0gPSAwOwogIGlmKEpTX0lzU3RyaW5nKHZhbHVlKSkgewogICAgY29uc3QgY2hhciogbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIHZhbHVlKTsKICAgIG0gPSBqc19tb2R1bGVfZmluZChjdHgsIG5hbWUpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICB9IGVsc2UgaWYoSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSkgPT0gSlNfVEFHX01PRFVMRSkgewogICAgbSA9IEpTX1ZBTFVFX0dFVF9QVFIodmFsdWUpOwogIH0KICByZXR1cm4gbTsKfQoKSlNNb2R1bGVEZWYqCmpzX21vZHVsZV9maW5kX2Z3ZChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIHN0cnVjdCBsaXN0X2hlYWQqIGVsOwogIHNpemVfdCBuYW1lbGVuID0gc3RybGVuKG5hbWUpOwogIGxpc3RfZm9yX2VhY2goZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoZWwsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIgKm4sICpzdHIgPSBtb2R1bGVfbmFtZXN0cihjdHgsIG0pOwogICAgc2l6ZV90IGxlbjsKICAgIG4gPSBiYXNlbmFtZShzdHIpOwogICAgbGVuID0gc3RyX3JjaHIobiwgJy4nKTsKICAgIGlmKCFzdHJjbXAoc3RyLCBuYW1lKSB8fCAhc3RyY21wKG4sIG5hbWUpIHx8IChsZW4gPT0gbmFtZWxlbiAmJiAhc3RybmNtcChuLCBuYW1lLCBsZW4pKSkKICAgICAgcmV0dXJuIG07CiAgICBqc19mcmVlKGN0eCwgc3RyKTsKICB9CiAgcmV0dXJuIDA7Cn0KCkpTTW9kdWxlRGVmKgpqc19tb2R1bGVfZmluZF9yZXYoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBzdHJ1Y3QgbGlzdF9oZWFkKiBlbDsKICBzaXplX3QgbmFtZWxlbiA9IHN0cmxlbihuYW1lKTsKICBsaXN0X2Zvcl9lYWNoX3ByZXYoZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICBKU01vZHVsZURlZiogbSA9IGxpc3RfZW50cnkoZWwsIEpTTW9kdWxlRGVmLCBsaW5rKTsKICAgIGNoYXIgKm4sICpzdHIgPSBtb2R1bGVfbmFtZXN0cihjdHgsIG0pOwogICAgc2l6ZV90IGxlbjsKICAgIG4gPSBiYXNlbmFtZShzdHIpOwogICAgbGVuID0gc3RyX3JjaHIobiwgJy4nKTsKICAgIGlmKCFzdHJjbXAoc3RyLCBuYW1lKSB8fCAhc3RyY21wKG4sIG5hbWUpIHx8IChsZW4gPT0gbmFtZWxlbiAmJiAhc3RybmNtcChuLCBuYW1lLCBsZW4pKSkKICAgICAgcmV0dXJuIG07CiAgICBqc19mcmVlKGN0eCwgc3RyKTsKICB9CiAgcmV0dXJuIDA7Cn0KCmludApqc19tb2R1bGVfaW5kZXhvZihKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIGRlZikgewogIHN0cnVjdCBsaXN0X2hlYWQqIGVsOwogIGludCBpID0gMDsKICBsaXN0X2Zvcl9lYWNoKGVsLCAmY3R4LT5sb2FkZWRfbW9kdWxlcykgewogICAgSlNNb2R1bGVEZWYqIG0gPSBsaXN0X2VudHJ5KGVsLCBKU01vZHVsZURlZiwgbGluayk7CiAgICBpZihtID09IGRlZikKICAgICAgcmV0dXJuIGk7CiAgICArK2k7CiAgfQogIHJldHVybiAtMTsKfQovKgpWZWN0b3IKanNfbW9kdWxlX3ZlY3RvcihKU0NvbnRleHQqIGN0eCkgewogIFZlY3RvciByZXQgPSBWRUNUT1IoY3R4KTsKICBzdHJ1Y3QgbGlzdF9oZWFkKiBlbDsKICBsaXN0X2Zvcl9lYWNoKGVsLCAmY3R4LT5sb2FkZWRfbW9kdWxlcykgewogICAgSlNNb2R1bGVEZWYqIG0gPSBsaXN0X2VudHJ5KGVsLCBKU01vZHVsZURlZiwgbGluayk7CiAgICB2ZWN0b3JfcHVzaCgmcmV0LCBtKTsKICB9CiAgcmV0dXJuIHJldDsKfQoqLwpKU01vZHVsZURlZioKanNfbW9kdWxlX2F0KEpTQ29udGV4dCogY3R4LCBpbnQgaW5kZXgpIHsKICBzdHJ1Y3QgbGlzdF9oZWFkKiBlbDsKICBpbnQgaSA9IDA7CiAgaWYoaW5kZXggPj0gMCkgewogICAgbGlzdF9mb3JfZWFjaChlbCwgJmN0eC0+bG9hZGVkX21vZHVsZXMpIHsKICAgICAgSlNNb2R1bGVEZWYqIG0gPSBsaXN0X2VudHJ5KGVsLCBKU01vZHVsZURlZiwgbGluayk7CiAgICAgIGlmKGluZGV4ID09IGkpCiAgICAgICAgcmV0dXJuIG07CiAgICAgICsraTsKICAgIH0KICB9IGVsc2UgewogICAgaW5kZXggPSAtKGluZGV4ICsgMSk7CiAgICBsaXN0X2Zvcl9lYWNoX3ByZXYoZWwsICZjdHgtPmxvYWRlZF9tb2R1bGVzKSB7CiAgICAgIEpTTW9kdWxlRGVmKiBtID0gbGlzdF9lbnRyeShlbCwgSlNNb2R1bGVEZWYsIGxpbmspOwogICAgICBpZihpbmRleCA9PSBpKQogICAgICAgIHJldHVybiBtOwogICAgICArK2k7CiAgICB9CiAgfQogIHJldHVybiAwOwp9CgpCT09MCmpzX2lzX2FycmF5YnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBCT09MIHJldCA9IEZBTFNFOwogIGlmKCFKU19Jc09iamVjdCh2YWx1ZSkpCiAgICByZXR1cm4gcmV0OwogIGlmKCFyZXQpCiAgICByZXQgfD0ganNfdmFsdWVfaXNjbGFzcyhjdHgsIHZhbHVlLCBKU19DTEFTU19BUlJBWV9CVUZGRVIpOwogIGlmKCFyZXQpCiAgICByZXQgfD0ganNfb2JqZWN0X2lzKGN0eCwgdmFsdWUsICJbb2JqZWN0IEFycmF5QnVmZmVyXSIpOwogIC8qICBpZighcmV0KSB7CiAgICAgIEpTT2JqZWN0KiBvYmo7CiAgICAgIGlmKChvYmogPSBqc192YWx1ZV9vYmoodmFsdWUpKSAmJiBvYmotPmNsYXNzX2lkKSB7CiAgICAgICAgSlNWYWx1ZSBjdG9yID0ganNfZ2xvYmFsX2dldF9zdHIoY3R4LCAiQXJyYXlCdWZmZXIiKTsKICAgICAgICByZXQgPSBKU19Jc0luc3RhbmNlT2YoY3R4LCB2YWx1ZSwgY3Rvcik7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgICAgIH0KICAgIH0qLwogIHJldHVybiByZXQ7Cn0KCkJPT0wKanNfaXNfc2hhcmVkYXJyYXlidWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc09iamVjdCh2YWx1ZSkgJiYgKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfU0hBUkVEX0FSUkFZX0JVRkZFUikpOwp9CgpCT09MCmpzX2lzX21hcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzT2JqZWN0KHZhbHVlKSAmJiAoanNfdmFsdWVfaXNjbGFzcyhjdHgsIHZhbHVlLCBKU19DTEFTU19NQVApKTsKfQoKQk9PTApqc19pc19zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIHJldHVybiBKU19Jc09iamVjdCh2YWx1ZSkgJiYgKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCB2YWx1ZSwgSlNfQ0xBU1NfU0VUKSk7Cn0KCkJPT0wKanNfaXNfZ2VuZXJhdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNPYmplY3QodmFsdWUpICYmIChqc192YWx1ZV9pc2NsYXNzKGN0eCwgdmFsdWUsIEpTX0NMQVNTX0dFTkVSQVRPUikpOwp9CgpCT09MCmpzX2lzX3JlZ2V4cChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzT2JqZWN0KHZhbHVlKSAmJiAoanNfdmFsdWVfaXNjbGFzcyhjdHgsIHZhbHVlLCBKU19DTEFTU19SRUdFWFApKTsKfQoKQk9PTApqc19pc19wcm9taXNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICByZXR1cm4gSlNfSXNPYmplY3QodmFsdWUpICYmIChqc192YWx1ZV9pc2NsYXNzKGN0eCwgdmFsdWUsIEpTX0NMQVNTX1BST01JU0UpIHx8IGpzX29iamVjdF9pcyhjdHgsIHZhbHVlLCAiW29iamVjdCBQcm9taXNlXSIpKTsKfQoKQk9PTApqc19pc19kYXRhdmlldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgcmV0dXJuIEpTX0lzT2JqZWN0KHZhbHVlKSAmJiAoanNfdmFsdWVfaXNjbGFzcyhjdHgsIHZhbHVlLCBKU19DTEFTU19EQVRBVklFVykpOwp9CgpCT09MCmpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgSlNBdG9tIGF0b207CiAgQk9PTCByZXQgPSBGQUxTRTsKICBhdG9tID0ganNfc3ltYm9sX3N0YXRpY19hdG9tKGN0eCwgIml0ZXJhdG9yIik7CiAgaWYoSlNfSGFzUHJvcGVydHkoY3R4LCBvYmosIGF0b20pKQogICAgcmV0ID0gVFJVRTsKCiAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICBpZighcmV0KSB7CiAgICBhdG9tID0ganNfc3ltYm9sX3N0YXRpY19hdG9tKGN0eCwgImFzeW5jSXRlcmF0b3IiKTsKICAgIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgICAgcmV0ID0gVFJVRTsKCiAgICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIH0KICByZXR1cm4gcmV0Owp9CgpCT09MCmpzX2lzX2l0ZXJhdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgaWYoSlNfSXNPYmplY3Qob2JqKSkgewogICAgSlNWYWx1ZSBuZXh0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJuZXh0Iik7CgogICAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIG5leHQpKQogICAgICByZXR1cm4gVFJVRTsKICB9CiAgcmV0dXJuIEZBTFNFOwp9CgpKU1ZhbHVlCmpzX3R5cGVkYXJyYXlfcHJvdG90eXBlKEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSB1OGFycl9wcm90byA9IGpzX2dsb2JhbF9wcm90b3R5cGUoY3R4LCAiVWludDhBcnJheSIpOwogIEpTVmFsdWUgdHlwZWRhcnJfcHJvdG8gPSBKU19HZXRQcm90b3R5cGUoY3R4LCB1OGFycl9wcm90byk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdThhcnJfcHJvdG8pOwogIHJldHVybiB0eXBlZGFycl9wcm90bzsKfQoKSlNWYWx1ZQpqc190eXBlZGFycmF5X2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSB0eXBlZGFycl9wcm90byA9IGpzX3R5cGVkYXJyYXlfcHJvdG90eXBlKGN0eCk7CiAgSlNWYWx1ZSB0eXBlZGFycl9jdG9yID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0eXBlZGFycl9wcm90bywgImNvbnN0cnVjdG9yIik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdHlwZWRhcnJfcHJvdG8pOwogIHJldHVybiB0eXBlZGFycl9jdG9yOwp9CgpKU1ZhbHVlCmpzX2ludm9rZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfb2JqLCBjb25zdCBjaGFyKiBtZXRob2QsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNBdG9tIGF0b207CiAgSlNWYWx1ZSByZXQ7CiAgYXRvbSA9IEpTX05ld0F0b20oY3R4LCBtZXRob2QpOwogIHJldCA9IEpTX0ludm9rZShjdHgsIHRoaXNfb2JqLCBhdG9tLCBhcmdjLCBhcmd2KTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUKanNfc3ltYm9sX29wZXJhdG9yc2V0X3ZhbHVlKEpTQ29udGV4dCogY3R4KSB7CiAgcmV0dXJuIGpzX3N5bWJvbF9zdGF0aWNfdmFsdWUoY3R4LCAib3BlcmF0b3JTZXQiKTsKfQoKSlNBdG9tCmpzX3N5bWJvbF9vcGVyYXRvcnNldF9hdG9tKEpTQ29udGV4dCogY3R4KSB7CiAgSlNWYWx1ZSBvcGVyYXRvcl9zZXQgPSBqc19zeW1ib2xfb3BlcmF0b3JzZXRfdmFsdWUoY3R4KTsKICBKU0F0b20gYXRvbSA9IEpTX1ZhbHVlVG9BdG9tKGN0eCwgb3BlcmF0b3Jfc2V0KTsKICBKU19GcmVlVmFsdWUoY3R4LCBvcGVyYXRvcl9zZXQpOwogIHJldHVybiBhdG9tOwp9CgpKU1ZhbHVlCmpzX29wZXJhdG9yc19jcmVhdGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUqIHRoaXNfb2JqKSB7CiAgSlNWYWx1ZSBvcGVyYXRvcnMgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJPcGVyYXRvcnMiKTsKICBKU1ZhbHVlIGNyZWF0ZV9mdW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9wZXJhdG9ycywgImNyZWF0ZSIpOwogIGlmKHRoaXNfb2JqKQogICAgKnRoaXNfb2JqID0gb3BlcmF0b3JzOwogIGVsc2UKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG9wZXJhdG9ycyk7CiAgcmV0dXJuIGNyZWF0ZV9mdW47Cn0KCkpTVmFsdWUKanNfbnVtYmVyX25ldyhKU0NvbnRleHQqIGN0eCwgaW50MzJfdCBuKSB7CiAgaWYobiA9PSBJTlQzMl9NQVgpCiAgICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIElORklOSVRZKTsKCiAgcmV0dXJuIEpTX05ld0ludDMyKGN0eCwgbik7Cn0KCkpTVmFsdWUKanNfZGF0ZV9uZXcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcmcpIHsKICBKU1ZhbHVlIGN0b3IgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJEYXRlIik7CiAgSlNWYWx1ZSByZXQgPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBjdG9yLCAxLCAmYXJnKTsKICBKU19GcmVlVmFsdWUoY3R4LCBjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2RhdGVfZnJvbV9tcyhKU0NvbnRleHQqIGN0eCwgaW50NjRfdCBtcykgewogIEpTVmFsdWUgYXJnID0gSlNfTmV3SW50NjQoY3R4LCBtcyk7CiAgSlNWYWx1ZSByZXQgPSBqc19kYXRlX25ldyhjdHgsIGFyZyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2RhdGVfZnJvbV90aW1lX25zKEpTQ29udGV4dCogY3R4LCB0aW1lX3QgdCwgbG9uZyBucykgewogIHJldHVybiBqc19kYXRlX2Zyb21fbXMoY3R4LCB0ICogMTAwMHVsbCArIG5zIC8gMTAwMDAwMHVsbCk7Cn0KCkpTVmFsdWUKanNfZGF0ZV9mcm9tX3RpbWVzcGVjKEpTQ29udGV4dCogY3R4LCBjb25zdCBzdHJ1Y3QgdGltZXNwZWMgdHMpIHsKICByZXR1cm4ganNfZGF0ZV9mcm9tX3RpbWVfbnMoY3R4LCB0cy50dl9zZWMsIHRzLnR2X25zZWMpOwp9CgppbnQ2NF90CmpzX2RhdGVfZ2V0dGltZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyZykgewogIGludDY0X3QgciA9IC0xOwogIEpTQXRvbSBtZXRob2QgPSBKU19OZXdBdG9tKGN0eCwgImdldFRpbWUiKTsKICBKU1ZhbHVlIHZhbHVlID0gSlNfSW52b2tlKGN0eCwgYXJnLCBtZXRob2QsIDAsIDApOwogIEpTX0ZyZWVBdG9tKGN0eCwgbWV0aG9kKTsKICBpZihKU19Jc051bWJlcih2YWx1ZSkpCiAgICBKU19Ub0ludDY0KGN0eCwgJnIsIHZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIHI7Cn0KCmludDY0X3QKanNfZGF0ZV90aW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIGFyZykgewogIGludDY0X3QgciA9IC0xOwogIGlmKEpTX0lzT2JqZWN0KGFyZykpCiAgICByID0ganNfZGF0ZV9nZXR0aW1lKGN0eCwgYXJnKTsKICBlbHNlIGlmKCFqc19pc19udWxsaXNoKGN0eCwgYXJnKSkKICAgIEpTX1RvSW50NjQoY3R4LCAmciwgYXJnKTsKICByZXR1cm4gcjsKfQoKc3RydWN0IHRpbWVzcGVjCmpzX2RhdGVfdGltZXNwZWMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgYXJnKSB7CiAgc3RydWN0IHRpbWVzcGVjIHRzOwogIGludDY0X3QgciA9IGpzX2RhdGVfdGltZShjdHgsIGFyZyk7CiAgdHMudHZfc2VjID0gciAvIDEwMDB1bGw7CiAgdHMudHZfbnNlYyA9IChyIC0gdHMudHZfc2VjKSAqIDEwMDAwMDB1bGw7CiAgcmV0dXJuIHRzOwp9Cgp2b2lkCmpzX2FycmF5YnVmZmVyX2ZyZWV2YWx1ZShKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTVmFsdWUqIHZhbHB0ciA9IG9wYXF1ZTsKICBKU19GcmVlVmFsdWVSVChydCwgKnZhbHB0cik7CiAganNfZnJlZV9ydChydCwgb3BhcXVlKTsKfQoKSlNWYWx1ZQpqc19hcnJheWJ1ZmZlcl9mcm9tdmFsdWUoSlNDb250ZXh0KiBjdHgsIHZvaWQqIHgsIHNpemVfdCBuLCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgSlNWYWx1ZSogdmFscHRyOwogIGlmKCEodmFscHRyID0ganNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTVmFsdWUpKSkpCiAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwogICp2YWxwdHIgPSBKU19EdXBWYWx1ZShjdHgsIHZhbCk7CiAgcmV0dXJuIEpTX05ld0FycmF5QnVmZmVyKGN0eCwgeCwgbiwganNfYXJyYXlidWZmZXJfZnJlZXZhbHVlLCB2YWxwdHIsIEZBTFNFKTsKfQoKaW50NjRfdApqc19hcnJheWJ1ZmZlcl9ieXRlbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBpbnQ2NF90IGxlbiA9IC0xOwogIGlmKGpzX2lzX2FycmF5YnVmZmVyKGN0eCwgdmFsdWUpKSB7CiAgICBKU1ZhbHVlIGxlbmd0aCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJieXRlTGVuZ3RoIik7CiAgICBKU19Ub0ludDY0KGN0eCwgJmxlbiwgbGVuZ3RoKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbmd0aCk7CiAgfQogIHJldHVybiBsZW47Cn0KCkpTVmFsdWUKanNfZXZhbF9tb2R1bGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIEJPT0wgbG9hZF9vbmx5KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaW50IHRhZyA9IEpTX1ZBTFVFX0dFVF9UQUcob2JqKTsKICBpZih0YWcgPT0gSlNfVEFHX01PRFVMRSkgewogICAgaWYoIWxvYWRfb25seSAmJiBKU19SZXNvbHZlTW9kdWxlKGN0eCwgb2JqKSA8IDApIHsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICAgICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJGYWlsZWQgcmVzb2x2aW5nIG1vZHVsZSIpOwogICAgfQogICAganNfbW9kdWxlX3NldF9pbXBvcnRfbWV0YShjdHgsIG9iaiwgRkFMU0UsICFsb2FkX29ubHkpOwogICAgcmV0dXJuIGxvYWRfb25seSA/IEpTX0R1cFZhbHVlKGN0eCwgb2JqKSA6IEpTX0V2YWxGdW5jdGlvbihjdHgsIG9iaik7CiAgfQogIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiaW52YWxpZCB0YWcgJWkiLCB0YWcpOwp9CgpKU1ZhbHVlCmpzX2V2YWxfYmluYXJ5KEpTQ29udGV4dCogY3R4LCBjb25zdCB1aW50OF90KiBidWYsIHNpemVfdCBidWZfbGVuLCBCT09MIGxvYWRfb25seSkgewogIEpTVmFsdWUgb2JqID0gSlNfUmVhZE9iamVjdChjdHgsIGJ1ZiwgYnVmX2xlbiwgSlNfUkVBRF9PQkpfQllURUNPREUpOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICByZXR1cm4gb2JqOwogIC8vIHByaW50ZigianNfZXZhbF9iaW5hcnkgb2JqPSVzXG4iLCBqc192YWx1ZV90eXBlc3RyKGN0eCwgb2JqKSk7CiAgaWYoIWxvYWRfb25seSkgewogICAgSlNWYWx1ZSB0bXAgPSBqc19ldmFsX21vZHVsZShjdHgsIG9iaiwgbG9hZF9vbmx5KTsKICAgIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKHRtcCk7CiAgICAvLyBwcmludGYoImpzX2V2YWxfYmluYXJ5IHRtcD0lc1xuIiwganNfdmFsdWVfdHlwZXN0cihjdHgsIHRtcCkpOwogICAgaWYoIUpTX0lzRXhjZXB0aW9uKHRtcCkgJiYgIUpTX0lzVW5kZWZpbmVkKHRtcCkpCiAgICAgIGlmKHRhZyA+PSBKU19UQUdfRklSU1QgJiYgdGFnIDw9IEpTX1RBR19GTE9BVDY0KQogICAgICAgIHJldHVybiB0bXA7CiAgfQogIHJldHVybiBvYmo7Cn0KCkpTVmFsdWUKanNfZXZhbF9idWYoSlNDb250ZXh0KiBjdHgsIGNvbnN0IHZvaWQqIGJ1ZiwgaW50IGJ1Zl9sZW4sIGNvbnN0IGNoYXIqIGZpbGVuYW1lLCBpbnQgZXZhbF9mbGFncykgewogIEpTVmFsdWUgdmFsOwoKICBpZigoZXZhbF9mbGFncyAmIEpTX0VWQUxfVFlQRV9NQVNLKSA9PSBKU19FVkFMX1RZUEVfTU9EVUxFKSB7CiAgICAvKiBmb3IgdGhlIG1vZHVsZXMsIHdlIGNvbXBpbGUgdGhlbiBydW4gdG8gYmUgYWJsZSB0byBzZXQgaW1wb3J0Lm1ldGEgKi8KICAgIHZhbCA9IEpTX0V2YWwoY3R4LCBidWYsIGJ1Zl9sZW4sIGZpbGVuYW1lID8gZmlsZW5hbWUgOiAiPGlucHV0PiIsIGV2YWxfZmxhZ3MgfCBKU19FVkFMX0ZMQUdfQ09NUElMRV9PTkxZKTsKICAgIGlmKCFKU19Jc0V4Y2VwdGlvbih2YWwpKSB7CiAgICAgIGpzX21vZHVsZV9zZXRfaW1wb3J0X21ldGEoY3R4LCB2YWwsICEhZmlsZW5hbWUsIFRSVUUpOwogICAgICAvKnZhbCA9ICovIEpTX0V2YWxGdW5jdGlvbihjdHgsIHZhbCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIHZhbCA9IEpTX0V2YWwoY3R4LCBidWYsIGJ1Zl9sZW4sIGZpbGVuYW1lLCBldmFsX2ZsYWdzKTsKICB9CiAgaWYoSlNfSXNFeGNlcHRpb24odmFsKSkKICAgIGpzX2Vycm9yX3ByaW50KGN0eCwgSlNfR2V0RXhjZXB0aW9uKGN0eCkpOwogIHJldHVybiB2YWw7Cn0KCmludApqc19ldmFsX3N0cihKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3RyLCBjb25zdCBjaGFyKiBmaWxlLCBpbnQgZmxhZ3MpIHsKICBKU1ZhbHVlIHZhbCA9IGpzX2V2YWxfYnVmKGN0eCwgc3RyLCBzdHJsZW4oc3RyKSwgZmlsZSwgZmxhZ3MpOwogIGludDMyX3QgcmV0ID0gLTE7CiAgaWYoSlNfSXNOdW1iZXIodmFsKSkKICAgIEpTX1RvSW50MzIoY3R4LCAmcmV0LCB2YWwpOwogIHJldHVybiByZXQ7Cn0KCnRocmVhZF9sb2NhbCB1aW50NjRfdCBqc19wZW5kaW5nX3NpZ25hbHMgPSAwOwoKaW50NjRfdApqc190aW1lX21zKHZvaWQpIHsKICBzdHJ1Y3QgdGltZXNwZWMgdHM7CiAgY2xvY2tfZ2V0dGltZShDTE9DS19NT05PVE9OSUMsICZ0cyk7CiAgcmV0dXJuICh1aW50NjRfdCl0cy50dl9zZWMgKiAxMDAwICsgKHRzLnR2X25zZWMgLyAxMDAwMDAwKTsKfQoKaW50CmpzX2ludGVycnVwdF9oYW5kbGVyKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSkgewogIHJldHVybiAoanNfcGVuZGluZ19zaWduYWxzID4+IFNJR0lOVCkgJiAxOwp9Cgp2b2lkCmpzX3RpbWVyX3VubGluayhKU1J1bnRpbWUqIHJ0LCBKU09TVGltZXIqIHRoKSB7CiAgaWYodGgtPmxpbmsucHJldikgewogICAgbGlzdF9kZWwoJnRoLT5saW5rKTsKICAgIHRoLT5saW5rLnByZXYgPSB0aC0+bGluay5uZXh0ID0gMDsKICB9Cn0KCnZvaWQKanNfdGltZXJfZnJlZShKU1J1bnRpbWUqIHJ0LCBKU09TVGltZXIqIHRoKSB7CiAgSlNfRnJlZVZhbHVlUlQocnQsIHRoLT5mdW5jKTsKICBqc19mcmVlX3J0KHJ0LCB0aCk7Cn0KCnZvaWQKanNfY2FsbF9oYW5kbGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuYykgewogIEpTVmFsdWUgcmV0LCBmdW5jMTsKICBmdW5jMSA9IEpTX0R1cFZhbHVlKGN0eCwgZnVuYyk7CiAgcmV0ID0gSlNfQ2FsbChjdHgsIGZ1bmMxLCBKU19VTkRFRklORUQsIDAsIDApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGZ1bmMxKTsKICBpZihKU19Jc0V4Y2VwdGlvbihyZXQpKQogICAganNfc3RkX2R1bXBfZXJyb3IoY3R4KTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwp9CnZvaWQqCmpzX3NhYl9hbGxvYyh2b2lkKiBvcGFxdWUsIHNpemVfdCBzaXplKSB7CiAgSlNTQUJIZWFkZXIqIHNhYjsKICBzYWIgPSBtYWxsb2Moc2l6ZW9mKEpTU0FCSGVhZGVyKSArIHNpemUpOwogIGlmKCFzYWIpCiAgICByZXR1cm4gMDsKICBzYWItPnJlZl9jb3VudCA9IDE7CiAgcmV0dXJuIHNhYi0+YnVmOwp9CnZvaWQKanNfc2FiX2ZyZWUodm9pZCogb3BhcXVlLCB2b2lkKiBwdHIpIHsKICBKU1NBQkhlYWRlciogc2FiOwogIGludCByZWZfY291bnQ7CiAgc2FiID0gKEpTU0FCSGVhZGVyKikoKHVpbnQ4X3QqKXB0ciAtIHNpemVvZihKU1NBQkhlYWRlcikpOwogIHJlZl9jb3VudCA9IGF0b21pY19hZGRfaW50KCZzYWItPnJlZl9jb3VudCwgLTEpOwogIGFzc2VydChyZWZfY291bnQgPj0gMCk7CiAgaWYocmVmX2NvdW50ID09IDApIHsKICAgIGZyZWUoc2FiKTsKICB9Cn0KCnZvaWQKanNfc2FiX2R1cCh2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTU0FCSGVhZGVyKiBzYWI7CiAgc2FiID0gKEpTU0FCSGVhZGVyKikoKHVpbnQ4X3QqKXB0ciAtIHNpemVvZihKU1NBQkhlYWRlcikpOwogIGF0b21pY19hZGRfaW50KCZzYWItPnJlZl9jb3VudCwgMSk7Cn0KCnZvaWQKanNfZXJyb3JfZHVtcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVycm9yLCBEeW5CdWYqIGRiKSB7CiAgY29uc3QgY2hhciAqc3RyLCAqc3RhY2sgPSAwOwogIGlmKEpTX0lzT2JqZWN0KGVycm9yKSkgewogICAgSlNWYWx1ZSBzdCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZXJyb3IsICJzdGFjayIpOwogICAgaWYoIUpTX0lzVW5kZWZpbmVkKHN0KSkKICAgICAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBzdCk7CiAgfQogIGlmKChzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBlcnJvcikpKSB7CiAgICBjb25zdCBjaGFyKiB0eXBlID0gSlNfSXNPYmplY3QoZXJyb3IpID8ganNfb2JqZWN0X2NsYXNzbmFtZShjdHgsIGVycm9yKSA6IGpzX3ZhbHVlX3R5cGVzdHIoY3R4LCBlcnJvcik7CgogICAgaWYoIXN0cl9zdGFydChzdHIsIHR5cGUpKSB7CiAgICAgIGRidWZfcHV0c3RyKGRiLCB0eXBlKTsKICAgICAgZGJ1Zl9wdXRzdHIoZGIsICI6ICIpOwogICAgfQogICAgZGJ1Zl9wdXRzdHIoZGIsIHN0cik7CiAgICBkYnVmX3B1dGMoZGIsICdcbicpOwogICAgaWYoc3RhY2spIHsKICAgICAgZGJ1Zl9wdXRzdHIoZGIsICJTVEFDS1xuIik7CiAgICAgIGRidWZfcHV0c3RyKGRiLCBzdGFjayk7CiAgICAgIGRidWZfcHV0YyhkYiwgJ1xuJyk7CiAgICB9CiAgICBkYnVmXzAoZGIpOwogIH0KICBpZihzdGFjaykKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RhY2spOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKfQoKY2hhcioKanNfZXJyb3JfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBlcnJvcikgewogIER5bkJ1ZiBkYjsKICBqc19kYnVmX2luaXQoY3R4LCAmZGIpOwogIGpzX2Vycm9yX2R1bXAoY3R4LCBlcnJvciwgJmRiKTsKICByZXR1cm4gKGNoYXIqKWRiLmJ1ZjsKfQoKdm9pZApqc19lcnJvcl9wcmludChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGVycm9yKSB7CiAgY29uc3QgY2hhciAqc3RyID0gMCwgKnN0YWNrID0gMDsKCiAgaWYoSlNfSXNPYmplY3QoZXJyb3IpKSB7CiAgICBKU1ZhbHVlIHN0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBlcnJvciwgInN0YWNrIik7CgogICAgaWYoIUpTX0lzVW5kZWZpbmVkKHN0KSkKICAgICAgc3RhY2sgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdCk7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgc3QpOwogIH0KCiAgaWYoIUpTX0lzTnVsbChlcnJvcikgJiYgKHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGVycm9yKSkpIHsKICAgIGNvbnN0IGNoYXIqIHR5cGUgPSBKU19Jc09iamVjdChlcnJvcikgPyBqc19vYmplY3RfY2xhc3NuYW1lKGN0eCwgZXJyb3IpIDoganNfdmFsdWVfdHlwZXN0cihjdHgsIGVycm9yKTsKICAgIGNvbnN0IGNoYXIqIGV4Y2VwdGlvbiA9IHN0cjsKICAgIHNpemVfdCB0eXBlbGVuID0gc3RybGVuKHR5cGUpOwoKICAgIGlmKCFzdHJuY21wKGV4Y2VwdGlvbiwgdHlwZSwgdHlwZWxlbikgJiYgZXhjZXB0aW9uW3R5cGVsZW5dID09ICc6JykgewogICAgICBleGNlcHRpb24gKz0gdHlwZWxlbiArIDI7CiAgICB9CiAgICBmcHJpbnRmKHN0ZGVyciwgIiVzOiAlc1xuIiwgdHlwZSwgZXhjZXB0aW9uKTsKICAgIGlmKHN0YWNrKQogICAgICBmcHJpbnRmKHN0ZGVyciwgIlNUQUNLPVxuJXNcbiIsIHN0YWNrKTsKICAgIGZmbHVzaChzdGRlcnIpOwogIH0KICBpZihzdGFjaykKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RhY2spOwogIGlmKHN0cikKICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyKTsKfQoKSlNWYWx1ZQpqc19lcnJvcl9zdGFjayhKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgZXJyb3IgPSBqc19vYmplY3RfZXJyb3IoY3R4LCAiIik7CiAgSlNWYWx1ZSBzdGFjayA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZXJyb3IsICJzdGFjayIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGVycm9yKTsKICByZXR1cm4gc3RhY2s7Cn0KCkpTVmFsdWUKanNfaW9fcmVhZGhhbmRsZXJfZm4oSlNDb250ZXh0KiBjdHgsIEJPT0wgd3JpdGUpIHsKICBKU01vZHVsZURlZiogb3M7CiAgY29uc3QgY2hhciogaGFuZGxlcnNbMl0gPSB7InNldFJlYWRIYW5kbGVyIiwgInNldFdyaXRlSGFuZGxlciJ9OwogIEpTQXRvbSBmdW5jX25hbWU7CiAgSlNWYWx1ZSBzZXRfaGFuZGxlcjsKCiAgaWYoIShvcyA9IGpzX21vZHVsZV9maW5kKGN0eCwgIm9zIikpKQogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiJ29zJyBtb2R1bGUgcmVxdWlyZWQiKTsKCiAgZnVuY19uYW1lID0gSlNfTmV3QXRvbShjdHgsIGhhbmRsZXJzW3dyaXRlXSk7CiAgc2V0X2hhbmRsZXIgPSBtb2R1bGVfZXhwb3J0c19maW5kKGN0eCwgb3MsIGZ1bmNfbmFtZSk7CiAgSlNfRnJlZUF0b20oY3R4LCBmdW5jX25hbWUpOwoKICBpZighSlNfSXNGdW5jdGlvbihjdHgsIHNldF9oYW5kbGVyKSkgewogICAgSlNfRnJlZVZhbHVlKGN0eCwgc2V0X2hhbmRsZXIpOwogICAgcmV0dXJuIEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAibm8gb3MuJXMgZnVuY3Rpb24iLCBoYW5kbGVyc1t3cml0ZV0pOwogIH0KCiAgcmV0dXJuIHNldF9oYW5kbGVyOwp9CgpzdGF0aWMgdGhyZWFkX2xvY2FsIEpTQ0Z1bmN0aW9uKiByZWFkaGFuZGxlcl9jZnVuYzsKCkpTQ0Z1bmN0aW9uKgpqc19pb19yZWFkaGFuZGxlcl9jZnVuYyhKU0NvbnRleHQqIGN0eCwgQk9PTCB3cml0ZSkgewogIGlmKCFyZWFkaGFuZGxlcl9jZnVuYykgewogICAgSlNWYWx1ZSBzZXRfaGFuZGxlcjsKICAgIEpTT2JqZWN0KiBvYmo7CiAgICBzZXRfaGFuZGxlciA9IGpzX2lvX3JlYWRoYW5kbGVyX2ZuKGN0eCwgd3JpdGUpOwogICAgaWYoSlNfSXNFeGNlcHRpb24oc2V0X2hhbmRsZXIpKQogICAgICByZXR1cm4gMDsKICAgIHJlYWRoYW5kbGVyX2NmdW5jID0ganNfZnVuY3Rpb25fY2Z1bmMoY3R4LCBzZXRfaGFuZGxlcik7CiAgfQogIHJldHVybiByZWFkaGFuZGxlcl9jZnVuYzsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX3Jlc29sdmUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBwcm9taXNlKSB7CiAgSlNWYWx1ZSByZXQsIGN0b3IgPSBqc19nbG9iYWxfZ2V0X3N0cihjdHgsICJQcm9taXNlIik7CiAgcmV0ID0ganNfaW52b2tlKGN0eCwgY3RvciwgInJlc29sdmUiLCAxLCAmcHJvbWlzZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgcmV0dXJuIHJldDsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX3RoZW4oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBwcm9taXNlLCBKU1ZhbHVlQ29uc3QgZnVuYykgewogIHJldHVybiBqc19pbnZva2UoY3R4LCBwcm9taXNlLCAidGhlbiIsIDEsICZmdW5jKTsKfQoKSlNWYWx1ZQpqc19wcm9taXNlX2NhdGNoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgcHJvbWlzZSwgSlNWYWx1ZUNvbnN0IGZ1bmMpIHsKICByZXR1cm4ganNfaW52b2tlKGN0eCwgcHJvbWlzZSwgImNhdGNoIiwgMSwgJmZ1bmMpOwp9CgpKU1ZhbHVlCmpzX3Byb21pc2Vfd3JhcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgSlNWYWx1ZSByZXQsIHByb21pc2UsIHJlc29sdmluZ19mdW5jc1syXTsKICBwcm9taXNlID0gSlNfTmV3UHJvbWlzZUNhcGFiaWxpdHkoY3R4LCByZXNvbHZpbmdfZnVuY3MpOwogIHJldCA9IEpTX0NhbGwoY3R4LCByZXNvbHZpbmdfZnVuY3NbMF0sIEpTX1VOREVGSU5FRCwgMSwgJnZhbHVlKTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwoKICBKU19GcmVlVmFsdWUoY3R4LCByZXNvbHZpbmdfZnVuY3NbMF0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHJlc29sdmluZ19mdW5jc1sxXSk7CiAgcmV0dXJuIHByb21pc2U7Cn0KCkpTVmFsdWUKanNfcHJvbWlzZV9hZG9wdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgaWYoanNfaXNfcHJvbWlzZShjdHgsIHZhbHVlKSkKICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKICByZXR1cm4ganNfcHJvbWlzZV93cmFwKGN0eCwgdmFsdWUpOwp9CgovKioKICogQH0KICovCgAAAAAAAAAAP+sAAAAAAAAAAAAAAAAAAAAAAAA/6wAAAAAAAAAAAAAAAAAAAAAAAD/rAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMSmAAAAAAAAxKYAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "path.c",
			"settings":
			{
				"buffer_size": 12614,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					6,
					6,
					"left_delete",
					null,
					"BgAAABoHAAAAAAAAGgcAAAAAAAABAAAAZBkHAAAAAAAAGQcAAAAAAAABAAAAbhgHAAAAAAAAGAcAAAAAAAABAAAAZRcHAAAAAAAAFwcAAAAAAAABAAAAKhYHAAAAAAAAFgcAAAAAAAABAAAAIBUHAAAAAAAAFQcAAAAAAAABAAAALA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABsHAAAAAAAAGwcAAAAAAAAAAAAAAADwvw"
				],
				[
					18,
					3,
					"left_delete",
					null,
					"AwAAAGYHAAAAAAAAZgcAAAAAAAAOAAAAZW5kID0gcGF0aCArIG5lBwAAAAAAAGUHAAAAAAAAAQAAACBkBwAAAAAAAGQHAAAAAAAAAQAAACw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGYHAAAAAAAAdAcAAAAAAAAAAAAAAADwvw"
				],
				[
					28,
					1,
					"right_delete",
					null,
					"AQAAADYbAAAAAAAANhsAAAAAAAALAAAAICBjaGFyKiBwOwo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADYbAAAAAAAAQRsAAAAAAAAAAAAAAAAAAA"
				],
				[
					33,
					4,
					"right_delete",
					null,
					"BAAAAGcbAAAAAAAAZxsAAAAAAAABAAAAcGcbAAAAAAAAZxsAAAAAAAABAAAAIGcbAAAAAAAAZxsAAAAAAAABAAAAPWcbAAAAAAAAZxsAAAAAAAABAAAAIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGcbAAAAAAAAZxsAAAAAAAAAAAAAAADwvw"
				],
				[
					36,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABGMQAAI2luY2x1ZGUgInBhdGguaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKI2lmbmRlZiBQQVRIX01BWAojZGVmaW5lIFBBVEhfTUFYIDQwOTYKI2VuZGlmCgojaWZuZGVmIEhBVkVfTFNUQVQKI2RlZmluZSBsc3RhdCBzdGF0CiNlbmRpZgoKLyoqCiAqIFxhZGR0b2dyb3VwIHBhdGgKICogQHsKICovCgppbnQKcGF0aF9hYnNvbHV0ZShjb25zdCBjaGFyKiBwYXRoLCBEeW5CdWYqIGRiKSB7CiAgaWYoIXBhdGhfaXNhYnMocGF0aCkpIHsKICAgIGRidWZfcmVhbGxvYyhkYiwgUEFUSF9NQVggKyAxKTsKICAgIGlmKGdldGN3ZCgoY2hhciopZGItPmJ1ZiwgUEFUSF9NQVggKyAxKSkKICAgICAgZGItPnNpemUgPSBzdHJsZW4oKGNvbnN0IGNoYXIqKWRiLT5idWYpOwogICAgZWxzZQogICAgICBkYi0+c2l6ZSA9IDA7CiAgICBpZihzdHJjbXAocGF0aCwgIi4iKSkgewogICAgICBkYnVmX3B1dGMoZGIsIFBBVEhTRVBfQyk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCBwYXRoKTsKICAgIH0KICAgIHJldHVybiAxOwogIH0gZWxzZSB7CiAgICBkYnVmX3B1dHN0cihkYiwgcGF0aCk7CiAgfQogIHJldHVybiAwOwp9CgppbnQKcGF0aF9hYnNvbHV0ZV9kYihEeW5CdWYqIGRiKSB7CiAgaW50IHJldCA9IDA7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwoKICBpZighcGF0aF9pc19hYnNvbHV0ZSgoY29uc3QgY2hhciopZGItPmJ1ZiwgZGItPnNpemUpKSB7CiAgICBEeW5CdWYgdG1wOwogICAgZGJ1Zl9pbml0KCZ0bXApOwogICAgZGJ1Zl9hcHBlbmQoJnRtcCwgZGItPmJ1ZiwgZGItPnNpemUpOwoKICAgIGRidWZfcmVhbGxvYyhkYiwgUEFUSF9NQVggKyAxKTsKICAgIGlmKGdldGN3ZCgoY2hhciopZGItPmJ1ZiwgUEFUSF9NQVgpKSB7CiAgICAgIGRiLT5zaXplID0gc3RybGVuKChjb25zdCBjaGFyKilkYi0+YnVmKTsKICAgIH0KCiAgICBkYnVmX3B1dGMoZGIsIFBBVEhTRVBfQyk7CiAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKXRtcC5idWYsIHRtcC5zaXplKTsKICAgIGRidWZfZnJlZSgmdG1wKTsKICAgIHJldCA9IDE7CiAgfQogIGlmKGRiLT5zaXplICYmIHBhdGhfaXNzZXAoZGItPmJ1ZltkYi0+c2l6ZSAtIDFdKSkKICAgIC0tZGItPnNpemU7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKcGF0aF9hcHBlbmQoY29uc3QgY2hhciogeCwgc2l6ZV90IGxlbiwgRHluQnVmKiBkYikgewogIGlmKGRiLT5zaXplID4gMCAmJiBkYi0+YnVmW2RiLT5zaXplIC0gMV0gIT0gUEFUSFNFUF9DKQogICAgZGJ1Zl9wdXRjKGRiLCBQQVRIU0VQX0MpOwoKICBpZihsZW4gPiAyICYmIHhbMF0gPT0gJy4nICYmIHhbMV0gPT0gUEFUSFNFUF9DKSB7CiAgICB4ICs9IDI7CiAgICBsZW4gLT0gMjsKICB9CiAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kil4LCBsZW4pOwp9CgppbnQKcGF0aF9jYW5vbmljYWwoY29uc3QgY2hhciogcGF0aCwgRHluQnVmKiBkYikgewogIGRiLT5zaXplID0gMDsKICBkYnVmX3B1dHN0cihkYiwgcGF0aCk7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwogIHJldHVybiBwYXRoX2Nhbm9uaWNhbF9idWYoZGIpOwp9CgppbnQKcGF0aF9jYW5vbmljYWxfYnVmKER5bkJ1ZiogZGIpIHsKICBkYi0+c2l6ZSA9IHBhdGhfY29sbGFwc2UoKGNoYXIqKWRiLT5idWYsIGRiLT5zaXplKTsKICBkYnVmX3B1dGMoZGIsICdcMCcpOwogIGRiLT5zaXplLS07CiAgcmV0dXJuIDE7Cn0KCnNpemVfdApwYXRoX2NvbGxhcHNlKGNoYXIqIHBhdGgsIHNpemVfdCBuKSB7CiAgY2hhciAqeDsKICBpbnQgcmV0ID0gMDsKICBjaGFyIHNlcCA9IHBhdGhfZ2V0c2VwKHBhdGgpOwogIHNpemVfdCBsLCBpOwoKICBmb3IoeCA9IHBhdGgsIGkgPSAwOyBpIDwgbjspIHsKICAgIHdoaWxlKHhbaV0gPT0gc2VwKSBpKys7CgogICAgbCA9IGkgKyBieXRlX2NocigmeFtpXSwgbiAtIGksIHNlcCk7CiAgICBpZihsIDwgbikgewogICAgICBsKys7CiAgICAgIGlmKGwgKyAyIDw9IG4pIHsKICAgICAgICBpZih4W2xdID09ICcuJyAmJiB4W2wgKyAxXSA9PSAnLicgJiYgKGwgKyAyID49IG4gfHwgeFtsICsgMl0gPT0gc2VwKSkgewogICAgICAgICAgbCArPSAzOwogICAgICAgICAgaWYobCA8IG4pCiAgICAgICAgICAgIG1lbW1vdmUoJnhbaV0sICZ4W2xdLCBuIC0gbCk7CiAgICAgICAgICBuID0gaSArIChuIC0gbCk7CiAgICAgICAgICB4W25dID0gJ1wwJzsKCiAgICAgICAgICB3aGlsZSh4Wy0taV0gPT0gc2VwKQogICAgICAgICAgICA7CiAgICAgICAgICB3aGlsZShpID4gMCAmJiB4W2ldICE9IHNlcCkgaS0tOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaSA9IGw7CiAgfQoKICByZXR1cm4gbjsKfQoKU2l6ZVBhaXIKcGF0aF9jb21tb25fcHJlZml4KGNvbnN0IGNoYXIqIHMxLCBzaXplX3QgbjEsIGNvbnN0IGNoYXIqIHMyLCBzaXplX3QgbjIpIHsKICBTaXplUGFpciByOwoKICBmb3Ioci5zejEgPSAwLCByLnN6MiA9IDA7IHIuc3oxICE9IG4xICYmIHIuc3oyICE9IG4yOykgewogICAgc2l6ZV90IGkxLCBpMjsKCiAgICBpMSA9IHBhdGhfc2tpcF9zZXBhcmF0b3IoJnMxW3Iuc3oxXSwgbjEgLSByLnN6MSwgMCk7CiAgICBpMiA9IHBhdGhfc2tpcF9zZXBhcmF0b3IoJnMyW3Iuc3oyXSwgbjIgLSByLnN6MiwgMCk7CgogICAgaWYoISFpMSAhPSAhIWkyKQogICAgICBicmVhazsKCiAgICByLnN6MSArPSBpMTsKICAgIHIuc3oyICs9IGkyOwoKICAgIGkxID0gcGF0aF9za2lwX2NvbXBvbmVudCgmczFbci5zejFdLCBuMSAtIHIuc3oxLCAwKTsKICAgIGkyID0gcGF0aF9za2lwX2NvbXBvbmVudCgmczJbci5zejJdLCBuMiAtIHIuc3oyLCAwKTsKCiAgICBpZihpMSAhPSBpMikKICAgICAgYnJlYWs7CgogICAgaWYobWVtY21wKCZzMVtyLnN6MV0sICZzMltyLnN6Ml0sIGkxKSkKICAgICAgYnJlYWs7CgogICAgci5zejEgKz0gaTE7CiAgICByLnN6MiArPSBpMjsKICB9CiAgcmV0dXJuIHI7Cn0KCnNpemVfdApwYXRoX2NvbXBvbmVudHMoY29uc3QgY2hhciogcCwgc2l6ZV90IGxlbiwgdWludDMyX3QgbikgewogIGNvbnN0IGNoYXIgKnMgPSBwLCAqZSA9IHAgKyBsZW47CiAgc2l6ZV90IGNvdW50ID0gMDsKICB3aGlsZShzIDwgZSkgewogICAgcyArPSBwYXRoX3NraXBfc2VwYXJhdG9yKHMsIGUgLSBzLCAwKTsKICAgIGlmKHMgPT0gZSkKICAgICAgYnJlYWs7CgogICAgcyArPSBwYXRoX2xlbmd0aChzLCBlIC0gcyk7CiAgICBpZigtLW4gPD0gMCkKICAgICAgYnJlYWs7CgogICAgY291bnQrKzsKICB9CiAgcmV0dXJuIGNvdW50Owp9Cgp2b2lkCnBhdGhfY29uY2F0KGNvbnN0IGNoYXIqIGEsIHNpemVfdCBhbGVuLCBjb25zdCBjaGFyKiBiLCBzaXplX3QgYmxlbiwgRHluQnVmKiBkYikgewogIER5bkJ1ZiB0bXA7CiAgY29uc3QgY2hhciogeDsKICBzaXplX3Qgc2l6ZTsKICBkYnVmX2luaXQoJnRtcCk7CgogIHBhdGhfYXBwZW5kKGEsIGFsZW4sICZ0bXApOwogIHBhdGhfYXBwZW5kKGIsIGJsZW4sICZ0bXApOwoKICB4ID0gKGNvbnN0IGNoYXIqKXRtcC5idWY7CiAgc2l6ZSA9IHRtcC5zaXplOwogIGlmKHNpemUgPiAyICYmIHRtcC5idWZbMF0gPT0gJy4nICYmIHRtcC5idWZbMV0gPT0gUEFUSFNFUF9DKSB7CiAgICB4ICs9IDI7CiAgICBzaXplIC09IDI7CiAgfQogIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopeCwgc2l6ZSk7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwoKICBkYnVmX2ZyZWUoJnRtcCk7Cn0KCmludApwYXRoX2V4aXN0cyhjb25zdCBjaGFyKiBwKSB7CiAgc3RydWN0IHN0YXQgc3Q7CiAgaW50IHI7CiAgcmV0dXJuICgociA9IGxzdGF0KHAsICZzdCkpID09IDApOwp9Cgpjb25zdCBjaGFyKgpwYXRoX2V4dG5hbWUoY29uc3QgY2hhciogcCkgewogIHNpemVfdCBwb3M7CiAgY2hhciogcTsKICBpZigocSA9IHN0cnJjaHIocCwgUEFUSFNFUF9DKSkpCiAgICBwID0gcSArIDE7CgogIHBvcyA9IHN0cl9yY2hyKHAsICcuJyk7CiAgcCArPSBwb3M7CiAgcmV0dXJuIHA7Cn0KCmludApwYXRoX2ZpbmQoY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciogbmFtZSwgRHluQnVmKiBkYikgewogIERJUiogZGlyOwogIHN0cnVjdCBkaXJlbnQqIGVudHJ5OwogIGludCByZXQgPSAwOwoKICBpZighKGRpciA9IG9wZW5kaXIocGF0aCkpKQogICAgcmV0dXJuIDA7CgogIHdoaWxlKChlbnRyeSA9IHJlYWRkaXIoZGlyKSkpIHsKICAgIGNvbnN0IGNoYXIqIHMgPSBlbnRyeS0+ZF9uYW1lOwogICAgaWYoIXN0cmNhc2VjbXAocywgbmFtZSkpIHsKICAgICAgZGJ1Zl9wdXRzdHIoZGIsIHBhdGgpOwogICAgICBkYnVmX3B1dGMoZGIsIFBBVEhTRVBfQyk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCBzKTsKICAgICAgcmV0ID0gMTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBjbG9zZWRpcihkaXIpOwogIHJldHVybiByZXQ7Cn0KCmludApwYXRoX2ZubWF0Y2goY29uc3QgY2hhciogcGF0dGVybiwgdW5zaWduZWQgaW50IHBsZW4sIGNvbnN0IGNoYXIqIHN0cmluZywgdW5zaWduZWQgaW50IHNsZW4sIGludCBmbGFncykgewpzdGFydDoKICBpZihzbGVuID09IDApIHsKICAgIHdoaWxlKHBsZW4gJiYgKnBhdHRlcm4gPT0gJyonKSB7CiAgICAgIHBhdHRlcm4rKzsKICAgICAgcGxlbi0tOwogICAgfQogICAgcmV0dXJuIChwbGVuID8gUEFUSF9GTk1fTk9NQVRDSCA6IDApOwogIH0KICBpZihwbGVuID09IDApCiAgICByZXR1cm4gUEFUSF9GTk1fTk9NQVRDSDsKICBpZigqc3RyaW5nID09ICcuJyAmJiAqcGF0dGVybiAhPSAnLicgJiYgKGZsYWdzICYgUEFUSF9GTk1fUEVSSU9EKSkgewogICAgaWYoIShmbGFncyAmIFBBVEhfTk9URklSU1QpKQogICAgICByZXR1cm4gUEFUSF9GTk1fTk9NQVRDSDsKICAgIGlmKChmbGFncyAmIFBBVEhfRk5NX1BBVEhOQU1FKSAmJiBzdHJpbmdbLTFdID09ICcvJykKICAgICAgcmV0dXJuIFBBVEhfRk5NX05PTUFUQ0g7CiAgfQogIGZsYWdzIHw9IFBBVEhfTk9URklSU1Q7CiAgc3dpdGNoKCpwYXR0ZXJuKSB7CiAgICBjYXNlICdbJzogewogICAgICBjb25zdCBjaGFyKiBzdGFydDsKICAgICAgaW50IG5lZyA9IDA7CiAgICAgIHBhdHRlcm4rKzsKICAgICAgcGxlbi0tOwogICAgICBpZigqc3RyaW5nID09ICcvJyAmJiAoZmxhZ3MgJiBQQVRIX0ZOTV9QQVRITkFNRSkpCiAgICAgICAgcmV0dXJuIFBBVEhfRk5NX05PTUFUQ0g7CiAgICAgIG5lZyA9ICgqcGF0dGVybiA9PSAnIScpOwogICAgICBwYXR0ZXJuICs9IG5lZzsKICAgICAgcGxlbiAtPSBuZWc7CiAgICAgIHN0YXJ0ID0gcGF0dGVybjsKICAgICAgd2hpbGUocGxlbikgewogICAgICAgIGludCByZXMgPSAwOwogICAgICAgIGlmKCpwYXR0ZXJuID09ICddJyAmJiBwYXR0ZXJuICE9IHN0YXJ0KQogICAgICAgICAgYnJlYWs7CiAgICAgICAgaWYoKnBhdHRlcm4gPT0gJ1snICYmIHBhdHRlcm5bMV0gPT0gJzonKSB7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmKHBsZW4gPiAxICYmIHBhdHRlcm5bMV0gPT0gJy0nICYmIHBhdHRlcm5bMl0gIT0gJ10nKSB7CiAgICAgICAgICAgIHJlcyA9ICgqc3RyaW5nID49ICpwYXR0ZXJuICYmICpzdHJpbmcgPD0gcGF0dGVyblsyXSk7CiAgICAgICAgICAgIHBhdHRlcm4gKz0gMzsKICAgICAgICAgICAgcGxlbiAtPSAzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzID0gKCpwYXR0ZXJuID09ICpzdHJpbmcpOwogICAgICAgICAgICBwYXR0ZXJuKys7CiAgICAgICAgICAgIHBsZW4tLTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoKHJlcyAmJiAhbmVnKSB8fCAoKCFyZXMgJiYgbmVnKSAmJiAqcGF0dGVybiA9PSAnXScpKSB7CiAgICAgICAgICB3aGlsZShwbGVuICYmICpwYXR0ZXJuICE9ICddJykgewogICAgICAgICAgICBwYXR0ZXJuKys7CiAgICAgICAgICAgIHBsZW4tLTsKICAgICAgICAgIH0KICAgICAgICAgIHBhdHRlcm4gKz0gISFwbGVuOwogICAgICAgICAgcGxlbiAtPSAhIXBsZW47CiAgICAgICAgICBzdHJpbmcrKzsKICAgICAgICAgIHNsZW4tLTsKICAgICAgICAgIGdvdG8gc3RhcnQ7CiAgICAgICAgfSBlbHNlIGlmKHJlcyAmJiBuZWcpCiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSBicmVhazsKICAgIGNhc2UgJ1xcJzogewogICAgICBpZighKGZsYWdzICYgUEFUSF9GTk1fTk9FU0NBUEUpKSB7CiAgICAgICAgcGF0dGVybisrOwogICAgICAgIHBsZW4tLTsKICAgICAgICBpZihwbGVuKQogICAgICAgICAgZ290byBtYXRjaDsKICAgICAgfSBlbHNlCiAgICAgICAgZ290byBtYXRjaDsKICAgIH0gYnJlYWs7CiAgICBjYXNlICcqJzogewogICAgICBpZigoKnN0cmluZyA9PSAnLycgJiYgKGZsYWdzICYgUEFUSF9GTk1fUEFUSE5BTUUpKSB8fCBwYXRoX2ZubWF0Y2gocGF0dGVybiwgcGxlbiwgc3RyaW5nICsgMSwgc2xlbiAtIDEsIGZsYWdzKSkgewogICAgICAgIHBhdHRlcm4rKzsKICAgICAgICBwbGVuLS07CiAgICAgICAgZ290byBzdGFydDsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlICc/JzogewogICAgICBpZigqc3RyaW5nID09ICcvJyAmJiAoZmxhZ3MgJiBQQVRIX0ZOTV9QQVRITkFNRSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHBhdHRlcm4rKzsKICAgICAgcGxlbi0tOwogICAgICBzdHJpbmcrKzsKICAgICAgc2xlbi0tOwogICAgfQogICAgICBnb3RvIHN0YXJ0OwogICAgZGVmYXVsdDoKICAgIG1hdGNoIDogewogICAgICBpZigqcGF0dGVybiA9PSAqc3RyaW5nKSB7CiAgICAgICAgcGF0dGVybisrOwogICAgICAgIHBsZW4tLTsKICAgICAgICBzdHJpbmcrKzsKICAgICAgICBzbGVuLS07CiAgICAgICAgZ290byBzdGFydDsKICAgICAgfQogICAgfSBicmVhazsKICB9CiAgcmV0dXJuIFBBVEhfRk5NX05PTUFUQ0g7Cn0KCmNoYXIqCnBhdGhfZ2V0Y3dkKER5bkJ1ZiogZGIpIHsKICBkYnVmX3plcm8oZGIpOwogIGRidWZfcmVhbGxvYyhkYiwgUEFUSF9NQVgpOwogIGdldGN3ZCgoY2hhciopZGItPmJ1ZiwgZGItPmFsbG9jYXRlZF9zaXplKTsKICBkYi0+c2l6ZSA9IHN0cmxlbigoY29uc3QgY2hhciopZGItPmJ1Zik7CiAgZGJ1Zl8wKGRiKTsKICByZXR1cm4gKGNoYXIqKWRiLT5idWY7Cn0KCmNoYXIqCnBhdGhfZ2V0aG9tZShpbnQgdWlkKSB7CiAgRklMRSogZnA7CgogIGNoYXIgKmxpbmUsICpyZXQgPSAwOwogIGNoYXIgYnVmWzEwMjRdOwogIHN0YXRpYyBjaGFyIGhvbWVbUEFUSF9NQVggKyAxXTsKICBpZigoZnAgPSBmb3BlbigiL2V0Yy9wYXNzd2QiLCAiciIpKSA9PSAwKQogICAgcmV0dXJuIDA7CiAgd2hpbGUoKGxpbmUgPSBmZ2V0cyhidWYsIHNpemVvZihidWYpIC0gMSwgZnApKSkgewogICAgc2l6ZV90IHAsIG4sIGxlbiA9IHN0cmxlbihsaW5lKTsKICAgIGNoYXIgKnVzZXIsICppZCwgKmRpcjsKICAgIHdoaWxlKGxlbiA+IDAgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKGJ1ZltsZW4gLSAxXSkpIGJ1ZlstLWxlbl0gPSAnXDAnOwogICAgdXNlciA9IGJ1ZjsKICAgIHVzZXJbcCA9IHN0cl9jaHIodXNlciwgJzonKV0gPSAnXDAnOwogICAgbGluZSA9IGJ1ZiArIHAgKyAxOwogICAgZm9yKG4gPSAxOyBuID4gMDsgbi0tKSB7CiAgICAgIHAgPSBzdHJfY2hyKGxpbmUsICc6Jyk7CiAgICAgIGxpbmVbcF0gPSAnXDAnOwogICAgICBsaW5lICs9IHAgKyAxOwogICAgfQogICAgaWQgPSBsaW5lOwogICAgZm9yKG4gPSAzOyBuID4gMDsgbi0tKSB7CiAgICAgIHAgPSBzdHJfY2hyKGxpbmUsICc6Jyk7CiAgICAgIGxpbmVbcF0gPSAnXDAnOwogICAgICBsaW5lICs9IHAgKyAxOwogICAgfQogICAgaWYoYXRvaShpZCkgIT0gdWlkKQogICAgICBjb250aW51ZTsKICAgIGRpciA9IGxpbmU7CiAgICBuID0gc3RyX2NocihsaW5lLCAnOicpOwogICAgc3RybmNweShob21lLCBkaXIsIG4pOwogICAgaG9tZVtuXSA9ICdcMCc7CiAgICByZXQgPSBob21lOwogIH0KICBmY2xvc2UoZnApOwogIHJldHVybiByZXQ7Cn0KCmludApwYXRoX2lzX2Fic29sdXRlKGNvbnN0IGNoYXIqIHgsIHNpemVfdCBuKSB7CiAgaWYobiA+IDAgJiYgeFswXSA9PSBQQVRIU0VQX0MpCiAgICByZXR1cm4gMTsKI2lmZGVmIF9XSU4zMgogIGlmKG4gPj0gMiAmJiB4WzFdID09ICc6JykKICAgIHJldHVybiAxOwojZW5kaWYKICByZXR1cm4gMDsKfQoKaW50CnBhdGhfaXNfZGlyZWN0b3J5KGNvbnN0IGNoYXIqIHApIHsKICBzdHJ1Y3Qgc3RhdCBzdDsKICBpbnQgcjsKICBpZigociA9IGxzdGF0KHAsICZzdCkgPT0gMCkpIHsKICAgIGlmKFNfSVNESVIoc3Quc3RfbW9kZSkpCiAgICAgIHJldHVybiAxOwogIH0KICByZXR1cm4gMDsKfQoKaW50CnBhdGhfaXNfc3ltbGluayhjb25zdCBjaGFyKiBwKSB7CiNpZmRlZiBfV0lOMzIKICByZXR1cm4gaXNfc3ltbGluayhwKTsKI2Vsc2UKICBzdHJ1Y3Qgc3RhdCBzdDsKICBpbnQgcjsKICBpZigociA9IGxzdGF0KHAsICZzdCkgPT0gMCkpIHsKICAgIGlmKFNfSVNMTksoc3Quc3RfbW9kZSkpCiAgICAgIHJldHVybiAxOwogIH0KICByZXR1cm4gMDsKI2VuZGlmCn0KCmludApwYXRoX25vcm1hbGl6ZShjb25zdCBjaGFyKiBwYXRoLCBEeW5CdWYqIGRiLCBpbnQgc3ltYm9saWMpIHsKICBzaXplX3QgbjsKICBzdHJ1Y3Qgc3RhdCBzdDsKICBpbnQgcmV0ID0gMTsKICBjaGFyIHNlcCwgYnVmW1BBVEhfTUFYICsgMV07CiAgaW50ICgqc3RhdF9mbikoY29uc3QgY2hhciosIHN0cnVjdCBzdGF0KikgPSBzdGF0OwogIGlmKHN5bWJvbGljKQogICAgc3RhdF9mbiA9IGxzdGF0OwogIGlmKHBhdGhfaXNzZXAoKnBhdGgpKSB7CiAgICBkYnVmX3B1dGMoZGIsIChzZXAgPSAqcGF0aCkpOwogICAgcGF0aCsrOwogIH0gZWxzZQogICAgc2VwID0gUEFUSFNFUF9DOwpzdGFydDoKICB3aGlsZSgqcGF0aCkgewogICAgd2hpbGUocGF0aF9pc3NlcCgqcGF0aCkpIHNlcCA9ICpwYXRoKys7CiAgICBpZihwYXRoWzBdID09ICcuJykgewogICAgICBpZihwYXRoX2lzc2VwKHBhdGhbMV0pIHx8IHBhdGhbMV0gPT0gJ1wwJykgewogICAgICAgIHBhdGgrKzsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBpZihwYXRoWzFdID09ICcuJyAmJiAocGF0aF9pc3NlcChwYXRoWzJdKSB8fCBwYXRoWzJdID09ICdcMCcpKSB7CiAgICAgICAgZGItPnNpemUgPSBwYXRoX3JpZ2h0KChjb25zdCBjaGFyKilkYi0+YnVmLCBkYi0+c2l6ZSk7CiAgICAgICAgcGF0aCArPSAyOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CiAgICBpZigqcGF0aCA9PSAnXDAnKQogICAgICBicmVhazsKICAgIGlmKGRiLT5zaXplICYmIChkYi0+YnVmW2RiLT5zaXplIC0gMV0gIT0gJy8nICYmIGRiLT5idWZbZGItPnNpemUgLSAxXSAhPSAnXFwnKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCBzZXApOwogICAgbiA9IHBhdGhfbGVuZ3RoX3MocGF0aCk7CiAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKXBhdGgsIG4pOwogICAgaWYobiA9PSAyICYmIHBhdGhbMV0gPT0gJzonKQogICAgICBkYnVmX3B1dGMoZGIsIHNlcCk7CiAgICBkYnVmXzAoZGIpOwogICAgcGF0aCArPSBuOwogICAgbWVtc2V0KCZzdCwgMCwgc2l6ZW9mKHN0KSk7CiAgICBpZihzdGF0X2ZuKChjb25zdCBjaGFyKilkYi0+YnVmLCAmc3QpICE9IC0xICYmIHBhdGhfaXNfc3ltbGluaygoY29uc3QgY2hhciopZGItPmJ1ZikpIHsKICAgICAgcmV0Kys7CiAgICAgIGlmKChzc2l6ZV90KShuID0gcmVhZGxpbmsoKGNvbnN0IGNoYXIqKWRiLT5idWYsIGJ1ZiwgUEFUSF9NQVgpKSA9PSAoc3NpemVfdCktMSkKICAgICAgICByZXR1cm4gMDsKICAgICAgaWYocGF0aF9pc19hYnNvbHV0ZShidWYsIG4pKSB7CiAgICAgICAgc3RybmNweSgmYnVmW25dLCBwYXRoLCBQQVRIX01BWCAtIG4pOwogICAgICAgIGRidWZfemVybyhkYik7CiAgICAgICAgZGJ1Zl9wdXRjKGRiLCBzZXApOwogICAgICAgIHBhdGggPSBidWY7CiAgICAgICAgZ290byBzdGFydDsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbnQgcnJldDsKICAgICAgICBkYi0+c2l6ZSA9IHBhdGhfcmlnaHQoKGNvbnN0IGNoYXIqKWRiLT5idWYsIGRiLT5zaXplKTsKICAgICAgICBidWZbbl0gPSAnXDAnOwogICAgICAgIHJyZXQgPSBwYXRoX25vcm1hbGl6ZShidWYsIGRiLCBzeW1ib2xpYyk7CiAgICAgICAgaWYoIXJyZXQpCiAgICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfQogIH0KICBpZihkYi0+c2l6ZSA9PSAwKQogICAgZGJ1Zl9wdXRjKGRiLCBzZXApOwogIHJldHVybiByZXQ7Cn0KCmludApwYXRoX3JlbGF0aXZlKGNvbnN0IGNoYXIqIHBhdGgsIGNvbnN0IGNoYXIqIHJlbGF0aXZlX3RvLCBEeW5CdWYqIG91dCkgewogIHJldHVybiBwYXRoX3JlbGF0aXZlX2IocGF0aCwgc3RybGVuKHBhdGgpLCByZWxhdGl2ZV90bywgc3RybGVuKHJlbGF0aXZlX3RvKSwgb3V0KTsKfQoKaW50CnBhdGhfcmVsYXRpdmVfYihjb25zdCBjaGFyKiBzMSwgc2l6ZV90IG4xLCBjb25zdCBjaGFyKiBzMiwgc2l6ZV90IG4yLCBEeW5CdWYqIG91dCkgewogIFNpemVQYWlyIHA7CiAgc2l6ZV90IGk7CgogIHAgPSBwYXRoX2NvbW1vbl9wcmVmaXgoczEsIG4xLCBzMiwgbjIpOwogIGRidWZfemVybyhvdXQpOwoKICBzMSArPSBwLnN6MTsKICBuMSAtPSBwLnN6MTsKICBzMiArPSBwLnN6MjsKICBuMiAtPSBwLnN6MjsKCiAgd2hpbGUoKGkgPSBwYXRoX3NraXAoczIsIG4yKSkpIHsKICAgIGRidWZfcHV0c3RyKG91dCwgIi4uIiBQQVRIU0VQX1MpOwogICAgczIgKz0gaTsKICAgIG4yIC09IGk7CiAgfQoKICBpID0gcGF0aF9za2lwX3NlcGFyYXRvcihzMSwgbjEsIDApOwogIGRidWZfYXBwZW5kKG91dCwgczEgKyBpLCBuMSAtIGkpOwoKICBpZihvdXQtPnNpemUgPT0gMCkKICAgIGRidWZfcHV0YyhvdXQsICcuJyk7CiAgZWxzZSBpZihvdXQtPmJ1ZltvdXQtPnNpemUgLSAxXSA9PSBQQVRIU0VQX0MpCiAgICBvdXQtPnNpemUtLTsKCiAgZGJ1Zl8wKG91dCk7CiAgcmV0dXJuIDE7Cn0KCnNpemVfdApwYXRoX3Jvb3QoY29uc3QgY2hhciogeCwgc2l6ZV90IG4pIHsKICBpZihuID4gMCAmJiB4WzBdID09IFBBVEhTRVBfQykKICAgIHJldHVybiAxOwoKICBpZihuID49IDMgJiYgaXNhbG51bSh4WzBdKSAmJiB4WzFdID09ICc6JyAmJiBwYXRoX2lzc2VwKHhbMl0pKQogICAgcmV0dXJuIDM7CgogIHJldHVybiAwOwp9CgpzaXplX3QKcGF0aF9za2lwX2NvbXBvbmVudChjb25zdCBjaGFyKiBwLCBzaXplX3QgbGVuLCBzaXplX3QgcG9zKSB7CiAgY29uc3QgY2hhciAqc3RhcnQgPSBwLCAqZW5kID0gcCArIGxlbjsKICBpZihwb3MgPiBsZW4pCiAgICBwb3MgPSBsZW47CgogIHAgKz0gcG9zOwogIHdoaWxlKHAgPCBlbmQgJiYgIXBhdGhfaXNzZXAoKnApKSArK3A7CiAgcmV0dXJuIHAgLSBzdGFydDsKfQoKc2l6ZV90CnBhdGhfc2tpcF9zZXBhcmF0b3IoY29uc3QgY2hhciogcCwgc2l6ZV90IGxlbiwgc2l6ZV90IHBvcykgewogIGNvbnN0IGNoYXIgKnN0YXJ0ID0gcCwgKmVuZCA9IHAgKyBsZW47CiAgaWYocG9zID4gbGVuKQogICAgcG9zID0gbGVuOwoKICBwICs9IHBvczsKICB3aGlsZShwIDwgZW5kICYmIHBhdGhfaXNzZXAoKnApKSArK3A7CiAgcmV0dXJuIHAgLSBzdGFydDsKfQoKY2hhcioKX19wYXRoX2Rpcm5hbWUoY29uc3QgY2hhciogcGF0aCwgRHluQnVmKiBkaXIpIHsKICBzaXplX3QgaSA9IHN0cl9yY2hycyhwYXRoLCAiL1xcIiwgMik7CiAgaWYocGF0aCA9PSBOVUxMIHx8IHBhdGhbaV0gPT0gJ1wwJykgewogICAgZGJ1Zl9wdXRzdHIoZGlyLCAiLiIpOwogIH0gZWxzZSB7CiAgICAvKiByZW1vdmUgdHJhaWxpbmcgc2xhc2hlcyAqLwogICAgd2hpbGUoaSA+IDAgJiYgcGF0aF9pc3NlcChwYXRoW2kgLSAxXSkpIC0taTsKICAgIGRidWZfcHV0KGRpciwgKGNvbnN0IHVpbnQ4X3QqKXBhdGgsIGkpOwogIH0KICBkYnVmXzAoZGlyKTsKICByZXR1cm4gKGNoYXIqKWRpci0+YnVmOwp9CgpjaGFyKgpwYXRoX2Rpcm5hbWUoY29uc3QgY2hhciogcGF0aCkgewogIER5bkJ1ZiBkaXI7CiAgZGJ1Zl9pbml0MigmZGlyLCAwLCAwKTsKICByZXR1cm4gX19wYXRoX2Rpcm5hbWUocGF0aCwgJmRpcik7Cn0KCiNkZWZpbmUgU1RBUlQgKChQQVRIX01BWCArIDEpID4+IDcpCgppbnQKcGF0aF9yZWFkbGluayhjb25zdCBjaGFyKiBwYXRoLCBEeW5CdWYqIGRpcikgewogIC8qIGRvIG5vdCBhbGxvY2F0ZSBQQVRIX01BWCBmcm9tIHRoZSBiZWdpbm5pbmcsCiAgICAgbW9zdCBwYXRocyB3aWxsIGJlIHNtYWxsZXIgKi8KICBzc2l6ZV90IG4gPSAoU1RBUlQgPyBTVEFSVCA6IDMyKTsKICBzc2l6ZV90IHN6OwogIGRvIHsKICAgIC8qIHJlc2VydmUgc29tZSBzcGFjZSAqLwogICAgbiA8PD0gMTsKICAgIGRidWZfcmVhbGxvYyhkaXIsIG4pOwogICAgaWYoKHN6ID0gcmVhZGxpbmsocGF0aCwgKGNoYXIqKWRpci0+YnVmLCBuKSkgPT0gLTEpCiAgICAgIHJldHVybiAtMTsKICAgIC8qIHJlcGVhdCB1bnRpbCB3ZSBoYXZlIHJlc2VydmVkIGVub3VnaCBzcGFjZSAqLwogIH0gd2hpbGUoc3ogPT0gbik7CgogIGRpci0+c2l6ZSA9IHN6OwogIC8qIG5vdyB0cnVuY2F0ZSB0byBlZmZlY3RpdmUgbGVuZ3RoICovCiAgcmV0dXJuIGRpci0+c2l6ZTsKfQoKLyoqCiAqIEB9CiAqLwoAAAAAAAAAAEYxAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGcbAAAAAAAAZxsAAAAAAAAAAAAAAADwvw"
				],
				[
					37,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAABGMQAAI2luY2x1ZGUgInBhdGguaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKI2lmbmRlZiBQQVRIX01BWAojZGVmaW5lIFBBVEhfTUFYIDQwOTYKI2VuZGlmCgojaWZuZGVmIEhBVkVfTFNUQVQKI2RlZmluZSBsc3RhdCBzdGF0CiNlbmRpZgoKLyoqCiAqIFxhZGR0b2dyb3VwIHBhdGgKICogQHsKICovCgppbnQKcGF0aF9hYnNvbHV0ZShjb25zdCBjaGFyKiBwYXRoLCBEeW5CdWYqIGRiKSB7CiAgaWYoIXBhdGhfaXNhYnMocGF0aCkpIHsKICAgIGRidWZfcmVhbGxvYyhkYiwgUEFUSF9NQVggKyAxKTsKICAgIGlmKGdldGN3ZCgoY2hhciopZGItPmJ1ZiwgUEFUSF9NQVggKyAxKSkKICAgICAgZGItPnNpemUgPSBzdHJsZW4oKGNvbnN0IGNoYXIqKWRiLT5idWYpOwogICAgZWxzZQogICAgICBkYi0+c2l6ZSA9IDA7CiAgICBpZihzdHJjbXAocGF0aCwgIi4iKSkgewogICAgICBkYnVmX3B1dGMoZGIsIFBBVEhTRVBfQyk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCBwYXRoKTsKICAgIH0KICAgIHJldHVybiAxOwogIH0gZWxzZSB7CiAgICBkYnVmX3B1dHN0cihkYiwgcGF0aCk7CiAgfQogIHJldHVybiAwOwp9CgppbnQKcGF0aF9hYnNvbHV0ZV9kYihEeW5CdWYqIGRiKSB7CiAgaW50IHJldCA9IDA7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwoKICBpZighcGF0aF9pc19hYnNvbHV0ZSgoY29uc3QgY2hhciopZGItPmJ1ZiwgZGItPnNpemUpKSB7CiAgICBEeW5CdWYgdG1wOwogICAgZGJ1Zl9pbml0KCZ0bXApOwogICAgZGJ1Zl9hcHBlbmQoJnRtcCwgZGItPmJ1ZiwgZGItPnNpemUpOwoKICAgIGRidWZfcmVhbGxvYyhkYiwgUEFUSF9NQVggKyAxKTsKICAgIGlmKGdldGN3ZCgoY2hhciopZGItPmJ1ZiwgUEFUSF9NQVgpKSB7CiAgICAgIGRiLT5zaXplID0gc3RybGVuKChjb25zdCBjaGFyKilkYi0+YnVmKTsKICAgIH0KCiAgICBkYnVmX3B1dGMoZGIsIFBBVEhTRVBfQyk7CiAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKXRtcC5idWYsIHRtcC5zaXplKTsKICAgIGRidWZfZnJlZSgmdG1wKTsKICAgIHJldCA9IDE7CiAgfQogIGlmKGRiLT5zaXplICYmIHBhdGhfaXNzZXAoZGItPmJ1ZltkYi0+c2l6ZSAtIDFdKSkKICAgIC0tZGItPnNpemU7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKcGF0aF9hcHBlbmQoY29uc3QgY2hhciogeCwgc2l6ZV90IGxlbiwgRHluQnVmKiBkYikgewogIGlmKGRiLT5zaXplID4gMCAmJiBkYi0+YnVmW2RiLT5zaXplIC0gMV0gIT0gUEFUSFNFUF9DKQogICAgZGJ1Zl9wdXRjKGRiLCBQQVRIU0VQX0MpOwoKICBpZihsZW4gPiAyICYmIHhbMF0gPT0gJy4nICYmIHhbMV0gPT0gUEFUSFNFUF9DKSB7CiAgICB4ICs9IDI7CiAgICBsZW4gLT0gMjsKICB9CiAgZGJ1Zl9hcHBlbmQoZGIsIChjb25zdCB1aW50OF90Kil4LCBsZW4pOwp9CgppbnQKcGF0aF9jYW5vbmljYWwoY29uc3QgY2hhciogcGF0aCwgRHluQnVmKiBkYikgewogIGRiLT5zaXplID0gMDsKICBkYnVmX3B1dHN0cihkYiwgcGF0aCk7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwogIHJldHVybiBwYXRoX2Nhbm9uaWNhbF9idWYoZGIpOwp9CgppbnQKcGF0aF9jYW5vbmljYWxfYnVmKER5bkJ1ZiogZGIpIHsKICBkYi0+c2l6ZSA9IHBhdGhfY29sbGFwc2UoKGNoYXIqKWRiLT5idWYsIGRiLT5zaXplKTsKICBkYnVmX3B1dGMoZGIsICdcMCcpOwogIGRiLT5zaXplLS07CiAgcmV0dXJuIDE7Cn0KCnNpemVfdApwYXRoX2NvbGxhcHNlKGNoYXIqIHBhdGgsIHNpemVfdCBuKSB7CiAgY2hhciogeDsKICBpbnQgcmV0ID0gMDsKICBjaGFyIHNlcCA9IHBhdGhfZ2V0c2VwKHBhdGgpOwogIHNpemVfdCBsLCBpOwoKICBmb3IoeCA9IHBhdGgsIGkgPSAwOyBpIDwgbjspIHsKICAgIHdoaWxlKHhbaV0gPT0gc2VwKSBpKys7CgogICAgbCA9IGkgKyBieXRlX2NocigmeFtpXSwgbiAtIGksIHNlcCk7CiAgICBpZihsIDwgbikgewogICAgICBsKys7CiAgICAgIGlmKGwgKyAyIDw9IG4pIHsKICAgICAgICBpZih4W2xdID09ICcuJyAmJiB4W2wgKyAxXSA9PSAnLicgJiYgKGwgKyAyID49IG4gfHwgeFtsICsgMl0gPT0gc2VwKSkgewogICAgICAgICAgbCArPSAzOwogICAgICAgICAgaWYobCA8IG4pCiAgICAgICAgICAgIG1lbW1vdmUoJnhbaV0sICZ4W2xdLCBuIC0gbCk7CiAgICAgICAgICBuID0gaSArIChuIC0gbCk7CiAgICAgICAgICB4W25dID0gJ1wwJzsKCiAgICAgICAgICB3aGlsZSh4Wy0taV0gPT0gc2VwKQogICAgICAgICAgICA7CiAgICAgICAgICB3aGlsZShpID4gMCAmJiB4W2ldICE9IHNlcCkgaS0tOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaSA9IGw7CiAgfQoKICByZXR1cm4gbjsKfQoKU2l6ZVBhaXIKcGF0aF9jb21tb25fcHJlZml4KGNvbnN0IGNoYXIqIHMxLCBzaXplX3QgbjEsIGNvbnN0IGNoYXIqIHMyLCBzaXplX3QgbjIpIHsKICBTaXplUGFpciByOwoKICBmb3Ioci5zejEgPSAwLCByLnN6MiA9IDA7IHIuc3oxICE9IG4xICYmIHIuc3oyICE9IG4yOykgewogICAgc2l6ZV90IGkxLCBpMjsKCiAgICBpMSA9IHBhdGhfc2tpcF9zZXBhcmF0b3IoJnMxW3Iuc3oxXSwgbjEgLSByLnN6MSwgMCk7CiAgICBpMiA9IHBhdGhfc2tpcF9zZXBhcmF0b3IoJnMyW3Iuc3oyXSwgbjIgLSByLnN6MiwgMCk7CgogICAgaWYoISFpMSAhPSAhIWkyKQogICAgICBicmVhazsKCiAgICByLnN6MSArPSBpMTsKICAgIHIuc3oyICs9IGkyOwoKICAgIGkxID0gcGF0aF9za2lwX2NvbXBvbmVudCgmczFbci5zejFdLCBuMSAtIHIuc3oxLCAwKTsKICAgIGkyID0gcGF0aF9za2lwX2NvbXBvbmVudCgmczJbci5zejJdLCBuMiAtIHIuc3oyLCAwKTsKCiAgICBpZihpMSAhPSBpMikKICAgICAgYnJlYWs7CgogICAgaWYobWVtY21wKCZzMVtyLnN6MV0sICZzMltyLnN6Ml0sIGkxKSkKICAgICAgYnJlYWs7CgogICAgci5zejEgKz0gaTE7CiAgICByLnN6MiArPSBpMjsKICB9CiAgcmV0dXJuIHI7Cn0KCnNpemVfdApwYXRoX2NvbXBvbmVudHMoY29uc3QgY2hhciogcCwgc2l6ZV90IGxlbiwgdWludDMyX3QgbikgewogIGNvbnN0IGNoYXIgKnMgPSBwLCAqZSA9IHAgKyBsZW47CiAgc2l6ZV90IGNvdW50ID0gMDsKICB3aGlsZShzIDwgZSkgewogICAgcyArPSBwYXRoX3NraXBfc2VwYXJhdG9yKHMsIGUgLSBzLCAwKTsKICAgIGlmKHMgPT0gZSkKICAgICAgYnJlYWs7CgogICAgcyArPSBwYXRoX2xlbmd0aChzLCBlIC0gcyk7CiAgICBpZigtLW4gPD0gMCkKICAgICAgYnJlYWs7CgogICAgY291bnQrKzsKICB9CiAgcmV0dXJuIGNvdW50Owp9Cgp2b2lkCnBhdGhfY29uY2F0KGNvbnN0IGNoYXIqIGEsIHNpemVfdCBhbGVuLCBjb25zdCBjaGFyKiBiLCBzaXplX3QgYmxlbiwgRHluQnVmKiBkYikgewogIER5bkJ1ZiB0bXA7CiAgY29uc3QgY2hhciogeDsKICBzaXplX3Qgc2l6ZTsKICBkYnVmX2luaXQoJnRtcCk7CgogIHBhdGhfYXBwZW5kKGEsIGFsZW4sICZ0bXApOwogIHBhdGhfYXBwZW5kKGIsIGJsZW4sICZ0bXApOwoKICB4ID0gKGNvbnN0IGNoYXIqKXRtcC5idWY7CiAgc2l6ZSA9IHRtcC5zaXplOwogIGlmKHNpemUgPiAyICYmIHRtcC5idWZbMF0gPT0gJy4nICYmIHRtcC5idWZbMV0gPT0gUEFUSFNFUF9DKSB7CiAgICB4ICs9IDI7CiAgICBzaXplIC09IDI7CiAgfQogIGRidWZfYXBwZW5kKGRiLCAoY29uc3QgdWludDhfdCopeCwgc2l6ZSk7CiAgZGJ1Zl9wdXRjKGRiLCAnXDAnKTsKICBkYi0+c2l6ZS0tOwoKICBkYnVmX2ZyZWUoJnRtcCk7Cn0KCmludApwYXRoX2V4aXN0cyhjb25zdCBjaGFyKiBwKSB7CiAgc3RydWN0IHN0YXQgc3Q7CiAgaW50IHI7CiAgcmV0dXJuICgociA9IGxzdGF0KHAsICZzdCkpID09IDApOwp9Cgpjb25zdCBjaGFyKgpwYXRoX2V4dG5hbWUoY29uc3QgY2hhciogcCkgewogIHNpemVfdCBwb3M7CiAgY2hhciogcTsKICBpZigocSA9IHN0cnJjaHIocCwgUEFUSFNFUF9DKSkpCiAgICBwID0gcSArIDE7CgogIHBvcyA9IHN0cl9yY2hyKHAsICcuJyk7CiAgcCArPSBwb3M7CiAgcmV0dXJuIHA7Cn0KCmludApwYXRoX2ZpbmQoY29uc3QgY2hhciogcGF0aCwgY29uc3QgY2hhciogbmFtZSwgRHluQnVmKiBkYikgewogIERJUiogZGlyOwogIHN0cnVjdCBkaXJlbnQqIGVudHJ5OwogIGludCByZXQgPSAwOwoKICBpZighKGRpciA9IG9wZW5kaXIocGF0aCkpKQogICAgcmV0dXJuIDA7CgogIHdoaWxlKChlbnRyeSA9IHJlYWRkaXIoZGlyKSkpIHsKICAgIGNvbnN0IGNoYXIqIHMgPSBlbnRyeS0+ZF9uYW1lOwogICAgaWYoIXN0cmNhc2VjbXAocywgbmFtZSkpIHsKICAgICAgZGJ1Zl9wdXRzdHIoZGIsIHBhdGgpOwogICAgICBkYnVmX3B1dGMoZGIsIFBBVEhTRVBfQyk7CiAgICAgIGRidWZfcHV0c3RyKGRiLCBzKTsKICAgICAgcmV0ID0gMTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBjbG9zZWRpcihkaXIpOwogIHJldHVybiByZXQ7Cn0KCmludApwYXRoX2ZubWF0Y2goY29uc3QgY2hhciogcGF0dGVybiwgdW5zaWduZWQgaW50IHBsZW4sIGNvbnN0IGNoYXIqIHN0cmluZywgdW5zaWduZWQgaW50IHNsZW4sIGludCBmbGFncykgewpzdGFydDoKICBpZihzbGVuID09IDApIHsKICAgIHdoaWxlKHBsZW4gJiYgKnBhdHRlcm4gPT0gJyonKSB7CiAgICAgIHBhdHRlcm4rKzsKICAgICAgcGxlbi0tOwogICAgfQogICAgcmV0dXJuIChwbGVuID8gUEFUSF9GTk1fTk9NQVRDSCA6IDApOwogIH0KICBpZihwbGVuID09IDApCiAgICByZXR1cm4gUEFUSF9GTk1fTk9NQVRDSDsKICBpZigqc3RyaW5nID09ICcuJyAmJiAqcGF0dGVybiAhPSAnLicgJiYgKGZsYWdzICYgUEFUSF9GTk1fUEVSSU9EKSkgewogICAgaWYoIShmbGFncyAmIFBBVEhfTk9URklSU1QpKQogICAgICByZXR1cm4gUEFUSF9GTk1fTk9NQVRDSDsKICAgIGlmKChmbGFncyAmIFBBVEhfRk5NX1BBVEhOQU1FKSAmJiBzdHJpbmdbLTFdID09ICcvJykKICAgICAgcmV0dXJuIFBBVEhfRk5NX05PTUFUQ0g7CiAgfQogIGZsYWdzIHw9IFBBVEhfTk9URklSU1Q7CiAgc3dpdGNoKCpwYXR0ZXJuKSB7CiAgICBjYXNlICdbJzogewogICAgICBjb25zdCBjaGFyKiBzdGFydDsKICAgICAgaW50IG5lZyA9IDA7CiAgICAgIHBhdHRlcm4rKzsKICAgICAgcGxlbi0tOwogICAgICBpZigqc3RyaW5nID09ICcvJyAmJiAoZmxhZ3MgJiBQQVRIX0ZOTV9QQVRITkFNRSkpCiAgICAgICAgcmV0dXJuIFBBVEhfRk5NX05PTUFUQ0g7CiAgICAgIG5lZyA9ICgqcGF0dGVybiA9PSAnIScpOwogICAgICBwYXR0ZXJuICs9IG5lZzsKICAgICAgcGxlbiAtPSBuZWc7CiAgICAgIHN0YXJ0ID0gcGF0dGVybjsKICAgICAgd2hpbGUocGxlbikgewogICAgICAgIGludCByZXMgPSAwOwogICAgICAgIGlmKCpwYXR0ZXJuID09ICddJyAmJiBwYXR0ZXJuICE9IHN0YXJ0KQogICAgICAgICAgYnJlYWs7CiAgICAgICAgaWYoKnBhdHRlcm4gPT0gJ1snICYmIHBhdHRlcm5bMV0gPT0gJzonKSB7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmKHBsZW4gPiAxICYmIHBhdHRlcm5bMV0gPT0gJy0nICYmIHBhdHRlcm5bMl0gIT0gJ10nKSB7CiAgICAgICAgICAgIHJlcyA9ICgqc3RyaW5nID49ICpwYXR0ZXJuICYmICpzdHJpbmcgPD0gcGF0dGVyblsyXSk7CiAgICAgICAgICAgIHBhdHRlcm4gKz0gMzsKICAgICAgICAgICAgcGxlbiAtPSAzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzID0gKCpwYXR0ZXJuID09ICpzdHJpbmcpOwogICAgICAgICAgICBwYXR0ZXJuKys7CiAgICAgICAgICAgIHBsZW4tLTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoKHJlcyAmJiAhbmVnKSB8fCAoKCFyZXMgJiYgbmVnKSAmJiAqcGF0dGVybiA9PSAnXScpKSB7CiAgICAgICAgICB3aGlsZShwbGVuICYmICpwYXR0ZXJuICE9ICddJykgewogICAgICAgICAgICBwYXR0ZXJuKys7CiAgICAgICAgICAgIHBsZW4tLTsKICAgICAgICAgIH0KICAgICAgICAgIHBhdHRlcm4gKz0gISFwbGVuOwogICAgICAgICAgcGxlbiAtPSAhIXBsZW47CiAgICAgICAgICBzdHJpbmcrKzsKICAgICAgICAgIHNsZW4tLTsKICAgICAgICAgIGdvdG8gc3RhcnQ7CiAgICAgICAgfSBlbHNlIGlmKHJlcyAmJiBuZWcpCiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSBicmVhazsKICAgIGNhc2UgJ1xcJzogewogICAgICBpZighKGZsYWdzICYgUEFUSF9GTk1fTk9FU0NBUEUpKSB7CiAgICAgICAgcGF0dGVybisrOwogICAgICAgIHBsZW4tLTsKICAgICAgICBpZihwbGVuKQogICAgICAgICAgZ290byBtYXRjaDsKICAgICAgfSBlbHNlCiAgICAgICAgZ290byBtYXRjaDsKICAgIH0gYnJlYWs7CiAgICBjYXNlICcqJzogewogICAgICBpZigoKnN0cmluZyA9PSAnLycgJiYgKGZsYWdzICYgUEFUSF9GTk1fUEFUSE5BTUUpKSB8fCBwYXRoX2ZubWF0Y2gocGF0dGVybiwgcGxlbiwgc3RyaW5nICsgMSwgc2xlbiAtIDEsIGZsYWdzKSkgewogICAgICAgIHBhdHRlcm4rKzsKICAgICAgICBwbGVuLS07CiAgICAgICAgZ290byBzdGFydDsKICAgICAgfQogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBjYXNlICc/JzogewogICAgICBpZigqc3RyaW5nID09ICcvJyAmJiAoZmxhZ3MgJiBQQVRIX0ZOTV9QQVRITkFNRSkpCiAgICAgICAgYnJlYWs7CiAgICAgIHBhdHRlcm4rKzsKICAgICAgcGxlbi0tOwogICAgICBzdHJpbmcrKzsKICAgICAgc2xlbi0tOwogICAgfQogICAgICBnb3RvIHN0YXJ0OwogICAgZGVmYXVsdDoKICAgIG1hdGNoIDogewogICAgICBpZigqcGF0dGVybiA9PSAqc3RyaW5nKSB7CiAgICAgICAgcGF0dGVybisrOwogICAgICAgIHBsZW4tLTsKICAgICAgICBzdHJpbmcrKzsKICAgICAgICBzbGVuLS07CiAgICAgICAgZ290byBzdGFydDsKICAgICAgfQogICAgfSBicmVhazsKICB9CiAgcmV0dXJuIFBBVEhfRk5NX05PTUFUQ0g7Cn0KCmNoYXIqCnBhdGhfZ2V0Y3dkKER5bkJ1ZiogZGIpIHsKICBkYnVmX3plcm8oZGIpOwogIGRidWZfcmVhbGxvYyhkYiwgUEFUSF9NQVgpOwogIGdldGN3ZCgoY2hhciopZGItPmJ1ZiwgZGItPmFsbG9jYXRlZF9zaXplKTsKICBkYi0+c2l6ZSA9IHN0cmxlbigoY29uc3QgY2hhciopZGItPmJ1Zik7CiAgZGJ1Zl8wKGRiKTsKICByZXR1cm4gKGNoYXIqKWRiLT5idWY7Cn0KCmNoYXIqCnBhdGhfZ2V0aG9tZShpbnQgdWlkKSB7CiAgRklMRSogZnA7CgogIGNoYXIgKmxpbmUsICpyZXQgPSAwOwogIGNoYXIgYnVmWzEwMjRdOwogIHN0YXRpYyBjaGFyIGhvbWVbUEFUSF9NQVggKyAxXTsKICBpZigoZnAgPSBmb3BlbigiL2V0Yy9wYXNzd2QiLCAiciIpKSA9PSAwKQogICAgcmV0dXJuIDA7CiAgd2hpbGUoKGxpbmUgPSBmZ2V0cyhidWYsIHNpemVvZihidWYpIC0gMSwgZnApKSkgewogICAgc2l6ZV90IHAsIG4sIGxlbiA9IHN0cmxlbihsaW5lKTsKICAgIGNoYXIgKnVzZXIsICppZCwgKmRpcjsKICAgIHdoaWxlKGxlbiA+IDAgJiYgaXNfd2hpdGVzcGFjZV9jaGFyKGJ1ZltsZW4gLSAxXSkpIGJ1ZlstLWxlbl0gPSAnXDAnOwogICAgdXNlciA9IGJ1ZjsKICAgIHVzZXJbcCA9IHN0cl9jaHIodXNlciwgJzonKV0gPSAnXDAnOwogICAgbGluZSA9IGJ1ZiArIHAgKyAxOwogICAgZm9yKG4gPSAxOyBuID4gMDsgbi0tKSB7CiAgICAgIHAgPSBzdHJfY2hyKGxpbmUsICc6Jyk7CiAgICAgIGxpbmVbcF0gPSAnXDAnOwogICAgICBsaW5lICs9IHAgKyAxOwogICAgfQogICAgaWQgPSBsaW5lOwogICAgZm9yKG4gPSAzOyBuID4gMDsgbi0tKSB7CiAgICAgIHAgPSBzdHJfY2hyKGxpbmUsICc6Jyk7CiAgICAgIGxpbmVbcF0gPSAnXDAnOwogICAgICBsaW5lICs9IHAgKyAxOwogICAgfQogICAgaWYoYXRvaShpZCkgIT0gdWlkKQogICAgICBjb250aW51ZTsKICAgIGRpciA9IGxpbmU7CiAgICBuID0gc3RyX2NocihsaW5lLCAnOicpOwogICAgc3RybmNweShob21lLCBkaXIsIG4pOwogICAgaG9tZVtuXSA9ICdcMCc7CiAgICByZXQgPSBob21lOwogIH0KICBmY2xvc2UoZnApOwogIHJldHVybiByZXQ7Cn0KCmludApwYXRoX2lzX2Fic29sdXRlKGNvbnN0IGNoYXIqIHgsIHNpemVfdCBuKSB7CiAgaWYobiA+IDAgJiYgeFswXSA9PSBQQVRIU0VQX0MpCiAgICByZXR1cm4gMTsKI2lmZGVmIF9XSU4zMgogIGlmKG4gPj0gMiAmJiB4WzFdID09ICc6JykKICAgIHJldHVybiAxOwojZW5kaWYKICByZXR1cm4gMDsKfQoKaW50CnBhdGhfaXNfZGlyZWN0b3J5KGNvbnN0IGNoYXIqIHApIHsKICBzdHJ1Y3Qgc3RhdCBzdDsKICBpbnQgcjsKICBpZigociA9IGxzdGF0KHAsICZzdCkgPT0gMCkpIHsKICAgIGlmKFNfSVNESVIoc3Quc3RfbW9kZSkpCiAgICAgIHJldHVybiAxOwogIH0KICByZXR1cm4gMDsKfQoKaW50CnBhdGhfaXNfc3ltbGluayhjb25zdCBjaGFyKiBwKSB7CiNpZmRlZiBfV0lOMzIKICByZXR1cm4gaXNfc3ltbGluayhwKTsKI2Vsc2UKICBzdHJ1Y3Qgc3RhdCBzdDsKICBpbnQgcjsKICBpZigociA9IGxzdGF0KHAsICZzdCkgPT0gMCkpIHsKICAgIGlmKFNfSVNMTksoc3Quc3RfbW9kZSkpCiAgICAgIHJldHVybiAxOwogIH0KICByZXR1cm4gMDsKI2VuZGlmCn0KCmludApwYXRoX25vcm1hbGl6ZShjb25zdCBjaGFyKiBwYXRoLCBEeW5CdWYqIGRiLCBpbnQgc3ltYm9saWMpIHsKICBzaXplX3QgbjsKICBzdHJ1Y3Qgc3RhdCBzdDsKICBpbnQgcmV0ID0gMTsKICBjaGFyIHNlcCwgYnVmW1BBVEhfTUFYICsgMV07CiAgaW50ICgqc3RhdF9mbikoY29uc3QgY2hhciosIHN0cnVjdCBzdGF0KikgPSBzdGF0OwogIGlmKHN5bWJvbGljKQogICAgc3RhdF9mbiA9IGxzdGF0OwogIGlmKHBhdGhfaXNzZXAoKnBhdGgpKSB7CiAgICBkYnVmX3B1dGMoZGIsIChzZXAgPSAqcGF0aCkpOwogICAgcGF0aCsrOwogIH0gZWxzZQogICAgc2VwID0gUEFUSFNFUF9DOwpzdGFydDoKICB3aGlsZSgqcGF0aCkgewogICAgd2hpbGUocGF0aF9pc3NlcCgqcGF0aCkpIHNlcCA9ICpwYXRoKys7CiAgICBpZihwYXRoWzBdID09ICcuJykgewogICAgICBpZihwYXRoX2lzc2VwKHBhdGhbMV0pIHx8IHBhdGhbMV0gPT0gJ1wwJykgewogICAgICAgIHBhdGgrKzsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBpZihwYXRoWzFdID09ICcuJyAmJiAocGF0aF9pc3NlcChwYXRoWzJdKSB8fCBwYXRoWzJdID09ICdcMCcpKSB7CiAgICAgICAgZGItPnNpemUgPSBwYXRoX3JpZ2h0KChjb25zdCBjaGFyKilkYi0+YnVmLCBkYi0+c2l6ZSk7CiAgICAgICAgcGF0aCArPSAyOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CiAgICBpZigqcGF0aCA9PSAnXDAnKQogICAgICBicmVhazsKICAgIGlmKGRiLT5zaXplICYmIChkYi0+YnVmW2RiLT5zaXplIC0gMV0gIT0gJy8nICYmIGRiLT5idWZbZGItPnNpemUgLSAxXSAhPSAnXFwnKSkKICAgICAgZGJ1Zl9wdXRjKGRiLCBzZXApOwogICAgbiA9IHBhdGhfbGVuZ3RoX3MocGF0aCk7CiAgICBkYnVmX2FwcGVuZChkYiwgKGNvbnN0IHVpbnQ4X3QqKXBhdGgsIG4pOwogICAgaWYobiA9PSAyICYmIHBhdGhbMV0gPT0gJzonKQogICAgICBkYnVmX3B1dGMoZGIsIHNlcCk7CiAgICBkYnVmXzAoZGIpOwogICAgcGF0aCArPSBuOwogICAgbWVtc2V0KCZzdCwgMCwgc2l6ZW9mKHN0KSk7CiAgICBpZihzdGF0X2ZuKChjb25zdCBjaGFyKilkYi0+YnVmLCAmc3QpICE9IC0xICYmIHBhdGhfaXNfc3ltbGluaygoY29uc3QgY2hhciopZGItPmJ1ZikpIHsKICAgICAgcmV0Kys7CiAgICAgIGlmKChzc2l6ZV90KShuID0gcmVhZGxpbmsoKGNvbnN0IGNoYXIqKWRiLT5idWYsIGJ1ZiwgUEFUSF9NQVgpKSA9PSAoc3NpemVfdCktMSkKICAgICAgICByZXR1cm4gMDsKICAgICAgaWYocGF0aF9pc19hYnNvbHV0ZShidWYsIG4pKSB7CiAgICAgICAgc3RybmNweSgmYnVmW25dLCBwYXRoLCBQQVRIX01BWCAtIG4pOwogICAgICAgIGRidWZfemVybyhkYik7CiAgICAgICAgZGJ1Zl9wdXRjKGRiLCBzZXApOwogICAgICAgIHBhdGggPSBidWY7CiAgICAgICAgZ290byBzdGFydDsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbnQgcnJldDsKICAgICAgICBkYi0+c2l6ZSA9IHBhdGhfcmlnaHQoKGNvbnN0IGNoYXIqKWRiLT5idWYsIGRiLT5zaXplKTsKICAgICAgICBidWZbbl0gPSAnXDAnOwogICAgICAgIHJyZXQgPSBwYXRoX25vcm1hbGl6ZShidWYsIGRiLCBzeW1ib2xpYyk7CiAgICAgICAgaWYoIXJyZXQpCiAgICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfQogIH0KICBpZihkYi0+c2l6ZSA9PSAwKQogICAgZGJ1Zl9wdXRjKGRiLCBzZXApOwogIHJldHVybiByZXQ7Cn0KCmludApwYXRoX3JlbGF0aXZlKGNvbnN0IGNoYXIqIHBhdGgsIGNvbnN0IGNoYXIqIHJlbGF0aXZlX3RvLCBEeW5CdWYqIG91dCkgewogIHJldHVybiBwYXRoX3JlbGF0aXZlX2IocGF0aCwgc3RybGVuKHBhdGgpLCByZWxhdGl2ZV90bywgc3RybGVuKHJlbGF0aXZlX3RvKSwgb3V0KTsKfQoKaW50CnBhdGhfcmVsYXRpdmVfYihjb25zdCBjaGFyKiBzMSwgc2l6ZV90IG4xLCBjb25zdCBjaGFyKiBzMiwgc2l6ZV90IG4yLCBEeW5CdWYqIG91dCkgewogIFNpemVQYWlyIHA7CiAgc2l6ZV90IGk7CgogIHAgPSBwYXRoX2NvbW1vbl9wcmVmaXgoczEsIG4xLCBzMiwgbjIpOwogIGRidWZfemVybyhvdXQpOwoKICBzMSArPSBwLnN6MTsKICBuMSAtPSBwLnN6MTsKICBzMiArPSBwLnN6MjsKICBuMiAtPSBwLnN6MjsKCiAgd2hpbGUoKGkgPSBwYXRoX3NraXAoczIsIG4yKSkpIHsKICAgIGRidWZfcHV0c3RyKG91dCwgIi4uIiBQQVRIU0VQX1MpOwogICAgczIgKz0gaTsKICAgIG4yIC09IGk7CiAgfQoKICBpID0gcGF0aF9za2lwX3NlcGFyYXRvcihzMSwgbjEsIDApOwogIGRidWZfYXBwZW5kKG91dCwgczEgKyBpLCBuMSAtIGkpOwoKICBpZihvdXQtPnNpemUgPT0gMCkKICAgIGRidWZfcHV0YyhvdXQsICcuJyk7CiAgZWxzZSBpZihvdXQtPmJ1ZltvdXQtPnNpemUgLSAxXSA9PSBQQVRIU0VQX0MpCiAgICBvdXQtPnNpemUtLTsKCiAgZGJ1Zl8wKG91dCk7CiAgcmV0dXJuIDE7Cn0KCnNpemVfdApwYXRoX3Jvb3QoY29uc3QgY2hhciogeCwgc2l6ZV90IG4pIHsKICBpZihuID4gMCAmJiB4WzBdID09IFBBVEhTRVBfQykKICAgIHJldHVybiAxOwoKICBpZihuID49IDMgJiYgaXNhbG51bSh4WzBdKSAmJiB4WzFdID09ICc6JyAmJiBwYXRoX2lzc2VwKHhbMl0pKQogICAgcmV0dXJuIDM7CgogIHJldHVybiAwOwp9CgpzaXplX3QKcGF0aF9za2lwX2NvbXBvbmVudChjb25zdCBjaGFyKiBwLCBzaXplX3QgbGVuLCBzaXplX3QgcG9zKSB7CiAgY29uc3QgY2hhciAqc3RhcnQgPSBwLCAqZW5kID0gcCArIGxlbjsKICBpZihwb3MgPiBsZW4pCiAgICBwb3MgPSBsZW47CgogIHAgKz0gcG9zOwogIHdoaWxlKHAgPCBlbmQgJiYgIXBhdGhfaXNzZXAoKnApKSArK3A7CiAgcmV0dXJuIHAgLSBzdGFydDsKfQoKc2l6ZV90CnBhdGhfc2tpcF9zZXBhcmF0b3IoY29uc3QgY2hhciogcCwgc2l6ZV90IGxlbiwgc2l6ZV90IHBvcykgewogIGNvbnN0IGNoYXIgKnN0YXJ0ID0gcCwgKmVuZCA9IHAgKyBsZW47CiAgaWYocG9zID4gbGVuKQogICAgcG9zID0gbGVuOwoKICBwICs9IHBvczsKICB3aGlsZShwIDwgZW5kICYmIHBhdGhfaXNzZXAoKnApKSArK3A7CiAgcmV0dXJuIHAgLSBzdGFydDsKfQoKY2hhcioKX19wYXRoX2Rpcm5hbWUoY29uc3QgY2hhciogcGF0aCwgRHluQnVmKiBkaXIpIHsKICBzaXplX3QgaSA9IHN0cl9yY2hycyhwYXRoLCAiL1xcIiwgMik7CiAgaWYocGF0aCA9PSBOVUxMIHx8IHBhdGhbaV0gPT0gJ1wwJykgewogICAgZGJ1Zl9wdXRzdHIoZGlyLCAiLiIpOwogIH0gZWxzZSB7CiAgICAvKiByZW1vdmUgdHJhaWxpbmcgc2xhc2hlcyAqLwogICAgd2hpbGUoaSA+IDAgJiYgcGF0aF9pc3NlcChwYXRoW2kgLSAxXSkpIC0taTsKICAgIGRidWZfcHV0KGRpciwgKGNvbnN0IHVpbnQ4X3QqKXBhdGgsIGkpOwogIH0KICBkYnVmXzAoZGlyKTsKICByZXR1cm4gKGNoYXIqKWRpci0+YnVmOwp9CgpjaGFyKgpwYXRoX2Rpcm5hbWUoY29uc3QgY2hhciogcGF0aCkgewogIER5bkJ1ZiBkaXI7CiAgZGJ1Zl9pbml0MigmZGlyLCAwLCAwKTsKICByZXR1cm4gX19wYXRoX2Rpcm5hbWUocGF0aCwgJmRpcik7Cn0KCiNkZWZpbmUgU1RBUlQgKChQQVRIX01BWCArIDEpID4+IDcpCgppbnQKcGF0aF9yZWFkbGluayhjb25zdCBjaGFyKiBwYXRoLCBEeW5CdWYqIGRpcikgewogIC8qIGRvIG5vdCBhbGxvY2F0ZSBQQVRIX01BWCBmcm9tIHRoZSBiZWdpbm5pbmcsCiAgICAgbW9zdCBwYXRocyB3aWxsIGJlIHNtYWxsZXIgKi8KICBzc2l6ZV90IG4gPSAoU1RBUlQgPyBTVEFSVCA6IDMyKTsKICBzc2l6ZV90IHN6OwogIGRvIHsKICAgIC8qIHJlc2VydmUgc29tZSBzcGFjZSAqLwogICAgbiA8PD0gMTsKICAgIGRidWZfcmVhbGxvYyhkaXIsIG4pOwogICAgaWYoKHN6ID0gcmVhZGxpbmsocGF0aCwgKGNoYXIqKWRpci0+YnVmLCBuKSkgPT0gLTEpCiAgICAgIHJldHVybiAtMTsKICAgIC8qIHJlcGVhdCB1bnRpbCB3ZSBoYXZlIHJlc2VydmVkIGVub3VnaCBzcGFjZSAqLwogIH0gd2hpbGUoc3ogPT0gbik7CgogIGRpci0+c2l6ZSA9IHN6OwogIC8qIG5vdyB0cnVuY2F0ZSB0byBlZmZlY3RpdmUgbGVuZ3RoICovCiAgcmV0dXJuIGRpci0+c2l6ZTsKfQoKLyoqCiAqIEB9CiAqLwoAAAAAAAAAAEYxAAAAAAAAAAAAAAAAAAAAAAAARjEAAAAAAAAAAAAAAAAAAAAAAABGMQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGcbAAAAAAAAZxsAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "quickjs-tree-walker.c",
			"settings":
			{
				"buffer_size": 16033,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					21,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAAJQkAAAAAAAAlSQAAAAAAAAAAAAAlSQAAAAAAACWJAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJQkAAAAAAAAlCQAAAAAAAAAAAAAAADwvw"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAACUlAAAAAAAAJiUAAAAAAAAAAAAAJiUAAAAAAAAnJQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACUlAAAAAAAAJSUAAAAAAAAAAAAAAADwvw"
				],
				[
					33,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAALogAAAAAAAAuyAAAAAAAAAAAAAAuyAAAAAAAAC8IAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALogAAAAAAAAuiAAAAAAAAAAAAAAAADwvw"
				],
				[
					39,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAANwHAAAAAAAA3QcAAAAAAAAAAAAA3QcAAAAAAADeBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANwHAAAAAAAA3AcAAAAAAAAAAAAAAADwvw"
				],
				[
					47,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAD0KAAAAAAAAPwoAAAAAAAAAAAAAOAoAAAAAAAA6CgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADgKAAAAAAAAPQoAAAAAAAAAAAAAAADwvw"
				],
				[
					69,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAABEjAAAAAAAAEyMAAAAAAAAAAAAADSMAAAAAAAAPIwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAA0jAAAAAAAAESMAAAAAAAAAAAAAAADwvw"
				],
				[
					76,
					1,
					"join_lines",
					null,
					"AwAAALshAAAAAAAAuyEAAAAAAAABAAAACrshAAAAAAAAuyEAAAAAAAAFAAAAICAgICC7IQAAAAAAALwhAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALshAAAAAAAAuyEAAAAAAAD////////vfw"
				],
				[
					81,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACdPgAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlicmVnZXhwLmg+CiNpbmNsdWRlICJwcm9wZXJ0eS1lbnVtZXJhdGlvbi5oIgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8c3RyaW5nLmg+CgovKioKICogXGRlZmdyb3VwIHF1aWNranMtdHJlZS13YWxrZXIgUXVpY2tKUyBtb2R1bGU6IHRyZWVfd2Fsa2VyIC0gT2JqZWN0IHRyZWUgd2Fsa2VyCiAqIEB7CiAqLwp0aHJlYWRfbG9jYWwgVklTSUJMRSBKU0NsYXNzSUQganNfdHJlZV93YWxrZXJfY2xhc3NfaWQgPSAwOwp0aHJlYWRfbG9jYWwgSlNWYWx1ZSB0cmVlX3dhbGtlcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCB0cmVlX3dhbGtlcl9jdG9yID0ge3tKU19UQUdfVU5ERUZJTkVEfX07CnRocmVhZF9sb2NhbCBWSVNJQkxFIEpTQ2xhc3NJRCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkID0gMDsKdGhyZWFkX2xvY2FsIEpTVmFsdWUgdHJlZV9pdGVyYXRvcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCB0cmVlX2l0ZXJhdG9yX2N0b3IgPSB7e0pTX1RBR19VTkRFRklORUR9fTsKCmVudW0gdHJlZV93YWxrZXJfbWV0aG9kcyB7CiAgRklSU1RfQ0hJTEQgPSAwLAogIExBU1RfQ0hJTEQsCiAgTkVYVF9OT0RFLAogIE5FWFRfU0lCTElORywKICBQQVJFTlRfTk9ERSwKICBQUkVWSU9VU19OT0RFLAogIFBSRVZJT1VTX1NJQkxJTkcsCn07CgplbnVtIHRyZWVfd2Fsa2VyX2dldHRlcnMgewogIFBST1BfUk9PVCA9IDAsCiAgUFJPUF9DVVJSRU5UX05PREUsCiAgUFJPUF9DVVJSRU5UX0tFWSwKICBQUk9QX0NVUlJFTlRfUEFUSCwKICBQUk9QX0RFUFRILAogIFBST1BfSU5ERVgsCiAgUFJPUF9MRU5HVEgsCiAgUFJPUF9UQUdfTUFTSywKICBQUk9QX0ZMQUdTLAp9OwoKZW51bSB0cmVlX2l0ZXJhdG9yX3JldHVybiB7CiAgUkVUVVJOX1ZBTFVFID0gMCwKICBSRVRVUk5fUEFUSCA9IDEgPDwgMjQsCiAgUkVUVVJOX1ZBTFVFX1BBVEggPSAyIDw8IDI0LAogIFJFVFVSTl9NQVNLID0gMyA8PCAyNCwKfTsKCnR5cGVkZWYgc3RydWN0IHsKICBWZWN0b3IgZnJhbWVzOwogIHVpbnQzMl90IHRhZ19tYXNrOwogIHVpbnQzMl90IHJlZl9jb3VudDsKfSBUcmVlV2Fsa2VyOwoKc3RhdGljIHZvaWQKdHJlZV93YWxrZXJfcmVzZXQoVHJlZVdhbGtlciogdywgSlNDb250ZXh0KiBjdHgpIHsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKCiAgdmVjdG9yX2ZvcmVhY2hfdCgmdy0+ZnJhbWVzLCBpdCkgeyBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9yZXNldChpdCwgSlNfR2V0UnVudGltZShjdHgpKTsgfQogIHZlY3Rvcl9jbGVhcigmdy0+ZnJhbWVzKTsKCiAgdy0+dGFnX21hc2sgPSBUWVBFX0FMTDsKfQoKc3RhdGljIFByb3BlcnR5RW51bWVyYXRpb24qCnRyZWVfd2Fsa2VyX3NldHJvb3QoVHJlZVdhbGtlciogdywgSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmplY3QpIHsKICB0cmVlX3dhbGtlcl9yZXNldCh3LCBjdHgpOwogIHJldHVybiBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKCZ3LT5mcmFtZXMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBvYmplY3QpLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKTsKfQoKc3RhdGljIHZvaWQKdHJlZV93YWxrZXJfZHVtcChUcmVlV2Fsa2VyKiB3LCBKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBkYikgewogIGRidWZfcHJpbnRmKGRiLCAiVHJlZVdhbGtlciB7XG4gIGRlcHRoOiAldSIsIHZlY3Rvcl9zaXplKCZ3LT5mcmFtZXMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkpOwoKICBkYnVmX3B1dHN0cihkYiwgIixcbiAgZnJhbWVzOiAiKTsKCiAgcHJvcGVydHlfZW51bWVyYXRpb25fZHVtcGFsbCgmdy0+ZnJhbWVzLCBjdHgsIGRiKTsKICBkYnVmX3B1dHN0cihkYiwgIlxufSIpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVHJlZVdhbGtlciogdzsKICAvL1Byb3BlcnR5RW51bWVyYXRpb24qIGl0ID0gMDsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBpZighKHcgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKFRyZWVXYWxrZXIpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICB3LT5yZWZfY291bnQgPSAxOwogIHRyZWVfd2Fsa2VyX3Jlc2V0KHcsIGN0eCk7CgogIC8qIHVzaW5nIG5ld190YXJnZXQgdG8gZ2V0IHRoZSBwcm90b3R5cGUgaXMgbmVjZXNzYXJ5IHdoZW4gdGhlCiAgICAgY2xhc3MgaXMgZXh0ZW5kZWQuICovCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBnb3RvIGZhaWw7CiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBqc190cmVlX3dhbGtlcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgdyk7CgogIGlmKGFyZ2MgPiAwICYmIEpTX0lzT2JqZWN0KGFyZ3ZbMF0pKQogICAgLyppdCA9ICovdHJlZV93YWxrZXJfc2V0cm9vdCh3LCBjdHgsIGFyZ3ZbMF0pOwoKICBpZihhcmdjID4gMSkKICAgIEpTX1RvVWludDMyKGN0eCwgJnctPnRhZ19tYXNrLCBhcmd2WzFdKTsKCiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19mcmVlKGN0eCwgdyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc190cmVlX3dhbGtlcl90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIFRyZWVXYWxrZXIqIHc7CiAgRHluQnVmIGRidWY7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoISh3ID0gSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc190cmVlX3dhbGtlcl9jbGFzc19pZCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBqc19kYnVmX2luaXQoY3R4LCAmZGJ1Zik7CiAgdHJlZV93YWxrZXJfZHVtcCh3LCBjdHgsICZkYnVmKTsKICByZXQgPSBKU19OZXdTdHJpbmdMZW4oY3R4LCAoY29uc3QgY2hhciopZGJ1Zi5idWYsIGRidWYuc2l6ZSk7CiAgZGJ1Zl9mcmVlKCZkYnVmKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIFByb3BlcnR5RW51bWVyYXRpb24qCmpzX3RyZWVfd2Fsa2VyX25leHQoSlNDb250ZXh0KiBjdHgsIFRyZWVXYWxrZXIqIHcsIEpTVmFsdWVDb25zdCB0aGlzX2FyZywgSlNWYWx1ZUNvbnN0IHByZWQpIHsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKICBlbnVtIHZhbHVlX21hc2sgdHlwZSwgbWFzayA9IHctPnRhZ19tYXNrICYgVFlQRV9BTEw7CgogIGZvcig7IChpdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3JlY3Vyc2UoJnctPmZyYW1lcywgY3R4KSk7KSB7CiAgICBpZihtYXNrICYmIG1hc2sgIT0gVFlQRV9BTEwpIHsKICAgICAgSlNWYWx1ZSB2YWx1ZTsKICAgICAgdmFsdWUgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KTsKICAgICAgdHlwZSA9IGpzX3ZhbHVlX3R5cGUoY3R4LCB2YWx1ZSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICAgICAgaWYoKG1hc2sgJiB0eXBlKSA9PSAwKQogICAgICAgIGNvbnRpbnVlOwogICAgfQogICAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIHByZWQpKSB7CiAgICAgIEJPT0wgcmVzdWx0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fcHJlZGljYXRlKGl0LCBjdHgsIHByZWQsIHRoaXNfYXJnKTsKICAgICAgaWYoIXJlc3VsdCkKICAgICAgICBjb250aW51ZTsKICAgIH0KICAgIGJyZWFrOwogIH0KICByZXR1cm4gaXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RyZWVfd2Fsa2VyX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgVHJlZVdhbGtlciogdzsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKCiAgaWYoISh3ID0gSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc190cmVlX3dhbGtlcl9jbGFzc19pZCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYodmVjdG9yX2VtcHR5KCZ3LT5mcmFtZXMpKQogICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKCiAgaXQgPSB2ZWN0b3JfYmFjaygmdy0+ZnJhbWVzLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpOwoKICBpZihtYWdpYyA9PSBQUkVWSU9VU19OT0RFKSB7CiAgICBtYWdpYyA9IGl0LT5pZHggPT0gMCA/IFBBUkVOVF9OT0RFIDogUFJFVklPVVNfU0lCTElORzsKICB9CgogIGlmKG1hZ2ljID09IE5FWFRfTk9ERSkgewogICAgaXQgPSBqc190cmVlX3dhbGtlcl9uZXh0KGN0eCwgdywgdGhpc192YWwsIGFyZ2MgPiAwID8gYXJndlswXSA6IEpTX1VOREVGSU5FRCk7CiAgfQoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgRklSU1RfQ0hJTEQ6IHsKICAgICAgaWYoKGl0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fZW50ZXIoJnctPmZyYW1lcywgY3R4LCAwLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKSkgPT0gMCAvKnx8CiAgICAgICAgICFwcm9wZXJ0eV9lbnVtZXJhdGlvbl9zZXRwb3MoaXQsIDApKi8pCiAgICAgICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBMQVNUX0NISUxEOiB7CiAgICAgIGlmKChpdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX2VudGVyKCZ3LT5mcmFtZXMsIGN0eCwgLTEsIFBST1BFTlVNX0RFRkFVTFRfRkxBR1MpKSA9PSAwIC8qfHwKICAgICAgICAgIXByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgLTEpKi8pCiAgICAgICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBORVhUX1NJQkxJTkc6IHsKICAgICAgaWYoIXByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgaXQtPmlkeCArIDEpKQogICAgICAgIHJldHVybiBKU19VTkRFRklORUQ7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgUEFSRU5UX05PREU6IHsKICAgICAgaWYoKGl0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fcG9wKCZ3LT5mcmFtZXMsIGN0eCkpID09IDApCiAgICAgICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBQUkVWSU9VU19TSUJMSU5HOiB7CiAgICAgIGlmKCFwcm9wZXJ0eV9lbnVtZXJhdGlvbl9zZXRwb3MoaXQsIGl0LT5pZHggLSAxKSkKICAgICAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIGl0ID8gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCkgOiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RyZWVfd2Fsa2VyX2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBUcmVlV2Fsa2VyKiB3OwogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwoKICBpZighKHcgPSBKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpdCA9IHZlY3Rvcl9iYWNrKCZ3LT5mcmFtZXMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1JPT1Q6IHsKICAgICAgaWYoIXZlY3Rvcl9lbXB0eSgmdy0+ZnJhbWVzKSkgewogICAgICAgIGl0ID0gdmVjdG9yX2JlZ2luKCZ3LT5mcmFtZXMpOwogICAgICAgIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIGl0LT5vYmopOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgUFJPUF9DVVJSRU5UX05PREU6IHsKICAgICAgaWYoaXQpCiAgICAgICAgcmV0dXJuIHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKGl0LCBjdHgpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIFBST1BfQ1VSUkVOVF9LRVk6IHsKICAgICAgaWYoaXQpCiAgICAgICAgcmV0dXJuIHByb3BlcnR5X2VudW1lcmF0aW9uX2tleShpdCwgY3R4KTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBQUk9QX0NVUlJFTlRfUEFUSDogewogICAgICByZXR1cm4gcHJvcGVydHlfZW51bWVyYXRpb25fcGF0aCgmdy0+ZnJhbWVzLCBjdHgpOwogICAgfQoKICAgIGNhc2UgUFJPUF9ERVBUSDogewogICAgICByZXR1cm4gSlNfTmV3VWludDMyKGN0eCwgdmVjdG9yX3NpemUoJnctPmZyYW1lcywgc2l6ZW9mKFByb3BlcnR5RW51bWVyYXRpb24pKSAtIDEpOwogICAgfQoKICAgIGNhc2UgUFJPUF9JTkRFWDogewogICAgICByZXR1cm4gSlNfTmV3VWludDMyKGN0eCwgcHJvcGVydHlfZW51bWVyYXRpb25faW5kZXgoaXQpKTsKICAgIH0KCiAgICBjYXNlIFBST1BfTEVOR1RIOiB7CiAgICAgIHJldHVybiBKU19OZXdVaW50MzIoY3R4LCBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9sZW5ndGgoaXQpKTsKICAgIH0KCiAgICBjYXNlIFBST1BfVEFHX01BU0s6IHsKICAgICAgcmV0dXJuIEpTX05ld1VpbnQzMihjdHgsIHctPnRhZ19tYXNrKTsKICAgIH0KICB9CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfdHJlZV93YWxrZXJfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW50IG1hZ2ljKSB7CiAgVHJlZVdhbGtlciogdzsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKCiAgaWYoISh3ID0gSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc190cmVlX3dhbGtlcl9jbGFzc19pZCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZighKGl0ID0gdmVjdG9yX2JhY2soJnctPmZyYW1lcywgc2l6ZW9mKFByb3BlcnR5RW51bWVyYXRpb24pKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUFJPUF9JTkRFWDogewogICAgICBpbnQ2NF90IGluZGV4ID0gMDsKICAgICAgSlNfVG9JbnQ2NChjdHgsICZpbmRleCwgdmFsdWUpOwogICAgICBpZihpbmRleCA8IDApCiAgICAgICAgaW5kZXggPSAoaW5kZXggJSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9sZW5ndGgoaXQpKSArIHByb3BlcnR5X2VudW1lcmF0aW9uX2xlbmd0aChpdCk7CiAgICAgIGl0LT5pZHggPSBpbmRleDsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBQUk9QX1RBR19NQVNLOiB7CiAgICAgIHVpbnQzMl90IHRhZ19tYXNrID0gMDsKICAgICAgSlNfVG9VaW50MzIoY3R4LCAmdGFnX21hc2ssIHZhbHVlKTsKICAgICAgdy0+dGFnX21hc2sgPSB0YWdfbWFzazsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVHJlZVdhbGtlciogdzsKICBKU1ZhbHVlIG9iajsKCiAgaWYoISh3ID0gSlNfR2V0T3BhcXVlKHRoaXNfdmFsLCBqc190cmVlX3dhbGtlcl9jbGFzc19pZCkpKQogICAgdyA9IEpTX0dldE9wYXF1ZSh0aGlzX3ZhbCwganNfdHJlZV9pdGVyYXRvcl9jbGFzc19pZCk7CgogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCB0cmVlX2l0ZXJhdG9yX3Byb3RvLCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkKTsKCiAgdy0+cmVmX2NvdW50Kys7CgogIEpTX1NldE9wYXF1ZShvYmosIHcpOwoKICByZXR1cm4gb2JqOwp9CgpzdGF0aWMgdm9pZApqc190cmVlX3dhbGtlcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBUcmVlV2Fsa2VyKiB3ID0gSlNfR2V0T3BhcXVlKHZhbCwganNfdHJlZV93YWxrZXJfY2xhc3NfaWQpOwogIGlmKHcpIHsKICAgIFByb3BlcnR5RW51bWVyYXRpb24gKnMsICplOwoKICAgIGlmKC0tdy0+cmVmX2NvdW50ID09IDApIHsKICAgICAgZm9yKHMgPSB2ZWN0b3JfYmVnaW4oJnctPmZyYW1lcyksIGUgPSB2ZWN0b3JfZW5kKCZ3LT5mcmFtZXMpOyBzICE9IGU7IHMrKykgeyBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9yZXNldChzLCBydCk7IH0KICAgICAgdmVjdG9yX2ZyZWUoJnctPmZyYW1lcyk7CiAgICAgIGpzX2ZyZWVfcnQocnQsIHcpOwogICAgfQogIH0KICBKU19GcmVlVmFsdWVSVChydCwgdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVHJlZVdhbGtlciogdzsKICAvL1Byb3BlcnR5RW51bWVyYXRpb24qIGl0ID0gMDsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBpZighKHcgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKFRyZWVXYWxrZXIpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICB2ZWN0b3JfaW5pdCgmdy0+ZnJhbWVzLCBjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3RyZWVfaXRlcmF0b3JfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIHcpOwoKICBpZihhcmdjID4gMCAmJiBKU19Jc09iamVjdChhcmd2WzBdKSkKICAgIC8qaXQgPSovIHRyZWVfd2Fsa2VyX3NldHJvb3QodywgY3R4LCBhcmd2WzBdKTsKCiAgaWYoYXJnYyA+IDEpCiAgICBKU19Ub1VpbnQzMihjdHgsICZ3LT50YWdfbWFzaywgYXJndlsxXSk7CgogIHJldHVybiBvYmo7CmZhaWw6CiAganNfZnJlZShjdHgsIHcpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIG9iaik7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKSlNWYWx1ZQpqc190cmVlX2l0ZXJhdG9yX25leHQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIEJPT0wqIHBkb25lLCBpbnQgbWFnaWMpIHsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKICBUcmVlV2Fsa2VyKiB3OwogIGVudW0gdHJlZV9pdGVyYXRvcl9yZXR1cm4gcjsKICAvL2VudW0gdmFsdWVfbWFzayB0OwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICB3ID0gSlNfR2V0T3BhcXVlKHRoaXNfdmFsLCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkKTsKCiAgciA9IHctPnRhZ19tYXNrICYgUkVUVVJOX01BU0s7CiAgLy90ID0gdy0+dGFnX21hc2sgJiAweGZmZmZmZjsKCiAgZm9yKDs7KSB7CiAgICBpZigoaXQgPSBqc190cmVlX3dhbGtlcl9uZXh0KGN0eCwgdywgdGhpc192YWwsIGFyZ2MgPiAwID8gYXJndlswXSA6IEpTX1VOREVGSU5FRCkpKSB7CiAgICAgIGVudW0gdmFsdWVfbWFzayB2dHlwZTsKICAgICAgKnBkb25lID0gRkFMU0U7CgogICAgICAvKiBpZih0KSB7CiAgICAgICAgIHZ0eXBlID0gcHJvcGVydHlfZW51bWVyYXRpb25fdHlwZShpdCwgY3R4KTsKCiAgICAgICAgIGlmKCh2dHlwZSAmIHQpID09IDApCiAgICAgICAgICAgY29udGludWU7CiAgICAgICB9Ki8KCiAgICAgIHN3aXRjaChyKSB7CiAgICAgICAgY2FzZSBSRVRVUk5fVkFMVUU6IHJldCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKGl0LCBjdHgpOyBicmVhazsKICAgICAgICBjYXNlIFJFVFVSTl9QQVRIOiByZXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wYXRoKCZ3LT5mcmFtZXMsIGN0eCk7IGJyZWFrOwogICAgICAgIGNhc2UgUkVUVVJOX1ZBTFVFX1BBVEg6CiAgICAgICAgZGVmYXVsdDogewogICAgICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgICAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KSk7CiAgICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMSwgcHJvcGVydHlfZW51bWVyYXRpb25fcGF0aCgmdy0+ZnJhbWVzLCBjdHgpKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgIH0gZWxzZSB7CiAgICAgICpwZG9uZSA9IFRSVUU7CiAgICAgIHJldCA9IEpTX1VOREVGSU5FRDsKICAgIH0KCiAgICBicmVhazsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIHZvaWQKanNfdHJlZV9pdGVyYXRvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBUcmVlV2Fsa2VyKiB3ID0gSlNfR2V0T3BhcXVlKHZhbCwganNfdHJlZV9pdGVyYXRvcl9jbGFzc19pZCk7CiAgaWYodykgewogICAgUHJvcGVydHlFbnVtZXJhdGlvbiAqcywgKmU7CgogICAgaWYoLS13LT5yZWZfY291bnQgPT0gMCkgewogICAgICBmb3IocyA9IHZlY3Rvcl9iZWdpbigmdy0+ZnJhbWVzKSwgZSA9IHZlY3Rvcl9lbmQoJnctPmZyYW1lcyk7IHMgIT0gZTsgcysrKSB7IHByb3BlcnR5X2VudW1lcmF0aW9uX3Jlc2V0KHMsIHJ0KTsgfQogICAgICB2ZWN0b3JfZnJlZSgmdy0+ZnJhbWVzKTsKICAgICAganNfZnJlZV9ydChydCwgdyk7CiAgICB9CiAgfQogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CgpzdGF0aWMgSlNDbGFzc0RlZiBqc190cmVlX3dhbGtlcl9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlRyZWVXYWxrZXIiLAogICAgLmZpbmFsaXplciA9IGpzX3RyZWVfd2Fsa2VyX2ZpbmFsaXplciwKfTsKCnN0YXRpYyBKU0NsYXNzRGVmIGpzX3RyZWVfaXRlcmF0b3JfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJUcmVlSXRlcmF0b3IiLAogICAgLmZpbmFsaXplciA9IGpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3RyZWVfd2Fsa2VyX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpcnN0Q2hpbGQiLCAwLCBqc190cmVlX3dhbGtlcl9tZXRob2QsIEZJUlNUX0NISUxEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigibGFzdENoaWxkIiwgMCwganNfdHJlZV93YWxrZXJfbWV0aG9kLCBMQVNUX0NISUxEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigibmV4dE5vZGUiLCAwLCBqc190cmVlX3dhbGtlcl9tZXRob2QsIE5FWFRfTk9ERSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoIm5leHRTaWJsaW5nIiwgMCwganNfdHJlZV93YWxrZXJfbWV0aG9kLCBORVhUX1NJQkxJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJwYXJlbnROb2RlIiwgMCwganNfdHJlZV93YWxrZXJfbWV0aG9kLCBQQVJFTlRfTk9ERSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInByZXZpb3VzTm9kZSIsIDAsIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCwgUFJFVklPVVNfTk9ERSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInByZXZpb3VzU2libGluZyIsIDAsIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCwgUFJFVklPVVNfU0lCTElORyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicm9vdCIsIGpzX3RyZWVfd2Fsa2VyX2dldCwgTlVMTCwgUFJPUF9ST09UKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJjdXJyZW50Tm9kZSIsIGpzX3RyZWVfd2Fsa2VyX2dldCwgTlVMTCwgUFJPUF9DVVJSRU5UX05PREUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImN1cnJlbnRLZXkiLCBqc190cmVlX3dhbGtlcl9nZXQsIE5VTEwsIFBST1BfQ1VSUkVOVF9LRVkpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImN1cnJlbnRQYXRoIiwganNfdHJlZV93YWxrZXJfZ2V0LCBOVUxMLCBQUk9QX0NVUlJFTlRfUEFUSCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZGVwdGgiLCBqc190cmVlX3dhbGtlcl9nZXQsIE5VTEwsIFBST1BfREVQVEgpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImluZGV4IiwganNfdHJlZV93YWxrZXJfZ2V0LCBqc190cmVlX3dhbGtlcl9zZXQsIFBST1BfSU5ERVgpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxlbmd0aCIsIGpzX3RyZWVfd2Fsa2VyX2dldCwgTlVMTCwgUFJPUF9MRU5HVEgpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInRhZ01hc2siLCBqc190cmVlX3dhbGtlcl9nZXQsIGpzX3RyZWVfd2Fsa2VyX3NldCwgUFJPUF9UQUdfTUFTSyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZmxhZ3MiLCBqc190cmVlX3dhbGtlcl9nZXQsIGpzX3RyZWVfd2Fsa2VyX3NldCwgUFJPUF9GTEFHUyksCiAgICBKU19DRlVOQ19ERUYoInRvU3RyaW5nIiwgMCwganNfdHJlZV93YWxrZXJfdG9zdHJpbmcpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJUcmVlV2Fsa2VyIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3RyZWVfd2Fsa2VyX3N0YXRpY19mdW5jc1tdID0gewogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfVU5ERUZJTkVEIiwgVFlQRV9VTkRFRklORUQsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVFlQRV9OVUxMIiwgVFlQRV9OVUxMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfQk9PTCIsIFRZUEVfQk9PTCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX0lOVCIsIFRZUEVfSU5ULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfT0JKRUNUIiwgVFlQRV9PQkpFQ1QsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVFlQRV9TVFJJTkciLCBUWVBFX1NUUklORywgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX1NZTUJPTCIsIFRZUEVfU1lNQk9MLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfQklHX0ZMT0FUIiwgVFlQRV9CSUdfRkxPQVQsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVFlQRV9CSUdfSU5UIiwgVFlQRV9CSUdfSU5ULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfQklHX0RFQ0lNQUwiLCBUWVBFX0JJR19ERUNJTUFMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfQUxMIiwgVFlQRV9BTEwsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVFlQRV9QUklNSVRJVkUiLCBUWVBFX1BSSU1JVElWRSwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJSRVRVUk5fVkFMVUUiLCBSRVRVUk5fVkFMVUUsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiUkVUVVJOX1BBVEgiLCBSRVRVUk5fUEFUSCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJSRVRVUk5fVkFMVUVfUEFUSCIsIFJFVFVSTl9WQUxVRV9QQVRILCBKU19QUk9QX0VOVU1FUkFCTEUpLAp9OwoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3RyZWVfaXRlcmF0b3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0lURVJBVE9SX05FWFRfREVGKCJuZXh0IiwgMCwganNfdHJlZV9pdGVyYXRvcl9uZXh0LCAwKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiVHJlZUl0ZXJhdG9yIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAogICAgSlNfQ0ZVTkNfREVGKCJbU3ltYm9sLml0ZXJhdG9yXSIsIDAsIGpzX3RyZWVfd2Fsa2VyX2l0ZXJhdG9yKSwKfTsKCnN0YXRpYyBpbnQKanNfdHJlZV93YWxrZXJfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgSlNfTmV3Q2xhc3NJRCgmanNfdHJlZV93YWxrZXJfY2xhc3NfaWQpOwogIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfdHJlZV93YWxrZXJfY2xhc3NfaWQsICZqc190cmVlX3dhbGtlcl9jbGFzcyk7CgogIHRyZWVfd2Fsa2VyX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCB0cmVlX3dhbGtlcl9wcm90bywganNfdHJlZV93YWxrZXJfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfdHJlZV93YWxrZXJfcHJvdG9fZnVuY3MpKTsKICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfdHJlZV93YWxrZXJfY2xhc3NfaWQsIHRyZWVfd2Fsa2VyX3Byb3RvKTsKCiAgdHJlZV93YWxrZXJfY3RvciA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvciwgIlRyZWVXYWxrZXIiLCAxLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgdHJlZV93YWxrZXJfY3RvciwgdHJlZV93YWxrZXJfcHJvdG8pOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgdHJlZV93YWxrZXJfY3RvciwganNfdHJlZV93YWxrZXJfc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3RyZWVfd2Fsa2VyX3N0YXRpY19mdW5jcykpOwoKICBKU19OZXdDbGFzc0lEKCZqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX3RyZWVfaXRlcmF0b3JfY2xhc3NfaWQsICZqc190cmVlX2l0ZXJhdG9yX2NsYXNzKTsKCiAgdHJlZV9pdGVyYXRvcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgdHJlZV9pdGVyYXRvcl9wcm90bywganNfdHJlZV9pdGVyYXRvcl9wcm90b19mdW5jcywgY291bnRvZihqc190cmVlX2l0ZXJhdG9yX3Byb3RvX2Z1bmNzKSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX3RyZWVfaXRlcmF0b3JfY2xhc3NfaWQsIHRyZWVfaXRlcmF0b3JfcHJvdG8pOwoKICB0cmVlX2l0ZXJhdG9yX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfdHJlZV9pdGVyYXRvcl9jb25zdHJ1Y3RvciwgIlRyZWVJdGVyYXRvciIsIDEsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKCiAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCB0cmVlX2l0ZXJhdG9yX2N0b3IsIHRyZWVfaXRlcmF0b3JfcHJvdG8pOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgdHJlZV9pdGVyYXRvcl9jdG9yLCBqc190cmVlX3dhbGtlcl9zdGF0aWNfZnVuY3MsIGNvdW50b2YoanNfdHJlZV93YWxrZXJfc3RhdGljX2Z1bmNzKSk7CgogIGlmKG0pIHsKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJUcmVlV2Fsa2VyIiwgdHJlZV93YWxrZXJfY3Rvcik7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVHJlZUl0ZXJhdG9yIiwgdHJlZV9pdGVyYXRvcl9jdG9yKTsKICB9CgogIHJldHVybiAwOwp9CgojaWZkZWYgSlNfU0hBUkVEX0xJQlJBUlkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3RyZWVfd2Fsa2VyCiNlbmRpZgoKVklTSUJMRSBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX3RyZWVfd2Fsa2VyX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRyZWVXYWxrZXIiKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVHJlZUl0ZXJhdG9yIik7CiAgcmV0dXJuIG07Cn0KCi8qKgogKiBAfQogKi8KAAAAAAAAAAChPgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALwhAAAAAAAAvCEAAAAAAAAAAAAAAADwvw"
				],
				[
					82,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAChPgAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSA8bGlicmVnZXhwLmg+CiNpbmNsdWRlICJwcm9wZXJ0eS1lbnVtZXJhdGlvbi5oIgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8c3RyaW5nLmg+CgovKioKICogXGRlZmdyb3VwIHF1aWNranMtdHJlZS13YWxrZXIgUXVpY2tKUyBtb2R1bGU6IHRyZWVfd2Fsa2VyIC0gT2JqZWN0IHRyZWUgd2Fsa2VyCiAqIEB7CiAqLwp0aHJlYWRfbG9jYWwgVklTSUJMRSBKU0NsYXNzSUQganNfdHJlZV93YWxrZXJfY2xhc3NfaWQgPSAwOwp0aHJlYWRfbG9jYWwgSlNWYWx1ZSB0cmVlX3dhbGtlcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCB0cmVlX3dhbGtlcl9jdG9yID0ge3tKU19UQUdfVU5ERUZJTkVEfX07CnRocmVhZF9sb2NhbCBWSVNJQkxFIEpTQ2xhc3NJRCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkID0gMDsKdGhyZWFkX2xvY2FsIEpTVmFsdWUgdHJlZV9pdGVyYXRvcl9wcm90byA9IHt7SlNfVEFHX1VOREVGSU5FRH19LCB0cmVlX2l0ZXJhdG9yX2N0b3IgPSB7e0pTX1RBR19VTkRFRklORUR9fTsKCmVudW0gdHJlZV93YWxrZXJfbWV0aG9kcyB7CiAgRklSU1RfQ0hJTEQgPSAwLAogIExBU1RfQ0hJTEQsCiAgTkVYVF9OT0RFLAogIE5FWFRfU0lCTElORywKICBQQVJFTlRfTk9ERSwKICBQUkVWSU9VU19OT0RFLAogIFBSRVZJT1VTX1NJQkxJTkcsCn07CgplbnVtIHRyZWVfd2Fsa2VyX2dldHRlcnMgewogIFBST1BfUk9PVCA9IDAsCiAgUFJPUF9DVVJSRU5UX05PREUsCiAgUFJPUF9DVVJSRU5UX0tFWSwKICBQUk9QX0NVUlJFTlRfUEFUSCwKICBQUk9QX0RFUFRILAogIFBST1BfSU5ERVgsCiAgUFJPUF9MRU5HVEgsCiAgUFJPUF9UQUdfTUFTSywKICBQUk9QX0ZMQUdTLAp9OwoKZW51bSB0cmVlX2l0ZXJhdG9yX3JldHVybiB7CiAgUkVUVVJOX1ZBTFVFID0gMCwKICBSRVRVUk5fUEFUSCA9IDEgPDwgMjQsCiAgUkVUVVJOX1ZBTFVFX1BBVEggPSAyIDw8IDI0LAogIFJFVFVSTl9NQVNLID0gMyA8PCAyNCwKfTsKCnR5cGVkZWYgc3RydWN0IHsKICBWZWN0b3IgZnJhbWVzOwogIHVpbnQzMl90IHRhZ19tYXNrOwogIHVpbnQzMl90IHJlZl9jb3VudDsKfSBUcmVlV2Fsa2VyOwoKc3RhdGljIHZvaWQKdHJlZV93YWxrZXJfcmVzZXQoVHJlZVdhbGtlciogdywgSlNDb250ZXh0KiBjdHgpIHsKICBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdDsKCiAgdmVjdG9yX2ZvcmVhY2hfdCgmdy0+ZnJhbWVzLCBpdCkgeyBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9yZXNldChpdCwgSlNfR2V0UnVudGltZShjdHgpKTsgfQogIHZlY3Rvcl9jbGVhcigmdy0+ZnJhbWVzKTsKCiAgdy0+dGFnX21hc2sgPSBUWVBFX0FMTDsKfQoKc3RhdGljIFByb3BlcnR5RW51bWVyYXRpb24qCnRyZWVfd2Fsa2VyX3NldHJvb3QoVHJlZVdhbGtlciogdywgSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmplY3QpIHsKICB0cmVlX3dhbGtlcl9yZXNldCh3LCBjdHgpOwogIHJldHVybiBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wdXNoKCZ3LT5mcmFtZXMsIGN0eCwgSlNfRHVwVmFsdWUoY3R4LCBvYmplY3QpLCBQUk9QRU5VTV9ERUZBVUxUX0ZMQUdTKTsKfQoKc3RhdGljIHZvaWQKdHJlZV93YWxrZXJfZHVtcChUcmVlV2Fsa2VyKiB3LCBKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBkYikgewogIGRidWZfcHJpbnRmKGRiLCAiVHJlZVdhbGtlciB7XG4gIGRlcHRoOiAldSIsIHZlY3Rvcl9zaXplKCZ3LT5mcmFtZXMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSkpOwoKICBkYnVmX3B1dHN0cihkYiwgIixcbiAgZnJhbWVzOiAiKTsKCiAgcHJvcGVydHlfZW51bWVyYXRpb25fZHVtcGFsbCgmdy0+ZnJhbWVzLCBjdHgsIGRiKTsKICBkYnVmX3B1dHN0cihkYiwgIlxufSIpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc190cmVlX3dhbGtlcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVHJlZVdhbGtlciogdzsKICAvLyBQcm9wZXJ0eUVudW1lcmF0aW9uKiBpdCA9IDA7CiAgSlNWYWx1ZSBvYmogPSBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSBwcm90bzsKCiAgaWYoISh3ID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihUcmVlV2Fsa2VyKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgdy0+cmVmX2NvdW50ID0gMTsKICB0cmVlX3dhbGtlcl9yZXNldCh3LCBjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfdHJlZV93YWxrZXJfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIHcpOwoKICBpZihhcmdjID4gMCAmJiBKU19Jc09iamVjdChhcmd2WzBdKSkKICAgIC8qaXQgPSAqLyB0cmVlX3dhbGtlcl9zZXRyb290KHcsIGN0eCwgYXJndlswXSk7CgogIGlmKGFyZ2MgPiAxKQogICAgSlNfVG9VaW50MzIoY3R4LCAmdy0+dGFnX21hc2ssIGFyZ3ZbMV0pOwoKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2ZyZWUoY3R4LCB3KTsKICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogIHJldHVybiBKU19FWENFUFRJT047Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgVHJlZVdhbGtlciogdzsKICBEeW5CdWYgZGJ1ZjsKICBKU1ZhbHVlIHJldDsKICBpZighKHcgPSBKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGpzX2RidWZfaW5pdChjdHgsICZkYnVmKTsKICB0cmVlX3dhbGtlcl9kdW1wKHcsIGN0eCwgJmRidWYpOwogIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKICBkYnVmX2ZyZWUoJmRidWYpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgUHJvcGVydHlFbnVtZXJhdGlvbioKanNfdHJlZV93YWxrZXJfbmV4dChKU0NvbnRleHQqIGN0eCwgVHJlZVdhbGtlciogdywgSlNWYWx1ZUNvbnN0IHRoaXNfYXJnLCBKU1ZhbHVlQ29uc3QgcHJlZCkgewogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwogIGVudW0gdmFsdWVfbWFzayB0eXBlLCBtYXNrID0gdy0+dGFnX21hc2sgJiBUWVBFX0FMTDsKCiAgZm9yKDsgKGl0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fcmVjdXJzZSgmdy0+ZnJhbWVzLCBjdHgpKTspIHsKICAgIGlmKG1hc2sgJiYgbWFzayAhPSBUWVBFX0FMTCkgewogICAgICBKU1ZhbHVlIHZhbHVlOwogICAgICB2YWx1ZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3ZhbHVlKGl0LCBjdHgpOwogICAgICB0eXBlID0ganNfdmFsdWVfdHlwZShjdHgsIHZhbHVlKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogICAgICBpZigobWFzayAmIHR5cGUpID09IDApCiAgICAgICAgY29udGludWU7CiAgICB9CiAgICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgcHJlZCkpIHsKICAgICAgQk9PTCByZXN1bHQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wcmVkaWNhdGUoaXQsIGN0eCwgcHJlZCwgdGhpc19hcmcpOwogICAgICBpZighcmVzdWx0KQogICAgICAgIGNvbnRpbnVlOwogICAgfQogICAgYnJlYWs7CiAgfQogIHJldHVybiBpdDsKfQoKc3RhdGljIEpTVmFsdWUKanNfdHJlZV93YWxrZXJfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBUcmVlV2Fsa2VyKiB3OwogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwoKICBpZighKHcgPSBKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZih2ZWN0b3JfZW1wdHkoJnctPmZyYW1lcykpCiAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwoKICBpdCA9IHZlY3Rvcl9iYWNrKCZ3LT5mcmFtZXMsIHNpemVvZihQcm9wZXJ0eUVudW1lcmF0aW9uKSk7CgogIGlmKG1hZ2ljID09IFBSRVZJT1VTX05PREUpIHsKICAgIG1hZ2ljID0gaXQtPmlkeCA9PSAwID8gUEFSRU5UX05PREUgOiBQUkVWSU9VU19TSUJMSU5HOwogIH0KCiAgaWYobWFnaWMgPT0gTkVYVF9OT0RFKSB7CiAgICBpdCA9IGpzX3RyZWVfd2Fsa2VyX25leHQoY3R4LCB3LCB0aGlzX3ZhbCwgYXJnYyA+IDAgPyBhcmd2WzBdIDogSlNfVU5ERUZJTkVEKTsKICB9CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBGSVJTVF9DSElMRDogewogICAgICBpZigoaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9lbnRlcigmdy0+ZnJhbWVzLCBjdHgsIDAsIFBST1BFTlVNX0RFRkFVTFRfRkxBR1MpKSA9PSAwIC8qfHwKICAgICAgICAgIXByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgMCkqLykKICAgICAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIExBU1RfQ0hJTEQ6IHsKICAgICAgaWYoKGl0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fZW50ZXIoJnctPmZyYW1lcywgY3R4LCAtMSwgUFJPUEVOVU1fREVGQVVMVF9GTEFHUykpID09IDAgLyp8fAogICAgICAgICAhcHJvcGVydHlfZW51bWVyYXRpb25fc2V0cG9zKGl0LCAtMSkqLykKICAgICAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIE5FWFRfU0lCTElORzogewogICAgICBpZighcHJvcGVydHlfZW51bWVyYXRpb25fc2V0cG9zKGl0LCBpdC0+aWR4ICsgMSkpCiAgICAgICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBQQVJFTlRfTk9ERTogewogICAgICBpZigoaXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wb3AoJnctPmZyYW1lcywgY3R4KSkgPT0gMCkKICAgICAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIFBSRVZJT1VTX1NJQkxJTkc6IHsKICAgICAgaWYoIXByb3BlcnR5X2VudW1lcmF0aW9uX3NldHBvcyhpdCwgaXQtPmlkeCAtIDEpKQogICAgICAgIHJldHVybiBKU19VTkRFRklORUQ7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gaXQgPyBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KSA6IEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfdHJlZV93YWxrZXJfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIFRyZWVXYWxrZXIqIHc7CiAgUHJvcGVydHlFbnVtZXJhdGlvbiogaXQ7CgogIGlmKCEodyA9IEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfdHJlZV93YWxrZXJfY2xhc3NfaWQpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGl0ID0gdmVjdG9yX2JhY2soJnctPmZyYW1lcywgc2l6ZW9mKFByb3BlcnR5RW51bWVyYXRpb24pKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFBST1BfUk9PVDogewogICAgICBpZighdmVjdG9yX2VtcHR5KCZ3LT5mcmFtZXMpKSB7CiAgICAgICAgaXQgPSB2ZWN0b3JfYmVnaW4oJnctPmZyYW1lcyk7CiAgICAgICAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgaXQtPm9iaik7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBQUk9QX0NVUlJFTlRfTk9ERTogewogICAgICBpZihpdCkKICAgICAgICByZXR1cm4gcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgUFJPUF9DVVJSRU5UX0tFWTogewogICAgICBpZihpdCkKICAgICAgICByZXR1cm4gcHJvcGVydHlfZW51bWVyYXRpb25fa2V5KGl0LCBjdHgpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIFBST1BfQ1VSUkVOVF9QQVRIOiB7CiAgICAgIHJldHVybiBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9wYXRoKCZ3LT5mcmFtZXMsIGN0eCk7CiAgICB9CgogICAgY2FzZSBQUk9QX0RFUFRIOiB7CiAgICAgIHJldHVybiBKU19OZXdVaW50MzIoY3R4LCB2ZWN0b3Jfc2l6ZSgmdy0+ZnJhbWVzLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpIC0gMSk7CiAgICB9CgogICAgY2FzZSBQUk9QX0lOREVYOiB7CiAgICAgIHJldHVybiBKU19OZXdVaW50MzIoY3R4LCBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9pbmRleChpdCkpOwogICAgfQoKICAgIGNhc2UgUFJPUF9MRU5HVEg6IHsKICAgICAgcmV0dXJuIEpTX05ld1VpbnQzMihjdHgsIHByb3BlcnR5X2VudW1lcmF0aW9uX2xlbmd0aChpdCkpOwogICAgfQoKICAgIGNhc2UgUFJPUF9UQUdfTUFTSzogewogICAgICByZXR1cm4gSlNfTmV3VWludDMyKGN0eCwgdy0+dGFnX21hc2spOwogICAgfQogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc190cmVlX3dhbGtlcl9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBpbnQgbWFnaWMpIHsKICBUcmVlV2Fsa2VyKiB3OwogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwoKICBpZighKHcgPSBKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKCEoaXQgPSB2ZWN0b3JfYmFjaygmdy0+ZnJhbWVzLCBzaXplb2YoUHJvcGVydHlFbnVtZXJhdGlvbikpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX0lOREVYOiB7CiAgICAgIGludDY0X3QgaW5kZXggPSAwOwogICAgICBKU19Ub0ludDY0KGN0eCwgJmluZGV4LCB2YWx1ZSk7CiAgICAgIGlmKGluZGV4IDwgMCkKICAgICAgICBpbmRleCA9IChpbmRleCAlIHByb3BlcnR5X2VudW1lcmF0aW9uX2xlbmd0aChpdCkpICsgcHJvcGVydHlfZW51bWVyYXRpb25fbGVuZ3RoKGl0KTsKICAgICAgaXQtPmlkeCA9IGluZGV4OwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIFBST1BfVEFHX01BU0s6IHsKICAgICAgdWludDMyX3QgdGFnX21hc2sgPSAwOwogICAgICBKU19Ub1VpbnQzMihjdHgsICZ0YWdfbWFzaywgdmFsdWUpOwogICAgICB3LT50YWdfbWFzayA9IHRhZ19tYXNrOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfdHJlZV93YWxrZXJfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBUcmVlV2Fsa2VyKiB3OwogIEpTVmFsdWUgb2JqOwoKICBpZighKHcgPSBKU19HZXRPcGFxdWUodGhpc192YWwsIGpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkKSkpCiAgICB3ID0gSlNfR2V0T3BhcXVlKHRoaXNfdmFsLCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkKTsKCiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHRyZWVfaXRlcmF0b3JfcHJvdG8sIGpzX3RyZWVfaXRlcmF0b3JfY2xhc3NfaWQpOwoKICB3LT5yZWZfY291bnQrKzsKCiAgSlNfU2V0T3BhcXVlKG9iaiwgdyk7CgogIHJldHVybiBvYmo7Cn0KCnN0YXRpYyB2b2lkCmpzX3RyZWVfd2Fsa2VyX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIFRyZWVXYWxrZXIqIHcgPSBKU19HZXRPcGFxdWUodmFsLCBqc190cmVlX3dhbGtlcl9jbGFzc19pZCk7CiAgaWYodykgewogICAgUHJvcGVydHlFbnVtZXJhdGlvbiAqcywgKmU7CgogICAgaWYoLS13LT5yZWZfY291bnQgPT0gMCkgewogICAgICBmb3IocyA9IHZlY3Rvcl9iZWdpbigmdy0+ZnJhbWVzKSwgZSA9IHZlY3Rvcl9lbmQoJnctPmZyYW1lcyk7IHMgIT0gZTsgcysrKSB7IHByb3BlcnR5X2VudW1lcmF0aW9uX3Jlc2V0KHMsIHJ0KTsgfQogICAgICB2ZWN0b3JfZnJlZSgmdy0+ZnJhbWVzKTsKICAgICAganNfZnJlZV9ydChydCwgdyk7CiAgICB9CiAgfQogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc190cmVlX2l0ZXJhdG9yX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBUcmVlV2Fsa2VyKiB3OwogIC8vIFByb3BlcnR5RW51bWVyYXRpb24qIGl0ID0gMDsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBpZighKHcgPSBqc19tYWxsb2N6KGN0eCwgc2l6ZW9mKFRyZWVXYWxrZXIpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICB2ZWN0b3JfaW5pdCgmdy0+ZnJhbWVzLCBjdHgpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZSBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX3RyZWVfaXRlcmF0b3JfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIHcpOwoKICBpZihhcmdjID4gMCAmJiBKU19Jc09iamVjdChhcmd2WzBdKSkKICAgIC8qaXQgPSovdHJlZV93YWxrZXJfc2V0cm9vdCh3LCBjdHgsIGFyZ3ZbMF0pOwoKICBpZihhcmdjID4gMSkKICAgIEpTX1RvVWludDMyKGN0eCwgJnctPnRhZ19tYXNrLCBhcmd2WzFdKTsKCiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19mcmVlKGN0eCwgdyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCmpzX3RyZWVfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgQk9PTCogcGRvbmUsIGludCBtYWdpYykgewogIFByb3BlcnR5RW51bWVyYXRpb24qIGl0OwogIFRyZWVXYWxrZXIqIHc7CiAgZW51bSB0cmVlX2l0ZXJhdG9yX3JldHVybiByOwogIC8vIGVudW0gdmFsdWVfbWFzayB0OwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICB3ID0gSlNfR2V0T3BhcXVlKHRoaXNfdmFsLCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkKTsKCiAgciA9IHctPnRhZ19tYXNrICYgUkVUVVJOX01BU0s7CiAgLy8gdCA9IHctPnRhZ19tYXNrICYgMHhmZmZmZmY7CgogIGZvcig7OykgewogICAgaWYoKGl0ID0ganNfdHJlZV93YWxrZXJfbmV4dChjdHgsIHcsIHRoaXNfdmFsLCBhcmdjID4gMCA/IGFyZ3ZbMF0gOiBKU19VTkRFRklORUQpKSkgewogICAgICBlbnVtIHZhbHVlX21hc2sgdnR5cGU7CiAgICAgICpwZG9uZSA9IEZBTFNFOwoKICAgICAgLyogaWYodCkgewogICAgICAgICB2dHlwZSA9IHByb3BlcnR5X2VudW1lcmF0aW9uX3R5cGUoaXQsIGN0eCk7CgogICAgICAgICBpZigodnR5cGUgJiB0KSA9PSAwKQogICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgfSovCgogICAgICBzd2l0Y2gocikgewogICAgICAgIGNhc2UgUkVUVVJOX1ZBTFVFOiByZXQgPSBwcm9wZXJ0eV9lbnVtZXJhdGlvbl92YWx1ZShpdCwgY3R4KTsgYnJlYWs7CiAgICAgICAgY2FzZSBSRVRVUk5fUEFUSDogcmV0ID0gcHJvcGVydHlfZW51bWVyYXRpb25fcGF0aCgmdy0+ZnJhbWVzLCBjdHgpOyBicmVhazsKICAgICAgICBjYXNlIFJFVFVSTl9WQUxVRV9QQVRIOgogICAgICAgIGRlZmF1bHQ6IHsKICAgICAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMCwgcHJvcGVydHlfZW51bWVyYXRpb25fdmFsdWUoaXQsIGN0eCkpOwogICAgICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIHByb3BlcnR5X2VudW1lcmF0aW9uX3BhdGgoJnctPmZyYW1lcywgY3R4KSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICB9IGVsc2UgewogICAgICAqcGRvbmUgPSBUUlVFOwogICAgICByZXQgPSBKU19VTkRFRklORUQ7CiAgICB9CgogICAgYnJlYWs7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyB2b2lkCmpzX3RyZWVfaXRlcmF0b3JfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgVHJlZVdhbGtlciogdyA9IEpTX0dldE9wYXF1ZSh2YWwsIGpzX3RyZWVfaXRlcmF0b3JfY2xhc3NfaWQpOwogIGlmKHcpIHsKICAgIFByb3BlcnR5RW51bWVyYXRpb24gKnMsICplOwoKICAgIGlmKC0tdy0+cmVmX2NvdW50ID09IDApIHsKICAgICAgZm9yKHMgPSB2ZWN0b3JfYmVnaW4oJnctPmZyYW1lcyksIGUgPSB2ZWN0b3JfZW5kKCZ3LT5mcmFtZXMpOyBzICE9IGU7IHMrKykgeyBwcm9wZXJ0eV9lbnVtZXJhdGlvbl9yZXNldChzLCBydCk7IH0KICAgICAgdmVjdG9yX2ZyZWUoJnctPmZyYW1lcyk7CiAgICAgIGpzX2ZyZWVfcnQocnQsIHcpOwogICAgfQogIH0KICBKU19GcmVlVmFsdWVSVChydCwgdmFsKTsKfQoKc3RhdGljIEpTQ2xhc3NEZWYganNfdHJlZV93YWxrZXJfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJUcmVlV2Fsa2VyIiwKICAgIC5maW5hbGl6ZXIgPSBqc190cmVlX3dhbGtlcl9maW5hbGl6ZXIsCn07CgpzdGF0aWMgSlNDbGFzc0RlZiBqc190cmVlX2l0ZXJhdG9yX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiVHJlZUl0ZXJhdG9yIiwKICAgIC5maW5hbGl6ZXIgPSBqc190cmVlX2l0ZXJhdG9yX2ZpbmFsaXplciwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc190cmVlX3dhbGtlcl9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXJzdENoaWxkIiwgMCwganNfdHJlZV93YWxrZXJfbWV0aG9kLCBGSVJTVF9DSElMRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImxhc3RDaGlsZCIsIDAsIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCwgTEFTVF9DSElMRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoIm5leHROb2RlIiwgMCwganNfdHJlZV93YWxrZXJfbWV0aG9kLCBORVhUX05PREUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJuZXh0U2libGluZyIsIDAsIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCwgTkVYVF9TSUJMSU5HKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicGFyZW50Tm9kZSIsIDAsIGpzX3RyZWVfd2Fsa2VyX21ldGhvZCwgUEFSRU5UX05PREUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJwcmV2aW91c05vZGUiLCAwLCBqc190cmVlX3dhbGtlcl9tZXRob2QsIFBSRVZJT1VTX05PREUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJwcmV2aW91c1NpYmxpbmciLCAwLCBqc190cmVlX3dhbGtlcl9tZXRob2QsIFBSRVZJT1VTX1NJQkxJTkcpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInJvb3QiLCBqc190cmVlX3dhbGtlcl9nZXQsIE5VTEwsIFBST1BfUk9PVCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiY3VycmVudE5vZGUiLCBqc190cmVlX3dhbGtlcl9nZXQsIE5VTEwsIFBST1BfQ1VSUkVOVF9OT0RFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJjdXJyZW50S2V5IiwganNfdHJlZV93YWxrZXJfZ2V0LCBOVUxMLCBQUk9QX0NVUlJFTlRfS0VZKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJjdXJyZW50UGF0aCIsIGpzX3RyZWVfd2Fsa2VyX2dldCwgTlVMTCwgUFJPUF9DVVJSRU5UX1BBVEgpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImRlcHRoIiwganNfdHJlZV93YWxrZXJfZ2V0LCBOVUxMLCBQUk9QX0RFUFRIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJpbmRleCIsIGpzX3RyZWVfd2Fsa2VyX2dldCwganNfdHJlZV93YWxrZXJfc2V0LCBQUk9QX0lOREVYKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJsZW5ndGgiLCBqc190cmVlX3dhbGtlcl9nZXQsIE5VTEwsIFBST1BfTEVOR1RIKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJ0YWdNYXNrIiwganNfdHJlZV93YWxrZXJfZ2V0LCBqc190cmVlX3dhbGtlcl9zZXQsIFBST1BfVEFHX01BU0spLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImZsYWdzIiwganNfdHJlZV93YWxrZXJfZ2V0LCBqc190cmVlX3dhbGtlcl9zZXQsIFBST1BfRkxBR1MpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3RyZWVfd2Fsa2VyX3Rvc3RyaW5nKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiVHJlZVdhbGtlciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc190cmVlX3dhbGtlcl9zdGF0aWNfZnVuY3NbXSA9IHsKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX1VOREVGSU5FRCIsIFRZUEVfVU5ERUZJTkVELCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfTlVMTCIsIFRZUEVfTlVMTCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX0JPT0wiLCBUWVBFX0JPT0wsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVFlQRV9JTlQiLCBUWVBFX0lOVCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX09CSkVDVCIsIFRZUEVfT0JKRUNULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfU1RSSU5HIiwgVFlQRV9TVFJJTkcsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVFlQRV9TWU1CT0wiLCBUWVBFX1NZTUJPTCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX0JJR19GTE9BVCIsIFRZUEVfQklHX0ZMT0FULCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfQklHX0lOVCIsIFRZUEVfQklHX0lOVCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX0JJR19ERUNJTUFMIiwgVFlQRV9CSUdfREVDSU1BTCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUWVBFX0FMTCIsIFRZUEVfQUxMLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRZUEVfUFJJTUlUSVZFIiwgVFlQRV9QUklNSVRJVkUsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiUkVUVVJOX1ZBTFVFIiwgUkVUVVJOX1ZBTFVFLCBKU19QUk9QX0VOVU1FUkFCTEUpLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlJFVFVSTl9QQVRIIiwgUkVUVVJOX1BBVEgsIEpTX1BST1BfRU5VTUVSQUJMRSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiUkVUVVJOX1ZBTFVFX1BBVEgiLCBSRVRVUk5fVkFMVUVfUEFUSCwgSlNfUFJPUF9FTlVNRVJBQkxFKSwKfTsKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc190cmVlX2l0ZXJhdG9yX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19JVEVSQVRPUl9ORVhUX0RFRigibmV4dCIsIDAsIGpzX3RyZWVfaXRlcmF0b3JfbmV4dCwgMCksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIlRyZWVJdGVyYXRvciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKICAgIEpTX0NGVU5DX0RFRigiW1N5bWJvbC5pdGVyYXRvcl0iLCAwLCBqc190cmVlX3dhbGtlcl9pdGVyYXRvciksCn07CgpzdGF0aWMgaW50CmpzX3RyZWVfd2Fsa2VyX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIEpTX05ld0NsYXNzSUQoJmpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkKTsKICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkLCAmanNfdHJlZV93YWxrZXJfY2xhc3MpOwoKICB0cmVlX3dhbGtlcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgdHJlZV93YWxrZXJfcHJvdG8sIGpzX3RyZWVfd2Fsa2VyX3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX3RyZWVfd2Fsa2VyX3Byb3RvX2Z1bmNzKSk7CiAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX3RyZWVfd2Fsa2VyX2NsYXNzX2lkLCB0cmVlX3dhbGtlcl9wcm90byk7CgogIHRyZWVfd2Fsa2VyX2N0b3IgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfdHJlZV93YWxrZXJfY29uc3RydWN0b3IsICJUcmVlV2Fsa2VyIiwgMSwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwoKICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIHRyZWVfd2Fsa2VyX2N0b3IsIHRyZWVfd2Fsa2VyX3Byb3RvKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHRyZWVfd2Fsa2VyX2N0b3IsIGpzX3RyZWVfd2Fsa2VyX3N0YXRpY19mdW5jcywgY291bnRvZihqc190cmVlX3dhbGtlcl9zdGF0aWNfZnVuY3MpKTsKCiAgSlNfTmV3Q2xhc3NJRCgmanNfdHJlZV9pdGVyYXRvcl9jbGFzc19pZCk7CiAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkLCAmanNfdHJlZV9pdGVyYXRvcl9jbGFzcyk7CgogIHRyZWVfaXRlcmF0b3JfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHRyZWVfaXRlcmF0b3JfcHJvdG8sIGpzX3RyZWVfaXRlcmF0b3JfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfdHJlZV9pdGVyYXRvcl9wcm90b19mdW5jcykpOwogIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc190cmVlX2l0ZXJhdG9yX2NsYXNzX2lkLCB0cmVlX2l0ZXJhdG9yX3Byb3RvKTsKCiAgdHJlZV9pdGVyYXRvcl9jdG9yID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3RyZWVfaXRlcmF0b3JfY29uc3RydWN0b3IsICJUcmVlSXRlcmF0b3IiLCAxLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CgogIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgdHJlZV9pdGVyYXRvcl9jdG9yLCB0cmVlX2l0ZXJhdG9yX3Byb3RvKTsKICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHRyZWVfaXRlcmF0b3JfY3RvciwganNfdHJlZV93YWxrZXJfc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3RyZWVfd2Fsa2VyX3N0YXRpY19mdW5jcykpOwoKICBpZihtKSB7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiVHJlZVdhbGtlciIsIHRyZWVfd2Fsa2VyX2N0b3IpOwogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRyZWVJdGVyYXRvciIsIHRyZWVfaXRlcmF0b3JfY3Rvcik7CiAgfQoKICByZXR1cm4gMDsKfQoKI2lmZGVmIEpTX1NIQVJFRF9MSUJSQVJZCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV90cmVlX3dhbGtlcgojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsICZqc190cmVlX3dhbGtlcl9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJUcmVlV2Fsa2VyIik7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRyZWVJdGVyYXRvciIpOwogIHJldHVybiBtOwp9CgovKioKICogQH0KICovCgAAAAAAAAAAoT4AAAAAAAAAAAAAAAAAAAAAAAChPgAAAAAAAAAAAAAAAAAAAAAAAKE+AAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALwhAAAAAAAAvCEAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "char-utils.h",
			"settings":
			{
				"buffer_size": 8860,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					7,
					1,
					"cut",
					null,
					"AQAAAPwSAAAAAAAA/BIAAAAAAAAKAAAAICBpbnQgY3A7Cg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPwSAAAAAAAABhMAAAAAAAAAAAAAAAAAAA"
				],
				[
					11,
					1,
					"left_delete",
					null,
					"AQAAACwTAAAAAAAALBMAAAAAAAAFAAAAIGNwID0",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACwTAAAAAAAAMRMAAAAAAAAAAAAAAADwvw"
				],
				[
					16,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAACcIgAAI2lmbmRlZiBDSEFSX1VUSUxTX0gKI2RlZmluZSBDSEFSX1VUSUxTX0gKCiNpbmNsdWRlIDxjdXRpbHMuaD4KI2luY2x1ZGUgPHN0cmluZy5oPgoKLyoqCiAqIFxkZWZncm91cCBjaGFyLXV0aWxzIENoYXJhY3RlciBVdGlsaXRpZXMKICogQHsKICovCiNkZWZpbmUgaXNfY29udHJvbF9jaGFyKGMpICgoYykgPT0gJ1xhJyB8fCAoYykgPT0gJ1xiJyB8fCAoYykgPT0gJ1x0JyB8fCAoYykgPT0gJ1xuJyB8fCAoYykgPT0gJ1x2JyB8fCAoYykgPT0gJ1xmJyB8fCAoYykgPT0gJ1xyJykKI2RlZmluZSBpc19hbHBoYW51bWVyaWNfY2hhcihjKSAoKGMpID49ICdBJyAmJiAoYykgPD0gJ1onKSB8fCAoKGMpID49ICdhJyAmJiAoYykgPD0gJ3onKQojZGVmaW5lIGlzX2RpZ2l0X2NoYXIoYykgKChjKSA+PSAnMCcgJiYgKGMpIDw9ICc5JykKI2RlZmluZSBpc19uZXdsaW5lX2NoYXIoYykgKChjKSA9PSAnXG4nKQojZGVmaW5lIGlzX2lkZW50aWZpZXJfY2hhcihjKSAoaXNfYWxwaGFudW1lcmljX2NoYXIoYykgfHwgaXNfZGlnaXRfY2hhcihjKSB8fCAoYykgPT0gJyQnIHx8IChjKSA9PSAnXycpCiNkZWZpbmUgaXNfd2hpdGVzcGFjZV9jaGFyKGMpICgoYykgPT0gJyAnIHx8IChjKSA9PSAnXHQnIHx8IChjKSA9PSAnXHYnIHx8IChjKSA9PSAnXG4nIHx8IChjKSA9PSAnXHInKQoKI2RlZmluZSBzdHJfZXF1YWwocywgdCkgKCFzdHJjbXAoKHMpLCAodCkpKQoKc3RhdGljIGlubGluZSBpbnQKZXNjYXBlX2NoYXJfcHJlZChpbnQgYykgewogIHN0YXRpYyBjb25zdCB1bnNpZ25lZCBjaGFyIHRhYmxlWzI1Nl0gPSB7J3gnLCAneCcsICd4JywgICd4JywgICd4JywgJ3gnLCAneCcsICd4JywgMHg2MiwgMHg3NCwgMHg2ZSwgMHg3NiwgMHg2NiwgMHg3MiwgJ3gnLCAneCcsICd4JywgJ3gnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnLCAneCcsICd4JywgICd4JywgICd4JywgJ3gnLCAneCcsICd4JywgJ3gnLCAgJ3gnLCAgJ3gnLCAgJ3gnLCAgJ3gnLCAgJ3gnLCAgMCwgICAwLCAgIDAsICAgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsICAgMCwgICAwLCAgICAweDI3LCAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgICAwLCAgIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsICAgMCwgICAweDVjLCAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgICAneCcsIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgICAwLCAgIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLCAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgICAwLCAgIDAsICAgMCwgICAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgICAwLCAgIDAsICAgIDAsICAgIDAsICAgMCwgICAwLCAgIDAsICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAgMCwgICAwLCAgIDAsICAgMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsICAgMCwgICAwLCAgICAwfTsKCiAgcmV0dXJuIHRhYmxlWyh1bnNpZ25lZCBjaGFyKWNdOwp9CgpzdGF0aWMgaW5saW5lIGludAp1bmVzY2FwZV9jaGFyX3ByZWQoaW50IGMpIHsKICBzd2l0Y2goYykgewogICAgY2FzZSAnYic6IHJldHVybiA4OwogICAgY2FzZSAnZic6IHJldHVybiAxMjsKICAgIGNhc2UgJ24nOiByZXR1cm4gMTA7CiAgICBjYXNlICdyJzogcmV0dXJuIDEzOwogICAgY2FzZSAndCc6IHJldHVybiA5OwogICAgY2FzZSAndic6IHJldHVybiAxMTsKICAgIGNhc2UgJ1wnJzogcmV0dXJuIDM5OwogICAgY2FzZSAnXFwnOiByZXR1cm4gOTI7CiAgfQogIHJldHVybiAwOwp9CgpzdGF0aWMgaW5saW5lIGludAppc19lc2NhcGVfY2hhcihpbnQgYykgewogIHJldHVybiBpc19jb250cm9sX2NoYXIoYykgfHwgYyA9PSAnXFwnIHx8IGMgPT0gJ1wnJyB8fCBjID09IDB4MWIgfHwgYyA9PSAwOwp9CgpzdGF0aWMgaW5saW5lIGludAppc19iYWNrc2xhc2hfY2hhcihpbnQgYykgewogIHJldHVybiBjID09ICdcXCc7Cn0KCi8vI2RlZmluZSBpc19kb3RfY2hhcihjKSAoKGMpID09ICcuJykwCi8vI2RlZmluZSBpc19iYWNrc2xhc2hfY2hhcihjKSAoKGMpID09ICdcXCcpCgpzdGF0aWMgaW5saW5lIGludAppc19kb3RfY2hhcihpbnQgYykgewogIHJldHVybiBjID09ICcuJzsKfQoKc3RhdGljIGlubGluZSBpbnQKaXNfaWRlbnRpZmllcihjb25zdCBjaGFyKiBzdHIpIHsKICBpZighKCgqc3RyID49ICdBJyAmJiAqc3RyIDw9ICdaJykgfHwgKCpzdHIgPj0gJ2EnICYmICpzdHIgPD0gJ3onKSB8fCAqc3RyID09ICckJyB8fCAqc3RyID09ICdfJykpCiAgICByZXR1cm4gMDsKICB3aGlsZSgqKytzdHIpIHsKICAgIGlmKCFpc19pZGVudGlmaWVyX2NoYXIoKnN0cikpCiAgICAgIHJldHVybiAwOwogIH0KICByZXR1cm4gMTsKfQoKc3RhdGljIGlubGluZSBpbnQKaXNfaW50ZWdlcihjb25zdCBjaGFyKiBzdHIpIHsKICBpZighKCpzdHIgPj0gJzEnICYmICpzdHIgPD0gJzknKSAmJiAhKCpzdHIgPT0gJzAnICYmIHN0clsxXSA9PSAnXDAnKSkKICAgIHJldHVybiAwOwogIHdoaWxlKCorK3N0cikgewogICAgaWYoIWlzX2RpZ2l0X2NoYXIoKnN0cikpCiAgICAgIHJldHVybiAwOwogIH0KICByZXR1cm4gMTsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKYnl0ZV9jb3VudChjb25zdCB2b2lkKiBzLCBzaXplX3QgbiwgY2hhciBjKSB7CiAgY29uc3QgdWludDhfdCogdDsKICB1aW50OF90IGNoID0gKHVpbnQ4X3QpYzsKICBzaXplX3QgY291bnQ7CiAgZm9yKHQgPSAodWludDhfdCopcywgY291bnQgPSAwOyBuOyArK3QsIC0tbikgewogICAgaWYoKnQgPT0gY2gpCiAgICAgICsrY291bnQ7CiAgfQogIHJldHVybiBjb3VudDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKYnl0ZV9jaHIoY29uc3Qgdm9pZCogc3RyLCBzaXplX3QgbGVuLCBjaGFyIGMpIHsKICBjb25zdCBjaGFyICpzLCAqdDsKICBmb3IocyA9IHN0ciwgdCA9IHMgKyBsZW47IHMgPCB0OyArK3MpCiAgICBpZigqcyA9PSBjKQogICAgICBicmVhazsKICByZXR1cm4gcyAtIChjb25zdCBjaGFyKilzdHI7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CmJ5dGVfcmNocihjb25zdCB2b2lkKiBzdHIsIHNpemVfdCBsZW4sIGNoYXIgYykgewogIGNvbnN0IGNoYXIgKnMsICp0OwogIGZvcihzID0gKGNvbnN0IGNoYXIqKXN0ciwgdCA9IHMgKyBsZW47IC0tdCA+PSBzOykKICAgIGlmKCp0ID09IGMpCiAgICAgIHJldHVybiAoc2l6ZV90KSh0IC0gcyk7CiAgcmV0dXJuIGxlbjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKYnl0ZV9jaHJzKGNvbnN0IHZvaWQqIHN0ciwgc2l6ZV90IGxlbiwgY29uc3QgY2hhciBuZWVkbGVbXSwgc2l6ZV90IG5sKSB7CiAgY29uc3QgY2hhciAqcywgKnQ7CiAgZm9yKHMgPSBzdHIsIHQgPSBzdHIgKyBsZW47IHMgIT0gdDsgcysrKQogICAgaWYoYnl0ZV9jaHIobmVlZGxlLCBubCwgKnMpIDwgbmwpCiAgICAgIGJyZWFrOwogIHJldHVybiBzIC0gKGNvbnN0IGNoYXIqKXN0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKYnl0ZV9jaGFybGVuKGNvbnN0IHZvaWQqIGluLCBzaXplX3QgbGVuKSB7CiAgY29uc3QgdWludDhfdCAqcG9zLCAqZW5kLCAqbmV4dDsKICBwb3MgPSAoY29uc3QgdWludDhfdCopaW47CiAgZW5kID0gcG9zICsgbGVuOwogIHVuaWNvZGVfZnJvbV91dGY4KHBvcywgZW5kIC0gcG9zLCAmbmV4dCk7CiAgcmV0dXJuIG5leHQgLSBwb3M7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CnN0cl9jaHIoY29uc3QgY2hhciogaW4sIGNoYXIgbmVlZGxlKSB7CiAgY29uc3QgY2hhciogdCA9IGluOwogIGNvbnN0IGNoYXIgYyA9IG5lZWRsZTsKICBmb3IoOzspIHsKICAgIGlmKCEqdCB8fCAqdCA9PSBjKSB7CiAgICAgIGJyZWFrOwogICAgfTsKICAgICsrdDsKICB9CiAgcmV0dXJuIChzaXplX3QpKHQgLSBpbik7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CnN0cl9jaHJzKGNvbnN0IGNoYXIqIGluLCBjb25zdCBjaGFyIG5lZWRsZXNbXSwgc2l6ZV90IG5uKSB7CiAgY29uc3QgY2hhciogdCA9IGluOwogIHNpemVfdCBpOwogIGZvcig7OykgewogICAgaWYoISp0KQogICAgICBicmVhazsKICAgIGZvcihpID0gMDsgaSA8IG5uOyBpKyspCiAgICAgIGlmKCp0ID09IG5lZWRsZXNbaV0pCiAgICAgICAgcmV0dXJuIChzaXplX3QpKHQgLSBpbik7CiAgICArK3Q7CiAgfQogIHJldHVybiAoc2l6ZV90KSh0IC0gaW4pOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApzdHJfcmNocihjb25zdCBjaGFyKiBzLCBjaGFyIG5lZWRsZSkgewogIGNvbnN0IGNoYXIgKmluID0gcywgKmZvdW5kID0gMDsKICBmb3IoOzspIHsKICAgIGlmKCEqaW4pCiAgICAgIGJyZWFrOwogICAgaWYoKmluID09IG5lZWRsZSkKICAgICAgZm91bmQgPSBpbjsKICAgICsraW47CiAgfQogIHJldHVybiAoc2l6ZV90KSgoZm91bmQgPyBmb3VuZCA6IGluKSAtIHMpOwp9CgpzdGF0aWMgaW5saW5lIHNpemVfdApzdHJfcmNocnMoY29uc3QgY2hhciogaW4sIGNvbnN0IGNoYXIgbmVlZGxlc1tdLCBzaXplX3Qgbm4pIHsKICBjb25zdCBjaGFyICpzID0gaW4sICpmb3VuZCA9IDA7CiAgc2l6ZV90IGk7CiAgZm9yKDs7KSB7CiAgICBpZighKnMpCiAgICAgIGJyZWFrOwogICAgZm9yKGkgPSAwOyBpIDwgbm47ICsraSkgewogICAgICBpZigqcyA9PSBuZWVkbGVzW2ldKQogICAgICAgIGZvdW5kID0gczsKICAgIH0KICAgICsrczsKICB9CiAgcmV0dXJuIChzaXplX3QpKChmb3VuZCA/IGZvdW5kIDogcykgLSBpbik7Cn0KCnN0YXRpYyBpbmxpbmUgaW50CnN0cl9lbmRiKGNvbnN0IGNoYXIqIGEsIGNvbnN0IGNoYXIqIHgsIHNpemVfdCBuKSB7CiAgc2l6ZV90IGFsZW4gPSBzdHJsZW4oYSk7CiAgYSArPSBhbGVuIC0gbjsKICByZXR1cm4gYWxlbiA+PSBuICYmICFtZW1jbXAoYSwgeCwgbik7Cn0KCi8qIHN0cl9lbmRzIHJldHVybnMgMSBpZiB0aGUgYiBpcyBhIHN1ZmZpeCBvZiBhLCAwIG90aGVyd2lzZSAqLwpzdGF0aWMgaW5saW5lIGludApzdHJfZW5kcyhjb25zdCBjaGFyKiBhLCBjb25zdCBjaGFyKiBiKSB7CiAgcmV0dXJuIHN0cl9lbmRiKGEsIGIsIHN0cmxlbihiKSk7Cn0KCnN0YXRpYyBpbmxpbmUgaW50CnN0cl9zdGFydGIoY29uc3QgY2hhciogYSwgY29uc3QgY2hhciogeCwgc2l6ZV90IGxlbikgewogIHNpemVfdCBpOwogIGZvcihpID0gMDs7IGkrKykgewogICAgaWYoaSA9PSBsZW4pCiAgICAgIHJldHVybiAxOwogICAgaWYoYVtpXSAhPSB4W2ldKQogICAgICBicmVhazsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgaW50CnN0cl9zdGFydChjb25zdCBjaGFyKiBhLCBjb25zdCBjaGFyKiBiKSB7CiAgcmV0dXJuIHN0cl9zdGFydGIoYSwgYiwgc3RybGVuKGIpKTsKfQoKI2RlZmluZSBzdHJfY29udGFpbnMocywgbmVlZGxlKSAoISFzdHJjaHIoKHMpLCAobmVlZGxlKSkpCgpjaGFyKiBzdHJfZXNjYXBlKGNvbnN0IGNoYXIqKTsKCnN0YXRpYyBpbmxpbmUgc2l6ZV90CnN0cl9jb3VudChjb25zdCBjaGFyKiBzLCBjaGFyIGMpIHsKICBzaXplX3QgaSwgY291bnQgPSAwOwogIGZvcihpID0gMDsgc1tpXTsgaSsrKQogICAgaWYoc1tpXSA9PSBjKQogICAgICArK2NvdW50OwogIHJldHVybiBjb3VudDsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKc3RyX2NvcHkoY2hhciogb3V0LCBjb25zdCBjaGFyKiBpbikgewogIGNoYXIqIHM7CiAgZm9yKHMgPSBvdXQ7ICgqcyA9ICppbik7ICsrcykgKytpbjsKICByZXR1cm4gKHNpemVfdCkocyAtIG91dCk7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90CnN0cl9jb3B5bihjaGFyKiBvdXQsIGNvbnN0IGNoYXIqIGluLCBzaXplX3QgbikgewogIGNoYXIqIHM7CiAgZm9yKHMgPSBvdXQ7IG4tLSAmJiAoKnMgPSAqaW4pOyArK3MpICsraW47CiAgKnMgPSAnXDAnOwogIHJldHVybiAoc2l6ZV90KShzIC0gb3V0KTsKfQoKc3RhdGljIGlubGluZSBjaGFyKgpzdHJfbmR1cChjb25zdCBjaGFyKiBzLCBzaXplX3QgbikgewogIGNoYXIqIHIgPSBtYWxsb2MobiArIDEpOwogIGlmKHIgPT0gTlVMTCkKICAgIHJldHVybiBOVUxMOwogIG1lbWNweShyLCBzLCBuKTsKICByW25dID0gJ1wwJzsKICByZXR1cm4gcjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKcHJlZGljYXRlX2ZpbmQoY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBpbnQgKCpwcmVkKShpbnQzMl90KSkgewogIHNpemVfdCBwb3M7CiAgZm9yKHBvcyA9IDA7IHBvcyA8IGxlbjsgcG9zKyspCiAgICBpZihwcmVkKHN0cltwb3NdKSkKICAgICAgYnJlYWs7CiAgcmV0dXJuIHBvczsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbG9va3VwX2ZpbmQoY29uc3QgY2hhciogc3RyLCBzaXplX3QgbGVuLCBjb25zdCBjaGFyIHRhYmxlWzI1Nl0pIHsKICBzaXplX3QgcG9zOwogIGZvcihwb3MgPSAwOyBwb3MgPCBsZW47IHBvcysrKQogICAgaWYodGFibGVbKHVuc2lnbmVkIGNoYXIpc3RyW3Bvc11dKQogICAgICBicmVhazsKICByZXR1cm4gcG9zOwp9CgpzdGF0aWMgaW5saW5lIGNoYXIKZXNjYXBlX2NoYXJfbGV0dGVyKGNoYXIgYykgewogIHN3aXRjaChjKSB7CiAgICBjYXNlICdcMCc6IHJldHVybiAnMCc7CiAgICBjYXNlICdcYSc6IHJldHVybiAnYSc7CiAgICBjYXNlICdcYic6IHJldHVybiAnYic7CiAgICBjYXNlICdcdCc6IHJldHVybiAndCc7CiAgICBjYXNlICdcbic6IHJldHVybiAnbic7CiAgICBjYXNlICdcdic6IHJldHVybiAndic7CiAgICBjYXNlICdcZic6IHJldHVybiAnZic7CiAgICBjYXNlICdccic6IHJldHVybiAncic7CiAgICBjYXNlICdcXCc6IHJldHVybiAnXFwnOwogICAgY2FzZSAnXCcnOiByZXR1cm4gJ1wnJzsKICB9CiAgcmV0dXJuIDA7Cn0KCiNkZWZpbmUgRk1UX1VMT05HIDQwIC8qIGVub3VnaCBzcGFjZSB0byBob2xkIDJeMTI4IC0gMSBpbiBkZWNpbWFsLCBwbHVzIFwwICovCiNkZWZpbmUgRk1UX1hMT05HIDMzIC8qIGVub3VnaCBzcGFjZSB0byBob2xkIDJeMTI4IC0gMSBpbiBoZXhhZGVjaW1hbCwgcGx1cyBcMCAqLwoKc2l6ZV90IHRva2VuX2xlbmd0aChjb25zdCBjaGFyKiwgc2l6ZV90LCBjaGFyIGRlbGltKTsKc2l6ZV90IGZtdF91bG9uZyhjaGFyKiwgdW5zaWduZWQgbG9uZyk7CnNpemVfdCBzY2FuX3VzaG9ydChjb25zdCBjaGFyKiwgdW5zaWduZWQgc2hvcnQqKTsKc2l6ZV90IGZtdF9sb25nbG9uZyhjaGFyKiwgaW50NjRfdCk7CnNpemVfdCBmbXRfdWxvbmdsb25nKGNoYXIqLCB1aW50NjRfdCk7CnNpemVfdCBmbXRfeGxvbmdsb25nKGNoYXIqLCB1aW50NjRfdCk7CnNpemVfdCBzY2FuX2xvbmdsb25nKGNvbnN0IGNoYXIqLCBpbnQ2NF90Kik7CnNpemVfdCBzY2FuX3Vsb25nbG9uZyhjb25zdCBjaGFyKiwgdWludDY0X3QqKTsKc2l6ZV90IHNjYW5feGxvbmdsb25nKGNvbnN0IGNoYXIqLCB1aW50NjRfdCopOwoKc3RhdGljIGlubGluZSBpbnQKc2Nhbl9mcm9taGV4KHVuc2lnbmVkIGNoYXIgYykgewogIGMgLT0gJzAnOwogIGlmKGMgPD0gOSkKICAgIHJldHVybiBjOwogIGMgJj0gfjB4MjA7CiAgYyAtPSAnQScgLSAnMCc7CiAgaWYoYyA8IDYpCiAgICByZXR1cm4gYyArIDEwOwogIHJldHVybiAtMTsKfQoKLyoqCiAqIEB9CiAqLwojZW5kaWYgLyogZGVmaW5lZChDSEFSX1VUSUxTX0gpICovCgAAAAAAAAAAnCIAAAAAAAAAAAAAAAAAAAAAAACcIgAAAAAAAAAAAAAAAAAAAAAAAJwiAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACwTAAAAAAAALBMAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "quickjs-inspect.c",
			"settings":
			{
				"buffer_size": 38342,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					16,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAADGlQAAI2luY2x1ZGUgPGN1dGlscy5oPgojaW5jbHVkZSAiaXRlcmF0aW9uLmgiCiNpbmNsdWRlIDxsaXN0Lmg+CiNpbmNsdWRlICJwcm9wZXJ0eS1lbnVtZXJhdGlvbi5oIgojaW5jbHVkZSAicXVpY2tqcy1pbnRlcm5hbC5oIgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8cXVpY2tqcy1jb25maWcuaD4KI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJ2ZWN0b3IuaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKI2luY2x1ZGUgPGN0eXBlLmg+CiNpbmNsdWRlIDxtYXRoLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KCiNpZmRlZiBfV0lOMzIKI2luY2x1ZGUgPHdpbmRvd3MuaD4KaW50IGlzYXR0eShIQU5ETEUpOwojZWxzZQojaW5jbHVkZSA8dW5pc3RkLmg+CiNpZiBIQVZFX1RFUk1JT1NfSAojaW5jbHVkZSA8dGVybWlvcy5oPgojaW5jbHVkZSA8c3lzL2lvY3RsLmg+CiNlbmRpZgojZW5kaWYKCi8qKgogKiBcZGVmZ3JvdXAgcXVpY2tqcy1pbnNwZWN0IFF1aWNrSlMgbW9kdWxlOiBpbnNwZWN0IC0gSW5zcGVjdGlvbgogKiBAewogKi8KCnRocmVhZF9sb2NhbCBKU0F0b20gaW5zcGVjdF9jdXN0b21fYXRvbSA9IDAsIGluc3BlY3RfY3VzdG9tX2F0b21fbm9kZSA9IDA7CgojZGVmaW5lIElOU1BFQ1RfSU5UMzJUX0lOUkFOR0UoaSkgKChpKSA+IElOVDMyX01JTiAmJiAoaSkgPCBJTlQzMl9NQVgpCiNkZWZpbmUgSU5TUEVDVF9MRVZFTChvcHRzKSAoKG9wdHMpLT5kZXB0aCAtIChkZXB0aCkpCiNkZWZpbmUgSU5TUEVDVF9JU19DT01QQUNUKG9wdHMpIFwKICAoKG9wdHMpLT5jb21wYWN0ID09IElOVDMyX01BWCA/IFRSVUUgXAogICA6IElOU1BFQ1RfSU5UMzJUX0lOUkFOR0UoKG9wdHMpLT5jb21wYWN0KSBcCiAgICAgICA/ICgob3B0cyktPmNvbXBhY3QgPCAwID8gSU5TUEVDVF9MRVZFTChvcHRzKSA+PSAtKG9wdHMtPmNvbXBhY3QpIDogSU5TUEVDVF9MRVZFTChvcHRzKSA+PSAob3B0cyktPmNvbXBhY3QpIFwKICAgICAgIDogMCkKCnN0cnVjdCBwcm9wX2tleTsKCnR5cGVkZWYgc3RydWN0IHByb3Bfa2V5IHsKICAvKiBzdHJ1Y3QgbGlzdF9oZWFkIGxpbms7Ki8KICBjb25zdCBjaGFyKiBuYW1lOwogIEpTQXRvbSBhdG9tOwp9IHByb3Bfa2V5X3Q7Cgp0eXBlZGVmIHN0cnVjdCB7CiAgaW50IGNvbG9ycyA6IDE7CiAgaW50IHNob3dfaGlkZGVuIDogMTsKICBpbnQgY3VzdG9tX2luc3BlY3QgOiAxOwogIGludCBzaG93X3Byb3h5IDogMTsKICBpbnQgZ2V0dGVycyA6IDE7CiAgaW50IHN0cmluZ19icmVha19uZXdsaW5lIDogMTsKICBpbnQzMl90IGRlcHRoOwogIGludDMyX3QgbWF4X2FycmF5X2xlbmd0aDsKICBpbnQzMl90IG1heF9zdHJpbmdfbGVuZ3RoOwogIGludDMyX3QgYnJlYWtfbGVuZ3RoOwogIGludDMyX3QgY29tcGFjdDsKICBpbnQzMl90IHByb3RvX2NoYWluOwogIGludDMyX3QgbnVtYmVyX2Jhc2U7CiAgVmVjdG9yIGhpZGVfa2V5czsKICBwcm9wX2tleV90IGNsYXNzX2tleTsKfSBpbnNwZWN0X29wdGlvbnNfdDsKCnN0YXRpYyBpbnQgc3Rkb3V0X2lzYXR0eSwgc3RkZXJyX2lzYXR0eTsKc3RhdGljIGludDMyX3Qgc2NyZWVuX3dpZHRoID0gLTE7CgpzdGF0aWMgaW50IGpzX2luc3BlY3RfcHJpbnRfdmFsdWUoSlNDb250ZXh0KiBjdHgsIER5bkJ1ZiogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGluc3BlY3Rfb3B0aW9uc190KiBvcHRzLCBpbnQzMl90IGRlcHRoKTsKCnN0YXRpYyBpbnQKcmVnZXhwX3ByZWRpY2F0ZShpbnQgYykgewogIHN3aXRjaChjKSB7CiAgICBjYXNlIDg6IHJldHVybiAndSc7CiAgICBjYXNlIDEyOiByZXR1cm4gJ2YnOwogICAgY2FzZSAxMDogcmV0dXJuICduJzsKICAgIGNhc2UgMTM6IHJldHVybiAncic7CiAgICBjYXNlIDk6IHJldHVybiAndCc7CiAgICBjYXNlIDExOiByZXR1cm4gJ3YnOwogIH0KICBpZihjIDwgMHgyMCkKICAgIHJldHVybiAndSc7CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbmxpbmUgaW50Cmluc3BlY3Rfc2NyZWVuX3dpZHRoKHZvaWQpIHsKICBpZihzY3JlZW5fd2lkdGggIT0gLTEpCiAgICByZXR1cm4gc2NyZWVuX3dpZHRoOwoKI2lmZGVmIF9XSU4zMgogIENPTlNPTEVfU0NSRUVOX0JVRkZFUl9JTkZPIGNzYmk7CgogIEdldENvbnNvbGVTY3JlZW5CdWZmZXJJbmZvKEdldFN0ZEhhbmRsZShTVERfT1VUUFVUX0hBTkRMRSksICZjc2JpKTsKICBzY3JlZW5fd2lkdGggPSBjc2JpLnNyV2luZG93LlJpZ2h0IC0gY3NiaS5zcldpbmRvdy5MZWZ0ICsgMTsKCiNlbGlmIGRlZmluZWQoSEFWRV9URVJNSU9TX0gpCiAgewogICAgc3RydWN0IHdpbnNpemUgdyA9IHsud3NfY29sID0gLTEsIC53c19yb3cgPSAtMX07CgogICAgaWYoc3Rkb3V0X2lzYXR0eSkKICAgICAgaW9jdGwoU1RET1VUX0ZJTEVOTywgVElPQ0dXSU5TWiwgJncpOwogICAgZWxzZSBpZihzdGRlcnJfaXNhdHR5KQogICAgICBpb2N0bChTVERFUlJfRklMRU5PLCBUSU9DR1dJTlNaLCAmdyk7CgogICAgc2NyZWVuX3dpZHRoID0gdy53c19jb2w7CiAgfQojZWxzZQogIHNjcmVlbl93aWR0aCA9IDgwOwojZW5kaWYKICByZXR1cm4gc2NyZWVuX3dpZHRoOwp9CgpzdGF0aWMgdm9pZAppbnNwZWN0X29wdGlvbnNfaW5pdChpbnNwZWN0X29wdGlvbnNfdCogb3B0cywgSlNDb250ZXh0KiBjdHgpIHsKICBvcHRzLT5jb2xvcnMgPSBUUlVFOwogIG9wdHMtPnNob3dfaGlkZGVuID0gRkFMU0U7CiAgb3B0cy0+Y3VzdG9tX2luc3BlY3QgPSBUUlVFOwogIG9wdHMtPnNob3dfcHJveHkgPSBGQUxTRTsKICBvcHRzLT5nZXR0ZXJzID0gRkFMU0U7CiAgb3B0cy0+c3RyaW5nX2JyZWFrX25ld2xpbmUgPSBGQUxTRTsKICBvcHRzLT5kZXB0aCA9IElOVDMyX01BWDsKICBvcHRzLT5tYXhfYXJyYXlfbGVuZ3RoID0gMzAwOwogIG9wdHMtPm1heF9zdHJpbmdfbGVuZ3RoID0gSU5UMzJfTUFYOwogIG9wdHMtPmJyZWFrX2xlbmd0aCA9IGluc3BlY3Rfc2NyZWVuX3dpZHRoKCk7CiAgb3B0cy0+Y29tcGFjdCA9IDU7CiAgb3B0cy0+cHJvdG9fY2hhaW4gPSAwOwogIG9wdHMtPm51bWJlcl9iYXNlID0gMTA7CiAgdmVjdG9yX2luaXQoJm9wdHMtPmhpZGVfa2V5cywgY3R4KTsKCiAgcHJvcF9rZXlfdCB0b19zdHJpbmdfdGFnID0gezAsIGpzX2F0b21fZnJvbShjdHgsICJbU3ltYm9sLnRvU3RyaW5nVGFnXSIpfTsKICB0b19zdHJpbmdfdGFnLm5hbWUgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgdG9fc3RyaW5nX3RhZy5hdG9tKTsKCiAgdmVjdG9yX3B1c2goJm9wdHMtPmhpZGVfa2V5cywgdG9fc3RyaW5nX3RhZyk7Cn0KCnN0YXRpYyB2b2lkCmluc3BlY3Rfb3B0aW9uc19mcmVlKGluc3BlY3Rfb3B0aW9uc190KiBvcHRzLCBKU0NvbnRleHQqIGN0eCkgewoKICBwcm9wX2tleV90KiBrZXk7CgogIHZlY3Rvcl9mb3JlYWNoX3QoJm9wdHMtPmhpZGVfa2V5cywga2V5KSB7CiAgICBKU19GcmVlQXRvbShjdHgsIGtleS0+YXRvbSk7CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBrZXktPm5hbWUpOwogIH0KICB2ZWN0b3JfZnJlZSgmb3B0cy0+aGlkZV9rZXlzKTsKfQoKc3RhdGljIHZvaWQKaW5zcGVjdF9vcHRpb25zX2dldChpbnNwZWN0X29wdGlvbnNfdCogb3B0cywgSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmplY3QpIHsKICBKU1ZhbHVlIHZhbHVlOwogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmplY3QsICJjb2xvcnMiKTsKICBpZighSlNfSXNFeGNlcHRpb24odmFsdWUpICYmICFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgIG9wdHMtPmNvbG9ycyA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmplY3QsICJzaG93SGlkZGVuIik7CiAgaWYoIUpTX0lzRXhjZXB0aW9uKHZhbHVlKSAmJiAhSlNfSXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICBvcHRzLT5zaG93X2hpZGRlbiA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdCwgImN1c3RvbUluc3BlY3QiKTsKICBpZighSlNfSXNFeGNlcHRpb24odmFsdWUpICYmICFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgIG9wdHMtPmN1c3RvbV9pbnNwZWN0ID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdCwgInNob3dQcm94eSIpOwogIGlmKCFKU19Jc0V4Y2VwdGlvbih2YWx1ZSkgJiYgIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkgewogICAgb3B0cy0+c2hvd19wcm94eSA9IEpTX1RvQm9vbChjdHgsIHZhbHVlKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CgogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmplY3QsICJnZXR0ZXJzIik7CiAgaWYoIUpTX0lzRXhjZXB0aW9uKHZhbHVlKSAmJiAhSlNfSXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICBvcHRzLT5nZXR0ZXJzID0gSlNfVG9Cb29sKGN0eCwgdmFsdWUpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdCwgInN0cmluZ0JyZWFrTmV3bGluZSIpOwogIGlmKCFKU19Jc0V4Y2VwdGlvbih2YWx1ZSkgJiYgIUpTX0lzVW5kZWZpbmVkKHZhbHVlKSkgewogICAgb3B0cy0+c3RyaW5nX2JyZWFrX25ld2xpbmUgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqZWN0LCAiZGVwdGgiKTsKICBpZighSlNfSXNVbmRlZmluZWQodmFsdWUpICYmICFKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpIHsKICAgIGlmKEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpID09IEpTX1RBR19GTE9BVDY0ICYmIGlzaW5mKEpTX1ZBTFVFX0dFVF9GTE9BVDY0KHZhbHVlKSkpCiAgICAgIG9wdHMtPmRlcHRoID0gSU5UMzJfTUFYOwogICAgZWxzZQogICAgICBKU19Ub0ludDMyKGN0eCwgJm9wdHMtPmRlcHRoLCB2YWx1ZSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmplY3QsICJtYXhBcnJheUxlbmd0aCIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgJiYgIUpTX0lzRXhjZXB0aW9uKHZhbHVlKSkgewogICAgaWYoSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSkgPT0gSlNfVEFHX0ZMT0FUNjQgJiYgaXNpbmYoSlNfVkFMVUVfR0VUX0ZMT0FUNjQodmFsdWUpKSkKICAgICAgb3B0cy0+bWF4X2FycmF5X2xlbmd0aCA9IElOVDMyX01BWDsKICAgIGVsc2UKICAgICAgSlNfVG9JbnQzMihjdHgsICZvcHRzLT5tYXhfYXJyYXlfbGVuZ3RoLCB2YWx1ZSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmplY3QsICJtYXhTdHJpbmdMZW5ndGgiKTsKICBpZighSlNfSXNVbmRlZmluZWQodmFsdWUpICYmICFKU19Jc0V4Y2VwdGlvbih2YWx1ZSkpIHsKICAgIGlmKEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpID09IEpTX1RBR19GTE9BVDY0ICYmIGlzaW5mKEpTX1ZBTFVFX0dFVF9GTE9BVDY0KHZhbHVlKSkpCiAgICAgIG9wdHMtPm1heF9zdHJpbmdfbGVuZ3RoID0gSU5UMzJfTUFYOwogICAgZWxzZQogICAgICBKU19Ub0ludDMyKGN0eCwgJm9wdHMtPm1heF9zdHJpbmdfbGVuZ3RoLCB2YWx1ZSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgfQogIHZhbHVlID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmplY3QsICJicmVha0xlbmd0aCIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgJiYgIUpTX0lzRXhjZXB0aW9uKHZhbHVlKSkgewogICAgaWYoSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSkgPT0gSlNfVEFHX0ZMT0FUNjQgJiYgaXNpbmYoSlNfVkFMVUVfR0VUX0ZMT0FUNjQodmFsdWUpKSkKICAgICAgb3B0cy0+YnJlYWtfbGVuZ3RoID0gSU5UMzJfTUFYOwogICAgZWxzZQogICAgICBKU19Ub0ludDMyKGN0eCwgJm9wdHMtPmJyZWFrX2xlbmd0aCwgdmFsdWUpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqZWN0LCAiY29tcGFjdCIpOwogIGlmKCFKU19Jc1VuZGVmaW5lZCh2YWx1ZSkgJiYgIUpTX0lzRXhjZXB0aW9uKHZhbHVlKSkgewogICAgaWYoSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSkgPT0gSlNfVEFHX0JPT0wpCiAgICAgIG9wdHMtPmNvbXBhY3QgPSBKU19WQUxVRV9HRVRfQk9PTCh2YWx1ZSkgPT0gMCA/IDAgOiBJTlQzMl9NQVg7CiAgICBlbHNlIGlmKEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpID09IEpTX1RBR19GTE9BVDY0ICYmIGlzaW5mKEpTX1ZBTFVFX0dFVF9GTE9BVDY0KHZhbHVlKSkpCiAgICAgIG9wdHMtPmNvbXBhY3QgPSBJTlQzMl9NQVg7CiAgICBlbHNlCiAgICAgIEpTX1RvSW50MzIoY3R4LCAmb3B0cy0+Y29tcGFjdCwgdmFsdWUpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIH0KICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqZWN0LCAiaGlkZUtleXMiKTsKICBpZihKU19Jc0FycmF5KGN0eCwgdmFsdWUpKSB7CiAgICBpbnQ2NF90IGxlbiwgcG9zOwogICAgbGVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgdmFsdWUpOwoKICAgIGZvcihwb3MgPSAwOyBwb3MgPCBsZW47IHBvcysrKSB7CiAgICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgdmFsdWUsIHBvcyk7CiAgICAgIHByb3Bfa2V5X3Qga2V5OwogICAgICBrZXkubmFtZSA9IEpTX1ZBTFVFX0dFVF9UQUcoaXRlbSkgPT0gSlNfVEFHX1NZTUJPTCA/IDAgOiBKU19Ub0NTdHJpbmcoY3R4LCBpdGVtKTsKICAgICAga2V5LmF0b20gPSBKU19WYWx1ZVRvQXRvbShjdHgsIGl0ZW0pOwogICAgICB2ZWN0b3JfcHVzaCgmb3B0cy0+aGlkZV9rZXlzLCBrZXkpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICAgIH0KICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKICB9CiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdCwgInByb3RvQ2hhaW4iKTsKICAvLyBpZihKU19Jc051bWJlcih2YWx1ZSkpCiAgSlNfVG9JbnQzMihjdHgsICZvcHRzLT5wcm90b19jaGFpbiwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iamVjdCwgIm51bWJlckJhc2UiKTsKICBpZihKU19Jc051bWJlcih2YWx1ZSkpCiAgICBKU19Ub0ludDMyKGN0eCwgJm9wdHMtPm51bWJlcl9iYXNlLCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwoKICB2YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgb2JqZWN0LCAiY2xhc3NLZXkiKTsKICBvcHRzLT5jbGFzc19rZXkuYXRvbSA9IEpTX1ZhbHVlVG9BdG9tKGN0eCwgdmFsdWUpOwogIG9wdHMtPmNsYXNzX2tleS5uYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKfQoKc3RhdGljIEpTVmFsdWUKaW5zcGVjdF9vcHRpb25zX29iamVjdChpbnNwZWN0X29wdGlvbnNfdCogb3B0cywgSlNDb250ZXh0KiBjdHgpIHsKICBKU1ZhbHVlIGFyciwgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgdWludDMyX3QgbjsKICBwcm9wX2tleV90KiBrZXk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAiY29sb3JzIiwgSlNfTmV3Qm9vbChjdHgsIG9wdHMtPmNvbG9ycykpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAic2hvd0hpZGRlbiIsIEpTX05ld0Jvb2woY3R4LCBvcHRzLT5zaG93X2hpZGRlbikpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAiY3VzdG9tSW5zcGVjdCIsIEpTX05ld0Jvb2woY3R4LCBvcHRzLT5jdXN0b21faW5zcGVjdCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAic2hvd1Byb3h5IiwgSlNfTmV3Qm9vbChjdHgsIG9wdHMtPnNob3dfcHJveHkpKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImdldHRlcnMiLCBKU19OZXdCb29sKGN0eCwgb3B0cy0+Z2V0dGVycykpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAic3RyaW5nQnJlYWtOZXdsaW5lIiwgSlNfTmV3Qm9vbChjdHgsIG9wdHMtPnN0cmluZ19icmVha19uZXdsaW5lKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJkZXB0aCIsIGpzX251bWJlcl9uZXcoY3R4LCBvcHRzLT5kZXB0aCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibWF4QXJyYXlMZW5ndGgiLCBqc19udW1iZXJfbmV3KGN0eCwgb3B0cy0+bWF4X2FycmF5X2xlbmd0aCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibWF4U3RyaW5nTGVuZ3RoIiwganNfbnVtYmVyX25ldyhjdHgsIG9wdHMtPm1heF9zdHJpbmdfbGVuZ3RoKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJicmVha0xlbmd0aCIsIGpzX251bWJlcl9uZXcoY3R4LCBvcHRzLT5icmVha19sZW5ndGgpKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImNvbXBhY3QiLCBqc19uZXdfYm9vbF9vcl9udW1iZXIoY3R4LCBvcHRzLT5jb21wYWN0KSk7CiAgaWYob3B0cy0+cHJvdG9fY2hhaW4pCiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgInByb3RvQ2hhaW4iLCBqc19udW1iZXJfbmV3KGN0eCwgb3B0cy0+cHJvdG9fY2hhaW4pKTsKICBhcnIgPSBKU19OZXdBcnJheShjdHgpOwogIG4gPSAwOwogIHZlY3Rvcl9mb3JlYWNoX3QoJm9wdHMtPmhpZGVfa2V5cywga2V5KSB7IEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCBuKyssIGpzX2F0b21fdG92YWx1ZShjdHgsIGtleS0+YXRvbSkpOyB9CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJoaWRlS2V5cyIsIGFycik7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJudW1iZXJCYXNlIiwganNfbnVtYmVyX25ldyhjdHgsIG9wdHMtPm51bWJlcl9iYXNlKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJjbGFzc0tleSIsIEpTX0F0b21Ub1ZhbHVlKGN0eCwgb3B0cy0+Y2xhc3Nfa2V5LmF0b20pKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW50Cmluc3BlY3Rfb3B0aW9uc19oaWRkZW4oaW5zcGVjdF9vcHRpb25zX3QqIG9wdHMsIEpTQXRvbSBhdG9tKSB7CiAgcHJvcF9rZXlfdCoga2V5OwogIHZlY3Rvcl9mb3JlYWNoX3QoJm9wdHMtPmhpZGVfa2V5cywga2V5KSB7CiAgICBpZihrZXktPmF0b20gPT0gYXRvbSkgLy8hIHN0cmNtcChrZXktPm5hbWUsIHN0cikpCiAgICAgIHJldHVybiAxOwogIH0KICByZXR1cm4gMDsKfQoKc3RhdGljIHZvaWQKaW5zcGVjdF9uZXdsaW5lKER5bkJ1ZiogYnVmLCBpbnQzMl90IGRlcHRoKSB7CiAgZGJ1Zl9wdXRjKGJ1ZiwgJ1xuJyk7CiAgd2hpbGUoZGVwdGgtLSA+IDApIGRidWZfcHV0c3RyKGJ1ZiwgIiAgIik7Cn0KCnN0YXRpYyBpbnQKanNfb2JqZWN0X2dldHByb3BlcnR5bmFtZXMoSlNDb250ZXh0KiBjdHgsIHVuaW9uIFZlY3RvciogcHJvcGVudW1fdGFiLCBKU1ZhbHVlQ29uc3Qgb2JqLCBpbnQgZmxhZ3MpIHsKICBpbnQgcmV0OwogIEpTUHJvcGVydHlFbnVtKiB0bXBfdGFiOwogIHVpbnQzMl90IGksIHRtcF9sZW47CiAgcmV0ID0gSlNfR2V0T3duUHJvcGVydHlOYW1lcyhjdHgsICZ0bXBfdGFiLCAmdG1wX2xlbiwgb2JqLCBmbGFncyk7CgogIGZvcihpID0gMDsgaSA8IHRtcF9sZW47IGkrKykgewogICAgaWYodmVjdG9yX2ZpbmQocHJvcGVudW1fdGFiLCBzaXplb2YoSlNQcm9wZXJ0eUVudW0pLCAmdG1wX3RhYltpXSkgPT0gLTEpCiAgICAgIHZlY3Rvcl9wdXQocHJvcGVudW1fdGFiLCAmdG1wX3RhYltpXSwgc2l6ZW9mKEpTUHJvcGVydHlFbnVtKSk7CiAgfQoKICBqc19mcmVlKGN0eCwgdG1wX3RhYik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGludApqc19vYmplY3RfZ2V0cHJvcGVydHluYW1lc19yZWN1cnNpdmUoSlNDb250ZXh0KiBjdHgsIHVuaW9uIFZlY3RvciogcHJvcGVudW1fdGFiLCBKU1ZhbHVlQ29uc3Qgb2JqLCBpbnQgZmxhZ3MpIHsKICBpbnQgcmV0OwoKICB3aGlsZSgocmV0ID0ganNfb2JqZWN0X2dldHByb3BlcnR5bmFtZXMoY3R4LCBwcm9wZW51bV90YWIsIG9iaiwgZmxhZ3MpKSA+PSAwKSB7CiAgICBKU1ZhbHVlIHByb3RvID0gSlNfR2V0UHJvdG90eXBlKGN0eCwgb2JqKTsKCiAgICBpZighSlNfSXNPYmplY3QocHJvdG8pKQogICAgICBicmVhazsKCiAgICBvYmogPSBwcm90bzsKICAgIC8vICAgICAgcmV0ID0ganNfb2JqZWN0X2dldHByb3BlcnR5bmFtZXNfcmVjdXJzaXZlKGN0eCwgcHJvcGVudW1fdGFiLCBwcm90bywgZmxhZ3MpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTQXRvbQpqc19pbnNwZWN0X2N1c3RvbV9hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBzeW1fZm9yKSB7CiAgSlNWYWx1ZSBrZXksIHN5bTsKICBKU0F0b20gYXRvbTsKICBrZXkgPSBKU19OZXdTdHJpbmcoY3R4LCBzeW1fZm9yID8gc3ltX2ZvciA6ICJxdWlja2pzLmluc3BlY3QuY3VzdG9tIik7CiAgc3ltID0ganNfc3ltYm9sX2ludm9rZV9zdGF0aWMoY3R4LCAiZm9yIiwga2V5KTsKICBKU19GcmVlVmFsdWUoY3R4LCBrZXkpOwogIGF0b20gPSBKU19WYWx1ZVRvQXRvbShjdHgsIHN5bSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgc3ltKTsKCiAgcmV0dXJuIGF0b207Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2luc3BlY3RfY3VzdG9tX2NhbGwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIGluc3BlY3Rfb3B0aW9uc190KiBvcHRzLCBpbnQzMl90IGRlcHRoKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSBpbnNwZWN0ID0gSlNfVU5ERUZJTkVEOwogIEpTQXRvbSBwcm9wOwoKICBpZihKU19WQUxVRV9HRVRfT0JKKG9iaiktPmNsYXNzX2lkKSB7CiAgICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgaW5zcGVjdF9jdXN0b21fYXRvbSkpCiAgICAgIGluc3BlY3QgPSBKU19HZXRQcm9wZXJ0eShjdHgsIG9iaiwgaW5zcGVjdF9jdXN0b21fYXRvbSk7CiAgICBlbHNlIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBpbnNwZWN0X2N1c3RvbV9hdG9tX25vZGUpKQogICAgICBpbnNwZWN0ID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIGluc3BlY3RfY3VzdG9tX2F0b21fbm9kZSk7CiAgfQogIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBpbnNwZWN0KSkgewogICAgSlNWYWx1ZUNvbnN0IGFyZ3NbMl07CiAgICBpbnNwZWN0X29wdGlvbnNfdCBvcHRzX25vY3VzdG9tOwogICAgbWVtY3B5KCZvcHRzX25vY3VzdG9tLCBvcHRzLCBzaXplb2YoaW5zcGVjdF9vcHRpb25zX3QpKTsKICAgIG9wdHNfbm9jdXN0b20uY3VzdG9tX2luc3BlY3QgPSBGQUxTRTsKICAgIGFyZ3NbMF0gPSBqc19udW1iZXJfbmV3KGN0eCwgSU5TUEVDVF9MRVZFTChvcHRzKSk7CiAgICBhcmdzWzFdID0gaW5zcGVjdF9vcHRpb25zX29iamVjdCgmb3B0c19ub2N1c3RvbSwgY3R4KTsKICAgIHJldCA9IEpTX0NhbGwoY3R4LCBpbnNwZWN0LCBvYmosIDIsIGFyZ3MpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgYXJnc1swXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBhcmdzWzFdKTsKICAgIC8qICAgc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgcmV0KTsKICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHJldCk7Ki8KICB9CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGluc3BlY3QpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbnQKanNfaW5zcGVjdF9wcmludF9tYXAoSlNDb250ZXh0KiBjdHgsIER5bkJ1ZiogYnVmLCBKU1ZhbHVlQ29uc3Qgb2JqLCBpbnNwZWN0X29wdGlvbnNfdCogb3B0cywgaW50MzJfdCBkZXB0aCkgewogIEJPT0wgcmV0LCBmaW5pc2ggPSBGQUxTRTsKICBzaXplX3QgaSA9IDA7CiAgaW50IGNvbXBhY3QgPSBJTlNQRUNUX0lTX0NPTVBBQ1Qob3B0cyk7CiAgLy8gcHJpbnRmKCJqc19pbnNwZWN0X3ByaW50X21hcCBsZXZlbD0ldSBvcHRzLT5kZXB0aD0lIiBQUklkMzIgIiBkZXB0aD0lIiBQUklkMzIgIgogIC8vIGNvbXBhY3Q9JWlcbiIsIElOU1BFQ1RfTEVWRUwob3B0cyksIG9wdHMtPmRlcHRoLCBkZXB0aCwgY29tcGFjdCk7CiAgSlNWYWx1ZSBkYXRhLCBrZXksIHZhbHVlOwogIEl0ZXJhdGlvbiBpdDsKICBpZighKHJldCA9IGl0ZXJhdGlvbl9tZXRob2Rfc3ltYm9sKCZpdCwgY3R4LCBvYmosICJpdGVyYXRvciIpKSkgewogICAgSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAianNfaW5zcGVjdF9wcmludF9tYXAgdGFnPSVkXG4iLCBKU19WQUxVRV9HRVRfVEFHKG9iaikpOwogICAgcmV0dXJuIDA7CiAgfQogIGRidWZfcHV0c3RyKGJ1ZiwgIk1hcCB7Iik7CiAgaWYoIWNvbXBhY3QgJiYgb3B0cy0+YnJlYWtfbGVuZ3RoICE9IElOVDMyX01BWCkKICAgIGluc3BlY3RfbmV3bGluZShidWYsIElOU1BFQ1RfTEVWRUwob3B0cykpOwogIGZvcihpID0gMDsgIShmaW5pc2ggPSBpdGVyYXRpb25fbmV4dCgmaXQsIGN0eCkpOyBpKyspIHsKICAgIGlmKCFmaW5pc2gpIHsKICAgICAgZGF0YSA9IGl0ZXJhdGlvbl92YWx1ZSgmaXQsIGN0eCk7CiAgICAgIGlmKGkpIHsKICAgICAgICBkYnVmX3B1dHN0cihidWYsICIsIik7CiAgICAgICAgaWYoIWNvbXBhY3QgJiYgb3B0cy0+YnJlYWtfbGVuZ3RoICE9IElOVDMyX01BWCkKICAgICAgICAgIGluc3BlY3RfbmV3bGluZShidWYsIElOU1BFQ1RfTEVWRUwob3B0cykpOwogICAgICB9CiAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgY29tcGFjdCA/ICIgIiA6ICIgICIpOwogICAgICBrZXkgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGRhdGEsIDApOwogICAgICBqc19pbnNwZWN0X3ByaW50X3ZhbHVlKGN0eCwgYnVmLCBrZXksIG9wdHMsIGRlcHRoIC0gMSk7CiAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgIiA9PiAiKTsKICAgICAgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGRhdGEsIDEpOwogICAgICBqc19pbnNwZWN0X3ByaW50X3ZhbHVlKGN0eCwgYnVmLCB2YWx1ZSwgb3B0cywgZGVwdGggLSAxKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwga2V5KTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBkYXRhKTsKICAgIH0KICB9CiAgaWYoIWNvbXBhY3QgJiYgb3B0cy0+YnJlYWtfbGVuZ3RoICE9IElOVDMyX01BWCkKICAgIGluc3BlY3RfbmV3bGluZShidWYsIElOU1BFQ1RfTEVWRUwob3B0cykpOwogIGRidWZfcHV0c3RyKGJ1ZiwgY29tcGFjdCA/ICIgfSIgOiAifSIpOwogIGl0ZXJhdGlvbl9yZXNldCgmaXQsIEpTX0dldFJ1bnRpbWUoY3R4KSk7CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKanNfaW5zcGVjdF9wcmludF9zZXQoSlNDb250ZXh0KiBjdHgsIER5bkJ1ZiogYnVmLCBKU1ZhbHVlQ29uc3Qgb2JqLCBpbnNwZWN0X29wdGlvbnNfdCogb3B0cywgaW50MzJfdCBkZXB0aCkgewogIEJPT0wgcmV0LCBmaW5pc2ggPSBGQUxTRTsKICBzaXplX3QgaSA9IDA7CiAgaW50IGNvbXBhY3QgPSBJTlNQRUNUX0lTX0NPTVBBQ1Qob3B0cyk7CiAgSlNWYWx1ZSB2YWx1ZTsKICBJdGVyYXRpb24gaXQ7CgogIGlmKCEocmV0ID0gaXRlcmF0aW9uX21ldGhvZF9zeW1ib2woJml0LCBjdHgsIG9iaiwgIml0ZXJhdG9yIikpKSB7CiAgICBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJqc19pbnNwZWN0X3ByaW50X21hcCB0YWc9JWRcbiIsIEpTX1ZBTFVFX0dFVF9UQUcob2JqKSk7CiAgICByZXR1cm4gMDsKICB9CiAgZGJ1Zl9wdXRzdHIoYnVmLCAiU2V0IFsiKTsKICBpZighY29tcGFjdCAmJiBvcHRzLT5icmVha19sZW5ndGggIT0gSU5UMzJfTUFYKQogICAgaW5zcGVjdF9uZXdsaW5lKGJ1ZiwgSU5TUEVDVF9MRVZFTChvcHRzKSk7CiAgZm9yKGkgPSAwOyAhKGZpbmlzaCA9IGl0ZXJhdGlvbl9uZXh0KCZpdCwgY3R4KSk7IGkrKykgewogICAgaWYoIWZpbmlzaCkgewogICAgICB2YWx1ZSA9IGl0ZXJhdGlvbl92YWx1ZSgmaXQsIGN0eCk7CiAgICAgIGlmKGkpIHsKICAgICAgICBkYnVmX3B1dHN0cihidWYsICIsIik7CiAgICAgICAgaWYoIWNvbXBhY3QgJiYgb3B0cy0+YnJlYWtfbGVuZ3RoICE9IElOVDMyX01BWCkKICAgICAgICAgIGluc3BlY3RfbmV3bGluZShidWYsIElOU1BFQ1RfTEVWRUwob3B0cykpOwogICAgICB9CiAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgY29tcGFjdCA/ICIgIiA6ICIgICIpOwogICAgICBqc19pbnNwZWN0X3ByaW50X3ZhbHVlKGN0eCwgYnVmLCB2YWx1ZSwgb3B0cywgZGVwdGgpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CiAgICB9CiAgfQogIGlmKCFjb21wYWN0ICYmIG9wdHMtPmJyZWFrX2xlbmd0aCAhPSBJTlQzMl9NQVgpCiAgICBpbnNwZWN0X25ld2xpbmUoYnVmLCBJTlNQRUNUX0xFVkVMKG9wdHMpKTsKICBkYnVmX3B1dHN0cihidWYsIGNvbXBhY3QgPyAiIF0iIDogIl0iKTsKICBpdGVyYXRpb25fcmVzZXQoJml0LCBKU19HZXRSdW50aW1lKGN0eCkpOwogIHJldHVybiAwOwp9CgpzdGF0aWMgaW50CmpzX2luc3BlY3RfcHJpbnRfYXJyYXlidWZmZXIoSlNDb250ZXh0KiBjdHgsIER5bkJ1ZiogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGluc3BlY3Rfb3B0aW9uc190KiBvcHRzLCBpbnQzMl90IGRlcHRoKSB7CiAgY29uc3QgY2hhciAqc3RyLCAqc3RyMjsKICB1aW50OF90KiBwdHI7CiAgc2l6ZV90IGksIHNsZW4sIHNpemU7CiAgaW50IGJyZWFrX2xlbiA9IG9wdHMtPmJyZWFrX2xlbmd0aDsgLy8gaW5zcGVjdF9zY3JlZW5fd2lkdGgoKTsKICBpbnQgY29sdW1uID0gZGJ1Zl9nZXRfY29sdW1uKGJ1Zik7CiAgSlNWYWx1ZSBwcm90bzsKICBpbnQgY29tcGFjdCA9IG9wdHMtPmNvbXBhY3QgPj0gMTsKICBicmVha19sZW4gPSAoYnJlYWtfbGVuICsgMSkgLyAzOwogIGJyZWFrX2xlbiAqPSAzOwoKICBpZihicmVha19sZW4gPiBvcHRzLT5icmVha19sZW5ndGgpCiAgICBicmVha19sZW4gPSBvcHRzLT5icmVha19sZW5ndGg7CiAgcHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmc2l6ZSwgdmFsdWUpOwogIC8vIHByaW50ZigibWF4QXJyYXlMZW5ndGg6ICVpXG4iLCBvcHRzLT5tYXhfYXJyYXlfbGVuZ3RoKTsKICBwcm90byA9IEpTX0dldFByb3RvdHlwZShjdHgsIHZhbHVlKTsKICBzdHIgPSBqc19vYmplY3RfdG9zdHJpbmcoY3R4LCBwcm90byk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwoKICBpZihqc19pc19hcnJheWJ1ZmZlcihjdHgsIHZhbHVlKSkKICAgIGRidWZfcHV0c3RyKGJ1ZiwgIkFycmF5QnVmZmVyIik7CiAgZWxzZSBpZihqc19pc19zaGFyZWRhcnJheWJ1ZmZlcihjdHgsIHZhbHVlKSkKICAgIGRidWZfcHV0c3RyKGJ1ZiwgIlNoYXJlZEFycmF5QnVmZmVyIik7CiAgZWxzZSBpZihzdHIgJiYgKHN0cjIgPSBzdHJjaHIoc3RyLCAnICcpKSkgewogICAgc3RyMisrOwogICAgc2xlbiA9IGJ5dGVfY2hyKHN0cjIsIHN0cmxlbihzdHIyKSwgJ10nKTsKICAgIGRidWZfYXBwZW5kKGJ1ZiwgKGNvbnN0IHVpbnQ4X3QqKXN0cjIsIHNsZW4pOwogIH0KCiAgaWYoc3RyKQogICAganNfY3N0cmluZ19mcmVlKGN0eCwgc3RyKTsKCiAgZGJ1Zl9wdXRzdHIoYnVmLCAiIHsiKTsKICBpZihjb21wYWN0KQogICAgZGJ1Zl9wdXRjKGJ1ZiwgJyAnKTsKICBlbHNlCiAgICBpbnNwZWN0X25ld2xpbmUoYnVmLCAob3B0cy0+ZGVwdGggLSBkZXB0aCkgKyAyKTsKICBkYnVmX3ByaW50ZihidWYsICJieXRlTGVuZ3RoOiAlenUgWyIsIHNpemUpOwogIGlmKGNvbXBhY3QpCiAgICBkYnVmX3B1dGMoYnVmLCAnICcpOwogIGVsc2UKICAgIGluc3BlY3RfbmV3bGluZShidWYsIChvcHRzLT5kZXB0aCAtIGRlcHRoKSArIDMpOwogIGJyZWFrX2xlbiAtPSAoKG9wdHMtPmRlcHRoIC0gZGVwdGgpICsgMykgKiAyOwogIGNvbHVtbiA9IDA7CgogIGZvcihpID0gMDsgaSA8IHNpemU7IGkrKykgewogICAgaWYoaSA9PSAoc2l6ZV90KW9wdHMtPm1heF9hcnJheV9sZW5ndGgpCiAgICAgIGJyZWFrOwogICAgaWYoY29sdW1uICsgMyA+PSBicmVha19sZW4gJiYgb3B0cy0+YnJlYWtfbGVuZ3RoICE9IElOVDMyX01BWCkgewogICAgICBpZihjb21wYWN0KQogICAgICAgIGRidWZfcHV0YyhidWYsICcgJyk7CiAgICAgIGVsc2UKICAgICAgICBpbnNwZWN0X25ld2xpbmUoYnVmLCAob3B0cy0+ZGVwdGggLSBkZXB0aCkgKyAzKTsKICAgICAgY29sdW1uID0gMDsKICAgIH0KICAgIGRidWZfcHJpbnRmKGJ1ZiwgY29sdW1uID8gIiAlMDJ4IiA6ICIlMDJ4IiwgcHRyW2ldKTsKICAgIGNvbHVtbiArPSBjb2x1bW4gPyAzIDogMjsKICB9CiAgaWYoaSA8IHNpemUpIHsKICAgIGlmKGNvbXBhY3QpCiAgICAgIGRidWZfcHV0YyhidWYsICcgJyk7CiAgICBlbHNlCiAgICAgIGluc3BlY3RfbmV3bGluZShidWYsIChvcHRzLT5kZXB0aCAtIGRlcHRoKSArIDMpOwoKICAgIGRidWZfcHJpbnRmKGJ1ZiwgIi4uLiAlenUgbW9yZSBieXRlcyIsIHNpemUgLSBpKTsKICB9CiAgaWYoY29tcGFjdCkKICAgIGRidWZfcHV0YyhidWYsICcgJyk7CiAgZWxzZQogICAgaW5zcGVjdF9uZXdsaW5lKGJ1ZiwgKG9wdHMtPmRlcHRoIC0gZGVwdGgpICsgMik7CiAgZGJ1Zl9wdXRzdHIoYnVmLCAiXSIpOwogIGlmKGNvbXBhY3QpCiAgICBkYnVmX3B1dGMoYnVmLCAnICcpOwogIGVsc2UKICAgIGluc3BlY3RfbmV3bGluZShidWYsIChvcHRzLT5kZXB0aCAtIGRlcHRoKSArIDEpOwogIGRidWZfcHV0c3RyKGJ1ZiwgIn0iKTsKICByZXR1cm4gMDsKfQoKc3RhdGljIGludApqc19pbnNwZWN0X3ByaW50X3JlZ2V4cChKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBidWYsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW5zcGVjdF9vcHRpb25zX3QqIG9wdHMsIGludDMyX3QgZGVwdGgpIHsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgaWYob3B0cy0+Y29sb3JzKQogICAgZGJ1Zl9wdXRzdHIoYnVmLCBDT0xPUl9SRUQpOwogIGRidWZfcHV0X2VzY2FwZWRfcHJlZChidWYsIHN0ciwgbGVuLCByZWdleHBfcHJlZGljYXRlKTsKICBpZihvcHRzLT5jb2xvcnMpCiAgICBkYnVmX3B1dHN0cihidWYsIENPTE9SX05PTkUpOwogIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cik7CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKanNfaW5zcGVjdF9wcmludF9udW1iZXIoSlNDb250ZXh0KiBjdHgsIER5bkJ1ZiogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGluc3BlY3Rfb3B0aW9uc190KiBvcHRzLCBpbnQzMl90IGRlcHRoKSB7CiAgaW50IHRhZyA9IEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpOwogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgbGVuOwogIGlmKHRhZyAhPSBKU19UQUdfU1lNQk9MICYmIG9wdHMtPmNvbG9ycykKICAgIGRidWZfcHV0c3RyKGJ1ZiwgQ09MT1JfWUVMTE9XKTsKCiAgaWYob3B0cy0+bnVtYmVyX2Jhc2UgPT0gMTYgJiYgdGFnICE9IEpTX1RBR19GTE9BVDY0KSB7CiAgICBpbnQ2NF90IG51bTsKICAgIGNoYXIgc3RyW0ZNVF9YTE9OR107CiAgICBKU19Ub0ludDY0KGN0eCwgJm51bSwgdmFsdWUpOwogICAgZGJ1Zl9wdXRzdHIoYnVmLCAiMHgiKTsKICAgIGRidWZfcHV0KGJ1Ziwgc3RyLCBmbXRfeGxvbmdsb25nKHN0ciwgbnVtKSk7CgogIH0gZWxzZSB7CiAgICBKU1ZhbHVlIG51bWJlcjsKICAgIGludCBiYXNlID0gMTA7CiAgICBpZihvcHRzLT5udW1iZXJfYmFzZSAmJiBvcHRzLT5udW1iZXJfYmFzZSAhPSAxMCAmJiB0YWcgIT0gSlNfVEFHX0ZMT0FUNjQpIHsKICAgICAgSlNWYWx1ZSBhcmcgPSBKU19OZXdJbnQzMihjdHgsIG9wdHMtPm51bWJlcl9iYXNlKTsKICAgICAgbnVtYmVyID0ganNfaW52b2tlKGN0eCwgdmFsdWUsICJ0b1N0cmluZyIsIDEsICZhcmcpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBhcmcpOwogICAgICBiYXNlID0gb3B0cy0+bnVtYmVyX2Jhc2U7CiAgICB9IGVsc2UgewogICAgICBudW1iZXIgPSBKU19EdXBWYWx1ZShjdHgsIHZhbHVlKTsKICAgIH0KICAgIHN0ciA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZsZW4sIG51bWJlcik7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBudW1iZXIpOwoKICAgIHN3aXRjaChiYXNlKSB7CiAgICAgIGNhc2UgMTY6IGRidWZfcHV0c3RyKGJ1ZiwgIjB4Iik7IGJyZWFrOwogICAgICBjYXNlIDI6IGRidWZfcHV0c3RyKGJ1ZiwgIjBiIik7IGJyZWFrOwogICAgICBjYXNlIDg6IGRidWZfcHV0c3RyKGJ1ZiwgIjAiKTsgYnJlYWs7CiAgICB9CgogICAgZGJ1Zl9hcHBlbmQoYnVmLCAoY29uc3QgdWludDhfdCopc3RyLCBsZW4pOwoKICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHN0cik7CiAgfQoKICBpZih0YWcgPD0gSlNfVEFHX0JJR19GTE9BVCkKICAgIGRidWZfcHV0YyhidWYsIHRhZyA9PSBKU19UQUdfQklHX0RFQ0lNQUwgPyAnbScgOiB0YWcgPT0gSlNfVEFHX0JJR19GTE9BVCA/ICdsJyA6ICduJyk7CiAgaWYob3B0cy0+Y29sb3JzKQogICAgZGJ1Zl9wdXRzdHIoYnVmLCBDT0xPUl9OT05FKTsKICByZXR1cm4gMDsKfQoKc3RhdGljIGludApqc19pbnNwZWN0X3ByaW50X3N0cmluZyhKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBidWYsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW5zcGVjdF9vcHRpb25zX3QqIG9wdHMsIGludDMyX3QgZGVwdGgpIHsKICBpbnQgdGFnID0gSlNfVkFMVUVfR0VUX1RBRyh2YWx1ZSk7CiAgaW50IGNvbXBhY3QgPSBJTlNQRUNUX0lTX0NPTVBBQ1Qob3B0cyk7CgogIGNvbnN0IGNoYXIqIHN0cjsKICBzaXplX3QgcG9zLCBsZW4sIG1heF9sZW4sIGxpbWl0LCBjb2x1bW5fc3RhcnQgPSAoSU5TUEVDVF9MRVZFTChvcHRzKSAqIDIpOwogIGludCBjb2wgPSBkYnVmX2dldF9jb2x1bW4oYnVmKTsKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgbWF4X2xlbiA9IG1pbl9zaXplKG9wdHMtPmJyZWFrX2xlbmd0aCAtIGNvbCAtIDEwLCBsZW4pOwoKICBpZih0YWcgIT0gSlNfVEFHX1NZTUJPTCAmJiBvcHRzLT5jb2xvcnMpCiAgICBkYnVmX3B1dHN0cihidWYsIENPTE9SX0dSRUVOKTsKICBkYnVmX3B1dGMoYnVmLCB0YWcgPT0gSlNfVEFHX1NZTUJPTCA/ICcoJyA6ICdcJycpOwogIGxpbWl0ID0gbWluX3NpemUob3B0cy0+bWF4X3N0cmluZ19sZW5ndGgsIGxlbik7CgogIGZvcihwb3MgPSAwOyBwb3MgPCBsaW1pdDspIHsKICAgIHNpemVfdCBpLCBuLCBlb2w7CiAgICBuID0gbGltaXQgLSBwb3M7CiAgICBpZihwb3MgPiAwKSB7CiAgICAgIGRidWZfcHV0c3RyKGJ1Ziwgb3B0cy0+Y29sb3JzID8gIiciIENPTE9SX05PTkUgIiArIiA6ICInICsiKTsKICAgICAgbWF4X2xlbiA9IG9wdHMtPmJyZWFrX2xlbmd0aCAtIGNvbHVtbl9zdGFydCAtIDg7CiAgICAgIGluc3BlY3RfbmV3bGluZShidWYsIElOU1BFQ1RfTEVWRUwob3B0cykgKyAxKTsKICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBvcHRzLT5jb2xvcnMgPyBDT0xPUl9HUkVFTiAiJyIgOiAiJyIpOwogICAgfQogICAgaWYoY29tcGFjdCkgewogICAgICBuID0gYW5zaV90cnVuY2F0ZSgmc3RyW3Bvc10sIG4sIG1heF9sZW4pOwogICAgfSBlbHNlIGlmKG9wdHMtPnN0cmluZ19icmVha19uZXdsaW5lKSB7CiAgICAgIGZvcihpID0gcG9zOyBpIDwgbGltaXQ7IGkgKz0gZW9sKSB7CiAgICAgICAgZW9sID0gYnl0ZV9jaHIoJnN0cltpXSwgbGltaXQgLSBpLCAnXG4nKTsKICAgICAgICBpZihzdHJbaSArIGVvbF0gPT0gJ1xuJykKICAgICAgICAgIGVvbCsrOwoKICAgICAgICBpZihpID4gcG9zICYmIGFuc2lfdHJ1bmNhdGUoJnN0cltwb3NdLCBpICsgZW9sIC0gcG9zLCBtYXhfbGVuKSA8IGkgKyBlb2wgLSBwb3MpIHsKICAgICAgICAgIG4gPSBpIC0gcG9zOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBkYnVmX3B1dF9lc2NhcGVkKGJ1ZiwgJnN0cltwb3NdLCBuKTsKICAgIHBvcyArPSBuOwogIH0KICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzdHIpOwogIGRidWZfcHV0YyhidWYsIHRhZyA9PSBKU19UQUdfU1lNQk9MID8gJyknIDogJ1wnJyk7CgogIGlmKG9wdHMtPmNvbG9ycykKICAgIGRidWZfcHV0c3RyKGJ1ZiwgQ09MT1JfTk9ORSk7CgogIGlmKGxpbWl0IDwgbGVuKSB7CiAgICBpZihvcHRzLT5icmVha19sZW5ndGggIT0gSU5UMzJfTUFYICYmIGRidWZfZ2V0X2NvbHVtbihidWYpICsgMjYgPiBvcHRzLT5icmVha19sZW5ndGgpCiAgICAgIGluc3BlY3RfbmV3bGluZShidWYsIElOU1BFQ1RfTEVWRUwob3B0cykgKyAxKTsKICAgIGRidWZfcHJpbnRmKGJ1ZiwgIi4uLiAlenUgbW9yZSBjaGFyYWN0ZXJzIiwgbGVuIC0gcG9zKTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKanNfaW5zcGVjdF9wcmludF9hdG9tKEpTQ29udGV4dCogY3R4LCBEeW5CdWYqIGJ1ZiwgSlNBdG9tIGF0b20sIGluc3BlY3Rfb3B0aW9uc190KiBvcHRzLCBpbnQzMl90IGRlcHRoKSB7CiAgSlNWYWx1ZSB2YWx1ZTsKICBpbnQgcjsKICB2YWx1ZSA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgciA9IGpzX2luc3BlY3RfcHJpbnRfdmFsdWUoY3R4LCBidWYsIHZhbHVlLCBvcHRzLCBkZXB0aCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiByOwp9CgpzdGF0aWMgaW50CmpzX2luc3BlY3RfcHJpbnRfbW9kdWxlKEpTQ29udGV4dCogY3R4LCBEeW5CdWYqIGJ1ZiwgSlNNb2R1bGVEZWYqIGRlZiwgaW5zcGVjdF9vcHRpb25zX3QqIG9wdHMsIGludDMyX3QgZGVwdGgpIHsKICBzaXplX3QgcG9zOwogIGRidWZfcHV0c3RyKGJ1Ziwgb3B0cy0+Y29sb3JzID8gQ09MT1JfQ1lBTiAiW21vZHVsZSIgQ09MT1JfTk9ORSA6ICJbbW9kdWxlIik7CiAgaWYoZGVmKSB7CiAgICBpbnQgaW5kZXggPSBqc19tb2R1bGVfaW5kZXhvZihjdHgsIGRlZik7CiAgICBhc3NlcnQoanNfbW9kdWxlX2F0KGN0eCwgaW5kZXgpID09IGRlZik7CiAgICBkYnVmX3ByaW50ZihidWYsIENPTE9SX1dISVRFICIgIyVpIiBDT0xPUl9OT05FLCBpbmRleCk7CgogICAgZGJ1Zl9wcmludGYoYnVmLCBDT0xPUl9ZRUxMT1cgIiAlcCIgQ09MT1JfTk9ORSwgZGVmKTsKICAgIGRidWZfcHV0YyhidWYsICcgJyk7CiAgICBwb3MgPSBidWYtPnNpemU7CiAgICBqc19pbnNwZWN0X3ByaW50X2F0b20oY3R4LCBidWYsIGRlZi0+bW9kdWxlX25hbWUsIG9wdHMsIGRlcHRoIC0gMSk7CgogICAgd2hpbGUocG9zIDwgYnVmLT5zaXplKSB7CiAgICAgIGlmKGJ1Zi0+YnVmW3Bvc10gPT0gJ1wnJykKICAgICAgICBidWYtPmJ1Zltwb3NdID0gJyInOwogICAgICBlbHNlIGlmKGJ1Zi0+YnVmW3BvcyAtIDJdID09ICdbJyAmJiBidWYtPmJ1Zltwb3MgLSAxXSA9PSAnMycgJiYgYnVmLT5idWZbcG9zXSA9PSAnMicgJiYgYnVmLT5idWZbcG9zICsgMV0gPT0gJ20nKQogICAgICAgIGJ1Zi0+YnVmW3Bvc10gPSAnNSc7CiAgICAgICsrcG9zOwogICAgfQoKICAgIGlmKEpTX0lzRnVuY3Rpb24oY3R4LCBkZWYtPmZ1bmNfb2JqKSkgewogICAgICBkYnVmX3B1dHN0cihidWYsIENPTE9SX1JFRCAiIEpTIiBDT0xPUl9OT05FKTsKICAgIH0gZWxzZSBpZihkZWYtPmluaXRfZnVuYykgewogICAgICBkYnVmX3B1dHN0cihidWYsIENPTE9SX1JFRCAiIE5BVElWRSIgQ09MT1JfTk9ORSk7CiAgICB9IGVsc2UgewogICAgICBkYnVmX3B1dHN0cihidWYsIENPTE9SX1JFRCAiIEJZVEVDT0RFIiBDT0xPUl9OT05FKTsKICAgIH0KCiAgICBpZighZGVmLT5yZXNvbHZlZCkKICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBDT0xPUl9ZRUxMT1cgIiAobm90IHJlc29sdmVkKSIgQ09MT1JfTk9ORSk7CiAgICBlbHNlIGlmKCFkZWYtPmZ1bmNfY3JlYXRlZCkKICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBDT0xPUl9ZRUxMT1cgIiAobm8gZnVuY3Rpb24gY3JlYXRlZCkiIENPTE9SX05PTkUpOwogICAgZWxzZSBpZighZGVmLT5pbnN0YW50aWF0ZWQpCiAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgQ09MT1JfWUVMTE9XICIgKG5vdCBpbnN0YW50aWF0ZWQpIiBDT0xPUl9OT05FKTsKICAgIGVsc2UgaWYoIWRlZi0+ZXZhbHVhdGVkKQogICAgICBkYnVmX3B1dHN0cihidWYsIENPTE9SX1lFTExPVyAiIChub3QgZXZhbHVhdGVkKSIgQ09MT1JfTk9ORSk7CgogICAgaWYoSlNfSXNGdW5jdGlvbihjdHgsIGRlZi0+ZnVuY19vYmopKSB7CiAgICAgIGRidWZfcHV0YyhidWYsICcgJyk7CiAgICAgIGpzX2luc3BlY3RfcHJpbnRfdmFsdWUoY3R4LCBidWYsIGRlZi0+ZnVuY19vYmosIG9wdHMsIGRlcHRoIC0gMSk7CiAgICB9CiAgfQogIGRidWZfcHV0c3RyKGJ1Ziwgb3B0cy0+Y29sb3JzID8gQ09MT1JfQ1lBTiAiXSIgQ09MT1JfTk9ORSA6ICJdIik7CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBpbnQKanNfaW5zcGVjdF9wcmludF9lcnJvcihKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBidWYsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW5zcGVjdF9vcHRpb25zX3QqIG9wdHMsIGludDMyX3QgZGVwdGgpIHsKCiAgY2hhciogY2xhc3NfbmFtZTsKICBjb25zdCBjaGFyKiBzOwogIEpTVmFsdWUgc3RhY2s7CgogIGNsYXNzX25hbWUgPSBqc19vYmplY3RfY2xhc3NuYW1lKGN0eCwgdmFsdWUpOwoKICBkYnVmX3B1dHN0cihidWYsIG9wdHMtPmNvbG9ycyA/IENPTE9SX1JFRCAiWyIgQ09MT1JfTk9ORSA6ICJbIik7CiAgZGJ1Zl9wdXRzdHIoYnVmLCBjbGFzc19uYW1lKTsKICBpZigocyA9IGpzX2dldF9wcm9wZXJ0eXN0cl9jc3RyaW5nKGN0eCwgdmFsdWUsICJtZXNzYWdlIikpKSB7CiAgICBkYnVmX3B1dHN0cihidWYsICIgXCIiKTsKICAgIGRidWZfcHV0c3RyKGJ1Ziwgcyk7CiAgICBkYnVmX3B1dHN0cihidWYsICJcIiIpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CiAgc3RhY2sgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHZhbHVlLCAic3RhY2siKTsKCiAgaWYoKHMgPSBKU19Ub0NTdHJpbmcoY3R4LCBzdGFjaykpKSB7CiAgICBkYnVmX3B1dHN0cihidWYsICIgU1RBQ0s6Iik7CiAgICBkYnVmX3B1dHN0cihidWYsIHMpOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICB9CgogIGRidWZfcHV0c3RyKGJ1Ziwgb3B0cy0+Y29sb3JzID8gQ09MT1JfUkVEICJdIiBDT0xPUl9OT05FIDogIl0iKTsKICByZXR1cm4gMDsKfQoKc3RhdGljIGludApqc19pbnNwZWN0X3ByaW50X29iamVjdChKU0NvbnRleHQqIGN0eCwgRHluQnVmKiBidWYsIEpTVmFsdWVDb25zdCB2YWx1ZSwgaW5zcGVjdF9vcHRpb25zX3QqIG9wdHMsIGludDMyX3QgZGVwdGgpIHsKICBCT09MIGlzX2FycmF5ID0gMCwgaXNfdHlwZWRhcnJheSA9IDAsIGlzX2Z1bmN0aW9uID0gMDsKICB1aW50MzJfdCBwb3MsIGxlbiwgbGltaXQ7CiAgVmVjdG9yIHByb3BlbnVtX3RhYjsKICBjb25zdCBjaGFyKiBzID0gMDsKICBpbnQgY29tcGFjdCA9IG9wdHMtPmNvbXBhY3Q7CiAgSlNPYmplY3QqIG9iaiA9IEpTX1ZBTFVFX0dFVF9PQkoodmFsdWUpOwoKICB2ZWN0b3JfaW5pdCgmcHJvcGVudW1fdGFiLCBjdHgpOwoKICBpZighb2JqLT5wcm9wIHx8ICFvYmotPnNoYXBlKSB7CiAgICBkYnVmX3ByaW50ZihidWYsICJqc19pbnNwZWN0X3ByaW50X3ZhbHVlIE9iamVjdCBwcm9wID0gJXAsIHNoYXBlID0gJXAgIiwgb2JqLT5wcm9wLCBvYmotPnNoYXBlKTsKICAgIHJldHVybiAtMTsKICB9CgogIGlmKG9wdHMtPmN1c3RvbV9pbnNwZWN0KSB7CiAgICBKU1ZhbHVlIHRtcCA9IGpzX2luc3BlY3RfY3VzdG9tX2NhbGwoY3R4LCB2YWx1ZSwgb3B0cywgZGVwdGgpOwogICAgaWYoSlNfSXNTdHJpbmcodG1wKSkgewogICAgICBjb25zdCBjaGFyKiBzID0gSlNfVG9DU3RyaW5nKGN0eCwgdG1wKTsKICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBzKTsKICAgICAganNfY3N0cmluZ19mcmVlKGN0eCwgcyk7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGlmKEpTX0lzRXhjZXB0aW9uKHRtcCkpIHsKICAgICAgSlNWYWx1ZSBleGNlcHRpb24gPSBKU19HZXRFeGNlcHRpb24oY3R4KTsKCiAgICAgIC8vIGRidWZfcHJpbnRmKGJ1ZiwgImV4Y2VwdGlvbjogJXNcbiIsIEpTX1RvQ1N0cmluZyhjdHgsIGV4Y2VwdGlvbikpOwogICAgICAvLyByZXR1cm4gMDsKCiAgICB9IGVsc2UgaWYoIUpTX0lzVW5kZWZpbmVkKHRtcCkpIHsKICAgICAgaWYoIUpTX0lzT2JqZWN0KHRtcCkpCiAgICAgICAgcmV0dXJuIGpzX2luc3BlY3RfcHJpbnRfdmFsdWUoY3R4LCBidWYsIHRtcCwgb3B0cywgZGVwdGggKyAxKTsKCiAgICAgIHZhbHVlID0gdG1wOwogICAgICBjb21wYWN0Kys7CiAgICB9CiAgfQoKICBpZihvcHRzLT5jb21wYWN0IDwgMCkgewogICAgY29tcGFjdCA9IGRlcHRoID49IC1vcHRzLT5jb21wYWN0OwogIH0gZWxzZSBpZihJTlNQRUNUX0lOVDMyVF9JTlJBTkdFKG9wdHMtPmNvbXBhY3QpICYmIG9wdHMtPmNvbXBhY3QgPiAwKSB7CiAgICBpbnQzMl90IGRlZXBlc3QgPSAxOwoKICAgIGlmKCFqc19pc19hcnJheWJ1ZmZlcihjdHgsIHZhbHVlKSkKICAgICAgZGVlcGVzdCA9IHByb3BlcnR5X2VudW1lcmF0aW9uX2RlZXBlc3QoY3R4LCB2YWx1ZSk7CiAgICBjb25zdCBjaGFyKiB0eXBlc3RyID0ganNfdmFsdWVfdHlwZXN0cihjdHgsIHZhbHVlKTsKICAgIC8vIHByaW50ZigiJXMgb3B0cy0+Y29tcGFjdCA9ICVkLCBkZWVwZXN0ID0gJWQsIGRlcHRoID0gJWRcbiIsIHR5cGVzdHIgPwogICAgLy8gdHlwZXN0ciA6CiAgICAvLyAiKG51bGwpIiwgb3B0cy0+Y29tcGFjdCwgZGVlcGVzdCwgZGVwdGgpOwoKICAgIGNvbXBhY3QgPSBjb21wYWN0ID4gZGVlcGVzdDsKICB9CgogIGlmKCEoaXNfZnVuY3Rpb24gPSBKU19Jc0Z1bmN0aW9uKGN0eCwgdmFsdWUpKSkgewogICAgaXNfYXJyYXkgPSBqc19pc19hcnJheShjdHgsIHZhbHVlKTsKICAgIGlzX3R5cGVkYXJyYXkgPSBqc19pc190eXBlZGFycmF5KHZhbHVlKTsKCiAgICBpZighaXNfYXJyYXkgJiYgIWlzX3R5cGVkYXJyYXkpIHsKICAgICAgaWYoanNfaXNfYXJyYXlidWZmZXIoY3R4LCB2YWx1ZSkgfHwganNfaXNfc2hhcmVkYXJyYXlidWZmZXIoY3R4LCB2YWx1ZSkpCiAgICAgICAgcmV0dXJuIGpzX2luc3BlY3RfcHJpbnRfYXJyYXlidWZmZXIoY3R4LCBidWYsIHZhbHVlLCBvcHRzLCBkZXB0aCArIDEpOwoKICAgICAgaWYoanNfaXNfbWFwKGN0eCwgdmFsdWUpKQogICAgICAgIHJldHVybiBqc19pbnNwZWN0X3ByaW50X21hcChjdHgsIGJ1ZiwgdmFsdWUsIG9wdHMsIGRlcHRoIC8qKyAxKi8pOwogICAgICBpZihqc19pc19zZXQoY3R4LCB2YWx1ZSkpCiAgICAgICAgcmV0dXJuIGpzX2luc3BlY3RfcHJpbnRfc2V0KGN0eCwgYnVmLCB2YWx1ZSwgb3B0cywgZGVwdGggKyAxKTsKICAgICAgaWYoanNfaXNfcmVnZXhwKGN0eCwgdmFsdWUpKQogICAgICAgIHJldHVybiBqc19pbnNwZWN0X3ByaW50X3JlZ2V4cChjdHgsIGJ1ZiwgdmFsdWUsIG9wdHMsIGRlcHRoICsgMSk7CiAgICAgIC8qaWYoSlNfSXNJbnN0YW5jZU9mKGN0eCwgdmFsdWUsIHByb3h5X2N0b3IpKSB7CiAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCAiW1Byb3h5XSIpOwogICAgICAgIHJldHVybiAwOwogICAgICB9Ki8KICAgIH0KCiAgICBpZihqc19vYmplY3RfdG1wbWFya19pc3NldCh2YWx1ZSkpIHsKICAgICAgSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiY2lyY3VsYXIgcmVmZXJlbmNlIik7CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBpZihqc19pc19nZW5lcmF0b3IoY3R4LCB2YWx1ZSkpIHsKICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCAiT2JqZWN0IFtHZW5lcmF0b3JdIHt9Iik7CiAgICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIHMpOwogICAgICByZXR1cm4gMDsKICAgIH0KICB9CgogIGlmKCFKU19Jc0FycmF5KGN0eCwgdmFsdWUpICYmICFpc19mdW5jdGlvbikgewogICAgaWYocyA9PSAwKQogICAgICBzID0ganNfb2JqZWN0X3Rvc3RyaW5nKGN0eCwgdmFsdWUpOwoKICAgIGlmKHMgJiYgIXN0cm5jbXAocywgIltvYmplY3QgIiwgOCkpIHsKICAgICAgY29uc3QgY2hhciogZSA9IHN0cmNocihzLCAnXScpOwogICAgICBzaXplX3Qgc2xlbiA9IGUgLSAocyArIDgpOwoKICAgICAgaWYoc2xlbiAhPSA2IHx8IG1lbWNtcChzICsgOCwgIk9iamVjdCIsIDYpKSB7CiAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBvcHRzLT5jb2xvcnMgPyBDT0xPUl9MSUdIVFJFRCA6ICJbIik7CiAgICAgICAgLy8gZGJ1Zl9wdXRzdHIoYnVmLCBvcHRzLT5jb2xvcnMgPyBDT0xPUl9NQVJJTkUgIlsiIDogIlsiKTsKICAgICAgICBkYnVmX2FwcGVuZChidWYsIChjb25zdCB1aW50OF90KilzICsgOCwgZSAtIChzICsgOCkpOwogICAgICAgIC8vIGRidWZfcHV0c3RyKGJ1Ziwgb3B0cy0+Y29sb3JzID8gIl0iIENPTE9SX05PTkUgIiAiIDogIl0gIik7CiAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBvcHRzLT5jb2xvcnMgPyBDT0xPUl9OT05FICIgIiA6ICJdICIpOwogICAgICB9CiAgICB9CiAgfQogIGlmKHMpCiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzKTsKCiAgaWYoIShpc19hcnJheSB8fCBpc190eXBlZGFycmF5KSkgewogICAgQk9PTCBzaG93X2hpZGRlbiA9IG9wdHMtPnNob3dfaGlkZGVuOwoKICAgIC8vIHByaW50ZigicHJvdG9fY2hhaW46ICVpXG4iLCBvcHRzLT5wcm90b19jaGFpbik7CiAgICBpZigoMSB8fCBvcHRzLT5wcm90b19jaGFpbgogICAgICAgICAgICA/IGpzX29iamVjdF9nZXRwcm9wZXJ0eW5hbWVzX3JlY3Vyc2l2ZQogICAgICAgICAgICA6IGpzX29iamVjdF9nZXRwcm9wZXJ0eW5hbWVzKShjdHgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZwcm9wZW51bV90YWIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG9wdHMtPnByb3RvX2NoYWluIDw9IDAgPyBKU19HZXRQcm90b3R5cGUoY3R4LCB2YWx1ZSkgOiAqLyB2YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfR1BOX1NUUklOR19NQVNLIHwgSlNfR1BOX1NZTUJPTF9NQVNLIHwgKHNob3dfaGlkZGVuID8gMCA6IEpTX0dQTl9FTlVNX09OTFkpKSkKICAgICAgcmV0dXJuIC0xOwogIH0KCiAgaWYoaXNfZnVuY3Rpb24pIHsKICAgIEpTVmFsdWUgbmFtZTsKICAgIGRidWZfcHV0c3RyKGJ1Ziwgb3B0cy0+Y29sb3JzID8gQ09MT1JfTUFSSU5FICJbRnVuY3Rpb24iIDogIltGdW5jdGlvbiIpOwogICAgbmFtZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdmFsdWUsICJuYW1lIik7CiAgICBpZighSlNfSXNVbmRlZmluZWQobmFtZSkpIHsKICAgICAgcyA9IEpTX1RvQ1N0cmluZyhjdHgsIG5hbWUpOwogICAgICBpZigqcykgewogICAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgIjogIik7CiAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBzKTsKICAgICAgfQogICAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBzKTsKICAgIH0KICAgIEpTX0ZyZWVWYWx1ZShjdHgsIG5hbWUpOwogICAgZGJ1Zl9wdXRzdHIoYnVmLCBvcHRzLT5jb2xvcnMgPyAiXSIgQ09MT1JfTk9ORSA6ICJdIik7CiAgICAvKiAgaWYodmVjdG9yX3NpemUoJnByb3BlbnVtX3RhYiwgc2l6ZW9mKEpTUHJvcGVydHlEZXNjcmlwdG9yKSkgJiYgZGVwdGggPj0gMCkKICAgICAgICBkYnVmX3B1dGMoYnVmLCAnICcpOwogICAgICBlbHNlKi8KICAgIGdvdG8gZW5kX29iajsKICB9CiAgaWYoZGVwdGggPCAwKSB7CiAgICBkYnVmX3B1dF9jb2xvcnN0cihidWYsIGlzX2FycmF5ID8gIltBcnJheV0iIDogIltPYmplY3RdIiwgQ09MT1JfTUFSSU5FLCBvcHRzLT5jb2xvcnMpOwogICAgZ290byBlbmRfb2JqOwogIH0KCiAganNfb2JqZWN0X3RtcG1hcmtfc2V0KHZhbHVlKTsKCiAgaWYoaXNfYXJyYXkgfHwgaXNfdHlwZWRhcnJheSkgewogICAgbGVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgdmFsdWUpOwogICAgZGJ1Zl9wdXRzdHIoYnVmLCBjb21wYWN0ICYmIG9wdHMtPmJyZWFrX2xlbmd0aCAhPSBJTlQzMl9NQVggPyAiWyAiIDogIlsiKTsKICAgIGxpbWl0ID0gbWluX3NpemUob3B0cy0+bWF4X2FycmF5X2xlbmd0aCwgbGVuKTsKICAgIGlmKGxlbiAmJiAhY29tcGFjdCAmJiBvcHRzLT5icmVha19sZW5ndGggIT0gSU5UMzJfTUFYKQogICAgICBpbnNwZWN0X25ld2xpbmUoYnVmLCBJTlNQRUNUX0xFVkVMKG9wdHMpICsgMSk7CiAgICBmb3IocG9zID0gMDsgcG9zIDwgbGVuOyBwb3MrKykgewogICAgICBKU1Byb3BlcnR5RGVzY3JpcHRvciBkZXNjOwogICAgICBKU0F0b20gcHJvcDsKICAgICAgaWYocG9zID09IGxpbWl0KQogICAgICAgIGJyZWFrOwogICAgICBpZihwb3MgPiAwKSB7CiAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCAiLCAiKTsKICAgICAgICAvLyBkYnVmX3B1dHN0cihidWYsIGNvbXBhY3QgPyAiLCAiIDogIiwiKTsKICAgICAgICBpZighY29tcGFjdCAmJiBvcHRzLT5icmVha19sZW5ndGggIT0gSU5UMzJfTUFYKQogICAgICAgICAgaW5zcGVjdF9uZXdsaW5lKGJ1ZiwgSU5TUEVDVF9MRVZFTChvcHRzKSArIDEpOwogICAgICB9CiAgICAgIHByb3AgPSBKU19OZXdBdG9tVUludDMyKGN0eCwgcG9zKTsKICAgICAgbWVtc2V0KCZkZXNjLCAwLCBzaXplb2YoZGVzYykpOwogICAgICBkZXNjLnZhbHVlID0gSlNfVU5ERUZJTkVEOwogICAgICBKU19HZXRPd25Qcm9wZXJ0eShjdHgsICZkZXNjLCB2YWx1ZSwgcHJvcCk7CiAgICAgIEpTX0ZyZWVBdG9tKGN0eCwgcHJvcCk7CgogICAgICBpZigoZGVzYy5mbGFncyAmIEpTX1BST1BfR0VUU0VUKSAmJiBvcHRzLT5nZXR0ZXJzKSB7CiAgICAgICAgaW50IGlkeCA9IChKU19Jc1VuZGVmaW5lZChkZXNjLmdldHRlcikgPyAwIDogMSkgfCAoSlNfSXNVbmRlZmluZWQoZGVzYy5zZXR0ZXIpID8gMCA6IDIpOwogICAgICAgIHN0YXRpYyBjb25zdCBjaGFyKiBjb25zdCBzdHJzWzRdID0gezAsICJbR2V0dGVyXSIsICJbU2V0dGVyXSIsICJbR2V0dGVyL1NldHRlcl0ifTsKICAgICAgICBpZihpZHgpCiAgICAgICAgICBkYnVmX3B1dF9jb2xvcnN0cihidWYsIHN0cnNbaWR4XSwgQ09MT1JfTUFSSU5FLCBvcHRzLT5jb2xvcnMpOwoKICAgICAgfSBlbHNlIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgdmFsdWUsIEpTX0FUT01fVEFHX0lOVCB8IHBvcykpIHsKICAgICAgICAvKiAgaWYoY29tcGFjdCB8fCBvcHRzLT5icmVha19sZW5ndGggPT0gSU5UMzJfTUFYKQogICAgICAgICAgICBkYnVmX3B1dGMoYnVmLCAnICcpOyovCiAgICAgICAganNfaW5zcGVjdF9wcmludF92YWx1ZShjdHgsIGJ1ZiwgZGVzYy52YWx1ZSwgb3B0cywgZGVwdGggLSAxKTsKICAgICAgfQogICAgICBqc19wcm9wZXJ0eWRlc2NyaXB0b3JfZnJlZShjdHgsICZkZXNjKTsKICAgIH0KICAgIGlmKGxlbiAmJiBsaW1pdCA8IGxlbikgewogICAgICBpZighY29tcGFjdCAmJiBvcHRzLT5icmVha19sZW5ndGggIT0gSU5UMzJfTUFYKQogICAgICAgIGluc3BlY3RfbmV3bGluZShidWYsIElOU1BFQ1RfTEVWRUwob3B0cykgKyAxKTsKICAgICAgZGJ1Zl9wcmludGYoYnVmLCAiLi4uICV1IG1vcmUgaXRlbSIsIGxlbiAtIHBvcyk7CiAgICAgIGlmKHBvcyArIDEgPCBsZW4pCiAgICAgICAgZGJ1Zl9wdXRjKGJ1ZiwgJ3MnKTsKICAgIH0KICB9CgogIGlmKCFpc19hcnJheSAmJiAhaXNfdHlwZWRhcnJheSkgewogICAgZGJ1Zl9wdXRzdHIoYnVmLCAoY29tcGFjdCAmJiB2ZWN0b3Jfc2l6ZSgmcHJvcGVudW1fdGFiLCBzaXplb2YoSlNQcm9wZXJ0eUVudW0pKSkgPyAieyAiIDogInsiKTsKICAgIGxlbiA9IDA7CiAgfQoKICBmb3IocG9zID0gMDsgcG9zIDwgdmVjdG9yX3NpemUoJnByb3BlbnVtX3RhYiwgc2l6ZW9mKEpTUHJvcGVydHlFbnVtKSk7IHBvcysrKSB7CiAgICBKU1Byb3BlcnR5RGVzY3JpcHRvciBkZXNjOwogICAgY29uc3QgY2hhciogbmFtZTsKICAgIEpTUHJvcGVydHlFbnVtKiBwcm9wZW51bSA9IChKU1Byb3BlcnR5RW51bSopdmVjdG9yX2F0KCZwcm9wZW51bV90YWIsIHNpemVvZihKU1Byb3BlcnR5RW51bSksIHBvcyk7CiAgICBKU1ZhbHVlIGtleSA9IGpzX2F0b21fdG92YWx1ZShjdHgsIHByb3BlbnVtLT5hdG9tKTsKICAgIG5hbWUgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgcHJvcGVudW0tPmF0b20pOwogICAgaWYoKCFKU19Jc1N5bWJvbChrZXkpICYmICgoaXNfYXJyYXkgfHwgaXNfdHlwZWRhcnJheSkgJiYgaXNfaW50ZWdlcihuYW1lKSkpIHx8IGluc3BlY3Rfb3B0aW9uc19oaWRkZW4ob3B0cywgcHJvcGVudW0tPmF0b20pKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGtleSk7CiAgICAgIGpzX2NzdHJpbmdfZnJlZShjdHgsIG5hbWUpOwogICAgICBjb250aW51ZTsKICAgIH0KICAgIGlmKHBvcyA+IDApCiAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgY29tcGFjdCA/ICIsICIgOiAiLCIpOwogICAgaWYoIWNvbXBhY3QgJiYgb3B0cy0+YnJlYWtfbGVuZ3RoICE9IElOVDMyX01BWCkKICAgICAgaW5zcGVjdF9uZXdsaW5lKGJ1ZiwgSU5TUEVDVF9MRVZFTChvcHRzKSArIDEpOwogICAgaWYoIUpTX0lzU3ltYm9sKGtleSkgJiYgKGlzX2lkZW50aWZpZXIobmFtZSkgfHwgaXNfaW50ZWdlcihuYW1lKSkpIHsKICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBuYW1lKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmKCFKU19Jc1N0cmluZyhrZXkpKQogICAgICAgIGRidWZfcHV0YyhidWYsICdbJyk7CiAgICAgIGpzX2luc3BlY3RfcHJpbnRfdmFsdWUoY3R4LCBidWYsIGtleSwgb3B0cywgZGVwdGggLSAxKTsKICAgICAgaWYoIUpTX0lzU3RyaW5nKGtleSkpCiAgICAgICAgZGJ1Zl9wdXRjKGJ1ZiwgJ10nKTsKICAgIH0KICAgIGRidWZfcHV0c3RyKGJ1ZiwgIjogIik7CiAgICBqc19jc3RyaW5nX2ZyZWUoY3R4LCBuYW1lKTsKICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGtleSk7CgogICAgaWYoanNfZ2V0X3Byb3BlcnR5ZGVzY3JpcHRvcihjdHgsICZkZXNjLCB2YWx1ZSwgcHJvcGVudW0tPmF0b20pID09IFRSVUUpIHsKICAgICAgaWYoKGRlc2MuZmxhZ3MgJiBKU19QUk9QX0dFVFNFVCkpIHsKICAgICAgICBpZighb3B0cy0+Z2V0dGVycykgewogICAgICAgICAgLy8gSlNWYWx1ZSB2ID0gSlNfR2V0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcHJvcGVudW0tPmF0b20pOwogICAgICAgICAgSlNWYWx1ZSB2ID0gSlNfQ2FsbChjdHgsIGRlc2MuZ2V0dGVyLCB2YWx1ZSwgMCwgMCk7CiAgICAgICAgICBqc19pbnNwZWN0X3ByaW50X3ZhbHVlKGN0eCwgYnVmLCB2LCBvcHRzLCBkZXB0aCAtIDEpOwogICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgdik7CiAgICAgICAgfSBlbHNlCiAgICAgICAgICBkYnVmX3B1dF9jb2xvcnN0cihidWYsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19Jc1VuZGVmaW5lZChkZXNjLmdldHRlcikgICA/ICJbU2V0dGVyXSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSlNfSXNVbmRlZmluZWQoZGVzYy5zZXR0ZXIpID8gIltHZXR0ZXJdIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAiW0dldHRlci9TZXR0ZXJdIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENPTE9SX01BUklORSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMtPmNvbG9ycyk7CiAgICAgIH0gZWxzZSB7CgogICAgICAgIGlmKEpTX0lzT2JqZWN0KGRlc2MudmFsdWUpICYmIGpzX29iamVjdF90bXBtYXJrX2lzc2V0KGRlc2MudmFsdWUpKQogICAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCAiXHgxYlswOzMxbVtDaXJjdWxhciBSZWZlcmVuY2VdXHgxYlswbSIpOwogICAgICAgIGVsc2UKICAgICAgICAgIGpzX2luc3BlY3RfcHJpbnRfdmFsdWUoY3R4LCBidWYsIGRlc2MudmFsdWUsIG9wdHMsIGRlcHRoIC0gMSk7CiAgICAgIH0KICAgIH0KICAgIGpzX3Byb3BlcnR5ZGVzY3JpcHRvcl9mcmVlKGN0eCwgJmRlc2MpOwogICAgbGVuKys7CiAgfQogIGpzX29iamVjdF90bXBtYXJrX2NsZWFyKHZhbHVlKTsKCiAgaWYoIWNvbXBhY3QgJiYgbGVuICYmIG9wdHMtPmJyZWFrX2xlbmd0aCAhPSBJTlQzMl9NQVgpCiAgICBpbnNwZWN0X25ld2xpbmUoYnVmLCBJTlNQRUNUX0xFVkVMKG9wdHMpKTsKICBkYnVmX3B1dHN0cihidWYsCiAgICAgICAgICAgICAgKGlzX2FycmF5IHx8IGlzX3R5cGVkYXJyYXkpID8gKChjb21wYWN0IHx8IG9wdHMtPmJyZWFrX2xlbmd0aCA9PSBJTlQzMl9NQVgpICYmIGxlbiA/ICIgXSIgOiAiXSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGNvbXBhY3QgJiYgbGVuID8gIiB9IiA6ICJ9IikpOwoKZW5kX29iajoKICBpZighdmVjdG9yX2VtcHR5KCZwcm9wZW51bV90YWIpKQogICAganNfcHJvcGVydHllbnVtc19mcmVlKGN0eCwgdmVjdG9yX2JlZ2luKCZwcm9wZW51bV90YWIpLCB2ZWN0b3Jfc2l6ZSgmcHJvcGVudW1fdGFiLCBzaXplb2YoSlNQcm9wZXJ0eUVudW0pKSk7CgogIHJldHVybiAwOwp9CgpzdGF0aWMgaW50CmpzX2luc3BlY3RfcHJpbnRfdmFsdWUoSlNDb250ZXh0KiBjdHgsIER5bkJ1ZiogYnVmLCBKU1ZhbHVlQ29uc3QgdmFsdWUsIGluc3BlY3Rfb3B0aW9uc190KiBvcHRzLCBpbnQzMl90IGRlcHRoKSB7CiAgaW50IHRhZyA9IEpTX1ZBTFVFX0dFVF9UQUcodmFsdWUpOwogIHN3aXRjaCh0YWcpIHsKICAgIGNhc2UgSlNfVEFHX0ZMT0FUNjQ6CiAgICBjYXNlIEpTX1RBR19CSUdfREVDSU1BTDoKICAgIGNhc2UgSlNfVEFHX0JJR19JTlQ6CiAgICBjYXNlIEpTX1RBR19JTlQ6CiAgICBjYXNlIEpTX1RBR19CSUdfRkxPQVQ6IHsKICAgICAgcmV0dXJuIGpzX2luc3BlY3RfcHJpbnRfbnVtYmVyKGN0eCwgYnVmLCB2YWx1ZSwgb3B0cywgZGVwdGgpOwogICAgfQoKICAgIGNhc2UgSlNfVEFHX0JPT0w6IHsKICAgICAgaWYob3B0cy0+Y29sb3JzKQogICAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgQ09MT1JfQlJPV04pOwogICAgICBkYnVmX3B1dHN0cihidWYsIEpTX1ZBTFVFX0dFVF9CT09MKHZhbHVlKSA/ICJ0cnVlIiA6ICJmYWxzZSIpOwogICAgICBpZihvcHRzLT5jb2xvcnMpCiAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBDT0xPUl9OT05FKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBKU19UQUdfTlVMTDogewogICAgICBkYnVmX3B1dHN0cihidWYsIG9wdHMtPmNvbG9ycyA/ICJceDFiWzM4OzU7MTI5bW51bGxceDFiW20iIDogIm51bGwiKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBKU19UQUdfVU5ERUZJTkVEOiB7CiAgICAgIGRidWZfcHV0X2NvbG9yc3RyKGJ1ZiwgInVuZGVmaW5lZCIsIENPTE9SX0dSQVksIG9wdHMtPmNvbG9ycyk7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgSlNfVEFHX0VYQ0VQVElPTjogewogICAgICBjb25zdCBjaGFyKiBtc2c7CiAgICAgIEpTVmFsdWUgbWVzc2FnZTsKICAgICAgZGJ1Zl9wdXRfY29sb3JzdHIoYnVmLCAiW2V4Y2VwdGlvbiIsIENPTE9SX1JFRCwgb3B0cy0+Y29sb3JzKTsKCiAgICAgIGlmKEpTX0lzT2JqZWN0KGN0eC0+cnQtPmN1cnJlbnRfZXhjZXB0aW9uKSkgewogICAgICAgIG1lc3NhZ2UgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGN0eC0+cnQtPmN1cnJlbnRfZXhjZXB0aW9uLCAibWVzc2FnZSIpOwogICAgICAgIGlmKChtc2cgPSBKU19Ub0NTdHJpbmcoY3R4LCBtZXNzYWdlKSkpIHsKICAgICAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgIiBcIiIpOwogICAgICAgICAgZGJ1Zl9wdXRzdHIoYnVmLCBtc2cpOwogICAgICAgICAgZGJ1Zl9wdXRjKGJ1ZiwgJyInKTsKICAgICAgICAgIEpTX0ZyZWVDU3RyaW5nKGN0eCwgbXNnKTsKICAgICAgICB9CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgbWVzc2FnZSk7CiAgICAgIH0KICAgICAgZGJ1Zl9wdXRfY29sb3JzdHIoYnVmLCAiXSIsIENPTE9SX1JFRCwgb3B0cy0+Y29sb3JzKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBKU19UQUdfU1lNQk9MOiB7CiAgICAgIHZhbHVlID0ganNfc3ltYm9sX3RvX3N0cmluZyhjdHgsIHZhbHVlKTsKICAgICAgaWYob3B0cy0+Y29sb3JzKQogICAgICAgIGRidWZfcHV0c3RyKGJ1ZiwgQ09MT1JfR1JFRU4pOwogICAgICBkYnVmX3B1dHN0cihidWYsICJTeW1ib2wiKTsKICAgICAgX19hdHRyaWJ1dGVfXygoZmFsbHRocm91Z2gpKTsKICAgIH0KCiAgICBjYXNlIEpTX1RBR19TVFJJTkc6IHsKICAgICAgcmV0dXJuIGpzX2luc3BlY3RfcHJpbnRfc3RyaW5nKGN0eCwgYnVmLCB2YWx1ZSwgb3B0cywgZGVwdGgpOwogICAgfQoKICAgIGNhc2UgSlNfVEFHX09CSkVDVDogewogICAgICBpZihKU19Jc0Vycm9yKGN0eCwgdmFsdWUpKQogICAgICAgIHJldHVybiBqc19pbnNwZWN0X3ByaW50X2Vycm9yKGN0eCwgYnVmLCB2YWx1ZSwgb3B0cywgZGVwdGgpOwoKICAgICAgcmV0dXJuIGpzX2luc3BlY3RfcHJpbnRfb2JqZWN0KGN0eCwgYnVmLCB2YWx1ZSwgb3B0cywgZGVwdGgpOwogICAgfQoKICAgIGNhc2UgSlNfVEFHX0ZVTkNUSU9OX0JZVEVDT0RFOiB7CiAgICAgIGRidWZfcHV0c3RyKGJ1Ziwgb3B0cy0+Y29sb3JzID8gQ09MT1JfTElHSFRSRUQgIltieXRlY29kZV0iIENPTE9SX05PTkUgOiAiW2J5dGVjb2RlXSIpOwogICAgICBicmVhazsKICAgIH0KCiAgICBjYXNlIEpTX1RBR19NT0RVTEU6IHsKICAgICAganNfaW5zcGVjdF9wcmludF9tb2R1bGUoY3R4LCBidWYsIEpTX1ZBTFVFX0dFVF9QVFIodmFsdWUpLCBvcHRzLCBkZXB0aCAtIDEpOwogICAgICBicmVhazsKICAgIH0KCiAgICBkZWZhdWx0OiB7CiAgICAgIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgIlVuaGFuZGxlZCB2YWx1ZSB0YWcgaW4ganNfaW5zcGVjdF9wcmludF92YWx1ZTogJWRcbiIsIHRhZyk7CiAgICAgIHJldHVybiAtMTsKICAgIH0KICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBEeW5CdWYgZGJ1ZjsKICBpbnNwZWN0X29wdGlvbnNfdCBvcHRpb25zOwogIGludDMyX3QgbGV2ZWw7CiAgaW50IG9wdGluZCA9IDE7CiAgSlNWYWx1ZSByZXQ7CgogIGpzX2RidWZfaW5pdChjdHgsICZkYnVmKTsKICBpbnNwZWN0X29wdGlvbnNfaW5pdCgmb3B0aW9ucywgY3R4KTsKCiAgaWYoYXJnYyA+IDEgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpCiAgICBvcHRpbmQrKzsKCiAgaWYob3B0aW5kIDwgYXJnYykKICAgIGluc3BlY3Rfb3B0aW9uc19nZXQoJm9wdGlvbnMsIGN0eCwgYXJndltvcHRpbmRdKTsKCiAgaWYob3B0aW5kID4gMSkgewogICAgZG91YmxlIGQ7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmZCwgYXJndlsxXSk7CiAgICBsZXZlbCA9IGlzaW5mKGQpID8gSU5UMzJfTUFYIDogZDsKICB9IGVsc2UgewogICAgbGV2ZWwgPSAwOwogIH0KCiAgLypwcmludGYoImpzX2luc3BlY3QgYnJlYWtfbGVuZ3RoOiAlZCwgbWF4X2FycmF5X2xlbmd0aDogJWQsCiAgICAgbWF4X3N0cmluZ19sZW5ndGg6ICVkXG4iLCBvcHRpb25zLmJyZWFrX2xlbmd0aCwgb3B0aW9ucy5tYXhfYXJyYXlfbGVuZ3RoLAogICAgIG9wdGlvbnMubWF4X3N0cmluZ19sZW5ndGgpOyovCgogIGpzX2luc3BlY3RfcHJpbnRfdmFsdWUoY3R4LCAmZGJ1ZiwgYXJndlswXSwgJm9wdGlvbnMsIG9wdGlvbnMuZGVwdGggLSBsZXZlbCk7CgogIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYnVmLmJ1ZiwgZGJ1Zi5zaXplKTsKCiAgZGJ1Zl9mcmVlKCZkYnVmKTsKCiAgaW5zcGVjdF9vcHRpb25zX2ZyZWUoJm9wdGlvbnMsIGN0eCk7CgogIHJldHVybiByZXQ7Cn0KCmNoYXIqCmpzX2luc3BlY3RfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSkgewogIER5bkJ1ZiBkYnVmOwogIGluc3BlY3Rfb3B0aW9uc190IG9wdGlvbnM7CiAganNfZGJ1Zl9pbml0KGN0eCwgJmRidWYpOwogIGluc3BlY3Rfb3B0aW9uc19pbml0KCZvcHRpb25zLCBjdHgpOwoKICBvcHRpb25zLmNvbG9ycyA9IEZBTFNFOwogIG9wdGlvbnMuY29tcGFjdCA9IDA7CiAgb3B0aW9ucy5nZXR0ZXJzID0gVFJVRTsKICBqc19pbnNwZWN0X3ByaW50X3ZhbHVlKGN0eCwgJmRidWYsIHZhbHVlLCAmb3B0aW9ucywgb3B0aW9ucy5kZXB0aCk7CgogIGluc3BlY3Rfb3B0aW9uc19mcmVlKCZvcHRpb25zLCBjdHgpOwoKICBkYnVmXzAoJmRidWYpOwogIHJldHVybiAoY2hhciopZGJ1Zi5idWY7Cn0KCmNoYXIqCmpzX2luc3BlY3RfYXRvbShKU0NvbnRleHQqIGN0eCwgSlNBdG9tIGF0b20pIHsKICBKU1ZhbHVlIHZhbHVlOwogIGNoYXIqIHN0cjsKICB2YWx1ZSA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CgogIHN0ciA9IGpzX2luc3BlY3RfdG9zdHJpbmcoY3R4LCB2YWx1ZSk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdmFsdWUpOwogIHJldHVybiBzdHI7Cn0KCkpTVmFsdWUganNfZGVidWdnZXJfYnVpbGRfYmFja3RyYWNlKEpTQ29udGV4dCogY3R4LCBjb25zdCB1aW50OF90KiBjdXJfcGMpOwoKSlNWYWx1ZQpqc19pbnNwZWN0X3N0YWNrdHJhY2VfdmFsdWUoSlNDb250ZXh0KiBjdHgpIHsKICBKU1J1bnRpbWUqIHJ0ID0gSlNfR2V0UnVudGltZShjdHgpOwogIHN0cnVjdCBKU1N0YWNrRnJhbWUqIGZyYW1lOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGlmKChmcmFtZSA9IHJ0LT5jdXJyZW50X3N0YWNrX2ZyYW1lKSkgewojaWZkZWYgQ09ORklHX0RFQlVHR0VSCiAgICByZXQgPSBqc19kZWJ1Z2dlcl9idWlsZF9iYWNrdHJhY2UoY3R4LCBmcmFtZS0+Y3VyX3BjKTsKI2VuZGlmCiAgfQogIHJldHVybiByZXQ7Cn0KCmNvbnN0IGNoYXIqCmpzX2luc3BlY3Rfc3RhY2t0cmFjZShKU0NvbnRleHQqIGN0eCkgewogIEpTVmFsdWUgc3RhY2sgPSBqc19pbnNwZWN0X3N0YWNrdHJhY2VfdmFsdWUoY3R4KTsKICByZXR1cm4ganNfaW5zcGVjdF90b3N0cmluZyhjdHgsIHN0YWNrKTsKfQoKc3RhdGljIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX2luc3BlY3RfZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX0RFRigiaW5zcGVjdCIsIDEsIGpzX2luc3BlY3QpLAp9OwoKc3RhdGljIGludApqc19pbnNwZWN0X2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNWYWx1ZSBpbnNwZWN0LCBpbnNwZWN0X3N5bWJvbCwgc3ltYm9sX2N0b3I7CiAgc3Rkb3V0X2lzYXR0eSA9IGlzYXR0eShTVERPVVRfRklMRU5PKTsKICBzdGRlcnJfaXNhdHR5ID0gaXNhdHR5KFNUREVSUl9GSUxFTk8pOwoKICBpbnNwZWN0ID0gSlNfTmV3Q0Z1bmN0aW9uKGN0eCwganNfaW5zcGVjdCwgImluc3BlY3QiLCAyKTsKCiAgaW5zcGVjdF9zeW1ib2wgPSBqc19zeW1ib2xfZm9yKGN0eCwgInF1aWNranMuaW5zcGVjdC5jdXN0b20iKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIGluc3BlY3QsICJzeW1ib2wiLCBKU19EdXBWYWx1ZShjdHgsIGluc3BlY3Rfc3ltYm9sKSk7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsICJpbnNwZWN0IiwgSlNfRHVwVmFsdWUoY3R4LCBpbnNwZWN0X3N5bWJvbCkpOwoKICBKU19GcmVlVmFsdWUoY3R4LCBzeW1ib2xfY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgaW5zcGVjdF9zeW1ib2wpOwoKICBpbnNwZWN0X2N1c3RvbV9hdG9tID0ganNfaW5zcGVjdF9jdXN0b21fYXRvbShjdHgsICJxdWlja2pzLmluc3BlY3QuY3VzdG9tIik7CiAgaW5zcGVjdF9jdXN0b21fYXRvbV9ub2RlID0ganNfaW5zcGVjdF9jdXN0b21fYXRvbShjdHgsICJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbSIpOwoKICBpZihtKSB7CiAgICBKU19TZXRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfaW5zcGVjdF9mdW5jcywgY291bnRvZihqc19pbnNwZWN0X2Z1bmNzKSk7CiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiZGVmYXVsdCIsIGluc3BlY3QpOwogIH0KCiAgcmV0dXJuIDA7Cn0KCiNpZiBkZWZpbmVkKEpTX1NIQVJFRF9MSUJSQVJZKSAmJiBkZWZpbmVkKEpTX0lOU1BFQ1RfTU9EVUxFKQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfaW5zcGVjdAojZW5kaWYKClZJU0lCTEUgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsIGpzX2luc3BlY3RfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBKU19BZGRNb2R1bGVFeHBvcnRMaXN0KGN0eCwgbSwganNfaW5zcGVjdF9mdW5jcywgY291bnRvZihqc19pbnNwZWN0X2Z1bmNzKSk7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgImRlZmF1bHQiKTsKICByZXR1cm4gbTsKfQoKLyoqCiAqIEB9CiAqLwoAAAAAAAAAAMaVAAAAAAAAAAAAAAAAAAAAAAAAxpUAAAAAAAAAAAAAAAAAAAAAAADGlQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADolAAAAAAAAUiUAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "lib/util.js",
			"settings":
			{
				"buffer_size": 25389,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					440,
					1,
					"cut",
					null,
					"AQAAAHUAAAAAAAAAdQAAAAAAAADmAQAAaW1wb3J0IHsgSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSLCBMb2NhdGlvbiwgZHVwQXJyYXlCdWZmZXIsIGVzY2FwZSwgZ2V0UHJvdG90eXBlQ2hhaW4sIGlzQXJyYXksIGlzQmlnRGVjaW1hbCwgaXNCaWdGbG9hdCwgaXNCaWdJbnQsIGlzQm9vbCwgaXNDRnVuY3Rpb24sIGlzQ29uc3RydWN0b3IsIGlzRW1wdHlTdHJpbmcsIGlzRXJyb3IsIGlzRXhjZXB0aW9uLCBpc0V4dGVuc2libGUsIGlzRnVuY3Rpb24sIGlzSFRNTEREQSwgaXNJbnN0YW5jZU9mLCBpc0ludGVnZXIsIGlzSm9iUGVuZGluZywgaXNMaXZlT2JqZWN0LCBpc051bGwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNSZWdpc3RlcmVkQ2xhc3MsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNVbmNhdGNoYWJsZUVycm9yLCBpc1VuZGVmaW5lZCwgaXNVbmluaXRpYWxpemVkLCBpc0FycmF5QnVmZmVyLCByYW5kLCB0b0FycmF5QnVmZmVyLCB0b1N0cmluZywgd2F0Y2ggfSBmcm9tICdtaXNjJzsK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHUAAAAAAAAAWwIAAAAAAAAAAAAAAAAAAA"
				],
				[
					441,
					1,
					"paste",
					null,
					"AQAAAHUAAAAAAAAAWwIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHUAAAAAAAAAdQAAAAAAAAAAAAAAAADwvw"
				],
				[
					451,
					1,
					"paste",
					null,
					"AQAAAPNdAAAAAAAA2V8AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPNdAAAAAAAA810AAAAAAAAAAAAAAAAAAA"
				],
				[
					454,
					1,
					"insert",
					{
						"characters": "ex"
					},
					"AwAAAPNdAAAAAAAA9F0AAAAAAAAAAAAA9F0AAAAAAAD0XQAAAAAAAAIAAABpbfRdAAAAAAAA9V0AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPNdAAAAAAAA9V0AAAAAAAAAAAAAAADwvw"
				],
				[
					464,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAL9PAAAAAAAAwE8AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAL9PAAAAAAAAv08AAAAAAAAAAAAAAADwvw"
				],
				[
					469,
					1,
					"paste",
					null,
					"AQAAAF5YAAAAAAAA3lkAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF5YAAAAAAAAXlgAAAAAAAAAAAAAAADwvw"
				],
				[
					474,
					1,
					"insert",
					{
						"characters": "export"
					},
					"BwAAAF5YAAAAAAAAX1gAAAAAAAAAAAAAX1gAAAAAAABfWAAAAAAAAAQAAABVdGlsX1gAAAAAAABgWAAAAAAAAAAAAABgWAAAAAAAAGFYAAAAAAAAAAAAAGFYAAAAAAAAYlgAAAAAAAAAAAAAYlgAAAAAAABjWAAAAAAAAAAAAABjWAAAAAAAAGRYAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF5YAAAAAAAAYlgAAAAAAAAAAAAAAADwvw"
				],
				[
					475,
					1,
					"insert",
					{
						"characters": " function"
					},
					"CQAAAGRYAAAAAAAAZVgAAAAAAAAAAAAAZVgAAAAAAABmWAAAAAAAAAAAAABmWAAAAAAAAGdYAAAAAAAAAAAAAGdYAAAAAAAAaFgAAAAAAAAAAAAAaFgAAAAAAABpWAAAAAAAAAAAAABpWAAAAAAAAGpYAAAAAAAAAAAAAGpYAAAAAAAAa1gAAAAAAAAAAAAAa1gAAAAAAABsWAAAAAAAAAAAAABsWAAAAAAAAG1YAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGRYAAAAAAAAZFgAAAAAAAAAAAAAAADwvw"
				],
				[
					476,
					1,
					"insert",
					{
						"characters": " range"
					},
					"BgAAAG1YAAAAAAAAblgAAAAAAAAAAAAAblgAAAAAAABvWAAAAAAAAAAAAABvWAAAAAAAAHBYAAAAAAAAAAAAAHBYAAAAAAAAcVgAAAAAAAAAAAAAcVgAAAAAAAByWAAAAAAAAAAAAAByWAAAAAAAAHNYAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAG1YAAAAAAAAbVgAAAAAAAAAAAAAAADwvw"
				],
				[
					478,
					1,
					"left_delete",
					null,
					"AQAAAHNYAAAAAAAAc1gAAAAAAAARAAAALnJhbmdlID0gZnVuY3Rpb24",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHNYAAAAAAAAhFgAAAAAAAAAAAAAAADwvw"
				],
				[
					495,
					1,
					"left_delete",
					null,
					"AQAAAKtZAAAAAAAAq1kAAAAAAAAjAAAAICAvL2NvbnNvbGUubG9nKCJVdGlsLnJhbmdlICIsIHIpOwo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKtZAAAAAAAAzlkAAAAAAAAAAAAAAADwvw"
				],
				[
					498,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAALtZAAAAAAAAvFkAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALtZAAAAAAAAu1kAAAAAAAAAAAAAAADwvw"
				],
				[
					516,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAF1YAAAAAAAAXlgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF1YAAAAAAAAXVgAAAAAAAAAAAAAAADwvw"
				],
				[
					519,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA5YQAALy9pbXBvcnQgaW5zcGVjdCBmcm9tICdpbnNwZWN0JzsKaW1wb3J0IHsgU3lzY2FsbEVycm9yIH0gZnJvbSAnc3lzY2FsbGVycm9yJzsKLy9leHBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJ2xvY2F0aW9uJzsKaW1wb3J0IHsgSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSLCBMb2NhdGlvbiwgZHVwQXJyYXlCdWZmZXIsIGVzY2FwZSwgZ2V0UHJvdG90eXBlQ2hhaW4sIGlzQXJyYXksIGlzQmlnRGVjaW1hbCwgaXNCaWdGbG9hdCwgaXNCaWdJbnQsIGlzQm9vbCwgaXNDRnVuY3Rpb24sIGlzQ29uc3RydWN0b3IsIGlzRW1wdHlTdHJpbmcsIGlzRXJyb3IsIGlzRXhjZXB0aW9uLCBpc0V4dGVuc2libGUsIGlzRnVuY3Rpb24sIGlzSFRNTEREQSwgaXNJbnN0YW5jZU9mLCBpc0ludGVnZXIsIGlzSm9iUGVuZGluZywgaXNMaXZlT2JqZWN0LCBpc051bGwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNSZWdpc3RlcmVkQ2xhc3MsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNVbmNhdGNoYWJsZUVycm9yLCBpc1VuZGVmaW5lZCwgaXNVbmluaXRpYWxpemVkLCBpc0FycmF5QnVmZmVyLCByYW5kLCB0b0FycmF5QnVmZmVyLCB0b1N0cmluZywgd2F0Y2ggfSBmcm9tICdtaXNjJzsKaW1wb3J0ICogYXMgbWlzYyBmcm9tICdtaXNjJzsKaW1wb3J0IHsgZXh0ZW5kQXJyYXksIEFycmF5RXh0ZW5zaW9ucyB9IGZyb20gJy4vZXh0ZW5kQXJyYXkuanMnOwppbXBvcnQgeyBleHRlbmRHZW5lcmF0b3IsIEdlbmVyYXRvckV4dGVuc2lvbnMsIEdlbmVyYXRvclByb3RvdHlwZSB9IGZyb20gJy4vZXh0ZW5kR2VuZXJhdG9yLmpzJzsKaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnOwoKY29uc3Qgc2xpY2UgPSAoeCwgcywgZSkgPT4gKHR5cGVvZiB4ID09ICdvYmplY3QnID8gKGlzQXJyYXlCdWZmZXIoeCkgPyBkdXBBcnJheUJ1ZmZlcih4LCBzLCBlKSA6IEFycmF5LmlzQXJyYXkoeCkgPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh4LCBzLCBlKSA6IHguc2xpY2UocywgZSkpIDogU3RyaW5nLnByb3RvdHlwZS5zbGljZS5jYWxsKHgsIHMsIGUpKTsKY29uc3Qgc3RyaW5naWZ5ID0gdiA9PiBgJHt2fWA7CmNvbnN0IHByb3RvT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7CmNvbnN0IGZvcm1hdE51bWJlciA9IG4gPT4gKG4gPT09IC0wID8gJy0wJyA6IGAke259YCk7CmNvbnN0IGlzTmF0aXZlID0gZm4gPT4gL1xbbmF0aXZlXHNjb2RlXF0vLnRlc3Qoc3RyaW5naWZ5KGZuKSk7CgovKmV4cG9ydCBkZWZhdWx0Ki8gZnVuY3Rpb24gdXRpbCgpIHsKICByZXR1cm4gdXRpbDsKfQoKdXRpbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB1dGlsOwoKY29uc3QgQXN5bmNGdW5jdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIHgoKSB7fS5jb25zdHJ1Y3RvcjsKY29uc3QgR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb24gPSBhc3luYyBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IFR5cGVkQXJyYXkgPSBwcm90b09mKHByb3RvT2YobmV3IFVpbnQxNkFycmF5KDEwKSkpLmNvbnN0cnVjdG9yOwoKY29uc3QgU2V0SXRlcmF0b3JQcm90b3R5cGUgPSBwcm90b09mKG5ldyBTZXQoKS52YWx1ZXMoKSk7CmNvbnN0IE1hcEl0ZXJhdG9yUHJvdG90eXBlID0gcHJvdG9PZihuZXcgTWFwKCkuZW50cmllcygpKTsKLy9jb25zdCBHZW5lcmF0b3JQcm90b3R5cGUgPSBwcm90b09mKChmdW5jdGlvbiogKCkge30pKCkpOwoKLy8gcHJldHRpZXItaWdub3JlCmV4cG9ydCBjb25zdCBlcnJvcnMgPSBbbnVsbCwgJ0VQRVJNJywgJ0VOT0VOVCcsICdFU1JDSCcsICdFSU5UUicsICdFSU8nLCAnRU5YSU8nLCAnRTJCSUcnLCAnRU5PRVhFQycsICdFQkFERicsICdFQ0hJTEQnLCAnRUFHQUlOJywgJ0VOT01FTScsICdFQUNDRVMnLCAnRUZBVUxUJywgJ0VOT1RCTEsnLCAnRUJVU1knLCAnRUVYSVNUJywgJ0VYREVWJywgJ0VOT0RFVicsICdFTk9URElSJywgJ0VJU0RJUicsICdFSU5WQUwnLCAnRU5GSUxFJywgJ0VNRklMRScsICdFTk9UVFknLCAnRVRYVEJTWScsICdFRkJJRycsICdFTk9TUEMnLCAnRVNQSVBFJywgJ0VST0ZTJywgJ0VNTElOSycsICdFUElQRScsICdFRE9NJywgJ0VSQU5HRScsICdFREVBRExLJywgJ0VOQU1FVE9PTE9ORycsICdFTk9MQ0snLCAnRU5PU1lTJywgJ0VOT1RFTVBUWScsIG51bGwsIG51bGwsICdFTk9NU0cnLCAnRUlEUk0nLCAnRUNIUk5HJywgJ0VMMk5TWU5DJywgJ0VMM0hMVCcsICdFTDNSU1QnLCAnRUxOUk5HJywgJ0VVTkFUQ0gnLCAnRU5PQ1NJJywgJ0VMMkhMVCcsICdFQkFERScsICdFQkFEUicsICdFWEZVTEwnLCAnRU5PQU5PJywgJ0VCQURSUUMnLCBudWxsLCAnJywgJ0VCRk9OVCcsICdFTk9TVFInLCAnRU5PREFUQScsICdFVElNRScsICdFTk9TUicsICdFTk9ORVQnLCAnRU5PUEtHJywgJ0VSRU1PVEUnLCAnRU5PTElOSycsICdFQURWJywgJ0VTUk1OVCcsICdFQ09NTScsICdFUFJPVE8nLCAnRU1VTFRJSE9QJywgJ0VET1RET1QnLCAnRUJBRE1TRycsICdFT1ZFUkZMT1cnLCAnRU5PVFVOSVEnLCAnRUJBREZEJywgJ0VSRU1DSEcnLCAnRUxJQkFDQycsICdFTElCQkFEJywgJ0VMSUJTQ04nLCAnRUxJQk1BWCcsICdFTElCRVhFQycsICdFSUxTRVEnLCAnRVJFU1RBUlQnLCAnRVNUUlBJUEUnLCAnRVVTRVJTJywgJ0VOT1RTT0NLJywgJ0VERVNUQUREUlJFUScsICdFTVNHU0laRScsICdFUFJPVE9UWVBFJywgJ0VOT1BST1RPT1BUJywgJ0VQUk9UT05PU1VQUE9SVCcsICdFU09DS1ROT1NVUFBPUlQnLCAnRU9QTk9UU1VQUCcsICdFUEZOT1NVUFBPUlQnLCAnRUFGTk9TVVBQT1JUJywgJ0VBRERSSU5VU0UnLCAnRUFERFJOT1RBVkFJTCcsICdFTkVURE9XTicsICdFTkVUVU5SRUFDSCcsICdFTkVUUkVTRVQnLCAnRUNPTk5BQk9SVEVEJywgJ0VDT05OUkVTRVQnLCAnRU5PQlVGUycsICdFSVNDT05OJywgJ0VOT1RDT05OJywgJ0VTSFVURE9XTicsICdFVE9PTUFOWVJFRlMnLCAnRVRJTUVET1VUJywgJ0VDT05OUkVGVVNFRCcsICdFSE9TVERPV04nLCAnRUhPU1RVTlJFQUNIJywgJ0VBTFJFQURZJywgJ0VJTlBST0dSRVNTJywgJ0VTVEFMRScsICdFVUNMRUFOJywgJ0VOT1ROQU0nLCAnRU5BVkFJTCcsICdFSVNOQU0nLCAnRVJFTU9URUlPJywgJ0VEUVVPVCcsICdFTk9NRURJVU0nLCAnRU1FRElVTVRZUEUnLCAnRUNBTkNFTEVEJywgJ0VOT0tFWScsICdFS0VZRVhQSVJFRCcsICdFS0VZUkVWT0tFRCcsICdFS0VZUkVKRUNURUQnLCAnRU9XTkVSREVBRCcsICdFTk9UUkVDT1ZFUkFCTEUnLCAnRVJGS0lMTCddOwoKZXhwb3J0IGNvbnN0IHR5cGVzID0gewogIGlzQW55QXJyYXlCdWZmZXIodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmICh2IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgdiBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKTsKICB9LAogIGlzQXJyYXlCdWZmZXIodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjsKICB9LAogIGlzQmlnSW50NjRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJpZ0ludDY0QXJyYXk7CiAgfSwKICBpc0JpZ1VpbnQ2NEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQmlnVWludDY0QXJyYXk7CiAgfSwKICBpc0RhdGUodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBEYXRlOwogIH0sCiAgaXNGbG9hdDMyQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk7CiAgfSwKICBpc0Zsb2F0NjRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheTsKICB9LAogIGlzSW50OEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgSW50OEFycmF5OwogIH0sCiAgaXNJbnQxNkFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgSW50MTZBcnJheTsKICB9LAogIGlzSW50MzJBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEludDMyQXJyYXk7CiAgfSwKICBpc01hcCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIE1hcDsKICB9LAogIGlzUHJvbWlzZSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFByb21pc2U7CiAgfSwKICBpc1Byb3h5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgUHJveHk7CiAgfSwKICBpc1JlZ0V4cCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFJlZ0V4cDsKICB9LAogIGlzU2V0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgU2V0OwogIH0sCiAgaXNTaGFyZWRBcnJheUJ1ZmZlcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyOwogIH0sCiAgaXNVaW50OEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgVWludDhBcnJheTsKICB9LAogIGlzVWludDhDbGFtcGVkQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheTsKICB9LAogIGlzVWludDE2QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50MTZBcnJheTsKICB9LAogIGlzVWludDMyQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50MzJBcnJheTsKICB9LAogIGlzV2Vha01hcCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFdlYWtNYXA7CiAgfSwKICBpc1dlYWtTZXQodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBXZWFrU2V0OwogIH0sCiAgaXNEYXRhVmlldyh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIERhdGFWaWV3OwogIH0sCiAgaXNCb29sZWFuT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQm9vbGVhbjsKICB9LAogIGlzQXN5bmNGdW5jdGlvbih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEFzeW5jRnVuY3Rpb247CiAgfSwKICBpc0dlbmVyYXRvckZ1bmN0aW9uKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgR2VuZXJhdG9yRnVuY3Rpb247CiAgfSwKICBpc0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24odikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBBc3luY0dlbmVyYXRvckZ1bmN0aW9uOwogIH0sCiAgaXNOdW1iZXJPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBOdW1iZXI7CiAgfSwKICBpc0JpZ0ludE9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJpZ0ludDsKICB9LAogIGlzU3ltYm9sT2JqZWN0KHYpIHsKICAgIHJldHVybiB2ICYmIHYgaW5zdGFuY2VvZiBTeW1ib2w7CiAgfSwKICBpc05hdGl2ZUVycm9yKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRXJyb3IgJiYgaXNOYXRpdmUodi5jb25zdHJ1Y3Rvcik7CiAgfSwKICBpc01hcEl0ZXJhdG9yKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiBwcm90b09mKHYpID09IE1hcEl0ZXJhdG9yUHJvdG90eXBlOwogIH0sCiAgaXNTZXRJdGVyYXRvcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgcHJvdG9PZih2KSA9PSBTZXRJdGVyYXRvclByb3RvdHlwZTsKICB9LAogIGlzU3RyaW5nT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgU3RyaW5nOwogIH0sCiAgaXNBcnJheUJ1ZmZlclZpZXcodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIEFycmF5QnVmZmVyLmlzVmlldyh2KTsKICB9LAogIGlzQXJndW1lbnRzT2JqZWN0KHYpIHsKICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7CiAgfSwKCiAgLyogaXNFeHRlcm5hbCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEV4dGVybmFsOwogIH0sKi8KCiAgaXNCb3hlZFByaW1pdGl2ZSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgW051bWJlciwgU3RyaW5nLCBCb29sZWFuLCBCaWdJbnQsIFN5bWJvbF0uc29tZShjdG9yID0+IHYgaW5zdGFuY2VvZiBjdG9yKTsKICB9LAoKICBpc0dlbmVyYXRvck9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgcHJvdG9PZih2KSA9PSBHZW5lcmF0b3JQcm90b3R5cGU7CiAgfSwKICBpc1R5cGVkQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBUeXBlZEFycmF5OwogIH0sCiAgaXNNb2R1bGVOYW1lc3BhY2VPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHZbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PSAnTW9kdWxlJzsKICB9LAogIGlzQ29uc3RydWN0b3IodikgewogICAgcmV0dXJuIGlzRnVuY3Rpb24odikgJiYgJ3Byb3RvdHlwZScgaW4gdjsKICB9LAogIGlzSXRlcmF0b3IodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHR5cGVvZiB2Lm5leHQgPT0gJ2Z1bmN0aW9uJzsKICB9Cn07CgpleHBvcnQgZnVuY3Rpb24gaGFzQnVpbHRJbihvLCBtKSB7CiAgcmV0dXJuIGlzTmF0aXZlKHByb3RvT2YobylbbV0pOwp9CgpleHBvcnQgZnVuY3Rpb24gZm9ybWF0KC4uLmFyZ3MpIHsKICByZXR1cm4gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbCh7IGhpZGVLZXlzOiBbJ2NvbnN0cnVjdG9yJ10gfSwgYXJncyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRXaXRoT3B0aW9ucyhvcHRzLCAuLi5hcmdzKSB7CiAgaWYoIWlzT2JqZWN0KG9wdHMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb25zIGFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3RgKTsKICByZXR1cm4gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbChvcHRzLCBhcmdzKTsKfQoKZnVuY3Rpb24gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbChvLCB2KSB7CiAgY29uc3QgeCA9IHZbMF07CiAgbGV0IGEgPSAwOwogIGxldCBzID0gJyc7CiAgbGV0IGogPSAnJzsKICBpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHsKICAgIGlmKHYubGVuZ3RoID09PSAxKSByZXR1cm4geDsKICAgIGxldCB0OwogICAgbGV0IHAgPSAwOwogICAgZm9yKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgIGlmKHhbaV0gPT0gJyUnKSB7CiAgICAgICAgbGV0IGYgPSAnJzsKICAgICAgICB3aGlsZSgnc2p4ZE9vaWZjJScuaW5kZXhPZih4W2kgKyAxXSkgPT0gLTEpIHsKICAgICAgICAgIGYgKz0geFtpICsgMV07CiAgICAgICAgICArK2k7CiAgICAgICAgfQogICAgICAgIGlmKHAgPCBpKSBzICs9IHNsaWNlKHgsIHAsIGkpOwogICAgICAgIHAgPSBpICsgMTsKCiAgICAgICAgY29uc3QgYyA9IFN0cmluZy5wcm90b3R5cGUuY2hhckNvZGVBdC5jYWxsKHgsICsraSk7CiAgICAgICAgaWYoYSArIDEgIT09IHYubGVuZ3RoKSB7CiAgICAgICAgICBzd2l0Y2ggKGMpIHsKICAgICAgICAgICAgY2FzZSAxMTU6IC8vICVzCiAgICAgICAgICAgICAgY29uc3QgeSA9IHZbKythXTsKICAgICAgICAgICAgICBpZih0eXBlb2YgeSA9PT0gJ251bWJlcicpIHQgPSBmb3JtYXROdW1iZXIoeSk7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgeSA9PT0gJ2JpZ2ludCcpIHQgPSBgJHt5fW5gOwogICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIHkgIT09ICdvYmplY3QnIHx8IHkgPT09IG51bGwgfHwgIWhhc0J1aWx0SW4oeSwgJ3RvU3RyaW5nJykpIHQgPSBTdHJpbmcoeSk7CiAgICAgICAgICAgICAgZWxzZSB0ID0gaW5zcGVjdCh5LCB7IC4uLm8sIGNvbXBhY3Q6IDMsIGNvbG9yczogZmFsc2UsIGRlcHRoOiAwIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwNjogLy8gJWoKICAgICAgICAgICAgICB0ID0gc3RyaW5naWZ5KHZbKythXSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTIwOiAvLyAleAogICAgICAgICAgICBjYXNlIDEwMDogLy8gJWQKICAgICAgICAgICAgICBjb25zdCBuID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiBuID09PSAnYmlnaW50JykgdCA9IGAke259bmA7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgbiA9PT0gJ3N5bWJvbCcpIHQgPSAnTmFOJzsKICAgICAgICAgICAgICBlbHNlIHQgPSBmb3JtYXROdW1iZXIoYyA9PSAxMjAgPyBOdW1iZXIobikudG9TdHJpbmcoMTYpIDogTnVtYmVyKG4pKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA3OTogLy8gJU8KICAgICAgICAgICAgICB0ID0gaW5zcGVjdCh2WysrYV0sIG8pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDExMTogLy8gJW8KICAgICAgICAgICAgICB0ID0gLyp2WysrYV0rJycgPz8gKi8gaW5zcGVjdCh2WysrYV0sIHsKICAgICAgICAgICAgICAgIC4uLm8sCiAgICAgICAgICAgICAgICBzaG93SGlkZGVuOiB0cnVlLAogICAgICAgICAgICAgICAgc2hvd1Byb3h5OiB0cnVlLAogICAgICAgICAgICAgICAgZGVwdGg6IDEsCiAgICAgICAgICAgICAgICBwcm90b0NoYWluOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwNTogLy8gJWkKICAgICAgICAgICAgICBjb25zdCBrID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiBrID09PSAnYmlnaW50JykgdCA9IGAke2t9YDsKICAgICAgICAgICAgICBlbHNlIGlmKHR5cGVvZiBrID09PSAnc3ltYm9sJykgdCA9ICdOYU4nOwogICAgICAgICAgICAgIGVsc2UgdCA9IGZvcm1hdE51bWJlcihwYXJzZUludChrKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTAyOiAvLyAlZgogICAgICAgICAgICAgIGNvbnN0IGQgPSB2WysrYV07CiAgICAgICAgICAgICAgaWYodHlwZW9mIGQgPT09ICdzeW1ib2wnKSB0ID0gJ05hTic7CiAgICAgICAgICAgICAgZWxzZSB0ID0gZm9ybWF0TnVtYmVyKHBhcnNlRmxvYXQoZCkpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDk5OiAvLyAlYwogICAgICAgICAgICAgIGEgKz0gMTsKICAgICAgICAgICAgICB0ID0gJyc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMzc6IC8vICUlCiAgICAgICAgICAgICAgcyArPSBzbGljZSh4LCBwLCBpKTsKICAgICAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZihwICE9PSBpIC0gMSkgcyArPSBzbGljZSh4LCBwLCBpIC0gMSk7CiAgICAgICAgICBsZXQgcGFkID0gcGFyc2VJbnQoZik7CiAgICAgICAgICBpZihNYXRoLmFicyhwYWQpID4gMCkgdCA9IHRbJ3BhZCcgKyAocGFkIDwgMCA/ICdFbmQnIDogJ1N0YXJ0JyldKE1hdGguYWJzKHBhZCksIC9eLT8wLy50ZXN0KGYpID8gJzAnIDogJyAnKTsKICAgICAgICAgIHMgKz0gdDsKICAgICAgICAgIHAgPSBpICsgMTsKICAgICAgICB9IGVsc2UgaWYoYyA9PT0gMzcpIHsKICAgICAgICAgIHMgKz0gc2xpY2UoeCwgcCwgaSk7CiAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZihwICE9PSAwKSB7CiAgICAgIGErKzsKICAgICAgaiA9ICcgJzsKICAgICAgaWYocCA8IHgubGVuZ3RoKSBzICs9IHNsaWNlKHgsIHApOwogICAgfQogIH0KICB3aGlsZShhIDwgdi5sZW5ndGgpIHsKICAgIGNvbnN0IHkgPSB2W2FdOwogICAgcyArPSBqOwogICAgcyArPSB0eXBlb2YgeSAhPT0gJ3N0cmluZycgPyBpbnNwZWN0KHksIG8pIDogeTsKICAgIGogPSAnICc7CiAgICBhKys7CiAgfQogIHJldHVybiBzOwp9CgpleHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIGV4cGVjdGVkID0gdHJ1ZTsKCiAgaWYoYWN0dWFsID09PSBleHBlY3RlZCkgcmV0dXJuOwoKICBpZihhY3R1YWwgIT09IG51bGwgJiYgZXhwZWN0ZWQgIT09IG51bGwgJiYgdHlwZW9mIGFjdHVhbCA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgZXhwZWN0ZWQgPT0gJ29iamVjdCcgJiYgYWN0dWFsLnRvU3RyaW5nKCkgPT09IGV4cGVjdGVkLnRvU3RyaW5nKCkpIHJldHVybjsKCiAgdGhyb3cgRXJyb3IoJ2Fzc2VydGlvbiBmYWlsZWQ6IGdvdCB8JyArIGFjdHVhbCArICd8JyArICcsIGV4cGVjdGVkIHwnICsgZXhwZWN0ZWQgKyAnfCcgKyAobWVzc2FnZSA/ICcgKCcgKyBtZXNzYWdlICsgJyknIDogJycpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHNldEludGVydmFsKGNhbGxiYWNrLCBtcykgewogIGxldCBtYXAgPSAoc2V0SW50ZXJ2YWwubWFwID8/PSBuZXcgTWFwKCkpOwogIGxldCBpZCA9IChzZXRJbnRlcnZhbC5pZCA9IChzZXRJbnRlcnZhbC5pZCA/PyAwKSArIDEpOwogIGxldCBvYmogPSB7IGNhbGxiYWNrLCBtcyB9OwogIG1hcC5zZXQoaWQsIG9iaik7CgogIGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgb2JqLmlkID0gb3Muc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHN0YXJ0KCk7CiAgICAgIGNhbGxiYWNrKCk7CiAgICB9LCBvYmoubXMpOwogIH0KCiAgc3RhcnQoKTsKICByZXR1cm4gaWQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjbGVhckludGVydmFsKGlkKSB7CiAgbGV0IG1hcCA9IChzZXRJbnRlcnZhbC5tYXAgPz89IG5ldyBNYXAoKSk7CgogIGxldCBvYmogPSBtYXAuZ2V0KGlkKTsKCiAgaWYob2JqKSBvcy5jbGVhclRpbWVvdXQob2JqLmlkKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHsKICBsZXQgY2FjaGUgPSB7fTsKICByZXR1cm4gKG4sIC4uLnJlc3QpID0+IHsKICAgIGlmKG4gaW4gY2FjaGUpIHJldHVybiBjYWNoZVtuXTsKICAgIHJldHVybiAoY2FjaGVbbl0gPSBmbihuLCAuLi5yZXN0KSk7CiAgfTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4sIHRoaXNBcmcsIG1lbW9GbikgewogIGxldCByZXQsCiAgICByYW4gPSBmYWxzZTsKCiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgIGlmKCFyYW4pIHsKICAgICAgcmFuID0gdHJ1ZTsKICAgICAgcmV0ID0gZm4uYXBwbHkodGhpc0FyZyB8fCB0aGlzLCBhcmdzKTsKICAgIH0gZWxzZSBpZih0eXBlb2YgbWVtb0ZuID09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0ID0gbWVtb0ZuKHJldCk7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH07Cn0KCmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yKG1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gb3Muc2V0VGltZW91dChyZXNvbHZlLCBtcykpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGVmaW5lKG9iaiwgLi4uYXJncykgewogIGZvcihsZXQgcHJvcHMgb2YgYXJncykgewogICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhwcm9wcyk7CiAgICBmb3IobGV0IHByb3AgaW4gZGVzYykgewogICAgICBjb25zdCB7IHZhbHVlIH0gPSBkZXNjW3Byb3BdOwogICAgICBkZXNjW3Byb3BdLmVudW1lcmFibGUgPSBmYWxzZTsKICAgICAgaWYodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIGRlc2NbcHJvcF0ud3JpdGFibGUgPSBmYWxzZTsKICAgIH0KICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgZGVzYyk7CiAgfQogIHJldHVybiBvYmo7Cn0KCmV4cG9ydCBmdW5jdGlvbiB3ZWFrQXNzaWduKG9iaiwgLi4uYXJncykgewogIGxldCBkZXNjID0ge307CiAgZm9yKGxldCBvdGhlciBvZiBhcmdzKSB7CiAgICBsZXQgb3RoZXJEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3RoZXIpOwogICAgZm9yKGxldCBrZXkgaW4gb3RoZXJEZXNjKSBpZighKGtleSBpbiBvYmopICYmIGRlc2Nba2V5XSA9PT0gdW5kZWZpbmVkICYmIG90aGVyRGVzY1trZXldICE9PSB1bmRlZmluZWQpIGRlc2Nba2V5XSA9IG90aGVyRGVzY1trZXldOwogIH0KICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCBkZXNjKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldENvbnN0cnVjdG9yQ2hhaW4ob2JqKSB7CiAgbGV0IHJldCA9IFtdOwogIGxldCBjaGFpbiA9IGdldFByb3RvdHlwZUNoYWluKG9iaik7CiAgaWYob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3RvciAhPSBjaGFpblswXS5jb25zdHJ1Y3RvcikgY2hhaW4udW5zaGlmdChvYmopOwogIGZvcihsZXQgcHJvdG8gb2YgY2hhaW4pIHJldC5wdXNoKHByb3RvLmNvbnN0cnVjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpleHBvcnQgZnVuY3Rpb24gaGFzUHJvdG90eXBlKG9iaiwgcHJvdG8pIHsKICByZXR1cm4gZ2V0UHJvdG90eXBlQ2hhaW4ob2JqKS5pbmRleE9mKHByb3RvKSAhPSAtMTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihzZXEsIHByZWQsIHRoaXNBcmcpIHsKICBpZihpc09iamVjdChwcmVkKSAmJiBwcmVkIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICBsZXQgcmUgPSBwcmVkOwogICAgcHJlZCA9IChlbCwgaSkgPT4gcmUudGVzdChlbCk7CiAgfQogIGxldCByID0gW10sCiAgICBpID0gMDsKICBmb3IobGV0IGVsIG9mIHNlcSkgewogICAgaWYocHJlZC5jYWxsKHRoaXNBcmcsIGVsLCBpKyssIHNlcSkpIHIucHVzaChlbCk7CiAgfQogIHJldHVybiByOwp9CgpleHBvcnQgY29uc3QgY3VycnkgPQogIChmLCBhcnIgPSBbXSwgbGVuZ3RoID0gZi5sZW5ndGgpID0+CiAgKC4uLmFyZ3MpID0+CiAgICAoYSA9PiAoYS5sZW5ndGggPT09IGxlbmd0aCA/IGYoLi4uYSkgOiBjdXJyeShmLCBhKSkpKFsuLi5hcnIsIC4uLmFyZ3NdKTsKCmV4cG9ydCBmdW5jdGlvbiogc3BsaXQoYnVmLCAuLi5wb2ludHMpIHsKICBwb2ludHMuc29ydCgpOwogIGNvbnN0IHNwbGl0QXQgPSAoYiwgcG9zLCBsZW4pID0+IHsKICAgIGxldCByID0gcG9zIDwgYi5ieXRlTGVuZ3RoID8gW3NsaWNlKGIsIDAsIHBvcyksIHNsaWNlKGIsIHBvcyldIDogW251bGwsIGJdOwogICAgcmV0dXJuIHI7CiAgfTsKICBsZXQgcHJldiwKICAgIGxlbiA9IDA7CiAgZm9yKGxldCBvZmZzZXQgb2YgcG9pbnRzKSB7CiAgICBsZXQgYXQgPSBvZmZzZXQgLSBsZW47CiAgICBbcHJldiwgYnVmXSA9IHNwbGl0QXQoYnVmLCBhdCwgbGVuKTsKICAgIGlmKHByZXYpIHsKICAgICAgeWllbGQgcHJldjsKICAgICAgbGVuID0gb2Zmc2V0OwogICAgfQogIH0KICBpZihidWYpIHlpZWxkIGJ1ZjsKfQoKZXhwb3J0IGNvbnN0IHVuaXF1ZSA9IChhcnIsIGNtcCkgPT4gYXJyLmZpbHRlcih0eXBlb2YgY21wID09ICdmdW5jdGlvbicgPyAoZWwsIGksIGFycikgPT4gYXJyLmZpbmRJbmRleChpdGVtID0+IGNtcChlbCwgaXRlbSkpID09IGkgOiAoZWwsIGksIGFycikgPT4gYXJyLmluZGV4T2YoZWwpID09IGkpOwoKZXhwb3J0IGNvbnN0IGdldEZ1bmN0aW9uQXJndW1lbnRzID0gZm4gPT4KICAoZm4gKyAnJykKICAgIC5yZXBsYWNlKC9cbi4qL2csICcnKQogICAgLnJlcGxhY2UoLyg9Pnx7fFxuKS4qL2csICcnKQogICAgLnJlcGxhY2UoL15mdW5jdGlvblxzKi8sICcnKQogICAgLnJlcGxhY2UoL15cKCguKilcKVxzKiQvZywgJyQxJykKICAgIC5zcGxpdCgvLFxzKi9nKTsKCmNvbnN0IEFOU0lfQkFDS0dST1VORF9PRkZTRVQgPSAxMDsKCmNvbnN0IHdyYXBBbnNpMTYgPQogIChvZmZzZXQgPSAwKSA9PgogIGNvZGUgPT4KICAgIGBceDFiWyR7Y29kZSArIG9mZnNldH1tYDsKCmNvbnN0IHdyYXBBbnNpMjU2ID0KICAob2Zmc2V0ID0gMCkgPT4KICBjb2RlID0+CiAgICBgXHgxYlskezM4ICsgb2Zmc2V0fTs1OyR7Y29kZX1tYDsKCmNvbnN0IHdyYXBBbnNpMTZtID0KICAob2Zmc2V0ID0gMCkgPT4KICAocmVkLCBncmVlbiwgYmx1ZSkgPT4KICAgIGBceDFiWyR7MzggKyBvZmZzZXR9OzI7JHtyZWR9OyR7Z3JlZW59OyR7Ymx1ZX1tYDsKCmZ1bmN0aW9uIGdldEFuc2lTdHlsZXMoKSB7CiAgY29uc3QgY29kZXMgPSBuZXcgTWFwKCk7CiAgY29uc3Qgc3R5bGVzID0gewogICAgbW9kaWZpZXI6IHsKICAgICAgcmVzZXQ6IFswLCAwXSwKICAgICAgLy8gMjEgaXNuJ3Qgd2lkZWx5IHN1cHBvcnRlZCBhbmQgMjIgZG9lcyB0aGUgc2FtZSB0aGluZwogICAgICBib2xkOiBbMSwgMjJdLAogICAgICBkaW06IFsyLCAyMl0sCiAgICAgIGl0YWxpYzogWzMsIDIzXSwKICAgICAgdW5kZXJsaW5lOiBbNCwgMjRdLAogICAgICBvdmVybGluZTogWzUzLCA1NV0sCiAgICAgIGludmVyc2U6IFs3LCAyN10sCiAgICAgIGhpZGRlbjogWzgsIDI4XSwKICAgICAgc3RyaWtldGhyb3VnaDogWzksIDI5XQogICAgfSwKICAgIGNvbG9yOiB7CiAgICAgIGJsYWNrOiBbMzAsIDM5XSwKICAgICAgcmVkOiBbMzEsIDM5XSwKICAgICAgZ3JlZW46IFszMiwgMzldLAogICAgICB5ZWxsb3c6IFszMywgMzldLAogICAgICBibHVlOiBbMzQsIDM5XSwKICAgICAgbWFnZW50YTogWzM1LCAzOV0sCiAgICAgIGN5YW46IFszNiwgMzldLAogICAgICB3aGl0ZTogWzM3LCAzOV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmxhY2tCcmlnaHQ6IFs5MCwgMzldLAogICAgICByZWRCcmlnaHQ6IFs5MSwgMzldLAogICAgICBncmVlbkJyaWdodDogWzkyLCAzOV0sCiAgICAgIHllbGxvd0JyaWdodDogWzkzLCAzOV0sCiAgICAgIGJsdWVCcmlnaHQ6IFs5NCwgMzldLAogICAgICBtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSwKICAgICAgY3lhbkJyaWdodDogWzk2LCAzOV0sCiAgICAgIHdoaXRlQnJpZ2h0OiBbOTcsIDM5XQogICAgfSwKICAgIGJnQ29sb3I6IHsKICAgICAgYmdCbGFjazogWzQwLCA0OV0sCiAgICAgIGJnUmVkOiBbNDEsIDQ5XSwKICAgICAgYmdHcmVlbjogWzQyLCA0OV0sCiAgICAgIGJnWWVsbG93OiBbNDMsIDQ5XSwKICAgICAgYmdCbHVlOiBbNDQsIDQ5XSwKICAgICAgYmdNYWdlbnRhOiBbNDUsIDQ5XSwKICAgICAgYmdDeWFuOiBbNDYsIDQ5XSwKICAgICAgYmdXaGl0ZTogWzQ3LCA0OV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmdCbGFja0JyaWdodDogWzEwMCwgNDldLAogICAgICBiZ1JlZEJyaWdodDogWzEwMSwgNDldLAogICAgICBiZ0dyZWVuQnJpZ2h0OiBbMTAyLCA0OV0sCiAgICAgIGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sCiAgICAgIGJnQmx1ZUJyaWdodDogWzEwNCwgNDldLAogICAgICBiZ01hZ2VudGFCcmlnaHQ6IFsxMDUsIDQ5XSwKICAgICAgYmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sCiAgICAgIGJnV2hpdGVCcmlnaHQ6IFsxMDcsIDQ5XQogICAgfQogIH07CgogIC8vIEFsaWFzIGJyaWdodCBibGFjayBhcyBncmF5IChhbmQgZ3JleSkKICBzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDsKICBzdHlsZXMuYmdDb2xvci5iZ0dyYXkgPSBzdHlsZXMuYmdDb2xvci5iZ0JsYWNrQnJpZ2h0OwogIHN0eWxlcy5jb2xvci5ncmV5ID0gc3R5bGVzLmNvbG9yLmJsYWNrQnJpZ2h0OwogIHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7CgogIGZvcihjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkgewogICAgZm9yKGNvbnN0IFtzdHlsZU5hbWUsIHN0eWxlXSBvZiBPYmplY3QuZW50cmllcyhncm91cCkpIHsKICAgICAgc3R5bGVzW3N0eWxlTmFtZV0gPSB7CiAgICAgICAgb3BlbjogYFx1MDAxQlske3N0eWxlWzBdfW1gLAogICAgICAgIGNsb3NlOiBgXHUwMDFCWyR7c3R5bGVbMV19bWAKICAgICAgfTsKCiAgICAgIGdyb3VwW3N0eWxlTmFtZV0gPSBzdHlsZXNbc3R5bGVOYW1lXTsKCiAgICAgIGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pOwogICAgfQoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwgewogICAgICB2YWx1ZTogZ3JvdXAsCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9KTsKICB9CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHsKICAgIHZhbHVlOiBjb2RlcywKICAgIGVudW1lcmFibGU6IGZhbHNlCiAgfSk7CgogIHN0eWxlcy5jb2xvci5jbG9zZSA9ICdcdTAwMUJbMzltJzsKICBzdHlsZXMuYmdDb2xvci5jbG9zZSA9ICdcdTAwMUJbNDltJzsKCiAgc3R5bGVzLmNvbG9yLmFuc2kgPSB3cmFwQW5zaTE2KCk7CiAgc3R5bGVzLmNvbG9yLmFuc2kyNTYgPSB3cmFwQW5zaTI1NigpOwogIHN0eWxlcy5jb2xvci5hbnNpMTZtID0gd3JhcEFuc2kxNm0oKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpID0gd3JhcEFuc2kxNihBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7CiAgc3R5bGVzLmJnQ29sb3IuYW5zaTE2bSA9IHdyYXBBbnNpMTZtKEFOU0lfQkFDS0dST1VORF9PRkZTRVQpOwoKICAvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzCiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3R5bGVzLCB7CiAgICByZ2JUb0Fuc2kyNTY6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7CiAgICAgICAgLy8gV2UgdXNlIHRoZSBleHRlbmRlZCBncmV5c2NhbGUgcGFsZXR0ZSBoZXJlLCB3aXRoIHRoZSBleGNlcHRpb24gb2YKICAgICAgICAvLyBibGFjayBhbmQgd2hpdGUuIG5vcm1hbCBwYWxldHRlIG9ubHkgaGFzIDQgZ3JleXNjYWxlIHNoYWRlcy4KICAgICAgICBpZihyZWQgPT09IGdyZWVuICYmIGdyZWVuID09PSBibHVlKSB7CiAgICAgICAgICBpZihyZWQgPCA4KSB7CiAgICAgICAgICAgIHJldHVybiAxNjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZihyZWQgPiAyNDgpIHsKICAgICAgICAgICAgcmV0dXJuIDIzMTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjsKICAgICAgICB9CiAgICAgICAgY29uc3QgYyA9IFtyZWQsIGdyZWVuLCBibHVlXS5tYXAoYyA9PiAoYyAvIDI1NSkgKiA1KTsKICAgICAgICByZXR1cm4gMTYgKyAzNiAqIGNbMF0gKyA2ICogY1sxXSArIGNbMl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9SZ2I6IHsKICAgICAgdmFsdWU6IGhleCA9PiB7CiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXGRdezZ9fFthLWZcZF17M30pL2kuZXhlYyhoZXgudG9TdHJpbmcoMTYpKTsKICAgICAgICBpZighbWF0Y2hlcykgewogICAgICAgICAgcmV0dXJuIFswLCAwLCAwXTsKICAgICAgICB9CgogICAgICAgIGxldCB7IGNvbG9yU3RyaW5nIH0gPSBtYXRjaGVzLmdyb3VwczsKCiAgICAgICAgaWYoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nCiAgICAgICAgICAgIC5zcGxpdCgnJykKICAgICAgICAgICAgLm1hcChjaGFyYWN0ZXIgPT4gY2hhcmFjdGVyICsgY2hhcmFjdGVyKQogICAgICAgICAgICAuam9pbignJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBpbnRlZ2VyID0gTnVtYmVyLnBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7CgogICAgICAgIHJldHVybiBbKGludGVnZXIgPj4gMTYpICYgMHhmZiwgKGludGVnZXIgPj4gOCkgJiAweGZmLCBpbnRlZ2VyICYgMHhmZl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9BbnNpMjU2OiB7CiAgICAgIHZhbHVlOiBoZXggPT4gc3R5bGVzLnJnYlRvQW5zaTI1NiguLi5zdHlsZXMuaGV4VG9SZ2IoaGV4KSksCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgYW5zaTI1NlRvQW5zaTogewogICAgICB2YWx1ZTogY29kZSA9PiB7CiAgICAgICAgaWYoY29kZSA8IDgpIHsKICAgICAgICAgIHJldHVybiAzMCArIGNvZGU7CiAgICAgICAgfQoKICAgICAgICBpZihjb2RlIDwgMTYpIHsKICAgICAgICAgIHJldHVybiA5MCArIChjb2RlIC0gOCk7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVkOwogICAgICAgIGxldCBncmVlbjsKICAgICAgICBsZXQgYmx1ZTsKCiAgICAgICAgaWYoY29kZSA+PSAyMzIpIHsKICAgICAgICAgIHJlZCA9ICgoY29kZSAtIDIzMikgKiAxMCArIDgpIC8gMjU1OwogICAgICAgICAgZ3JlZW4gPSByZWQ7CiAgICAgICAgICBibHVlID0gcmVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb2RlIC09IDE2OwoKICAgICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGNvZGUgJSAzNjsKCiAgICAgICAgICByZWQgPSBNYXRoLmZsb29yKGNvZGUgLyAzNikgKiAwLjI7CiAgICAgICAgICBncmVlbiA9IE1hdGguZmxvb3IocmVtYWluZGVyIC8gNikgKiAwLjI7CiAgICAgICAgICBibHVlID0gKHJlbWFpbmRlciAlIDYpICogMC4yOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLm1heChyZWQsIGdyZWVuLCBibHVlKSAqIDI7CgogICAgICAgIGlmKHZhbHVlID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gMzA7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVzdWx0ID0gMzAgKyAoKE1hdGgucm91bmQoYmx1ZSkgPDwgMikgfCAoTWF0aC5yb3VuZChncmVlbikgPDwgMSkgfCBNYXRoLnJvdW5kKHJlZCkpOwoKICAgICAgICBpZih2YWx1ZSA9PT0gMikgewogICAgICAgICAgcmVzdWx0ICs9IDYwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICByZ2JUb0Fuc2k6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMucmdiVG9BbnNpMjU2KHJlZCwgZ3JlZW4sIGJsdWUpKSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICBoZXhUb0Fuc2k6IHsKICAgICAgdmFsdWU6IGhleCA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMuaGV4VG9BbnNpMjU2KGhleCkpLAogICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgfQogIH0pOwoKICByZXR1cm4gc3R5bGVzOwp9CgpleHBvcnQgZnVuY3Rpb24gcmFuZEludCguLi5hcmdzKSB7CiAgbGV0IHJhbmdlID0gYXJncy5zcGxpY2UoMCwgMik7CiAgbGV0IHJuZCA9IGFyZ3Muc2hpZnQoKTsKICBpZihyYW5nZS5sZW5ndGggPCAyKSByYW5nZS51bnNoaWZ0KDApOwogIHJldHVybiBNYXRoLnJvdW5kKG1pc2MucmFuZChyYW5nZVsxXSAtIHJhbmdlWzBdICsgMSkgKyByYW5nZVswXSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiB0b0JpZ0ludChhcmcpIHsKICBpZih0eXBlcy5pc0FycmF5QnVmZmVyKGFyZykpIHsKICAgIGNvbnN0IGJpdHMgPSBtaXNjLmJpdHMoYXJnKS5qb2luKCcnKTsKICAgIHJldHVybiBldmFsKGAwYiR7Yml0c31uYCk7CiAgfQogIHJldHVybiBCaWdJbnQoYXJnKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGxhenlQcm9wZXJ0eShvYmosIG5hbWUsIGdldHRlciwgb3B0cyA9IHt9KSB7CiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHsKICAgIGdldDogdHlwZXMuaXNBc3luY0Z1bmN0aW9uKGdldHRlcikKICAgICAgPyBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkoYXdhaXQgZ2V0dGVyLmNhbGwob2JqLCBuYW1lKSk7CiAgICAgICAgfQogICAgICA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXR0ZXIuY2FsbChvYmosIG5hbWUpOwogICAgICAgICAgaWYodHlwZXMuaXNQcm9taXNlKHZhbHVlKSkgewogICAgICAgICAgICB2YWx1ZS50aGVuKHYgPT4gewogICAgICAgICAgICAgIHJlcGxhY2VQcm9wZXJ0eSh2KTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgdXRpbC5sYXp5UHJvcGVydHkgcmVzb2x2ZWQgYCwgb2JqW25hbWVdKTsKICAgICAgICAgICAgICByZXR1cm4gdjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodmFsdWUpOwogICAgICAgIH0sCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAuLi5vcHRzCiAgfSk7CgogIGZ1bmN0aW9uIHJlcGxhY2VQcm9wZXJ0eSh2YWx1ZSkgewogICAgZGVsZXRlIG9ialtuYW1lXTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHsgdmFsdWUsIC4uLm9wdHMgfSk7CiAgICByZXR1cm4gdmFsdWU7CiAgfQp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykgewogIGxldCBzaG9ydCwgbG9uZzsKICBsZXQgcmVzdWx0ID0ge307CiAgbGV0IHBvc2l0aW9uYWwgPSAocmVzdWx0WydAJ10gPSBbXSk7CiAgaWYoIShvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpKSBvcHRpb25zID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucyk7CiAgY29uc3QgZmluZE9wdCA9IGFyZyA9PiBvcHRpb25zLmZpbmQoKFtvcHRuYW1lLCBvcHRpb25dKSA9PiAoQXJyYXkuaXNBcnJheShvcHRpb24pID8gb3B0aW9uLmluZGV4T2YoYXJnKSAhPSAtMSA6IGZhbHNlKSB8fCBhcmcgPT0gb3B0bmFtZSk7CiAgbGV0IFssIHBhcmFtc10gPSBvcHRpb25zLmZpbmQob3B0ID0+IG9wdFswXSA9PSAnQCcpIHx8IFtdOwogIGlmKHR5cGVvZiBwYXJhbXMgPT0gJ3N0cmluZycpIHBhcmFtcyA9IHBhcmFtcy5zcGxpdCgnLCcpOwogIGZvcihsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBhcmcgPSBhcmdzW2ldOwogICAgbGV0IG9wdDsKICAgIGlmKGFyZ1swXSA9PSAnLScpIHsKICAgICAgbGV0IG5hbWUsIHZhbHVlLCBzdGFydCwgZW5kOwogICAgICBpZihhcmdbMV0gPT0gJy0nKSBsb25nID0gdHJ1ZTsKICAgICAgZWxzZSBzaG9ydCA9IHRydWU7CiAgICAgIHN0YXJ0ID0gc2hvcnQgPyAxIDogMjsKICAgICAgaWYoc2hvcnQpIGVuZCA9IDI7CiAgICAgIGVsc2UgaWYoKGVuZCA9IGFyZy5pbmRleE9mKCc9JykpID09IC0xKSBlbmQgPSBhcmcubGVuZ3RoOwogICAgICBuYW1lID0gYXJnLnN1YnN0cmluZyhzdGFydCwgZW5kKTsKICAgICAgaWYoKG9wdCA9IGZpbmRPcHQobmFtZSkpKSB7CiAgICAgICAgY29uc3QgW2hhc19hcmcsIGhhbmRsZXJdID0gb3B0WzFdOwogICAgICAgIGlmKGhhc19hcmcpIHsKICAgICAgICAgIGlmKGFyZy5sZW5ndGggPiBlbmQpIHZhbHVlID0gYXJnLnN1YnN0cmluZyhlbmQgKyAoYXJnW2VuZF0gPT0gJz0nKSk7CiAgICAgICAgICBlbHNlIHZhbHVlID0gYXJnc1srK2ldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YWx1ZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICB2YWx1ZSA9IGhhbmRsZXIodmFsdWUsIHJlc3VsdFtvcHRbMF1dLCBvcHRpb25zLCByZXN1bHQpOwogICAgICAgIH0gY2F0Y2goZSkge30KICAgICAgICByZXN1bHRbb3B0WzBdXSA9IHZhbHVlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CiAgICBpZihwYXJhbXMubGVuZ3RoKSB7CiAgICAgIGNvbnN0IHBhcmFtID0gcGFyYW1zLnNoaWZ0KCk7CiAgICAgIGlmKChvcHQgPSBmaW5kT3B0KHBhcmFtKSkpIHsKICAgICAgICBjb25zdCBbLCBbLCBoYW5kbGVyXV0gPSBvcHQ7CiAgICAgICAgbGV0IHZhbHVlID0gYXJnOwogICAgICAgIGlmKHR5cGVvZiBoYW5kbGVyID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhbHVlID0gaGFuZGxlcih2YWx1ZSwgcmVzdWx0W29wdFswXV0sIG9wdGlvbnMsIHJlc3VsdCk7CiAgICAgICAgICB9IGNhdGNoKGUpIHt9CiAgICAgICAgfQogICAgICAgIGNvbnN0IG5hbWUgPSBvcHRbMF07CiAgICAgICAgcmVzdWx0W29wdFswXV0gPSB2YWx1ZTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgfQogICAgcmVzdWx0WydAJ10gPSBbLi4uKHJlc3VsdFsnQCddID8/IFtdKSwgYXJnXTsKICB9CiAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHRvVW5peFRpbWUoZGF0ZU9iaiwgdXRjID0gZmFsc2UpIHsKICBpZighKGRhdGVPYmogaW5zdGFuY2VvZiBEYXRlKSkgZGF0ZU9iaiA9IG5ldyBEYXRlKGRhdGVPYmopOwogIGxldCBlcG9jaCA9IE1hdGguZmxvb3IoZGF0ZU9iai5nZXRUaW1lKCkgLyAxMDAwKTsKICBpZih1dGMpIGVwb2NoICs9IGRhdGVPYmouZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwOwogIHJldHVybiBlcG9jaDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHVuaXhUaW1lKHV0YyA9IGZhbHNlKSB7CiAgcmV0dXJuIHRvVW5peFRpbWUobmV3IERhdGUoKSwgdXRjKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZyb21Vbml4VGltZShlcG9jaCwgdXRjID0gZmFsc2UpIHsKICBsZXQgdCA9IHBhcnNlSW50KGVwb2NoKTsKICBsZXQgZCA9IG5ldyBEYXRlKDApOwogIHV0YyA/IGQuc2V0VVRDU2Vjb25kcyh0KSA6IGQuc2V0U2Vjb25kcyh0KTsKICByZXR1cm4gZDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKC4uLmFyZ3MpIHsKICBsZXQgW3N0YXJ0LCBlbmQsIHN0ZXAgPSAxXSA9IGFyZ3M7CiAgbGV0IHJldDsKICBzdGFydCAvPSBzdGVwOwogIGVuZCAvPSBzdGVwOwogIGlmKHN0YXJ0ID4gZW5kKSB7CiAgICByZXQgPSBbXTsKICAgIHdoaWxlKHN0YXJ0ID49IGVuZCkgcmV0LnB1c2goc3RhcnQtLSk7CiAgfSBlbHNlIHsKICAgIHJldCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGVuZCAtIHN0YXJ0ICsgMSB9LCAodiwgaykgPT4gayArIHN0YXJ0KTsKICB9CiAgaWYoc3RlcCAhPSAxKSB7CiAgICByZXQgPSByZXQubWFwKG4gPT4gbiAqIHN0ZXApOwogIH0KICByZXR1cm4gcmV0Owp9OwoKZXhwb3J0IGNvbnN0IGFuc2lTdHlsZXMgPSBnZXRBbnNpU3R5bGVzKCk7Cgpjb25zdCBpbnNwZWN0TWV0aG9kID0gU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKTsKLyoKT2JqZWN0LmFzc2lnbih1dGlsLCBtaXNjKTsKCnV0aWwuaW5zcGVjdCA9IGluc3BlY3Q7CnV0aWwuZm9ybWF0ID0gZm9ybWF0Owp1dGlsLmZvcm1hdFdpdGhPcHRpb25zID0gZm9ybWF0V2l0aE9wdGlvbnM7CnV0aWwudHlwZXMgPSB0eXBlczsKdXRpbC5hc3NlcnQgPSBhc3NlcnQ7CnV0aWwuaGFzQnVpbHRJbiA9IGhhc0J1aWx0SW47CnV0aWwudG9TdHJpbmcgPSB0b1N0cmluZzsKdXRpbC50b0FycmF5QnVmZmVyID0gdG9BcnJheUJ1ZmZlcjsKdXRpbC5zZXRJbnRlcnZhbCA9IHNldEludGVydmFsOwp1dGlsLmNsZWFySW50ZXJ2YWwgPSBjbGVhckludGVydmFsOwp1dGlsLm1lbW9pemUgPSBtZW1vaXplOwp1dGlsLm9uY2UgPSBvbmNlOwp1dGlsLmRlZmluZSA9IGRlZmluZTsKdXRpbC53ZWFrQXNzaWduID0gd2Vha0Fzc2lnbjsKdXRpbC5BcnJheUV4dGVuc2lvbnMgPSBBcnJheUV4dGVuc2lvbnM7CnV0aWwuZXh0ZW5kQXJyYXkgPSAocHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIGRlZiA9IHV0aWwuZGVmaW5lKSA9PiBkZWYocHJvdG8sIEFycmF5RXh0ZW5zaW9ucyk7CnV0aWwuZXh0ZW5kR2VuZXJhdG9yID0gKHByb3RvID0gR2VuZXJhdG9yUHJvdG90eXBlLCBkZWYgPSB1dGlsLmRlZmluZSkgPT4gZGVmKHByb3RvLCBHZW5lcmF0b3JFeHRlbnNpb25zKTsKdXRpbC5lcnJvcnMgPSBlcnJvcnM7CnV0aWwuZ2V0UHJvdG90eXBlQ2hhaW4gPSBnZXRQcm90b3R5cGVDaGFpbjsKdXRpbC5nZXRDb25zdHJ1Y3RvckNoYWluID0gZ2V0Q29uc3RydWN0b3JDaGFpbjsKdXRpbC5oYXNQcm90b3R5cGUgPSBoYXNQcm90b3R5cGU7CnV0aWwuYW5zaVN0eWxlcyA9IGFuc2lTdHlsZXM7CnV0aWwucmFuZEludCA9IHJhbmRJbnQ7CnV0aWwuY3VycnkgPSBjdXJyeTsKdXRpbC5maWx0ZXIgPSBmaWx0ZXI7CnV0aWwuc3BsaXQgPSBzcGxpdDsKdXRpbC51bmlxdWUgPSB1bmlxdWU7CnV0aWwuZXNjYXBlID0gZXNjYXBlOwoKT2JqZWN0LmFzc2lnbih1dGlsLCB7CiAgW2luc3BlY3RNZXRob2RdKCkgewogICAgbGV0IG9iaiA9IHsgLi4udXRpbCB9OwogICAgZGVsZXRlIG9ialtpbnNwZWN0TWV0aG9kXTsKICAgIHJldHVybiBpbnNwZWN0KG9iaiwgeyBjdXN0b21JbnNwZWN0OiBmYWxzZSB9KTsKICB9Cn0pOyovCgpleHBvcnQgeyBleHRlbmRBcnJheSwgQXJyYXlFeHRlbnNpb25zIH0gZnJvbSAnLi9leHRlbmRBcnJheS5qcyc7CmV4cG9ydCB7IFN5c2NhbGxFcnJvciB9IGZyb20gJ3N5c2NhbGxlcnJvcic7CmV4cG9ydCAqIGZyb20gJ21pc2MnOwpleHBvcnQgeyBpbnNwZWN0IH0gZnJvbSAnaW5zcGVjdCc7CmV4cG9ydCBkZWZhdWx0IHV0aWw7CmV4cG9ydCB7IEpTX0VWQUxfRkxBR19CQUNLVFJBQ0VfQkFSUklFUiwgTG9jYXRpb24sIGR1cEFycmF5QnVmZmVyLCBlc2NhcGUsIGdldFByb3RvdHlwZUNoYWluLCBpc0FycmF5LCBpc0JpZ0RlY2ltYWwsIGlzQmlnRmxvYXQsIGlzQmlnSW50LCBpc0Jvb2wsIGlzQ0Z1bmN0aW9uLCBpc0NvbnN0cnVjdG9yLCBpc0VtcHR5U3RyaW5nLCBpc0Vycm9yLCBpc0V4Y2VwdGlvbiwgaXNFeHRlbnNpYmxlLCBpc0Z1bmN0aW9uLCBpc0hUTUxEREEsIGlzSW5zdGFuY2VPZiwgaXNJbnRlZ2VyLCBpc0pvYlBlbmRpbmcsIGlzTGl2ZU9iamVjdCwgaXNOdWxsLCBpc051bWJlciwgaXNPYmplY3QsIGlzUmVnaXN0ZXJlZENsYXNzLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVW5jYXRjaGFibGVFcnJvciwgaXNVbmRlZmluZWQsIGlzVW5pbml0aWFsaXplZCwgaXNBcnJheUJ1ZmZlciwgcmFuZCwgdG9BcnJheUJ1ZmZlciwgdG9TdHJpbmcsIHdhdGNoIH0gZnJvbSAnbWlzYyc7CgAAAAAAAAAAOGEAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF5YAAAAAAAAXlgAAAAAAAAAAAAAAADwvw"
				],
				[
					522,
					1,
					"paste",
					null,
					"AQAAALxZAAAAAAAA7VoAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALxZAAAAAAAAvFkAAAAAAAAAAAAAAADwvw"
				],
				[
					525,
					1,
					"insert",
					{
						"characters": "function"
					},
					"CQAAALxZAAAAAAAAvVkAAAAAAAAAAAAAvVkAAAAAAAC9WQAAAAAAAAUAAABVdGlsLr1ZAAAAAAAAvlkAAAAAAAAAAAAAvlkAAAAAAAC/WQAAAAAAAAAAAAC/WQAAAAAAAMBZAAAAAAAAAAAAAMBZAAAAAAAAwVkAAAAAAAAAAAAAwVkAAAAAAADCWQAAAAAAAAAAAADCWQAAAAAAAMNZAAAAAAAAAAAAAMNZAAAAAAAAxFkAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMFZAAAAAAAAvFkAAAAAAAAAAAAAAADwvw"
				],
				[
					526,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMRZAAAAAAAAxVkAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMRZAAAAAAAAxFkAAAAAAAAAAAAAAADwvw"
				],
				[
					530,
					1,
					"left_delete",
					null,
					"AQAAAM1ZAAAAAAAAzVkAAAAAAAALAAAAID0gZnVuY3Rpb24",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM1ZAAAAAAAA2FkAAAAAAAAAAAAAAADwvw"
				],
				[
					537,
					1,
					"insert",
					{
						"characters": "function"
					},
					"CQAAAJxaAAAAAAAAnVoAAAAAAAAAAAAAnVoAAAAAAACdWgAAAAAAAAUAAABVdGlsLp1aAAAAAAAAnloAAAAAAAAAAAAAnloAAAAAAACfWgAAAAAAAAAAAACfWgAAAAAAAKBaAAAAAAAAAAAAAKBaAAAAAAAAoVoAAAAAAAAAAAAAoVoAAAAAAACiWgAAAAAAAAAAAACiWgAAAAAAAKNaAAAAAAAAAAAAAKNaAAAAAAAApFoAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKFaAAAAAAAAnFoAAAAAAAAAAAAAAAAAAA"
				],
				[
					538,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKRaAAAAAAAApVoAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKRaAAAAAAAApFoAAAAAAAAAAAAAAADwvw"
				],
				[
					543,
					4,
					"left_delete",
					null,
					"BAAAAK5aAAAAAAAArloAAAAAAAAIAAAAZnVuY3Rpb26tWgAAAAAAAK1aAAAAAAAAAQAAACCsWgAAAAAAAKxaAAAAAAAAAQAAAD2rWgAAAAAAAKtaAAAAAAAAAQAAACA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK5aAAAAAAAAtloAAAAAAAAAAAAAAADwvw"
				],
				[
					546,
					5,
					"left_delete",
					null,
					"BQAAAMhaAAAAAAAAyFoAAAAAAAABAAAALsdaAAAAAAAAx1oAAAAAAAABAAAAbMZaAAAAAAAAxloAAAAAAAABAAAAacVaAAAAAAAAxVoAAAAAAAABAAAAdMRaAAAAAAAAxFoAAAAAAAABAAAAVQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMlaAAAAAAAAyVoAAAAAAAAAAAAAAADwvw"
				],
				[
					549,
					1,
					"insert",
					{
						"characters": "export"
					},
					"BgAAALxZAAAAAAAAvVkAAAAAAAAAAAAAvVkAAAAAAAC+WQAAAAAAAAAAAAC+WQAAAAAAAL9ZAAAAAAAAAAAAAL9ZAAAAAAAAwFkAAAAAAAAAAAAAwFkAAAAAAADBWQAAAAAAAAAAAADBWQAAAAAAAMJZAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALxZAAAAAAAAvFkAAAAAAAAAAAAAAAAAAA"
				],
				[
					550,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMJZAAAAAAAAw1kAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMJZAAAAAAAAwlkAAAAAAAAAAAAAAADwvw"
				],
				[
					552,
					1,
					"cut",
					null,
					"AQAAALxZAAAAAAAAvFkAAAAAAAAHAAAAZXhwb3J0IA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMNZAAAAAAAAvFkAAAAAAAAAAAAAAAAAAA"
				],
				[
					553,
					1,
					"paste",
					null,
					"AQAAALxZAAAAAAAAw1kAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALxZAAAAAAAAvFkAAAAAAAAAAAAAAADwvw"
				],
				[
					557,
					1,
					"paste",
					null,
					"AQAAAKNaAAAAAAAAqloAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKNaAAAAAAAAo1oAAAAAAAAAAAAAAADwvw"
				],
				[
					572,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAKJaAAAAAAAAo1oAAAAAAAAAAAAAo1oAAAAAAACkWgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKJaAAAAAAAAoloAAAAAAAAAAAAAAADwvw"
				],
				[
					574,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAALxZAAAAAAAAvVkAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALxZAAAAAAAAvFkAAAAAAAAAAAAAAAAAAA"
				],
				[
					576,
					1,
					"left_delete",
					null,
					"AQAAAKNaAAAAAAAAo1oAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKRaAAAAAAAApFoAAAAAAAAAAAAAAAAAAA"
				],
				[
					579,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABmYgAALy9pbXBvcnQgaW5zcGVjdCBmcm9tICdpbnNwZWN0JzsKaW1wb3J0IHsgU3lzY2FsbEVycm9yIH0gZnJvbSAnc3lzY2FsbGVycm9yJzsKLy9leHBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJ2xvY2F0aW9uJzsKaW1wb3J0IHsgSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSLCBMb2NhdGlvbiwgZHVwQXJyYXlCdWZmZXIsIGVzY2FwZSwgZ2V0UHJvdG90eXBlQ2hhaW4sIGlzQXJyYXksIGlzQmlnRGVjaW1hbCwgaXNCaWdGbG9hdCwgaXNCaWdJbnQsIGlzQm9vbCwgaXNDRnVuY3Rpb24sIGlzQ29uc3RydWN0b3IsIGlzRW1wdHlTdHJpbmcsIGlzRXJyb3IsIGlzRXhjZXB0aW9uLCBpc0V4dGVuc2libGUsIGlzRnVuY3Rpb24sIGlzSFRNTEREQSwgaXNJbnN0YW5jZU9mLCBpc0ludGVnZXIsIGlzSm9iUGVuZGluZywgaXNMaXZlT2JqZWN0LCBpc051bGwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNSZWdpc3RlcmVkQ2xhc3MsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNVbmNhdGNoYWJsZUVycm9yLCBpc1VuZGVmaW5lZCwgaXNVbmluaXRpYWxpemVkLCBpc0FycmF5QnVmZmVyLCByYW5kLCB0b0FycmF5QnVmZmVyLCB0b1N0cmluZywgd2F0Y2ggfSBmcm9tICdtaXNjJzsKaW1wb3J0ICogYXMgbWlzYyBmcm9tICdtaXNjJzsKaW1wb3J0IHsgZXh0ZW5kQXJyYXksIEFycmF5RXh0ZW5zaW9ucyB9IGZyb20gJy4vZXh0ZW5kQXJyYXkuanMnOwppbXBvcnQgeyBleHRlbmRHZW5lcmF0b3IsIEdlbmVyYXRvckV4dGVuc2lvbnMsIEdlbmVyYXRvclByb3RvdHlwZSB9IGZyb20gJy4vZXh0ZW5kR2VuZXJhdG9yLmpzJzsKaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnOwoKY29uc3Qgc2xpY2UgPSAoeCwgcywgZSkgPT4gKHR5cGVvZiB4ID09ICdvYmplY3QnID8gKGlzQXJyYXlCdWZmZXIoeCkgPyBkdXBBcnJheUJ1ZmZlcih4LCBzLCBlKSA6IEFycmF5LmlzQXJyYXkoeCkgPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh4LCBzLCBlKSA6IHguc2xpY2UocywgZSkpIDogU3RyaW5nLnByb3RvdHlwZS5zbGljZS5jYWxsKHgsIHMsIGUpKTsKY29uc3Qgc3RyaW5naWZ5ID0gdiA9PiBgJHt2fWA7CmNvbnN0IHByb3RvT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7CmNvbnN0IGZvcm1hdE51bWJlciA9IG4gPT4gKG4gPT09IC0wID8gJy0wJyA6IGAke259YCk7CmNvbnN0IGlzTmF0aXZlID0gZm4gPT4gL1xbbmF0aXZlXHNjb2RlXF0vLnRlc3Qoc3RyaW5naWZ5KGZuKSk7CgovKmV4cG9ydCBkZWZhdWx0Ki8gZnVuY3Rpb24gdXRpbCgpIHsKICByZXR1cm4gdXRpbDsKfQoKdXRpbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB1dGlsOwoKY29uc3QgQXN5bmNGdW5jdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIHgoKSB7fS5jb25zdHJ1Y3RvcjsKY29uc3QgR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb24gPSBhc3luYyBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IFR5cGVkQXJyYXkgPSBwcm90b09mKHByb3RvT2YobmV3IFVpbnQxNkFycmF5KDEwKSkpLmNvbnN0cnVjdG9yOwoKY29uc3QgU2V0SXRlcmF0b3JQcm90b3R5cGUgPSBwcm90b09mKG5ldyBTZXQoKS52YWx1ZXMoKSk7CmNvbnN0IE1hcEl0ZXJhdG9yUHJvdG90eXBlID0gcHJvdG9PZihuZXcgTWFwKCkuZW50cmllcygpKTsKLy9jb25zdCBHZW5lcmF0b3JQcm90b3R5cGUgPSBwcm90b09mKChmdW5jdGlvbiogKCkge30pKCkpOwoKLy8gcHJldHRpZXItaWdub3JlCmV4cG9ydCBjb25zdCBlcnJvcnMgPSBbbnVsbCwgJ0VQRVJNJywgJ0VOT0VOVCcsICdFU1JDSCcsICdFSU5UUicsICdFSU8nLCAnRU5YSU8nLCAnRTJCSUcnLCAnRU5PRVhFQycsICdFQkFERicsICdFQ0hJTEQnLCAnRUFHQUlOJywgJ0VOT01FTScsICdFQUNDRVMnLCAnRUZBVUxUJywgJ0VOT1RCTEsnLCAnRUJVU1knLCAnRUVYSVNUJywgJ0VYREVWJywgJ0VOT0RFVicsICdFTk9URElSJywgJ0VJU0RJUicsICdFSU5WQUwnLCAnRU5GSUxFJywgJ0VNRklMRScsICdFTk9UVFknLCAnRVRYVEJTWScsICdFRkJJRycsICdFTk9TUEMnLCAnRVNQSVBFJywgJ0VST0ZTJywgJ0VNTElOSycsICdFUElQRScsICdFRE9NJywgJ0VSQU5HRScsICdFREVBRExLJywgJ0VOQU1FVE9PTE9ORycsICdFTk9MQ0snLCAnRU5PU1lTJywgJ0VOT1RFTVBUWScsIG51bGwsIG51bGwsICdFTk9NU0cnLCAnRUlEUk0nLCAnRUNIUk5HJywgJ0VMMk5TWU5DJywgJ0VMM0hMVCcsICdFTDNSU1QnLCAnRUxOUk5HJywgJ0VVTkFUQ0gnLCAnRU5PQ1NJJywgJ0VMMkhMVCcsICdFQkFERScsICdFQkFEUicsICdFWEZVTEwnLCAnRU5PQU5PJywgJ0VCQURSUUMnLCBudWxsLCAnJywgJ0VCRk9OVCcsICdFTk9TVFInLCAnRU5PREFUQScsICdFVElNRScsICdFTk9TUicsICdFTk9ORVQnLCAnRU5PUEtHJywgJ0VSRU1PVEUnLCAnRU5PTElOSycsICdFQURWJywgJ0VTUk1OVCcsICdFQ09NTScsICdFUFJPVE8nLCAnRU1VTFRJSE9QJywgJ0VET1RET1QnLCAnRUJBRE1TRycsICdFT1ZFUkZMT1cnLCAnRU5PVFVOSVEnLCAnRUJBREZEJywgJ0VSRU1DSEcnLCAnRUxJQkFDQycsICdFTElCQkFEJywgJ0VMSUJTQ04nLCAnRUxJQk1BWCcsICdFTElCRVhFQycsICdFSUxTRVEnLCAnRVJFU1RBUlQnLCAnRVNUUlBJUEUnLCAnRVVTRVJTJywgJ0VOT1RTT0NLJywgJ0VERVNUQUREUlJFUScsICdFTVNHU0laRScsICdFUFJPVE9UWVBFJywgJ0VOT1BST1RPT1BUJywgJ0VQUk9UT05PU1VQUE9SVCcsICdFU09DS1ROT1NVUFBPUlQnLCAnRU9QTk9UU1VQUCcsICdFUEZOT1NVUFBPUlQnLCAnRUFGTk9TVVBQT1JUJywgJ0VBRERSSU5VU0UnLCAnRUFERFJOT1RBVkFJTCcsICdFTkVURE9XTicsICdFTkVUVU5SRUFDSCcsICdFTkVUUkVTRVQnLCAnRUNPTk5BQk9SVEVEJywgJ0VDT05OUkVTRVQnLCAnRU5PQlVGUycsICdFSVNDT05OJywgJ0VOT1RDT05OJywgJ0VTSFVURE9XTicsICdFVE9PTUFOWVJFRlMnLCAnRVRJTUVET1VUJywgJ0VDT05OUkVGVVNFRCcsICdFSE9TVERPV04nLCAnRUhPU1RVTlJFQUNIJywgJ0VBTFJFQURZJywgJ0VJTlBST0dSRVNTJywgJ0VTVEFMRScsICdFVUNMRUFOJywgJ0VOT1ROQU0nLCAnRU5BVkFJTCcsICdFSVNOQU0nLCAnRVJFTU9URUlPJywgJ0VEUVVPVCcsICdFTk9NRURJVU0nLCAnRU1FRElVTVRZUEUnLCAnRUNBTkNFTEVEJywgJ0VOT0tFWScsICdFS0VZRVhQSVJFRCcsICdFS0VZUkVWT0tFRCcsICdFS0VZUkVKRUNURUQnLCAnRU9XTkVSREVBRCcsICdFTk9UUkVDT1ZFUkFCTEUnLCAnRVJGS0lMTCddOwoKZXhwb3J0IGNvbnN0IHR5cGVzID0gewogIGlzQW55QXJyYXlCdWZmZXIodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmICh2IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgdiBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKTsKICB9LAogIGlzQXJyYXlCdWZmZXIodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjsKICB9LAogIGlzQmlnSW50NjRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJpZ0ludDY0QXJyYXk7CiAgfSwKICBpc0JpZ1VpbnQ2NEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQmlnVWludDY0QXJyYXk7CiAgfSwKICBpc0RhdGUodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBEYXRlOwogIH0sCiAgaXNGbG9hdDMyQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk7CiAgfSwKICBpc0Zsb2F0NjRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheTsKICB9LAogIGlzSW50OEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgSW50OEFycmF5OwogIH0sCiAgaXNJbnQxNkFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgSW50MTZBcnJheTsKICB9LAogIGlzSW50MzJBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEludDMyQXJyYXk7CiAgfSwKICBpc01hcCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIE1hcDsKICB9LAogIGlzUHJvbWlzZSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFByb21pc2U7CiAgfSwKICBpc1Byb3h5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgUHJveHk7CiAgfSwKICBpc1JlZ0V4cCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFJlZ0V4cDsKICB9LAogIGlzU2V0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgU2V0OwogIH0sCiAgaXNTaGFyZWRBcnJheUJ1ZmZlcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyOwogIH0sCiAgaXNVaW50OEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgVWludDhBcnJheTsKICB9LAogIGlzVWludDhDbGFtcGVkQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheTsKICB9LAogIGlzVWludDE2QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50MTZBcnJheTsKICB9LAogIGlzVWludDMyQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50MzJBcnJheTsKICB9LAogIGlzV2Vha01hcCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFdlYWtNYXA7CiAgfSwKICBpc1dlYWtTZXQodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBXZWFrU2V0OwogIH0sCiAgaXNEYXRhVmlldyh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIERhdGFWaWV3OwogIH0sCiAgaXNCb29sZWFuT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQm9vbGVhbjsKICB9LAogIGlzQXN5bmNGdW5jdGlvbih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEFzeW5jRnVuY3Rpb247CiAgfSwKICBpc0dlbmVyYXRvckZ1bmN0aW9uKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgR2VuZXJhdG9yRnVuY3Rpb247CiAgfSwKICBpc0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24odikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBBc3luY0dlbmVyYXRvckZ1bmN0aW9uOwogIH0sCiAgaXNOdW1iZXJPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBOdW1iZXI7CiAgfSwKICBpc0JpZ0ludE9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJpZ0ludDsKICB9LAogIGlzU3ltYm9sT2JqZWN0KHYpIHsKICAgIHJldHVybiB2ICYmIHYgaW5zdGFuY2VvZiBTeW1ib2w7CiAgfSwKICBpc05hdGl2ZUVycm9yKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRXJyb3IgJiYgaXNOYXRpdmUodi5jb25zdHJ1Y3Rvcik7CiAgfSwKICBpc01hcEl0ZXJhdG9yKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiBwcm90b09mKHYpID09IE1hcEl0ZXJhdG9yUHJvdG90eXBlOwogIH0sCiAgaXNTZXRJdGVyYXRvcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgcHJvdG9PZih2KSA9PSBTZXRJdGVyYXRvclByb3RvdHlwZTsKICB9LAogIGlzU3RyaW5nT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgU3RyaW5nOwogIH0sCiAgaXNBcnJheUJ1ZmZlclZpZXcodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIEFycmF5QnVmZmVyLmlzVmlldyh2KTsKICB9LAogIGlzQXJndW1lbnRzT2JqZWN0KHYpIHsKICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7CiAgfSwKCiAgLyogaXNFeHRlcm5hbCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEV4dGVybmFsOwogIH0sKi8KCiAgaXNCb3hlZFByaW1pdGl2ZSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgW051bWJlciwgU3RyaW5nLCBCb29sZWFuLCBCaWdJbnQsIFN5bWJvbF0uc29tZShjdG9yID0+IHYgaW5zdGFuY2VvZiBjdG9yKTsKICB9LAoKICBpc0dlbmVyYXRvck9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgcHJvdG9PZih2KSA9PSBHZW5lcmF0b3JQcm90b3R5cGU7CiAgfSwKICBpc1R5cGVkQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBUeXBlZEFycmF5OwogIH0sCiAgaXNNb2R1bGVOYW1lc3BhY2VPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHZbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PSAnTW9kdWxlJzsKICB9LAogIGlzQ29uc3RydWN0b3IodikgewogICAgcmV0dXJuIGlzRnVuY3Rpb24odikgJiYgJ3Byb3RvdHlwZScgaW4gdjsKICB9LAogIGlzSXRlcmF0b3IodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHR5cGVvZiB2Lm5leHQgPT0gJ2Z1bmN0aW9uJzsKICB9Cn07CgpleHBvcnQgZnVuY3Rpb24gaGFzQnVpbHRJbihvLCBtKSB7CiAgcmV0dXJuIGlzTmF0aXZlKHByb3RvT2YobylbbV0pOwp9CgpleHBvcnQgZnVuY3Rpb24gZm9ybWF0KC4uLmFyZ3MpIHsKICByZXR1cm4gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbCh7IGhpZGVLZXlzOiBbJ2NvbnN0cnVjdG9yJ10gfSwgYXJncyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRXaXRoT3B0aW9ucyhvcHRzLCAuLi5hcmdzKSB7CiAgaWYoIWlzT2JqZWN0KG9wdHMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb25zIGFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3RgKTsKICByZXR1cm4gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbChvcHRzLCBhcmdzKTsKfQoKZnVuY3Rpb24gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbChvLCB2KSB7CiAgY29uc3QgeCA9IHZbMF07CiAgbGV0IGEgPSAwOwogIGxldCBzID0gJyc7CiAgbGV0IGogPSAnJzsKICBpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHsKICAgIGlmKHYubGVuZ3RoID09PSAxKSByZXR1cm4geDsKICAgIGxldCB0OwogICAgbGV0IHAgPSAwOwogICAgZm9yKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgIGlmKHhbaV0gPT0gJyUnKSB7CiAgICAgICAgbGV0IGYgPSAnJzsKICAgICAgICB3aGlsZSgnc2p4ZE9vaWZjJScuaW5kZXhPZih4W2kgKyAxXSkgPT0gLTEpIHsKICAgICAgICAgIGYgKz0geFtpICsgMV07CiAgICAgICAgICArK2k7CiAgICAgICAgfQogICAgICAgIGlmKHAgPCBpKSBzICs9IHNsaWNlKHgsIHAsIGkpOwogICAgICAgIHAgPSBpICsgMTsKCiAgICAgICAgY29uc3QgYyA9IFN0cmluZy5wcm90b3R5cGUuY2hhckNvZGVBdC5jYWxsKHgsICsraSk7CiAgICAgICAgaWYoYSArIDEgIT09IHYubGVuZ3RoKSB7CiAgICAgICAgICBzd2l0Y2ggKGMpIHsKICAgICAgICAgICAgY2FzZSAxMTU6IC8vICVzCiAgICAgICAgICAgICAgY29uc3QgeSA9IHZbKythXTsKICAgICAgICAgICAgICBpZih0eXBlb2YgeSA9PT0gJ251bWJlcicpIHQgPSBmb3JtYXROdW1iZXIoeSk7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgeSA9PT0gJ2JpZ2ludCcpIHQgPSBgJHt5fW5gOwogICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIHkgIT09ICdvYmplY3QnIHx8IHkgPT09IG51bGwgfHwgIWhhc0J1aWx0SW4oeSwgJ3RvU3RyaW5nJykpIHQgPSBTdHJpbmcoeSk7CiAgICAgICAgICAgICAgZWxzZSB0ID0gaW5zcGVjdCh5LCB7IC4uLm8sIGNvbXBhY3Q6IDMsIGNvbG9yczogZmFsc2UsIGRlcHRoOiAwIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwNjogLy8gJWoKICAgICAgICAgICAgICB0ID0gc3RyaW5naWZ5KHZbKythXSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTIwOiAvLyAleAogICAgICAgICAgICBjYXNlIDEwMDogLy8gJWQKICAgICAgICAgICAgICBjb25zdCBuID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiBuID09PSAnYmlnaW50JykgdCA9IGAke259bmA7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgbiA9PT0gJ3N5bWJvbCcpIHQgPSAnTmFOJzsKICAgICAgICAgICAgICBlbHNlIHQgPSBmb3JtYXROdW1iZXIoYyA9PSAxMjAgPyBOdW1iZXIobikudG9TdHJpbmcoMTYpIDogTnVtYmVyKG4pKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA3OTogLy8gJU8KICAgICAgICAgICAgICB0ID0gaW5zcGVjdCh2WysrYV0sIG8pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDExMTogLy8gJW8KICAgICAgICAgICAgICB0ID0gLyp2WysrYV0rJycgPz8gKi8gaW5zcGVjdCh2WysrYV0sIHsKICAgICAgICAgICAgICAgIC4uLm8sCiAgICAgICAgICAgICAgICBzaG93SGlkZGVuOiB0cnVlLAogICAgICAgICAgICAgICAgc2hvd1Byb3h5OiB0cnVlLAogICAgICAgICAgICAgICAgZGVwdGg6IDEsCiAgICAgICAgICAgICAgICBwcm90b0NoYWluOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwNTogLy8gJWkKICAgICAgICAgICAgICBjb25zdCBrID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiBrID09PSAnYmlnaW50JykgdCA9IGAke2t9YDsKICAgICAgICAgICAgICBlbHNlIGlmKHR5cGVvZiBrID09PSAnc3ltYm9sJykgdCA9ICdOYU4nOwogICAgICAgICAgICAgIGVsc2UgdCA9IGZvcm1hdE51bWJlcihwYXJzZUludChrKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTAyOiAvLyAlZgogICAgICAgICAgICAgIGNvbnN0IGQgPSB2WysrYV07CiAgICAgICAgICAgICAgaWYodHlwZW9mIGQgPT09ICdzeW1ib2wnKSB0ID0gJ05hTic7CiAgICAgICAgICAgICAgZWxzZSB0ID0gZm9ybWF0TnVtYmVyKHBhcnNlRmxvYXQoZCkpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDk5OiAvLyAlYwogICAgICAgICAgICAgIGEgKz0gMTsKICAgICAgICAgICAgICB0ID0gJyc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMzc6IC8vICUlCiAgICAgICAgICAgICAgcyArPSBzbGljZSh4LCBwLCBpKTsKICAgICAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZihwICE9PSBpIC0gMSkgcyArPSBzbGljZSh4LCBwLCBpIC0gMSk7CiAgICAgICAgICBsZXQgcGFkID0gcGFyc2VJbnQoZik7CiAgICAgICAgICBpZihNYXRoLmFicyhwYWQpID4gMCkgdCA9IHRbJ3BhZCcgKyAocGFkIDwgMCA/ICdFbmQnIDogJ1N0YXJ0JyldKE1hdGguYWJzKHBhZCksIC9eLT8wLy50ZXN0KGYpID8gJzAnIDogJyAnKTsKICAgICAgICAgIHMgKz0gdDsKICAgICAgICAgIHAgPSBpICsgMTsKICAgICAgICB9IGVsc2UgaWYoYyA9PT0gMzcpIHsKICAgICAgICAgIHMgKz0gc2xpY2UoeCwgcCwgaSk7CiAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZihwICE9PSAwKSB7CiAgICAgIGErKzsKICAgICAgaiA9ICcgJzsKICAgICAgaWYocCA8IHgubGVuZ3RoKSBzICs9IHNsaWNlKHgsIHApOwogICAgfQogIH0KICB3aGlsZShhIDwgdi5sZW5ndGgpIHsKICAgIGNvbnN0IHkgPSB2W2FdOwogICAgcyArPSBqOwogICAgcyArPSB0eXBlb2YgeSAhPT0gJ3N0cmluZycgPyBpbnNwZWN0KHksIG8pIDogeTsKICAgIGogPSAnICc7CiAgICBhKys7CiAgfQogIHJldHVybiBzOwp9CgpleHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIGV4cGVjdGVkID0gdHJ1ZTsKCiAgaWYoYWN0dWFsID09PSBleHBlY3RlZCkgcmV0dXJuOwoKICBpZihhY3R1YWwgIT09IG51bGwgJiYgZXhwZWN0ZWQgIT09IG51bGwgJiYgdHlwZW9mIGFjdHVhbCA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgZXhwZWN0ZWQgPT0gJ29iamVjdCcgJiYgYWN0dWFsLnRvU3RyaW5nKCkgPT09IGV4cGVjdGVkLnRvU3RyaW5nKCkpIHJldHVybjsKCiAgdGhyb3cgRXJyb3IoJ2Fzc2VydGlvbiBmYWlsZWQ6IGdvdCB8JyArIGFjdHVhbCArICd8JyArICcsIGV4cGVjdGVkIHwnICsgZXhwZWN0ZWQgKyAnfCcgKyAobWVzc2FnZSA/ICcgKCcgKyBtZXNzYWdlICsgJyknIDogJycpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHNldEludGVydmFsKGNhbGxiYWNrLCBtcykgewogIGxldCBtYXAgPSAoc2V0SW50ZXJ2YWwubWFwID8/PSBuZXcgTWFwKCkpOwogIGxldCBpZCA9IChzZXRJbnRlcnZhbC5pZCA9IChzZXRJbnRlcnZhbC5pZCA/PyAwKSArIDEpOwogIGxldCBvYmogPSB7IGNhbGxiYWNrLCBtcyB9OwogIG1hcC5zZXQoaWQsIG9iaik7CgogIGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgb2JqLmlkID0gb3Muc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHN0YXJ0KCk7CiAgICAgIGNhbGxiYWNrKCk7CiAgICB9LCBvYmoubXMpOwogIH0KCiAgc3RhcnQoKTsKICByZXR1cm4gaWQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjbGVhckludGVydmFsKGlkKSB7CiAgbGV0IG1hcCA9IChzZXRJbnRlcnZhbC5tYXAgPz89IG5ldyBNYXAoKSk7CgogIGxldCBvYmogPSBtYXAuZ2V0KGlkKTsKCiAgaWYob2JqKSBvcy5jbGVhclRpbWVvdXQob2JqLmlkKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHsKICBsZXQgY2FjaGUgPSB7fTsKICByZXR1cm4gKG4sIC4uLnJlc3QpID0+IHsKICAgIGlmKG4gaW4gY2FjaGUpIHJldHVybiBjYWNoZVtuXTsKICAgIHJldHVybiAoY2FjaGVbbl0gPSBmbihuLCAuLi5yZXN0KSk7CiAgfTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4sIHRoaXNBcmcsIG1lbW9GbikgewogIGxldCByZXQsCiAgICByYW4gPSBmYWxzZTsKCiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgIGlmKCFyYW4pIHsKICAgICAgcmFuID0gdHJ1ZTsKICAgICAgcmV0ID0gZm4uYXBwbHkodGhpc0FyZyB8fCB0aGlzLCBhcmdzKTsKICAgIH0gZWxzZSBpZih0eXBlb2YgbWVtb0ZuID09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0ID0gbWVtb0ZuKHJldCk7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH07Cn0KCmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yKG1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gb3Muc2V0VGltZW91dChyZXNvbHZlLCBtcykpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGVmaW5lKG9iaiwgLi4uYXJncykgewogIGZvcihsZXQgcHJvcHMgb2YgYXJncykgewogICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhwcm9wcyk7CiAgICBmb3IobGV0IHByb3AgaW4gZGVzYykgewogICAgICBjb25zdCB7IHZhbHVlIH0gPSBkZXNjW3Byb3BdOwogICAgICBkZXNjW3Byb3BdLmVudW1lcmFibGUgPSBmYWxzZTsKICAgICAgaWYodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIGRlc2NbcHJvcF0ud3JpdGFibGUgPSBmYWxzZTsKICAgIH0KICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgZGVzYyk7CiAgfQogIHJldHVybiBvYmo7Cn0KCmV4cG9ydCBmdW5jdGlvbiB3ZWFrQXNzaWduKG9iaiwgLi4uYXJncykgewogIGxldCBkZXNjID0ge307CiAgZm9yKGxldCBvdGhlciBvZiBhcmdzKSB7CiAgICBsZXQgb3RoZXJEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3RoZXIpOwogICAgZm9yKGxldCBrZXkgaW4gb3RoZXJEZXNjKSBpZighKGtleSBpbiBvYmopICYmIGRlc2Nba2V5XSA9PT0gdW5kZWZpbmVkICYmIG90aGVyRGVzY1trZXldICE9PSB1bmRlZmluZWQpIGRlc2Nba2V5XSA9IG90aGVyRGVzY1trZXldOwogIH0KICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCBkZXNjKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldENvbnN0cnVjdG9yQ2hhaW4ob2JqKSB7CiAgbGV0IHJldCA9IFtdOwogIGxldCBjaGFpbiA9IGdldFByb3RvdHlwZUNoYWluKG9iaik7CiAgaWYob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3RvciAhPSBjaGFpblswXS5jb25zdHJ1Y3RvcikgY2hhaW4udW5zaGlmdChvYmopOwogIGZvcihsZXQgcHJvdG8gb2YgY2hhaW4pIHJldC5wdXNoKHByb3RvLmNvbnN0cnVjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpleHBvcnQgZnVuY3Rpb24gaGFzUHJvdG90eXBlKG9iaiwgcHJvdG8pIHsKICByZXR1cm4gZ2V0UHJvdG90eXBlQ2hhaW4ob2JqKS5pbmRleE9mKHByb3RvKSAhPSAtMTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihzZXEsIHByZWQsIHRoaXNBcmcpIHsKICBpZihpc09iamVjdChwcmVkKSAmJiBwcmVkIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICBsZXQgcmUgPSBwcmVkOwogICAgcHJlZCA9IChlbCwgaSkgPT4gcmUudGVzdChlbCk7CiAgfQogIGxldCByID0gW10sCiAgICBpID0gMDsKICBmb3IobGV0IGVsIG9mIHNlcSkgewogICAgaWYocHJlZC5jYWxsKHRoaXNBcmcsIGVsLCBpKyssIHNlcSkpIHIucHVzaChlbCk7CiAgfQogIHJldHVybiByOwp9CgpleHBvcnQgY29uc3QgY3VycnkgPQogIChmLCBhcnIgPSBbXSwgbGVuZ3RoID0gZi5sZW5ndGgpID0+CiAgKC4uLmFyZ3MpID0+CiAgICAoYSA9PiAoYS5sZW5ndGggPT09IGxlbmd0aCA/IGYoLi4uYSkgOiBjdXJyeShmLCBhKSkpKFsuLi5hcnIsIC4uLmFyZ3NdKTsKCmV4cG9ydCBmdW5jdGlvbiogc3BsaXQoYnVmLCAuLi5wb2ludHMpIHsKICBwb2ludHMuc29ydCgpOwogIGNvbnN0IHNwbGl0QXQgPSAoYiwgcG9zLCBsZW4pID0+IHsKICAgIGxldCByID0gcG9zIDwgYi5ieXRlTGVuZ3RoID8gW3NsaWNlKGIsIDAsIHBvcyksIHNsaWNlKGIsIHBvcyldIDogW251bGwsIGJdOwogICAgcmV0dXJuIHI7CiAgfTsKICBsZXQgcHJldiwKICAgIGxlbiA9IDA7CiAgZm9yKGxldCBvZmZzZXQgb2YgcG9pbnRzKSB7CiAgICBsZXQgYXQgPSBvZmZzZXQgLSBsZW47CiAgICBbcHJldiwgYnVmXSA9IHNwbGl0QXQoYnVmLCBhdCwgbGVuKTsKICAgIGlmKHByZXYpIHsKICAgICAgeWllbGQgcHJldjsKICAgICAgbGVuID0gb2Zmc2V0OwogICAgfQogIH0KICBpZihidWYpIHlpZWxkIGJ1ZjsKfQoKZXhwb3J0IGNvbnN0IHVuaXF1ZSA9IChhcnIsIGNtcCkgPT4gYXJyLmZpbHRlcih0eXBlb2YgY21wID09ICdmdW5jdGlvbicgPyAoZWwsIGksIGFycikgPT4gYXJyLmZpbmRJbmRleChpdGVtID0+IGNtcChlbCwgaXRlbSkpID09IGkgOiAoZWwsIGksIGFycikgPT4gYXJyLmluZGV4T2YoZWwpID09IGkpOwoKZXhwb3J0IGNvbnN0IGdldEZ1bmN0aW9uQXJndW1lbnRzID0gZm4gPT4KICAoZm4gKyAnJykKICAgIC5yZXBsYWNlKC9cbi4qL2csICcnKQogICAgLnJlcGxhY2UoLyg9Pnx7fFxuKS4qL2csICcnKQogICAgLnJlcGxhY2UoL15mdW5jdGlvblxzKi8sICcnKQogICAgLnJlcGxhY2UoL15cKCguKilcKVxzKiQvZywgJyQxJykKICAgIC5zcGxpdCgvLFxzKi9nKTsKCmNvbnN0IEFOU0lfQkFDS0dST1VORF9PRkZTRVQgPSAxMDsKCmNvbnN0IHdyYXBBbnNpMTYgPQogIChvZmZzZXQgPSAwKSA9PgogIGNvZGUgPT4KICAgIGBceDFiWyR7Y29kZSArIG9mZnNldH1tYDsKCmNvbnN0IHdyYXBBbnNpMjU2ID0KICAob2Zmc2V0ID0gMCkgPT4KICBjb2RlID0+CiAgICBgXHgxYlskezM4ICsgb2Zmc2V0fTs1OyR7Y29kZX1tYDsKCmNvbnN0IHdyYXBBbnNpMTZtID0KICAob2Zmc2V0ID0gMCkgPT4KICAocmVkLCBncmVlbiwgYmx1ZSkgPT4KICAgIGBceDFiWyR7MzggKyBvZmZzZXR9OzI7JHtyZWR9OyR7Z3JlZW59OyR7Ymx1ZX1tYDsKCmZ1bmN0aW9uIGdldEFuc2lTdHlsZXMoKSB7CiAgY29uc3QgY29kZXMgPSBuZXcgTWFwKCk7CiAgY29uc3Qgc3R5bGVzID0gewogICAgbW9kaWZpZXI6IHsKICAgICAgcmVzZXQ6IFswLCAwXSwKICAgICAgLy8gMjEgaXNuJ3Qgd2lkZWx5IHN1cHBvcnRlZCBhbmQgMjIgZG9lcyB0aGUgc2FtZSB0aGluZwogICAgICBib2xkOiBbMSwgMjJdLAogICAgICBkaW06IFsyLCAyMl0sCiAgICAgIGl0YWxpYzogWzMsIDIzXSwKICAgICAgdW5kZXJsaW5lOiBbNCwgMjRdLAogICAgICBvdmVybGluZTogWzUzLCA1NV0sCiAgICAgIGludmVyc2U6IFs3LCAyN10sCiAgICAgIGhpZGRlbjogWzgsIDI4XSwKICAgICAgc3RyaWtldGhyb3VnaDogWzksIDI5XQogICAgfSwKICAgIGNvbG9yOiB7CiAgICAgIGJsYWNrOiBbMzAsIDM5XSwKICAgICAgcmVkOiBbMzEsIDM5XSwKICAgICAgZ3JlZW46IFszMiwgMzldLAogICAgICB5ZWxsb3c6IFszMywgMzldLAogICAgICBibHVlOiBbMzQsIDM5XSwKICAgICAgbWFnZW50YTogWzM1LCAzOV0sCiAgICAgIGN5YW46IFszNiwgMzldLAogICAgICB3aGl0ZTogWzM3LCAzOV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmxhY2tCcmlnaHQ6IFs5MCwgMzldLAogICAgICByZWRCcmlnaHQ6IFs5MSwgMzldLAogICAgICBncmVlbkJyaWdodDogWzkyLCAzOV0sCiAgICAgIHllbGxvd0JyaWdodDogWzkzLCAzOV0sCiAgICAgIGJsdWVCcmlnaHQ6IFs5NCwgMzldLAogICAgICBtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSwKICAgICAgY3lhbkJyaWdodDogWzk2LCAzOV0sCiAgICAgIHdoaXRlQnJpZ2h0OiBbOTcsIDM5XQogICAgfSwKICAgIGJnQ29sb3I6IHsKICAgICAgYmdCbGFjazogWzQwLCA0OV0sCiAgICAgIGJnUmVkOiBbNDEsIDQ5XSwKICAgICAgYmdHcmVlbjogWzQyLCA0OV0sCiAgICAgIGJnWWVsbG93OiBbNDMsIDQ5XSwKICAgICAgYmdCbHVlOiBbNDQsIDQ5XSwKICAgICAgYmdNYWdlbnRhOiBbNDUsIDQ5XSwKICAgICAgYmdDeWFuOiBbNDYsIDQ5XSwKICAgICAgYmdXaGl0ZTogWzQ3LCA0OV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmdCbGFja0JyaWdodDogWzEwMCwgNDldLAogICAgICBiZ1JlZEJyaWdodDogWzEwMSwgNDldLAogICAgICBiZ0dyZWVuQnJpZ2h0OiBbMTAyLCA0OV0sCiAgICAgIGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sCiAgICAgIGJnQmx1ZUJyaWdodDogWzEwNCwgNDldLAogICAgICBiZ01hZ2VudGFCcmlnaHQ6IFsxMDUsIDQ5XSwKICAgICAgYmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sCiAgICAgIGJnV2hpdGVCcmlnaHQ6IFsxMDcsIDQ5XQogICAgfQogIH07CgogIC8vIEFsaWFzIGJyaWdodCBibGFjayBhcyBncmF5IChhbmQgZ3JleSkKICBzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDsKICBzdHlsZXMuYmdDb2xvci5iZ0dyYXkgPSBzdHlsZXMuYmdDb2xvci5iZ0JsYWNrQnJpZ2h0OwogIHN0eWxlcy5jb2xvci5ncmV5ID0gc3R5bGVzLmNvbG9yLmJsYWNrQnJpZ2h0OwogIHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7CgogIGZvcihjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkgewogICAgZm9yKGNvbnN0IFtzdHlsZU5hbWUsIHN0eWxlXSBvZiBPYmplY3QuZW50cmllcyhncm91cCkpIHsKICAgICAgc3R5bGVzW3N0eWxlTmFtZV0gPSB7CiAgICAgICAgb3BlbjogYFx1MDAxQlske3N0eWxlWzBdfW1gLAogICAgICAgIGNsb3NlOiBgXHUwMDFCWyR7c3R5bGVbMV19bWAKICAgICAgfTsKCiAgICAgIGdyb3VwW3N0eWxlTmFtZV0gPSBzdHlsZXNbc3R5bGVOYW1lXTsKCiAgICAgIGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pOwogICAgfQoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwgewogICAgICB2YWx1ZTogZ3JvdXAsCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9KTsKICB9CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHsKICAgIHZhbHVlOiBjb2RlcywKICAgIGVudW1lcmFibGU6IGZhbHNlCiAgfSk7CgogIHN0eWxlcy5jb2xvci5jbG9zZSA9ICdcdTAwMUJbMzltJzsKICBzdHlsZXMuYmdDb2xvci5jbG9zZSA9ICdcdTAwMUJbNDltJzsKCiAgc3R5bGVzLmNvbG9yLmFuc2kgPSB3cmFwQW5zaTE2KCk7CiAgc3R5bGVzLmNvbG9yLmFuc2kyNTYgPSB3cmFwQW5zaTI1NigpOwogIHN0eWxlcy5jb2xvci5hbnNpMTZtID0gd3JhcEFuc2kxNm0oKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpID0gd3JhcEFuc2kxNihBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7CiAgc3R5bGVzLmJnQ29sb3IuYW5zaTE2bSA9IHdyYXBBbnNpMTZtKEFOU0lfQkFDS0dST1VORF9PRkZTRVQpOwoKICAvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzCiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3R5bGVzLCB7CiAgICByZ2JUb0Fuc2kyNTY6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7CiAgICAgICAgLy8gV2UgdXNlIHRoZSBleHRlbmRlZCBncmV5c2NhbGUgcGFsZXR0ZSBoZXJlLCB3aXRoIHRoZSBleGNlcHRpb24gb2YKICAgICAgICAvLyBibGFjayBhbmQgd2hpdGUuIG5vcm1hbCBwYWxldHRlIG9ubHkgaGFzIDQgZ3JleXNjYWxlIHNoYWRlcy4KICAgICAgICBpZihyZWQgPT09IGdyZWVuICYmIGdyZWVuID09PSBibHVlKSB7CiAgICAgICAgICBpZihyZWQgPCA4KSB7CiAgICAgICAgICAgIHJldHVybiAxNjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZihyZWQgPiAyNDgpIHsKICAgICAgICAgICAgcmV0dXJuIDIzMTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjsKICAgICAgICB9CiAgICAgICAgY29uc3QgYyA9IFtyZWQsIGdyZWVuLCBibHVlXS5tYXAoYyA9PiAoYyAvIDI1NSkgKiA1KTsKICAgICAgICByZXR1cm4gMTYgKyAzNiAqIGNbMF0gKyA2ICogY1sxXSArIGNbMl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9SZ2I6IHsKICAgICAgdmFsdWU6IGhleCA9PiB7CiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXGRdezZ9fFthLWZcZF17M30pL2kuZXhlYyhoZXgudG9TdHJpbmcoMTYpKTsKICAgICAgICBpZighbWF0Y2hlcykgewogICAgICAgICAgcmV0dXJuIFswLCAwLCAwXTsKICAgICAgICB9CgogICAgICAgIGxldCB7IGNvbG9yU3RyaW5nIH0gPSBtYXRjaGVzLmdyb3VwczsKCiAgICAgICAgaWYoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nCiAgICAgICAgICAgIC5zcGxpdCgnJykKICAgICAgICAgICAgLm1hcChjaGFyYWN0ZXIgPT4gY2hhcmFjdGVyICsgY2hhcmFjdGVyKQogICAgICAgICAgICAuam9pbignJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBpbnRlZ2VyID0gTnVtYmVyLnBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7CgogICAgICAgIHJldHVybiBbKGludGVnZXIgPj4gMTYpICYgMHhmZiwgKGludGVnZXIgPj4gOCkgJiAweGZmLCBpbnRlZ2VyICYgMHhmZl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9BbnNpMjU2OiB7CiAgICAgIHZhbHVlOiBoZXggPT4gc3R5bGVzLnJnYlRvQW5zaTI1NiguLi5zdHlsZXMuaGV4VG9SZ2IoaGV4KSksCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgYW5zaTI1NlRvQW5zaTogewogICAgICB2YWx1ZTogY29kZSA9PiB7CiAgICAgICAgaWYoY29kZSA8IDgpIHsKICAgICAgICAgIHJldHVybiAzMCArIGNvZGU7CiAgICAgICAgfQoKICAgICAgICBpZihjb2RlIDwgMTYpIHsKICAgICAgICAgIHJldHVybiA5MCArIChjb2RlIC0gOCk7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVkOwogICAgICAgIGxldCBncmVlbjsKICAgICAgICBsZXQgYmx1ZTsKCiAgICAgICAgaWYoY29kZSA+PSAyMzIpIHsKICAgICAgICAgIHJlZCA9ICgoY29kZSAtIDIzMikgKiAxMCArIDgpIC8gMjU1OwogICAgICAgICAgZ3JlZW4gPSByZWQ7CiAgICAgICAgICBibHVlID0gcmVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb2RlIC09IDE2OwoKICAgICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGNvZGUgJSAzNjsKCiAgICAgICAgICByZWQgPSBNYXRoLmZsb29yKGNvZGUgLyAzNikgKiAwLjI7CiAgICAgICAgICBncmVlbiA9IE1hdGguZmxvb3IocmVtYWluZGVyIC8gNikgKiAwLjI7CiAgICAgICAgICBibHVlID0gKHJlbWFpbmRlciAlIDYpICogMC4yOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLm1heChyZWQsIGdyZWVuLCBibHVlKSAqIDI7CgogICAgICAgIGlmKHZhbHVlID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gMzA7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVzdWx0ID0gMzAgKyAoKE1hdGgucm91bmQoYmx1ZSkgPDwgMikgfCAoTWF0aC5yb3VuZChncmVlbikgPDwgMSkgfCBNYXRoLnJvdW5kKHJlZCkpOwoKICAgICAgICBpZih2YWx1ZSA9PT0gMikgewogICAgICAgICAgcmVzdWx0ICs9IDYwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICByZ2JUb0Fuc2k6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMucmdiVG9BbnNpMjU2KHJlZCwgZ3JlZW4sIGJsdWUpKSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICBoZXhUb0Fuc2k6IHsKICAgICAgdmFsdWU6IGhleCA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMuaGV4VG9BbnNpMjU2KGhleCkpLAogICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgfQogIH0pOwoKICByZXR1cm4gc3R5bGVzOwp9CgpleHBvcnQgZnVuY3Rpb24gcmFuZEludCguLi5hcmdzKSB7CiAgbGV0IHJhbmdlID0gYXJncy5zcGxpY2UoMCwgMik7CiAgbGV0IHJuZCA9IGFyZ3Muc2hpZnQoKTsKICBpZihyYW5nZS5sZW5ndGggPCAyKSByYW5nZS51bnNoaWZ0KDApOwogIHJldHVybiBNYXRoLnJvdW5kKG1pc2MucmFuZChyYW5nZVsxXSAtIHJhbmdlWzBdICsgMSkgKyByYW5nZVswXSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiB0b0JpZ0ludChhcmcpIHsKICBpZih0eXBlcy5pc0FycmF5QnVmZmVyKGFyZykpIHsKICAgIGNvbnN0IGJpdHMgPSBtaXNjLmJpdHMoYXJnKS5qb2luKCcnKTsKICAgIHJldHVybiBldmFsKGAwYiR7Yml0c31uYCk7CiAgfQogIHJldHVybiBCaWdJbnQoYXJnKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGxhenlQcm9wZXJ0eShvYmosIG5hbWUsIGdldHRlciwgb3B0cyA9IHt9KSB7CiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHsKICAgIGdldDogdHlwZXMuaXNBc3luY0Z1bmN0aW9uKGdldHRlcikKICAgICAgPyBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkoYXdhaXQgZ2V0dGVyLmNhbGwob2JqLCBuYW1lKSk7CiAgICAgICAgfQogICAgICA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXR0ZXIuY2FsbChvYmosIG5hbWUpOwogICAgICAgICAgaWYodHlwZXMuaXNQcm9taXNlKHZhbHVlKSkgewogICAgICAgICAgICB2YWx1ZS50aGVuKHYgPT4gewogICAgICAgICAgICAgIHJlcGxhY2VQcm9wZXJ0eSh2KTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgdXRpbC5sYXp5UHJvcGVydHkgcmVzb2x2ZWQgYCwgb2JqW25hbWVdKTsKICAgICAgICAgICAgICByZXR1cm4gdjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodmFsdWUpOwogICAgICAgIH0sCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAuLi5vcHRzCiAgfSk7CgogIGZ1bmN0aW9uIHJlcGxhY2VQcm9wZXJ0eSh2YWx1ZSkgewogICAgZGVsZXRlIG9ialtuYW1lXTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHsgdmFsdWUsIC4uLm9wdHMgfSk7CiAgICByZXR1cm4gdmFsdWU7CiAgfQp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykgewogIGxldCBzaG9ydCwgbG9uZzsKICBsZXQgcmVzdWx0ID0ge307CiAgbGV0IHBvc2l0aW9uYWwgPSAocmVzdWx0WydAJ10gPSBbXSk7CiAgaWYoIShvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpKSBvcHRpb25zID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucyk7CiAgY29uc3QgZmluZE9wdCA9IGFyZyA9PiBvcHRpb25zLmZpbmQoKFtvcHRuYW1lLCBvcHRpb25dKSA9PiAoQXJyYXkuaXNBcnJheShvcHRpb24pID8gb3B0aW9uLmluZGV4T2YoYXJnKSAhPSAtMSA6IGZhbHNlKSB8fCBhcmcgPT0gb3B0bmFtZSk7CiAgbGV0IFssIHBhcmFtc10gPSBvcHRpb25zLmZpbmQob3B0ID0+IG9wdFswXSA9PSAnQCcpIHx8IFtdOwogIGlmKHR5cGVvZiBwYXJhbXMgPT0gJ3N0cmluZycpIHBhcmFtcyA9IHBhcmFtcy5zcGxpdCgnLCcpOwogIGZvcihsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBhcmcgPSBhcmdzW2ldOwogICAgbGV0IG9wdDsKICAgIGlmKGFyZ1swXSA9PSAnLScpIHsKICAgICAgbGV0IG5hbWUsIHZhbHVlLCBzdGFydCwgZW5kOwogICAgICBpZihhcmdbMV0gPT0gJy0nKSBsb25nID0gdHJ1ZTsKICAgICAgZWxzZSBzaG9ydCA9IHRydWU7CiAgICAgIHN0YXJ0ID0gc2hvcnQgPyAxIDogMjsKICAgICAgaWYoc2hvcnQpIGVuZCA9IDI7CiAgICAgIGVsc2UgaWYoKGVuZCA9IGFyZy5pbmRleE9mKCc9JykpID09IC0xKSBlbmQgPSBhcmcubGVuZ3RoOwogICAgICBuYW1lID0gYXJnLnN1YnN0cmluZyhzdGFydCwgZW5kKTsKICAgICAgaWYoKG9wdCA9IGZpbmRPcHQobmFtZSkpKSB7CiAgICAgICAgY29uc3QgW2hhc19hcmcsIGhhbmRsZXJdID0gb3B0WzFdOwogICAgICAgIGlmKGhhc19hcmcpIHsKICAgICAgICAgIGlmKGFyZy5sZW5ndGggPiBlbmQpIHZhbHVlID0gYXJnLnN1YnN0cmluZyhlbmQgKyAoYXJnW2VuZF0gPT0gJz0nKSk7CiAgICAgICAgICBlbHNlIHZhbHVlID0gYXJnc1srK2ldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YWx1ZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICB2YWx1ZSA9IGhhbmRsZXIodmFsdWUsIHJlc3VsdFtvcHRbMF1dLCBvcHRpb25zLCByZXN1bHQpOwogICAgICAgIH0gY2F0Y2goZSkge30KICAgICAgICByZXN1bHRbb3B0WzBdXSA9IHZhbHVlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CiAgICBpZihwYXJhbXMubGVuZ3RoKSB7CiAgICAgIGNvbnN0IHBhcmFtID0gcGFyYW1zLnNoaWZ0KCk7CiAgICAgIGlmKChvcHQgPSBmaW5kT3B0KHBhcmFtKSkpIHsKICAgICAgICBjb25zdCBbLCBbLCBoYW5kbGVyXV0gPSBvcHQ7CiAgICAgICAgbGV0IHZhbHVlID0gYXJnOwogICAgICAgIGlmKHR5cGVvZiBoYW5kbGVyID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhbHVlID0gaGFuZGxlcih2YWx1ZSwgcmVzdWx0W29wdFswXV0sIG9wdGlvbnMsIHJlc3VsdCk7CiAgICAgICAgICB9IGNhdGNoKGUpIHt9CiAgICAgICAgfQogICAgICAgIGNvbnN0IG5hbWUgPSBvcHRbMF07CiAgICAgICAgcmVzdWx0W29wdFswXV0gPSB2YWx1ZTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgfQogICAgcmVzdWx0WydAJ10gPSBbLi4uKHJlc3VsdFsnQCddID8/IFtdKSwgYXJnXTsKICB9CiAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHRvVW5peFRpbWUoZGF0ZU9iaiwgdXRjID0gZmFsc2UpIHsKICBpZighKGRhdGVPYmogaW5zdGFuY2VvZiBEYXRlKSkgZGF0ZU9iaiA9IG5ldyBEYXRlKGRhdGVPYmopOwogIGxldCBlcG9jaCA9IE1hdGguZmxvb3IoZGF0ZU9iai5nZXRUaW1lKCkgLyAxMDAwKTsKICBpZih1dGMpIGVwb2NoICs9IGRhdGVPYmouZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwOwogIHJldHVybiBlcG9jaDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHVuaXhUaW1lKHV0YyA9IGZhbHNlKSB7CiAgcmV0dXJuIHRvVW5peFRpbWUobmV3IERhdGUoKSwgdXRjKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZyb21Vbml4VGltZShlcG9jaCwgdXRjID0gZmFsc2UpIHsKICBsZXQgdCA9IHBhcnNlSW50KGVwb2NoKTsKICBsZXQgZCA9IG5ldyBEYXRlKDApOwogIHV0YyA/IGQuc2V0VVRDU2Vjb25kcyh0KSA6IGQuc2V0U2Vjb25kcyh0KTsKICByZXR1cm4gZDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKC4uLmFyZ3MpIHsKICBsZXQgW3N0YXJ0LCBlbmQsIHN0ZXAgPSAxXSA9IGFyZ3M7CiAgbGV0IHJldDsKICBzdGFydCAvPSBzdGVwOwogIGVuZCAvPSBzdGVwOwogIGlmKHN0YXJ0ID4gZW5kKSB7CiAgICByZXQgPSBbXTsKICAgIHdoaWxlKHN0YXJ0ID49IGVuZCkgcmV0LnB1c2goc3RhcnQtLSk7CiAgfSBlbHNlIHsKICAgIHJldCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGVuZCAtIHN0YXJ0ICsgMSB9LCAodiwgaykgPT4gayArIHN0YXJ0KTsKICB9CiAgaWYoc3RlcCAhPSAxKSB7CiAgICByZXQgPSByZXQubWFwKG4gPT4gbiAqIHN0ZXApOwogIH0KICByZXR1cm4gcmV0Owp9CgpleHBvcnQgZnVuY3Rpb24gcmVwZWF0ZXIobiwgd2hhdCkgewogIGlmKHR5cGVvZiB3aGF0ID09ICdmdW5jdGlvbicpCiAgICByZXR1cm4gKGZ1bmN0aW9uKiAoKSB7CiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHlpZWxkIHdoYXQoKTsKICAgIH0pKCk7CiAgcmV0dXJuIChmdW5jdGlvbiogKCkgewogICAgZm9yKGxldCBpID0gMDsgaSA8IG47IGkrKykgeWllbGQgd2hhdDsKICB9KSgpOwp9OwoKZXhwb3J0IGZ1bmN0aW9uIHJlcGVhdChuLCB3aGF0KSB7CiAgcmV0dXJuIFsuLi5yZXBlYXRlcihuLCB3aGF0KV07Cn07CmV4cG9ydCBjb25zdCBhbnNpU3R5bGVzID0gZ2V0QW5zaVN0eWxlcygpOwoKY29uc3QgaW5zcGVjdE1ldGhvZCA9IFN5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyk7Ci8qCk9iamVjdC5hc3NpZ24odXRpbCwgbWlzYyk7Cgp1dGlsLmluc3BlY3QgPSBpbnNwZWN0Owp1dGlsLmZvcm1hdCA9IGZvcm1hdDsKdXRpbC5mb3JtYXRXaXRoT3B0aW9ucyA9IGZvcm1hdFdpdGhPcHRpb25zOwp1dGlsLnR5cGVzID0gdHlwZXM7CnV0aWwuYXNzZXJ0ID0gYXNzZXJ0Owp1dGlsLmhhc0J1aWx0SW4gPSBoYXNCdWlsdEluOwp1dGlsLnRvU3RyaW5nID0gdG9TdHJpbmc7CnV0aWwudG9BcnJheUJ1ZmZlciA9IHRvQXJyYXlCdWZmZXI7CnV0aWwuc2V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbDsKdXRpbC5jbGVhckludGVydmFsID0gY2xlYXJJbnRlcnZhbDsKdXRpbC5tZW1vaXplID0gbWVtb2l6ZTsKdXRpbC5vbmNlID0gb25jZTsKdXRpbC5kZWZpbmUgPSBkZWZpbmU7CnV0aWwud2Vha0Fzc2lnbiA9IHdlYWtBc3NpZ247CnV0aWwuQXJyYXlFeHRlbnNpb25zID0gQXJyYXlFeHRlbnNpb25zOwp1dGlsLmV4dGVuZEFycmF5ID0gKHByb3RvID0gQXJyYXkucHJvdG90eXBlLCBkZWYgPSB1dGlsLmRlZmluZSkgPT4gZGVmKHByb3RvLCBBcnJheUV4dGVuc2lvbnMpOwp1dGlsLmV4dGVuZEdlbmVyYXRvciA9IChwcm90byA9IEdlbmVyYXRvclByb3RvdHlwZSwgZGVmID0gdXRpbC5kZWZpbmUpID0+IGRlZihwcm90bywgR2VuZXJhdG9yRXh0ZW5zaW9ucyk7CnV0aWwuZXJyb3JzID0gZXJyb3JzOwp1dGlsLmdldFByb3RvdHlwZUNoYWluID0gZ2V0UHJvdG90eXBlQ2hhaW47CnV0aWwuZ2V0Q29uc3RydWN0b3JDaGFpbiA9IGdldENvbnN0cnVjdG9yQ2hhaW47CnV0aWwuaGFzUHJvdG90eXBlID0gaGFzUHJvdG90eXBlOwp1dGlsLmFuc2lTdHlsZXMgPSBhbnNpU3R5bGVzOwp1dGlsLnJhbmRJbnQgPSByYW5kSW50Owp1dGlsLmN1cnJ5ID0gY3Vycnk7CnV0aWwuZmlsdGVyID0gZmlsdGVyOwp1dGlsLnNwbGl0ID0gc3BsaXQ7CnV0aWwudW5pcXVlID0gdW5pcXVlOwp1dGlsLmVzY2FwZSA9IGVzY2FwZTsKCk9iamVjdC5hc3NpZ24odXRpbCwgewogIFtpbnNwZWN0TWV0aG9kXSgpIHsKICAgIGxldCBvYmogPSB7IC4uLnV0aWwgfTsKICAgIGRlbGV0ZSBvYmpbaW5zcGVjdE1ldGhvZF07CiAgICByZXR1cm4gaW5zcGVjdChvYmosIHsgY3VzdG9tSW5zcGVjdDogZmFsc2UgfSk7CiAgfQp9KTsqLwoKZXhwb3J0IHsgZXh0ZW5kQXJyYXksIEFycmF5RXh0ZW5zaW9ucyB9IGZyb20gJy4vZXh0ZW5kQXJyYXkuanMnOwpleHBvcnQgeyBTeXNjYWxsRXJyb3IgfSBmcm9tICdzeXNjYWxsZXJyb3InOwpleHBvcnQgKiBmcm9tICdtaXNjJzsKZXhwb3J0IHsgaW5zcGVjdCB9IGZyb20gJ2luc3BlY3QnOwpleHBvcnQgZGVmYXVsdCB1dGlsOwpleHBvcnQgeyBKU19FVkFMX0ZMQUdfQkFDS1RSQUNFX0JBUlJJRVIsIExvY2F0aW9uLCBkdXBBcnJheUJ1ZmZlciwgZXNjYXBlLCBnZXRQcm90b3R5cGVDaGFpbiwgaXNBcnJheSwgaXNCaWdEZWNpbWFsLCBpc0JpZ0Zsb2F0LCBpc0JpZ0ludCwgaXNCb29sLCBpc0NGdW5jdGlvbiwgaXNDb25zdHJ1Y3RvciwgaXNFbXB0eVN0cmluZywgaXNFcnJvciwgaXNFeGNlcHRpb24sIGlzRXh0ZW5zaWJsZSwgaXNGdW5jdGlvbiwgaXNIVE1MRERBLCBpc0luc3RhbmNlT2YsIGlzSW50ZWdlciwgaXNKb2JQZW5kaW5nLCBpc0xpdmVPYmplY3QsIGlzTnVsbCwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc1JlZ2lzdGVyZWRDbGFzcywgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1VuY2F0Y2hhYmxlRXJyb3IsIGlzVW5kZWZpbmVkLCBpc1VuaW5pdGlhbGl6ZWQsIGlzQXJyYXlCdWZmZXIsIHJhbmQsIHRvQXJyYXlCdWZmZXIsIHRvU3RyaW5nLCB3YXRjaCB9IGZyb20gJ21pc2MnOwoAAAAAAAAAAGRiAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKNaAAAAAAAAo1oAAAAAAAAAAAAAAADwvw"
				],
				[
					587,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAOhaAAAAAAAA6VoAAAAAAAAAAAAA6VoAAAAAAADqWgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOhaAAAAAAAA6FoAAAAAAAD////////vfw"
				],
				[
					588,
					1,
					"paste",
					null,
					"AQAAAOpaAAAAAAAAoFsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOpaAAAAAAAA6loAAAAAAAAAAAAAAADwvw"
				],
				[
					602,
					1,
					"paste",
					null,
					"AgAAAOpaAAAAAAAA+loAAAAAAAAAAAAA+loAAAAAAAD6WgAAAAAAAAMAAABVdGk",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAO1aAAAAAAAA6loAAAAAAAAAAAAAAADwvw"
				],
				[
					603,
					2,
					"right_delete",
					null,
					"AgAAAPpaAAAAAAAA+loAAAAAAAABAAAAbPpaAAAAAAAA+loAAAAAAAABAAAALg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPpaAAAAAAAA+loAAAAAAAAAAAAAAADwvw"
				],
				[
					605,
					2,
					"right_delete",
					null,
					"AgAAAARbAAAAAAAABFsAAAAAAAABAAAAIARbAAAAAAAABFsAAAAAAAABAAAAPQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAARbAAAAAAAABFsAAAAAAAAAAAAAAADwvw"
				],
				[
					607,
					2,
					"left_delete",
					null,
					"AgAAABBbAAAAAAAAEFsAAAAAAAABAAAAPg9bAAAAAAAAD1sAAAAAAAABAAAAPQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABFbAAAAAAAAEVsAAAAAAAD////////vfw"
				],
				[
					608,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAA9bAAAAAAAAEVsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAA9bAAAAAAAAD1sAAAAAAAAAAAAAAADwvw"
				],
				[
					609,
					1,
					"insert",
					{
						"characters": " return"
					},
					"BwAAABBbAAAAAAAAEVsAAAAAAAAAAAAAEVsAAAAAAAASWwAAAAAAAAAAAAASWwAAAAAAABNbAAAAAAAAAAAAABNbAAAAAAAAFFsAAAAAAAAAAAAAFFsAAAAAAAAVWwAAAAAAAAAAAAAVWwAAAAAAABZbAAAAAAAAAAAAABZbAAAAAAAAF1sAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABBbAAAAAAAAEFsAAAAAAAAAAAAAAADwvw"
				],
				[
					610,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABdbAAAAAAAAGFsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABdbAAAAAAAAF1sAAAAAAAAAAAAAAADwvw"
				],
				[
					611,
					3,
					"right_delete",
					null,
					"AwAAABhbAAAAAAAAGFsAAAAAAAABAAAAfRhbAAAAAAAAGFsAAAAAAAABAAAAChhbAAAAAAAAGFsAAAAAAAABAAAAIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABhbAAAAAAAAGFsAAAAAAAAAAAAAAADwvw"
				],
				[
					613,
					1,
					"insert",
					{
						"characters": "\n}"
					},
					"BQAAAK1bAAAAAAAArlsAAAAAAAAAAAAArlsAAAAAAACwWwAAAAAAAAAAAACuWwAAAAAAAK5bAAAAAAAAAgAAACAgrlsAAAAAAACuWwAAAAAAAAAAAACuWwAAAAAAAK9bAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK1bAAAAAAAArVsAAAAAAAAAAAAAAMB8QA"
				],
				[
					618,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAsYwAALy9pbXBvcnQgaW5zcGVjdCBmcm9tICdpbnNwZWN0JzsKaW1wb3J0IHsgU3lzY2FsbEVycm9yIH0gZnJvbSAnc3lzY2FsbGVycm9yJzsKLy9leHBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJ2xvY2F0aW9uJzsKaW1wb3J0IHsgSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSLCBMb2NhdGlvbiwgZHVwQXJyYXlCdWZmZXIsIGVzY2FwZSwgZ2V0UHJvdG90eXBlQ2hhaW4sIGlzQXJyYXksIGlzQmlnRGVjaW1hbCwgaXNCaWdGbG9hdCwgaXNCaWdJbnQsIGlzQm9vbCwgaXNDRnVuY3Rpb24sIGlzQ29uc3RydWN0b3IsIGlzRW1wdHlTdHJpbmcsIGlzRXJyb3IsIGlzRXhjZXB0aW9uLCBpc0V4dGVuc2libGUsIGlzRnVuY3Rpb24sIGlzSFRNTEREQSwgaXNJbnN0YW5jZU9mLCBpc0ludGVnZXIsIGlzSm9iUGVuZGluZywgaXNMaXZlT2JqZWN0LCBpc051bGwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNSZWdpc3RlcmVkQ2xhc3MsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNVbmNhdGNoYWJsZUVycm9yLCBpc1VuZGVmaW5lZCwgaXNVbmluaXRpYWxpemVkLCBpc0FycmF5QnVmZmVyLCByYW5kLCB0b0FycmF5QnVmZmVyLCB0b1N0cmluZywgd2F0Y2ggfSBmcm9tICdtaXNjJzsKaW1wb3J0ICogYXMgbWlzYyBmcm9tICdtaXNjJzsKaW1wb3J0IHsgZXh0ZW5kQXJyYXksIEFycmF5RXh0ZW5zaW9ucyB9IGZyb20gJy4vZXh0ZW5kQXJyYXkuanMnOwppbXBvcnQgeyBleHRlbmRHZW5lcmF0b3IsIEdlbmVyYXRvckV4dGVuc2lvbnMsIEdlbmVyYXRvclByb3RvdHlwZSB9IGZyb20gJy4vZXh0ZW5kR2VuZXJhdG9yLmpzJzsKaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnOwoKY29uc3Qgc2xpY2UgPSAoeCwgcywgZSkgPT4gKHR5cGVvZiB4ID09ICdvYmplY3QnID8gKGlzQXJyYXlCdWZmZXIoeCkgPyBkdXBBcnJheUJ1ZmZlcih4LCBzLCBlKSA6IEFycmF5LmlzQXJyYXkoeCkgPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh4LCBzLCBlKSA6IHguc2xpY2UocywgZSkpIDogU3RyaW5nLnByb3RvdHlwZS5zbGljZS5jYWxsKHgsIHMsIGUpKTsKY29uc3Qgc3RyaW5naWZ5ID0gdiA9PiBgJHt2fWA7CmNvbnN0IHByb3RvT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7CmNvbnN0IGZvcm1hdE51bWJlciA9IG4gPT4gKG4gPT09IC0wID8gJy0wJyA6IGAke259YCk7CmNvbnN0IGlzTmF0aXZlID0gZm4gPT4gL1xbbmF0aXZlXHNjb2RlXF0vLnRlc3Qoc3RyaW5naWZ5KGZuKSk7CgovKmV4cG9ydCBkZWZhdWx0Ki8gZnVuY3Rpb24gdXRpbCgpIHsKICByZXR1cm4gdXRpbDsKfQoKdXRpbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB1dGlsOwoKY29uc3QgQXN5bmNGdW5jdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIHgoKSB7fS5jb25zdHJ1Y3RvcjsKY29uc3QgR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb24gPSBhc3luYyBmdW5jdGlvbiogKCkge30uY29uc3RydWN0b3I7CmNvbnN0IFR5cGVkQXJyYXkgPSBwcm90b09mKHByb3RvT2YobmV3IFVpbnQxNkFycmF5KDEwKSkpLmNvbnN0cnVjdG9yOwoKY29uc3QgU2V0SXRlcmF0b3JQcm90b3R5cGUgPSBwcm90b09mKG5ldyBTZXQoKS52YWx1ZXMoKSk7CmNvbnN0IE1hcEl0ZXJhdG9yUHJvdG90eXBlID0gcHJvdG9PZihuZXcgTWFwKCkuZW50cmllcygpKTsKLy9jb25zdCBHZW5lcmF0b3JQcm90b3R5cGUgPSBwcm90b09mKChmdW5jdGlvbiogKCkge30pKCkpOwoKLy8gcHJldHRpZXItaWdub3JlCmV4cG9ydCBjb25zdCBlcnJvcnMgPSBbbnVsbCwgJ0VQRVJNJywgJ0VOT0VOVCcsICdFU1JDSCcsICdFSU5UUicsICdFSU8nLCAnRU5YSU8nLCAnRTJCSUcnLCAnRU5PRVhFQycsICdFQkFERicsICdFQ0hJTEQnLCAnRUFHQUlOJywgJ0VOT01FTScsICdFQUNDRVMnLCAnRUZBVUxUJywgJ0VOT1RCTEsnLCAnRUJVU1knLCAnRUVYSVNUJywgJ0VYREVWJywgJ0VOT0RFVicsICdFTk9URElSJywgJ0VJU0RJUicsICdFSU5WQUwnLCAnRU5GSUxFJywgJ0VNRklMRScsICdFTk9UVFknLCAnRVRYVEJTWScsICdFRkJJRycsICdFTk9TUEMnLCAnRVNQSVBFJywgJ0VST0ZTJywgJ0VNTElOSycsICdFUElQRScsICdFRE9NJywgJ0VSQU5HRScsICdFREVBRExLJywgJ0VOQU1FVE9PTE9ORycsICdFTk9MQ0snLCAnRU5PU1lTJywgJ0VOT1RFTVBUWScsIG51bGwsIG51bGwsICdFTk9NU0cnLCAnRUlEUk0nLCAnRUNIUk5HJywgJ0VMMk5TWU5DJywgJ0VMM0hMVCcsICdFTDNSU1QnLCAnRUxOUk5HJywgJ0VVTkFUQ0gnLCAnRU5PQ1NJJywgJ0VMMkhMVCcsICdFQkFERScsICdFQkFEUicsICdFWEZVTEwnLCAnRU5PQU5PJywgJ0VCQURSUUMnLCBudWxsLCAnJywgJ0VCRk9OVCcsICdFTk9TVFInLCAnRU5PREFUQScsICdFVElNRScsICdFTk9TUicsICdFTk9ORVQnLCAnRU5PUEtHJywgJ0VSRU1PVEUnLCAnRU5PTElOSycsICdFQURWJywgJ0VTUk1OVCcsICdFQ09NTScsICdFUFJPVE8nLCAnRU1VTFRJSE9QJywgJ0VET1RET1QnLCAnRUJBRE1TRycsICdFT1ZFUkZMT1cnLCAnRU5PVFVOSVEnLCAnRUJBREZEJywgJ0VSRU1DSEcnLCAnRUxJQkFDQycsICdFTElCQkFEJywgJ0VMSUJTQ04nLCAnRUxJQk1BWCcsICdFTElCRVhFQycsICdFSUxTRVEnLCAnRVJFU1RBUlQnLCAnRVNUUlBJUEUnLCAnRVVTRVJTJywgJ0VOT1RTT0NLJywgJ0VERVNUQUREUlJFUScsICdFTVNHU0laRScsICdFUFJPVE9UWVBFJywgJ0VOT1BST1RPT1BUJywgJ0VQUk9UT05PU1VQUE9SVCcsICdFU09DS1ROT1NVUFBPUlQnLCAnRU9QTk9UU1VQUCcsICdFUEZOT1NVUFBPUlQnLCAnRUFGTk9TVVBQT1JUJywgJ0VBRERSSU5VU0UnLCAnRUFERFJOT1RBVkFJTCcsICdFTkVURE9XTicsICdFTkVUVU5SRUFDSCcsICdFTkVUUkVTRVQnLCAnRUNPTk5BQk9SVEVEJywgJ0VDT05OUkVTRVQnLCAnRU5PQlVGUycsICdFSVNDT05OJywgJ0VOT1RDT05OJywgJ0VTSFVURE9XTicsICdFVE9PTUFOWVJFRlMnLCAnRVRJTUVET1VUJywgJ0VDT05OUkVGVVNFRCcsICdFSE9TVERPV04nLCAnRUhPU1RVTlJFQUNIJywgJ0VBTFJFQURZJywgJ0VJTlBST0dSRVNTJywgJ0VTVEFMRScsICdFVUNMRUFOJywgJ0VOT1ROQU0nLCAnRU5BVkFJTCcsICdFSVNOQU0nLCAnRVJFTU9URUlPJywgJ0VEUVVPVCcsICdFTk9NRURJVU0nLCAnRU1FRElVTVRZUEUnLCAnRUNBTkNFTEVEJywgJ0VOT0tFWScsICdFS0VZRVhQSVJFRCcsICdFS0VZUkVWT0tFRCcsICdFS0VZUkVKRUNURUQnLCAnRU9XTkVSREVBRCcsICdFTk9UUkVDT1ZFUkFCTEUnLCAnRVJGS0lMTCddOwoKZXhwb3J0IGNvbnN0IHR5cGVzID0gewogIGlzQW55QXJyYXlCdWZmZXIodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmICh2IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgdiBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKTsKICB9LAogIGlzQXJyYXlCdWZmZXIodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjsKICB9LAogIGlzQmlnSW50NjRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJpZ0ludDY0QXJyYXk7CiAgfSwKICBpc0JpZ1VpbnQ2NEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQmlnVWludDY0QXJyYXk7CiAgfSwKICBpc0RhdGUodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBEYXRlOwogIH0sCiAgaXNGbG9hdDMyQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk7CiAgfSwKICBpc0Zsb2F0NjRBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheTsKICB9LAogIGlzSW50OEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgSW50OEFycmF5OwogIH0sCiAgaXNJbnQxNkFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgSW50MTZBcnJheTsKICB9LAogIGlzSW50MzJBcnJheSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEludDMyQXJyYXk7CiAgfSwKICBpc01hcCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIE1hcDsKICB9LAogIGlzUHJvbWlzZSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFByb21pc2U7CiAgfSwKICBpc1Byb3h5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgUHJveHk7CiAgfSwKICBpc1JlZ0V4cCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFJlZ0V4cDsKICB9LAogIGlzU2V0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgU2V0OwogIH0sCiAgaXNTaGFyZWRBcnJheUJ1ZmZlcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyOwogIH0sCiAgaXNVaW50OEFycmF5KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgVWludDhBcnJheTsKICB9LAogIGlzVWludDhDbGFtcGVkQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheTsKICB9LAogIGlzVWludDE2QXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50MTZBcnJheTsKICB9LAogIGlzVWludDMyQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBVaW50MzJBcnJheTsKICB9LAogIGlzV2Vha01hcCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIFdlYWtNYXA7CiAgfSwKICBpc1dlYWtTZXQodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBXZWFrU2V0OwogIH0sCiAgaXNEYXRhVmlldyh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIERhdGFWaWV3OwogIH0sCiAgaXNCb29sZWFuT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgQm9vbGVhbjsKICB9LAogIGlzQXN5bmNGdW5jdGlvbih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEFzeW5jRnVuY3Rpb247CiAgfSwKICBpc0dlbmVyYXRvckZ1bmN0aW9uKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgR2VuZXJhdG9yRnVuY3Rpb247CiAgfSwKICBpc0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24odikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBBc3luY0dlbmVyYXRvckZ1bmN0aW9uOwogIH0sCiAgaXNOdW1iZXJPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBOdW1iZXI7CiAgfSwKICBpc0JpZ0ludE9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEJpZ0ludDsKICB9LAogIGlzU3ltYm9sT2JqZWN0KHYpIHsKICAgIHJldHVybiB2ICYmIHYgaW5zdGFuY2VvZiBTeW1ib2w7CiAgfSwKICBpc05hdGl2ZUVycm9yKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgRXJyb3IgJiYgaXNOYXRpdmUodi5jb25zdHJ1Y3Rvcik7CiAgfSwKICBpc01hcEl0ZXJhdG9yKHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiBwcm90b09mKHYpID09IE1hcEl0ZXJhdG9yUHJvdG90eXBlOwogIH0sCiAgaXNTZXRJdGVyYXRvcih2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgcHJvdG9PZih2KSA9PSBTZXRJdGVyYXRvclByb3RvdHlwZTsKICB9LAogIGlzU3RyaW5nT2JqZWN0KHYpIHsKICAgIHJldHVybiBpc09iamVjdCh2KSAmJiB2IGluc3RhbmNlb2YgU3RyaW5nOwogIH0sCiAgaXNBcnJheUJ1ZmZlclZpZXcodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIEFycmF5QnVmZmVyLmlzVmlldyh2KTsKICB9LAogIGlzQXJndW1lbnRzT2JqZWN0KHYpIHsKICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7CiAgfSwKCiAgLyogaXNFeHRlcm5hbCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgdiBpbnN0YW5jZW9mIEV4dGVybmFsOwogIH0sKi8KCiAgaXNCb3hlZFByaW1pdGl2ZSh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgW051bWJlciwgU3RyaW5nLCBCb29sZWFuLCBCaWdJbnQsIFN5bWJvbF0uc29tZShjdG9yID0+IHYgaW5zdGFuY2VvZiBjdG9yKTsKICB9LAoKICBpc0dlbmVyYXRvck9iamVjdCh2KSB7CiAgICByZXR1cm4gaXNPYmplY3QodikgJiYgcHJvdG9PZih2KSA9PSBHZW5lcmF0b3JQcm90b3R5cGU7CiAgfSwKICBpc1R5cGVkQXJyYXkodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHYgaW5zdGFuY2VvZiBUeXBlZEFycmF5OwogIH0sCiAgaXNNb2R1bGVOYW1lc3BhY2VPYmplY3QodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHZbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PSAnTW9kdWxlJzsKICB9LAogIGlzQ29uc3RydWN0b3IodikgewogICAgcmV0dXJuIGlzRnVuY3Rpb24odikgJiYgJ3Byb3RvdHlwZScgaW4gdjsKICB9LAogIGlzSXRlcmF0b3IodikgewogICAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHR5cGVvZiB2Lm5leHQgPT0gJ2Z1bmN0aW9uJzsKICB9Cn07CgpleHBvcnQgZnVuY3Rpb24gaGFzQnVpbHRJbihvLCBtKSB7CiAgcmV0dXJuIGlzTmF0aXZlKHByb3RvT2YobylbbV0pOwp9CgpleHBvcnQgZnVuY3Rpb24gZm9ybWF0KC4uLmFyZ3MpIHsKICByZXR1cm4gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbCh7IGhpZGVLZXlzOiBbJ2NvbnN0cnVjdG9yJ10gfSwgYXJncyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRXaXRoT3B0aW9ucyhvcHRzLCAuLi5hcmdzKSB7CiAgaWYoIWlzT2JqZWN0KG9wdHMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb25zIGFyZ3VtZW50IGlzIG5vdCBhbiBvYmplY3RgKTsKICByZXR1cm4gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbChvcHRzLCBhcmdzKTsKfQoKZnVuY3Rpb24gZm9ybWF0V2l0aE9wdGlvbnNJbnRlcm5hbChvLCB2KSB7CiAgY29uc3QgeCA9IHZbMF07CiAgbGV0IGEgPSAwOwogIGxldCBzID0gJyc7CiAgbGV0IGogPSAnJzsKICBpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHsKICAgIGlmKHYubGVuZ3RoID09PSAxKSByZXR1cm4geDsKICAgIGxldCB0OwogICAgbGV0IHAgPSAwOwogICAgZm9yKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgIGlmKHhbaV0gPT0gJyUnKSB7CiAgICAgICAgbGV0IGYgPSAnJzsKICAgICAgICB3aGlsZSgnc2p4ZE9vaWZjJScuaW5kZXhPZih4W2kgKyAxXSkgPT0gLTEpIHsKICAgICAgICAgIGYgKz0geFtpICsgMV07CiAgICAgICAgICArK2k7CiAgICAgICAgfQogICAgICAgIGlmKHAgPCBpKSBzICs9IHNsaWNlKHgsIHAsIGkpOwogICAgICAgIHAgPSBpICsgMTsKCiAgICAgICAgY29uc3QgYyA9IFN0cmluZy5wcm90b3R5cGUuY2hhckNvZGVBdC5jYWxsKHgsICsraSk7CiAgICAgICAgaWYoYSArIDEgIT09IHYubGVuZ3RoKSB7CiAgICAgICAgICBzd2l0Y2ggKGMpIHsKICAgICAgICAgICAgY2FzZSAxMTU6IC8vICVzCiAgICAgICAgICAgICAgY29uc3QgeSA9IHZbKythXTsKICAgICAgICAgICAgICBpZih0eXBlb2YgeSA9PT0gJ251bWJlcicpIHQgPSBmb3JtYXROdW1iZXIoeSk7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgeSA9PT0gJ2JpZ2ludCcpIHQgPSBgJHt5fW5gOwogICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIHkgIT09ICdvYmplY3QnIHx8IHkgPT09IG51bGwgfHwgIWhhc0J1aWx0SW4oeSwgJ3RvU3RyaW5nJykpIHQgPSBTdHJpbmcoeSk7CiAgICAgICAgICAgICAgZWxzZSB0ID0gaW5zcGVjdCh5LCB7IC4uLm8sIGNvbXBhY3Q6IDMsIGNvbG9yczogZmFsc2UsIGRlcHRoOiAwIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwNjogLy8gJWoKICAgICAgICAgICAgICB0ID0gc3RyaW5naWZ5KHZbKythXSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTIwOiAvLyAleAogICAgICAgICAgICBjYXNlIDEwMDogLy8gJWQKICAgICAgICAgICAgICBjb25zdCBuID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiBuID09PSAnYmlnaW50JykgdCA9IGAke259bmA7CiAgICAgICAgICAgICAgZWxzZSBpZih0eXBlb2YgbiA9PT0gJ3N5bWJvbCcpIHQgPSAnTmFOJzsKICAgICAgICAgICAgICBlbHNlIHQgPSBmb3JtYXROdW1iZXIoYyA9PSAxMjAgPyBOdW1iZXIobikudG9TdHJpbmcoMTYpIDogTnVtYmVyKG4pKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA3OTogLy8gJU8KICAgICAgICAgICAgICB0ID0gaW5zcGVjdCh2WysrYV0sIG8pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDExMTogLy8gJW8KICAgICAgICAgICAgICB0ID0gLyp2WysrYV0rJycgPz8gKi8gaW5zcGVjdCh2WysrYV0sIHsKICAgICAgICAgICAgICAgIC4uLm8sCiAgICAgICAgICAgICAgICBzaG93SGlkZGVuOiB0cnVlLAogICAgICAgICAgICAgICAgc2hvd1Byb3h5OiB0cnVlLAogICAgICAgICAgICAgICAgZGVwdGg6IDEsCiAgICAgICAgICAgICAgICBwcm90b0NoYWluOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEwNTogLy8gJWkKICAgICAgICAgICAgICBjb25zdCBrID0gdlsrK2FdOwogICAgICAgICAgICAgIGlmKHR5cGVvZiBrID09PSAnYmlnaW50JykgdCA9IGAke2t9YDsKICAgICAgICAgICAgICBlbHNlIGlmKHR5cGVvZiBrID09PSAnc3ltYm9sJykgdCA9ICdOYU4nOwogICAgICAgICAgICAgIGVsc2UgdCA9IGZvcm1hdE51bWJlcihwYXJzZUludChrKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTAyOiAvLyAlZgogICAgICAgICAgICAgIGNvbnN0IGQgPSB2WysrYV07CiAgICAgICAgICAgICAgaWYodHlwZW9mIGQgPT09ICdzeW1ib2wnKSB0ID0gJ05hTic7CiAgICAgICAgICAgICAgZWxzZSB0ID0gZm9ybWF0TnVtYmVyKHBhcnNlRmxvYXQoZCkpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDk5OiAvLyAlYwogICAgICAgICAgICAgIGEgKz0gMTsKICAgICAgICAgICAgICB0ID0gJyc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMzc6IC8vICUlCiAgICAgICAgICAgICAgcyArPSBzbGljZSh4LCBwLCBpKTsKICAgICAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZihwICE9PSBpIC0gMSkgcyArPSBzbGljZSh4LCBwLCBpIC0gMSk7CiAgICAgICAgICBsZXQgcGFkID0gcGFyc2VJbnQoZik7CiAgICAgICAgICBpZihNYXRoLmFicyhwYWQpID4gMCkgdCA9IHRbJ3BhZCcgKyAocGFkIDwgMCA/ICdFbmQnIDogJ1N0YXJ0JyldKE1hdGguYWJzKHBhZCksIC9eLT8wLy50ZXN0KGYpID8gJzAnIDogJyAnKTsKICAgICAgICAgIHMgKz0gdDsKICAgICAgICAgIHAgPSBpICsgMTsKICAgICAgICB9IGVsc2UgaWYoYyA9PT0gMzcpIHsKICAgICAgICAgIHMgKz0gc2xpY2UoeCwgcCwgaSk7CiAgICAgICAgICBwID0gaSArIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZihwICE9PSAwKSB7CiAgICAgIGErKzsKICAgICAgaiA9ICcgJzsKICAgICAgaWYocCA8IHgubGVuZ3RoKSBzICs9IHNsaWNlKHgsIHApOwogICAgfQogIH0KICB3aGlsZShhIDwgdi5sZW5ndGgpIHsKICAgIGNvbnN0IHkgPSB2W2FdOwogICAgcyArPSBqOwogICAgcyArPSB0eXBlb2YgeSAhPT0gJ3N0cmluZycgPyBpbnNwZWN0KHksIG8pIDogeTsKICAgIGogPSAnICc7CiAgICBhKys7CiAgfQogIHJldHVybiBzOwp9CgpleHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIGV4cGVjdGVkID0gdHJ1ZTsKCiAgaWYoYWN0dWFsID09PSBleHBlY3RlZCkgcmV0dXJuOwoKICBpZihhY3R1YWwgIT09IG51bGwgJiYgZXhwZWN0ZWQgIT09IG51bGwgJiYgdHlwZW9mIGFjdHVhbCA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgZXhwZWN0ZWQgPT0gJ29iamVjdCcgJiYgYWN0dWFsLnRvU3RyaW5nKCkgPT09IGV4cGVjdGVkLnRvU3RyaW5nKCkpIHJldHVybjsKCiAgdGhyb3cgRXJyb3IoJ2Fzc2VydGlvbiBmYWlsZWQ6IGdvdCB8JyArIGFjdHVhbCArICd8JyArICcsIGV4cGVjdGVkIHwnICsgZXhwZWN0ZWQgKyAnfCcgKyAobWVzc2FnZSA/ICcgKCcgKyBtZXNzYWdlICsgJyknIDogJycpKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHNldEludGVydmFsKGNhbGxiYWNrLCBtcykgewogIGxldCBtYXAgPSAoc2V0SW50ZXJ2YWwubWFwID8/PSBuZXcgTWFwKCkpOwogIGxldCBpZCA9IChzZXRJbnRlcnZhbC5pZCA9IChzZXRJbnRlcnZhbC5pZCA/PyAwKSArIDEpOwogIGxldCBvYmogPSB7IGNhbGxiYWNrLCBtcyB9OwogIG1hcC5zZXQoaWQsIG9iaik7CgogIGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgb2JqLmlkID0gb3Muc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHN0YXJ0KCk7CiAgICAgIGNhbGxiYWNrKCk7CiAgICB9LCBvYmoubXMpOwogIH0KCiAgc3RhcnQoKTsKICByZXR1cm4gaWQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjbGVhckludGVydmFsKGlkKSB7CiAgbGV0IG1hcCA9IChzZXRJbnRlcnZhbC5tYXAgPz89IG5ldyBNYXAoKSk7CgogIGxldCBvYmogPSBtYXAuZ2V0KGlkKTsKCiAgaWYob2JqKSBvcy5jbGVhclRpbWVvdXQob2JqLmlkKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemUoZm4pIHsKICBsZXQgY2FjaGUgPSB7fTsKICByZXR1cm4gKG4sIC4uLnJlc3QpID0+IHsKICAgIGlmKG4gaW4gY2FjaGUpIHJldHVybiBjYWNoZVtuXTsKICAgIHJldHVybiAoY2FjaGVbbl0gPSBmbihuLCAuLi5yZXN0KSk7CiAgfTsKfQoKZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4sIHRoaXNBcmcsIG1lbW9GbikgewogIGxldCByZXQsCiAgICByYW4gPSBmYWxzZTsKCiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgIGlmKCFyYW4pIHsKICAgICAgcmFuID0gdHJ1ZTsKICAgICAgcmV0ID0gZm4uYXBwbHkodGhpc0FyZyB8fCB0aGlzLCBhcmdzKTsKICAgIH0gZWxzZSBpZih0eXBlb2YgbWVtb0ZuID09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0ID0gbWVtb0ZuKHJldCk7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH07Cn0KCmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yKG1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gb3Muc2V0VGltZW91dChyZXNvbHZlLCBtcykpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGVmaW5lKG9iaiwgLi4uYXJncykgewogIGZvcihsZXQgcHJvcHMgb2YgYXJncykgewogICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhwcm9wcyk7CiAgICBmb3IobGV0IHByb3AgaW4gZGVzYykgewogICAgICBjb25zdCB7IHZhbHVlIH0gPSBkZXNjW3Byb3BdOwogICAgICBkZXNjW3Byb3BdLmVudW1lcmFibGUgPSBmYWxzZTsKICAgICAgaWYodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIGRlc2NbcHJvcF0ud3JpdGFibGUgPSBmYWxzZTsKICAgIH0KICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgZGVzYyk7CiAgfQogIHJldHVybiBvYmo7Cn0KCmV4cG9ydCBmdW5jdGlvbiB3ZWFrQXNzaWduKG9iaiwgLi4uYXJncykgewogIGxldCBkZXNjID0ge307CiAgZm9yKGxldCBvdGhlciBvZiBhcmdzKSB7CiAgICBsZXQgb3RoZXJEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3RoZXIpOwogICAgZm9yKGxldCBrZXkgaW4gb3RoZXJEZXNjKSBpZighKGtleSBpbiBvYmopICYmIGRlc2Nba2V5XSA9PT0gdW5kZWZpbmVkICYmIG90aGVyRGVzY1trZXldICE9PSB1bmRlZmluZWQpIGRlc2Nba2V5XSA9IG90aGVyRGVzY1trZXldOwogIH0KICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCBkZXNjKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldENvbnN0cnVjdG9yQ2hhaW4ob2JqKSB7CiAgbGV0IHJldCA9IFtdOwogIGxldCBjaGFpbiA9IGdldFByb3RvdHlwZUNoYWluKG9iaik7CiAgaWYob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3RvciAhPSBjaGFpblswXS5jb25zdHJ1Y3RvcikgY2hhaW4udW5zaGlmdChvYmopOwogIGZvcihsZXQgcHJvdG8gb2YgY2hhaW4pIHJldC5wdXNoKHByb3RvLmNvbnN0cnVjdG9yKTsKICByZXR1cm4gcmV0Owp9CgpleHBvcnQgZnVuY3Rpb24gaGFzUHJvdG90eXBlKG9iaiwgcHJvdG8pIHsKICByZXR1cm4gZ2V0UHJvdG90eXBlQ2hhaW4ob2JqKS5pbmRleE9mKHByb3RvKSAhPSAtMTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihzZXEsIHByZWQsIHRoaXNBcmcpIHsKICBpZihpc09iamVjdChwcmVkKSAmJiBwcmVkIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICBsZXQgcmUgPSBwcmVkOwogICAgcHJlZCA9IChlbCwgaSkgPT4gcmUudGVzdChlbCk7CiAgfQogIGxldCByID0gW10sCiAgICBpID0gMDsKICBmb3IobGV0IGVsIG9mIHNlcSkgewogICAgaWYocHJlZC5jYWxsKHRoaXNBcmcsIGVsLCBpKyssIHNlcSkpIHIucHVzaChlbCk7CiAgfQogIHJldHVybiByOwp9CgpleHBvcnQgY29uc3QgY3VycnkgPQogIChmLCBhcnIgPSBbXSwgbGVuZ3RoID0gZi5sZW5ndGgpID0+CiAgKC4uLmFyZ3MpID0+CiAgICAoYSA9PiAoYS5sZW5ndGggPT09IGxlbmd0aCA/IGYoLi4uYSkgOiBjdXJyeShmLCBhKSkpKFsuLi5hcnIsIC4uLmFyZ3NdKTsKCmV4cG9ydCBmdW5jdGlvbiogc3BsaXQoYnVmLCAuLi5wb2ludHMpIHsKICBwb2ludHMuc29ydCgpOwogIGNvbnN0IHNwbGl0QXQgPSAoYiwgcG9zLCBsZW4pID0+IHsKICAgIGxldCByID0gcG9zIDwgYi5ieXRlTGVuZ3RoID8gW3NsaWNlKGIsIDAsIHBvcyksIHNsaWNlKGIsIHBvcyldIDogW251bGwsIGJdOwogICAgcmV0dXJuIHI7CiAgfTsKICBsZXQgcHJldiwKICAgIGxlbiA9IDA7CiAgZm9yKGxldCBvZmZzZXQgb2YgcG9pbnRzKSB7CiAgICBsZXQgYXQgPSBvZmZzZXQgLSBsZW47CiAgICBbcHJldiwgYnVmXSA9IHNwbGl0QXQoYnVmLCBhdCwgbGVuKTsKICAgIGlmKHByZXYpIHsKICAgICAgeWllbGQgcHJldjsKICAgICAgbGVuID0gb2Zmc2V0OwogICAgfQogIH0KICBpZihidWYpIHlpZWxkIGJ1ZjsKfQoKZXhwb3J0IGNvbnN0IHVuaXF1ZSA9IChhcnIsIGNtcCkgPT4gYXJyLmZpbHRlcih0eXBlb2YgY21wID09ICdmdW5jdGlvbicgPyAoZWwsIGksIGFycikgPT4gYXJyLmZpbmRJbmRleChpdGVtID0+IGNtcChlbCwgaXRlbSkpID09IGkgOiAoZWwsIGksIGFycikgPT4gYXJyLmluZGV4T2YoZWwpID09IGkpOwoKZXhwb3J0IGNvbnN0IGdldEZ1bmN0aW9uQXJndW1lbnRzID0gZm4gPT4KICAoZm4gKyAnJykKICAgIC5yZXBsYWNlKC9cbi4qL2csICcnKQogICAgLnJlcGxhY2UoLyg9Pnx7fFxuKS4qL2csICcnKQogICAgLnJlcGxhY2UoL15mdW5jdGlvblxzKi8sICcnKQogICAgLnJlcGxhY2UoL15cKCguKilcKVxzKiQvZywgJyQxJykKICAgIC5zcGxpdCgvLFxzKi9nKTsKCmNvbnN0IEFOU0lfQkFDS0dST1VORF9PRkZTRVQgPSAxMDsKCmNvbnN0IHdyYXBBbnNpMTYgPQogIChvZmZzZXQgPSAwKSA9PgogIGNvZGUgPT4KICAgIGBceDFiWyR7Y29kZSArIG9mZnNldH1tYDsKCmNvbnN0IHdyYXBBbnNpMjU2ID0KICAob2Zmc2V0ID0gMCkgPT4KICBjb2RlID0+CiAgICBgXHgxYlskezM4ICsgb2Zmc2V0fTs1OyR7Y29kZX1tYDsKCmNvbnN0IHdyYXBBbnNpMTZtID0KICAob2Zmc2V0ID0gMCkgPT4KICAocmVkLCBncmVlbiwgYmx1ZSkgPT4KICAgIGBceDFiWyR7MzggKyBvZmZzZXR9OzI7JHtyZWR9OyR7Z3JlZW59OyR7Ymx1ZX1tYDsKCmZ1bmN0aW9uIGdldEFuc2lTdHlsZXMoKSB7CiAgY29uc3QgY29kZXMgPSBuZXcgTWFwKCk7CiAgY29uc3Qgc3R5bGVzID0gewogICAgbW9kaWZpZXI6IHsKICAgICAgcmVzZXQ6IFswLCAwXSwKICAgICAgLy8gMjEgaXNuJ3Qgd2lkZWx5IHN1cHBvcnRlZCBhbmQgMjIgZG9lcyB0aGUgc2FtZSB0aGluZwogICAgICBib2xkOiBbMSwgMjJdLAogICAgICBkaW06IFsyLCAyMl0sCiAgICAgIGl0YWxpYzogWzMsIDIzXSwKICAgICAgdW5kZXJsaW5lOiBbNCwgMjRdLAogICAgICBvdmVybGluZTogWzUzLCA1NV0sCiAgICAgIGludmVyc2U6IFs3LCAyN10sCiAgICAgIGhpZGRlbjogWzgsIDI4XSwKICAgICAgc3RyaWtldGhyb3VnaDogWzksIDI5XQogICAgfSwKICAgIGNvbG9yOiB7CiAgICAgIGJsYWNrOiBbMzAsIDM5XSwKICAgICAgcmVkOiBbMzEsIDM5XSwKICAgICAgZ3JlZW46IFszMiwgMzldLAogICAgICB5ZWxsb3c6IFszMywgMzldLAogICAgICBibHVlOiBbMzQsIDM5XSwKICAgICAgbWFnZW50YTogWzM1LCAzOV0sCiAgICAgIGN5YW46IFszNiwgMzldLAogICAgICB3aGl0ZTogWzM3LCAzOV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmxhY2tCcmlnaHQ6IFs5MCwgMzldLAogICAgICByZWRCcmlnaHQ6IFs5MSwgMzldLAogICAgICBncmVlbkJyaWdodDogWzkyLCAzOV0sCiAgICAgIHllbGxvd0JyaWdodDogWzkzLCAzOV0sCiAgICAgIGJsdWVCcmlnaHQ6IFs5NCwgMzldLAogICAgICBtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSwKICAgICAgY3lhbkJyaWdodDogWzk2LCAzOV0sCiAgICAgIHdoaXRlQnJpZ2h0OiBbOTcsIDM5XQogICAgfSwKICAgIGJnQ29sb3I6IHsKICAgICAgYmdCbGFjazogWzQwLCA0OV0sCiAgICAgIGJnUmVkOiBbNDEsIDQ5XSwKICAgICAgYmdHcmVlbjogWzQyLCA0OV0sCiAgICAgIGJnWWVsbG93OiBbNDMsIDQ5XSwKICAgICAgYmdCbHVlOiBbNDQsIDQ5XSwKICAgICAgYmdNYWdlbnRhOiBbNDUsIDQ5XSwKICAgICAgYmdDeWFuOiBbNDYsIDQ5XSwKICAgICAgYmdXaGl0ZTogWzQ3LCA0OV0sCgogICAgICAvLyBCcmlnaHQgY29sb3IKICAgICAgYmdCbGFja0JyaWdodDogWzEwMCwgNDldLAogICAgICBiZ1JlZEJyaWdodDogWzEwMSwgNDldLAogICAgICBiZ0dyZWVuQnJpZ2h0OiBbMTAyLCA0OV0sCiAgICAgIGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sCiAgICAgIGJnQmx1ZUJyaWdodDogWzEwNCwgNDldLAogICAgICBiZ01hZ2VudGFCcmlnaHQ6IFsxMDUsIDQ5XSwKICAgICAgYmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sCiAgICAgIGJnV2hpdGVCcmlnaHQ6IFsxMDcsIDQ5XQogICAgfQogIH07CgogIC8vIEFsaWFzIGJyaWdodCBibGFjayBhcyBncmF5IChhbmQgZ3JleSkKICBzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDsKICBzdHlsZXMuYmdDb2xvci5iZ0dyYXkgPSBzdHlsZXMuYmdDb2xvci5iZ0JsYWNrQnJpZ2h0OwogIHN0eWxlcy5jb2xvci5ncmV5ID0gc3R5bGVzLmNvbG9yLmJsYWNrQnJpZ2h0OwogIHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7CgogIGZvcihjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkgewogICAgZm9yKGNvbnN0IFtzdHlsZU5hbWUsIHN0eWxlXSBvZiBPYmplY3QuZW50cmllcyhncm91cCkpIHsKICAgICAgc3R5bGVzW3N0eWxlTmFtZV0gPSB7CiAgICAgICAgb3BlbjogYFx1MDAxQlske3N0eWxlWzBdfW1gLAogICAgICAgIGNsb3NlOiBgXHUwMDFCWyR7c3R5bGVbMV19bWAKICAgICAgfTsKCiAgICAgIGdyb3VwW3N0eWxlTmFtZV0gPSBzdHlsZXNbc3R5bGVOYW1lXTsKCiAgICAgIGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pOwogICAgfQoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwgewogICAgICB2YWx1ZTogZ3JvdXAsCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9KTsKICB9CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHsKICAgIHZhbHVlOiBjb2RlcywKICAgIGVudW1lcmFibGU6IGZhbHNlCiAgfSk7CgogIHN0eWxlcy5jb2xvci5jbG9zZSA9ICdcdTAwMUJbMzltJzsKICBzdHlsZXMuYmdDb2xvci5jbG9zZSA9ICdcdTAwMUJbNDltJzsKCiAgc3R5bGVzLmNvbG9yLmFuc2kgPSB3cmFwQW5zaTE2KCk7CiAgc3R5bGVzLmNvbG9yLmFuc2kyNTYgPSB3cmFwQW5zaTI1NigpOwogIHN0eWxlcy5jb2xvci5hbnNpMTZtID0gd3JhcEFuc2kxNm0oKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpID0gd3JhcEFuc2kxNihBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTsKICBzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7CiAgc3R5bGVzLmJnQ29sb3IuYW5zaTE2bSA9IHdyYXBBbnNpMTZtKEFOU0lfQkFDS0dST1VORF9PRkZTRVQpOwoKICAvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzCiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3R5bGVzLCB7CiAgICByZ2JUb0Fuc2kyNTY6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7CiAgICAgICAgLy8gV2UgdXNlIHRoZSBleHRlbmRlZCBncmV5c2NhbGUgcGFsZXR0ZSBoZXJlLCB3aXRoIHRoZSBleGNlcHRpb24gb2YKICAgICAgICAvLyBibGFjayBhbmQgd2hpdGUuIG5vcm1hbCBwYWxldHRlIG9ubHkgaGFzIDQgZ3JleXNjYWxlIHNoYWRlcy4KICAgICAgICBpZihyZWQgPT09IGdyZWVuICYmIGdyZWVuID09PSBibHVlKSB7CiAgICAgICAgICBpZihyZWQgPCA4KSB7CiAgICAgICAgICAgIHJldHVybiAxNjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZihyZWQgPiAyNDgpIHsKICAgICAgICAgICAgcmV0dXJuIDIzMTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjsKICAgICAgICB9CiAgICAgICAgY29uc3QgYyA9IFtyZWQsIGdyZWVuLCBibHVlXS5tYXAoYyA9PiAoYyAvIDI1NSkgKiA1KTsKICAgICAgICByZXR1cm4gMTYgKyAzNiAqIGNbMF0gKyA2ICogY1sxXSArIGNbMl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9SZ2I6IHsKICAgICAgdmFsdWU6IGhleCA9PiB7CiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXGRdezZ9fFthLWZcZF17M30pL2kuZXhlYyhoZXgudG9TdHJpbmcoMTYpKTsKICAgICAgICBpZighbWF0Y2hlcykgewogICAgICAgICAgcmV0dXJuIFswLCAwLCAwXTsKICAgICAgICB9CgogICAgICAgIGxldCB7IGNvbG9yU3RyaW5nIH0gPSBtYXRjaGVzLmdyb3VwczsKCiAgICAgICAgaWYoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nCiAgICAgICAgICAgIC5zcGxpdCgnJykKICAgICAgICAgICAgLm1hcChjaGFyYWN0ZXIgPT4gY2hhcmFjdGVyICsgY2hhcmFjdGVyKQogICAgICAgICAgICAuam9pbignJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBpbnRlZ2VyID0gTnVtYmVyLnBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7CgogICAgICAgIHJldHVybiBbKGludGVnZXIgPj4gMTYpICYgMHhmZiwgKGludGVnZXIgPj4gOCkgJiAweGZmLCBpbnRlZ2VyICYgMHhmZl07CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgaGV4VG9BbnNpMjU2OiB7CiAgICAgIHZhbHVlOiBoZXggPT4gc3R5bGVzLnJnYlRvQW5zaTI1NiguLi5zdHlsZXMuaGV4VG9SZ2IoaGV4KSksCiAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICB9LAogICAgYW5zaTI1NlRvQW5zaTogewogICAgICB2YWx1ZTogY29kZSA9PiB7CiAgICAgICAgaWYoY29kZSA8IDgpIHsKICAgICAgICAgIHJldHVybiAzMCArIGNvZGU7CiAgICAgICAgfQoKICAgICAgICBpZihjb2RlIDwgMTYpIHsKICAgICAgICAgIHJldHVybiA5MCArIChjb2RlIC0gOCk7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVkOwogICAgICAgIGxldCBncmVlbjsKICAgICAgICBsZXQgYmx1ZTsKCiAgICAgICAgaWYoY29kZSA+PSAyMzIpIHsKICAgICAgICAgIHJlZCA9ICgoY29kZSAtIDIzMikgKiAxMCArIDgpIC8gMjU1OwogICAgICAgICAgZ3JlZW4gPSByZWQ7CiAgICAgICAgICBibHVlID0gcmVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb2RlIC09IDE2OwoKICAgICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGNvZGUgJSAzNjsKCiAgICAgICAgICByZWQgPSBNYXRoLmZsb29yKGNvZGUgLyAzNikgKiAwLjI7CiAgICAgICAgICBncmVlbiA9IE1hdGguZmxvb3IocmVtYWluZGVyIC8gNikgKiAwLjI7CiAgICAgICAgICBibHVlID0gKHJlbWFpbmRlciAlIDYpICogMC4yOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLm1heChyZWQsIGdyZWVuLCBibHVlKSAqIDI7CgogICAgICAgIGlmKHZhbHVlID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gMzA7CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVzdWx0ID0gMzAgKyAoKE1hdGgucm91bmQoYmx1ZSkgPDwgMikgfCAoTWF0aC5yb3VuZChncmVlbikgPDwgMSkgfCBNYXRoLnJvdW5kKHJlZCkpOwoKICAgICAgICBpZih2YWx1ZSA9PT0gMikgewogICAgICAgICAgcmVzdWx0ICs9IDYwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICByZ2JUb0Fuc2k6IHsKICAgICAgdmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMucmdiVG9BbnNpMjU2KHJlZCwgZ3JlZW4sIGJsdWUpKSwKICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0sCiAgICBoZXhUb0Fuc2k6IHsKICAgICAgdmFsdWU6IGhleCA9PiBzdHlsZXMuYW5zaTI1NlRvQW5zaShzdHlsZXMuaGV4VG9BbnNpMjU2KGhleCkpLAogICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgfQogIH0pOwoKICByZXR1cm4gc3R5bGVzOwp9CgpleHBvcnQgZnVuY3Rpb24gcmFuZEludCguLi5hcmdzKSB7CiAgbGV0IHJhbmdlID0gYXJncy5zcGxpY2UoMCwgMik7CiAgbGV0IHJuZCA9IGFyZ3Muc2hpZnQoKTsKICBpZihyYW5nZS5sZW5ndGggPCAyKSByYW5nZS51bnNoaWZ0KDApOwogIHJldHVybiBNYXRoLnJvdW5kKG1pc2MucmFuZChyYW5nZVsxXSAtIHJhbmdlWzBdICsgMSkgKyByYW5nZVswXSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiB0b0JpZ0ludChhcmcpIHsKICBpZih0eXBlcy5pc0FycmF5QnVmZmVyKGFyZykpIHsKICAgIGNvbnN0IGJpdHMgPSBtaXNjLmJpdHMoYXJnKS5qb2luKCcnKTsKICAgIHJldHVybiBldmFsKGAwYiR7Yml0c31uYCk7CiAgfQogIHJldHVybiBCaWdJbnQoYXJnKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGxhenlQcm9wZXJ0eShvYmosIG5hbWUsIGdldHRlciwgb3B0cyA9IHt9KSB7CiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHsKICAgIGdldDogdHlwZXMuaXNBc3luY0Z1bmN0aW9uKGdldHRlcikKICAgICAgPyBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkoYXdhaXQgZ2V0dGVyLmNhbGwob2JqLCBuYW1lKSk7CiAgICAgICAgfQogICAgICA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXR0ZXIuY2FsbChvYmosIG5hbWUpOwogICAgICAgICAgaWYodHlwZXMuaXNQcm9taXNlKHZhbHVlKSkgewogICAgICAgICAgICB2YWx1ZS50aGVuKHYgPT4gewogICAgICAgICAgICAgIHJlcGxhY2VQcm9wZXJ0eSh2KTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgdXRpbC5sYXp5UHJvcGVydHkgcmVzb2x2ZWQgYCwgb2JqW25hbWVdKTsKICAgICAgICAgICAgICByZXR1cm4gdjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXBsYWNlUHJvcGVydHkodmFsdWUpOwogICAgICAgIH0sCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAuLi5vcHRzCiAgfSk7CgogIGZ1bmN0aW9uIHJlcGxhY2VQcm9wZXJ0eSh2YWx1ZSkgewogICAgZGVsZXRlIG9ialtuYW1lXTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHsgdmFsdWUsIC4uLm9wdHMgfSk7CiAgICByZXR1cm4gdmFsdWU7CiAgfQp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0T3B0KG9wdGlvbnMgPSB7fSwgYXJncykgewogIGxldCBzaG9ydCwgbG9uZzsKICBsZXQgcmVzdWx0ID0ge307CiAgbGV0IHBvc2l0aW9uYWwgPSAocmVzdWx0WydAJ10gPSBbXSk7CiAgaWYoIShvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpKSBvcHRpb25zID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucyk7CiAgY29uc3QgZmluZE9wdCA9IGFyZyA9PiBvcHRpb25zLmZpbmQoKFtvcHRuYW1lLCBvcHRpb25dKSA9PiAoQXJyYXkuaXNBcnJheShvcHRpb24pID8gb3B0aW9uLmluZGV4T2YoYXJnKSAhPSAtMSA6IGZhbHNlKSB8fCBhcmcgPT0gb3B0bmFtZSk7CiAgbGV0IFssIHBhcmFtc10gPSBvcHRpb25zLmZpbmQob3B0ID0+IG9wdFswXSA9PSAnQCcpIHx8IFtdOwogIGlmKHR5cGVvZiBwYXJhbXMgPT0gJ3N0cmluZycpIHBhcmFtcyA9IHBhcmFtcy5zcGxpdCgnLCcpOwogIGZvcihsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBhcmcgPSBhcmdzW2ldOwogICAgbGV0IG9wdDsKICAgIGlmKGFyZ1swXSA9PSAnLScpIHsKICAgICAgbGV0IG5hbWUsIHZhbHVlLCBzdGFydCwgZW5kOwogICAgICBpZihhcmdbMV0gPT0gJy0nKSBsb25nID0gdHJ1ZTsKICAgICAgZWxzZSBzaG9ydCA9IHRydWU7CiAgICAgIHN0YXJ0ID0gc2hvcnQgPyAxIDogMjsKICAgICAgaWYoc2hvcnQpIGVuZCA9IDI7CiAgICAgIGVsc2UgaWYoKGVuZCA9IGFyZy5pbmRleE9mKCc9JykpID09IC0xKSBlbmQgPSBhcmcubGVuZ3RoOwogICAgICBuYW1lID0gYXJnLnN1YnN0cmluZyhzdGFydCwgZW5kKTsKICAgICAgaWYoKG9wdCA9IGZpbmRPcHQobmFtZSkpKSB7CiAgICAgICAgY29uc3QgW2hhc19hcmcsIGhhbmRsZXJdID0gb3B0WzFdOwogICAgICAgIGlmKGhhc19hcmcpIHsKICAgICAgICAgIGlmKGFyZy5sZW5ndGggPiBlbmQpIHZhbHVlID0gYXJnLnN1YnN0cmluZyhlbmQgKyAoYXJnW2VuZF0gPT0gJz0nKSk7CiAgICAgICAgICBlbHNlIHZhbHVlID0gYXJnc1srK2ldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YWx1ZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICB2YWx1ZSA9IGhhbmRsZXIodmFsdWUsIHJlc3VsdFtvcHRbMF1dLCBvcHRpb25zLCByZXN1bHQpOwogICAgICAgIH0gY2F0Y2goZSkge30KICAgICAgICByZXN1bHRbb3B0WzBdXSA9IHZhbHVlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICB9CiAgICBpZihwYXJhbXMubGVuZ3RoKSB7CiAgICAgIGNvbnN0IHBhcmFtID0gcGFyYW1zLnNoaWZ0KCk7CiAgICAgIGlmKChvcHQgPSBmaW5kT3B0KHBhcmFtKSkpIHsKICAgICAgICBjb25zdCBbLCBbLCBoYW5kbGVyXV0gPSBvcHQ7CiAgICAgICAgbGV0IHZhbHVlID0gYXJnOwogICAgICAgIGlmKHR5cGVvZiBoYW5kbGVyID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhbHVlID0gaGFuZGxlcih2YWx1ZSwgcmVzdWx0W29wdFswXV0sIG9wdGlvbnMsIHJlc3VsdCk7CiAgICAgICAgICB9IGNhdGNoKGUpIHt9CiAgICAgICAgfQogICAgICAgIGNvbnN0IG5hbWUgPSBvcHRbMF07CiAgICAgICAgcmVzdWx0W29wdFswXV0gPSB2YWx1ZTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgfQogICAgcmVzdWx0WydAJ10gPSBbLi4uKHJlc3VsdFsnQCddID8/IFtdKSwgYXJnXTsKICB9CiAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHRvVW5peFRpbWUoZGF0ZU9iaiwgdXRjID0gZmFsc2UpIHsKICBpZighKGRhdGVPYmogaW5zdGFuY2VvZiBEYXRlKSkgZGF0ZU9iaiA9IG5ldyBEYXRlKGRhdGVPYmopOwogIGxldCBlcG9jaCA9IE1hdGguZmxvb3IoZGF0ZU9iai5nZXRUaW1lKCkgLyAxMDAwKTsKICBpZih1dGMpIGVwb2NoICs9IGRhdGVPYmouZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwOwogIHJldHVybiBlcG9jaDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHVuaXhUaW1lKHV0YyA9IGZhbHNlKSB7CiAgcmV0dXJuIHRvVW5peFRpbWUobmV3IERhdGUoKSwgdXRjKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGZyb21Vbml4VGltZShlcG9jaCwgdXRjID0gZmFsc2UpIHsKICBsZXQgdCA9IHBhcnNlSW50KGVwb2NoKTsKICBsZXQgZCA9IG5ldyBEYXRlKDApOwogIHV0YyA/IGQuc2V0VVRDU2Vjb25kcyh0KSA6IGQuc2V0U2Vjb25kcyh0KTsKICByZXR1cm4gZDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKC4uLmFyZ3MpIHsKICBsZXQgW3N0YXJ0LCBlbmQsIHN0ZXAgPSAxXSA9IGFyZ3M7CiAgbGV0IHJldDsKICBzdGFydCAvPSBzdGVwOwogIGVuZCAvPSBzdGVwOwogIGlmKHN0YXJ0ID4gZW5kKSB7CiAgICByZXQgPSBbXTsKICAgIHdoaWxlKHN0YXJ0ID49IGVuZCkgcmV0LnB1c2goc3RhcnQtLSk7CiAgfSBlbHNlIHsKICAgIHJldCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGVuZCAtIHN0YXJ0ICsgMSB9LCAodiwgaykgPT4gayArIHN0YXJ0KTsKICB9CiAgaWYoc3RlcCAhPSAxKSB7CiAgICByZXQgPSByZXQubWFwKG4gPT4gbiAqIHN0ZXApOwogIH0KICByZXR1cm4gcmV0Owp9CgpleHBvcnQgZnVuY3Rpb24gcmVwZWF0ZXIobiwgd2hhdCkgewogIGlmKHR5cGVvZiB3aGF0ID09ICdmdW5jdGlvbicpCiAgICByZXR1cm4gKGZ1bmN0aW9uKiAoKSB7CiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHlpZWxkIHdoYXQoKTsKICAgIH0pKCk7CiAgcmV0dXJuIChmdW5jdGlvbiogKCkgewogICAgZm9yKGxldCBpID0gMDsgaSA8IG47IGkrKykgeWllbGQgd2hhdDsKICB9KSgpOwp9CgpleHBvcnQgZnVuY3Rpb24gcmVwZWF0KG4sIHdoYXQpIHsKICByZXR1cm4gWy4uLnJlcGVhdGVyKG4sIHdoYXQpXTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGNodW5rQXJyYXkgKGEsIHNpemUpIHsgcmV0dXJuICBhLnJlZHVjZSgoYWNjLCBpdGVtLCBpKSA9PiB7CiAgICBjb25zdCBpZHggPSBpICUgc2l6ZTsKICAgIGlmKGlkeCA9PSAwKSBhY2MucHVzaChbXSk7CgogICAgYWNjW2FjYy5sZW5ndGggLSAxXS5wdXNoKGl0ZW0pOwogICAgcmV0dXJuIGFjYzsKICB9LCBbXSk7Cn0KCmV4cG9ydCBjb25zdCBhbnNpU3R5bGVzID0gZ2V0QW5zaVN0eWxlcygpOwoKY29uc3QgaW5zcGVjdE1ldGhvZCA9IFN5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyk7Ci8qCk9iamVjdC5hc3NpZ24odXRpbCwgbWlzYyk7Cgp1dGlsLmluc3BlY3QgPSBpbnNwZWN0Owp1dGlsLmZvcm1hdCA9IGZvcm1hdDsKdXRpbC5mb3JtYXRXaXRoT3B0aW9ucyA9IGZvcm1hdFdpdGhPcHRpb25zOwp1dGlsLnR5cGVzID0gdHlwZXM7CnV0aWwuYXNzZXJ0ID0gYXNzZXJ0Owp1dGlsLmhhc0J1aWx0SW4gPSBoYXNCdWlsdEluOwp1dGlsLnRvU3RyaW5nID0gdG9TdHJpbmc7CnV0aWwudG9BcnJheUJ1ZmZlciA9IHRvQXJyYXlCdWZmZXI7CnV0aWwuc2V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbDsKdXRpbC5jbGVhckludGVydmFsID0gY2xlYXJJbnRlcnZhbDsKdXRpbC5tZW1vaXplID0gbWVtb2l6ZTsKdXRpbC5vbmNlID0gb25jZTsKdXRpbC5kZWZpbmUgPSBkZWZpbmU7CnV0aWwud2Vha0Fzc2lnbiA9IHdlYWtBc3NpZ247CnV0aWwuQXJyYXlFeHRlbnNpb25zID0gQXJyYXlFeHRlbnNpb25zOwp1dGlsLmV4dGVuZEFycmF5ID0gKHByb3RvID0gQXJyYXkucHJvdG90eXBlLCBkZWYgPSB1dGlsLmRlZmluZSkgPT4gZGVmKHByb3RvLCBBcnJheUV4dGVuc2lvbnMpOwp1dGlsLmV4dGVuZEdlbmVyYXRvciA9IChwcm90byA9IEdlbmVyYXRvclByb3RvdHlwZSwgZGVmID0gdXRpbC5kZWZpbmUpID0+IGRlZihwcm90bywgR2VuZXJhdG9yRXh0ZW5zaW9ucyk7CnV0aWwuZXJyb3JzID0gZXJyb3JzOwp1dGlsLmdldFByb3RvdHlwZUNoYWluID0gZ2V0UHJvdG90eXBlQ2hhaW47CnV0aWwuZ2V0Q29uc3RydWN0b3JDaGFpbiA9IGdldENvbnN0cnVjdG9yQ2hhaW47CnV0aWwuaGFzUHJvdG90eXBlID0gaGFzUHJvdG90eXBlOwp1dGlsLmFuc2lTdHlsZXMgPSBhbnNpU3R5bGVzOwp1dGlsLnJhbmRJbnQgPSByYW5kSW50Owp1dGlsLmN1cnJ5ID0gY3Vycnk7CnV0aWwuZmlsdGVyID0gZmlsdGVyOwp1dGlsLnNwbGl0ID0gc3BsaXQ7CnV0aWwudW5pcXVlID0gdW5pcXVlOwp1dGlsLmVzY2FwZSA9IGVzY2FwZTsKCk9iamVjdC5hc3NpZ24odXRpbCwgewogIFtpbnNwZWN0TWV0aG9kXSgpIHsKICAgIGxldCBvYmogPSB7IC4uLnV0aWwgfTsKICAgIGRlbGV0ZSBvYmpbaW5zcGVjdE1ldGhvZF07CiAgICByZXR1cm4gaW5zcGVjdChvYmosIHsgY3VzdG9tSW5zcGVjdDogZmFsc2UgfSk7CiAgfQp9KTsqLwoKZXhwb3J0IHsgZXh0ZW5kQXJyYXksIEFycmF5RXh0ZW5zaW9ucyB9IGZyb20gJy4vZXh0ZW5kQXJyYXkuanMnOwpleHBvcnQgeyBTeXNjYWxsRXJyb3IgfSBmcm9tICdzeXNjYWxsZXJyb3InOwpleHBvcnQgKiBmcm9tICdtaXNjJzsKZXhwb3J0IHsgaW5zcGVjdCB9IGZyb20gJ2luc3BlY3QnOwpleHBvcnQgZGVmYXVsdCB1dGlsOwpleHBvcnQgeyBKU19FVkFMX0ZMQUdfQkFDS1RSQUNFX0JBUlJJRVIsIExvY2F0aW9uLCBkdXBBcnJheUJ1ZmZlciwgZXNjYXBlLCBnZXRQcm90b3R5cGVDaGFpbiwgaXNBcnJheSwgaXNCaWdEZWNpbWFsLCBpc0JpZ0Zsb2F0LCBpc0JpZ0ludCwgaXNCb29sLCBpc0NGdW5jdGlvbiwgaXNDb25zdHJ1Y3RvciwgaXNFbXB0eVN0cmluZywgaXNFcnJvciwgaXNFeGNlcHRpb24sIGlzRXh0ZW5zaWJsZSwgaXNGdW5jdGlvbiwgaXNIVE1MRERBLCBpc0luc3RhbmNlT2YsIGlzSW50ZWdlciwgaXNKb2JQZW5kaW5nLCBpc0xpdmVPYmplY3QsIGlzTnVsbCwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc1JlZ2lzdGVyZWRDbGFzcywgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1VuY2F0Y2hhYmxlRXJyb3IsIGlzVW5kZWZpbmVkLCBpc1VuaW5pdGlhbGl6ZWQsIGlzQXJyYXlCdWZmZXIsIHJhbmQsIHRvQXJyYXlCdWZmZXIsIHRvU3RyaW5nLCB3YXRjaCB9IGZyb20gJ21pc2MnOwoAAAAAAAAAACxjAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK9bAAAAAAAAr1sAAAAAAAAAAAAAAADwvw"
				],
				[
					676,
					1,
					"paste",
					null,
					"AgAAAOlaAAAAAAAAn1sAAAAAAAAAAAAAn1sAAAAAAACfWwAAAAAAAMYAAAAKZXhwb3J0IGZ1bmN0aW9uIGNodW5rQXJyYXkoYSwgc2l6ZSkgewogIHJldHVybiBhLnJlZHVjZSgoYWNjLCBpdGVtLCBpKSA9PiB7CiAgICBjb25zdCBpZHggPSBpICUgc2l6ZTsKICAgIGlmKGlkeCA9PSAwKSBhY2MucHVzaChbXSk7CgogICAgYWNjW2FjYy5sZW5ndGggLSAxXS5wdXNoKGl0ZW0pOwogICAgcmV0dXJuIGFjYzsKICB9LCBbXSk7Cn0",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK9bAAAAAAAA6VoAAAAAAAAAAAAAAADwvw"
				],
				[
					742,
					1,
					"cut",
					null,
					"AQAAACZbAAAAAAAAJlsAAAAAAABxAAAAKGEsIHYsIGkpID0+IHsKICAgIGNvbnN0IGogPSBpICUgc2l6ZTsKICAgIGlmKGogPT0gMCkgYS5wdXNoKFtdKTsKCiAgICBhW2EubGVuZ3RoIC0gMV0ucHVzaCh2KTsKICAgIHJldHVybiBhOwogIH0",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACZbAAAAAAAAl1sAAAAAAAAAAAAAAADwvw"
				],
				[
					743,
					1,
					"insert",
					{
						"characters": "fn"
					},
					"AgAAACZbAAAAAAAAJ1sAAAAAAAAAAAAAJ1sAAAAAAAAoWwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACZbAAAAAAAAJlsAAAAAAAAAAAAAAADwvw"
				],
				[
					745,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAABRbAAAAAAAAFVsAAAAAAAAAAAAAFVsAAAAAAAAXWwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABRbAAAAAAAAFFsAAAAAAAAAAAAAAAA0QA"
				],
				[
					747,
					1,
					"insert",
					{
						"characters": "const"
					},
					"BQAAABRbAAAAAAAAFVsAAAAAAAAAAAAAFVsAAAAAAAAWWwAAAAAAAAAAAAAWWwAAAAAAABdbAAAAAAAAAAAAABdbAAAAAAAAGFsAAAAAAAAAAAAAGFsAAAAAAAAZWwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABRbAAAAAAAAFFsAAAAAAAAAAAAAAAA0QA"
				],
				[
					748,
					1,
					"insert",
					{
						"characters": " fn"
					},
					"AwAAABlbAAAAAAAAGlsAAAAAAAAAAAAAGlsAAAAAAAAbWwAAAAAAAAAAAAAbWwAAAAAAABxbAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABlbAAAAAAAAGVsAAAAAAAAAAAAAAADwvw"
				],
				[
					749,
					1,
					"insert",
					{
						"characters": " ?="
					},
					"AwAAABxbAAAAAAAAHVsAAAAAAAAAAAAAHVsAAAAAAAAeWwAAAAAAAAAAAAAeWwAAAAAAAB9bAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABxbAAAAAAAAHFsAAAAAAAAAAAAAAADwvw"
				],
				[
					750,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAB9bAAAAAAAAIFsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAB9bAAAAAAAAH1sAAAAAAAAAAAAAAADwvw"
				],
				[
					751,
					3,
					"left_delete",
					null,
					"AwAAAB9bAAAAAAAAH1sAAAAAAAABAAAAIB5bAAAAAAAAHlsAAAAAAAABAAAAPR1bAAAAAAAAHVsAAAAAAAABAAAAPw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACBbAAAAAAAAIFsAAAAAAAAAAAAAAADwvw"
				],
				[
					752,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAAB1bAAAAAAAAHlsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAB1bAAAAAAAAHVsAAAAAAAAAAAAAAADwvw"
				],
				[
					753,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAB5bAAAAAAAAH1sAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAB5bAAAAAAAAHlsAAAAAAAAAAAAAAADwvw"
				],
				[
					754,
					1,
					"paste",
					null,
					"AQAAAB9bAAAAAAAAkFsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAB9bAAAAAAAAH1sAAAAAAAAAAAAAAADwvw"
				],
				[
					755,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAJBbAAAAAAAAkVsAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJBbAAAAAAAAkFsAAAAAAAAAAAAAAADwvw"
				],
				[
					756,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJFbAAAAAAAAklsAAAAAAAAAAAAAklsAAAAAAACUWwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJFbAAAAAAAAkVsAAAAAAAAAAAAAAADwvw"
				],
				[
					852,
					1,
					"left_delete",
					null,
					"AgAAAGBbAAAAAAAAYFsAAAAAAAABAAAACpFbAAAAAAAAkVsAAAAAAAACAAAAICA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGFbAAAAAAAAYVsAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"contents": "Searching 473 files for \"JS_GetOwnPropertyNames\" (regex, case sensitive)\n\n/home/roman/Projects/plot-cv/quickjs/qjs-modules/utils.c:\n  616    assert(ta == TYPE_OBJECT);\n  617    assert(tb == TYPE_OBJECT);\n  618:   if(JS_GetOwnPropertyNames(ctx, &atoms_a, &natoms_a, a, JS_GPN_STRING_MASK | JS_GPN_SYMBOL_MASK | JS_GPN_ENUM_ONLY))\n  619      return FALSE;\n  620  \n  621:   if(JS_GetOwnPropertyNames(ctx, &atoms_b, &natoms_b, b, JS_GPN_STRING_MASK | JS_GPN_SYMBOL_MASK | JS_GPN_ENUM_ONLY))\n  622      return FALSE;\n  623  \n  ...\n 1237        uint32_t tab_atom_len;\n 1238        ret = JS_IsArray(ctx, value) ? JS_NewArray(ctx) : JS_NewObject(ctx);\n 1239:       if(!JS_GetOwnPropertyNames(ctx, &tab_atom, &tab_atom_len, value, JS_GPN_STRING_MASK | JS_GPN_SYMBOL_MASK | JS_GPN_ENUM_ONLY)) {\n 1240          uint32_t i;\n 1241          for(i = 0; i < tab_atom_len; i++) {\n\n/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-inspect.c:\n  309    JSPropertyEnum* tmp_tab;\n  310    uint32_t i, tmp_len;\n  311:   ret = JS_GetOwnPropertyNames(ctx, &tmp_tab, &tmp_len, obj, flags);\n  312  \n  313    for(i = 0; i < tmp_len; i++) {\n\n/home/roman/Projects/plot-cv/quickjs/qjs-modules/property-enumeration.c:\n   15    it->is_array = JS_IsArray(ctx, object);\n   16  \n   17:   if(JS_GetOwnPropertyNames(ctx, &it->tab_atom, &it->tab_atom_len, object, flags & 0x3f)) {\n   18      it->tab_atom_len = 0;\n   19      it->tab_atom = 0;\n\n5 matches across 3 files\n",
			"settings":
			{
				"buffer_size": 1438,
				"line_ending": "Unix",
				"name": "Find Results",
				"scratch": true
			}
		},
		{
			"file": "quickjs-misc.c",
			"settings":
			{
				"buffer_size": 53348,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					694,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAABk0AAAI2luY2x1ZGUgPHF1aWNranMtbGliYy5oPgojaW5jbHVkZSAicXVpY2tqcy1taXNjLmgiCiNpbmNsdWRlICJxdWlja2pzLWludGVybmFsLmgiCiNpbmNsdWRlICJxdWlja2pzLWxvY2F0aW9uLmgiCiNpbmNsdWRlICJxdWlja2pzLXN0cmluZ2RlY29kZXIuaCIKI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJwYXRoLmgiCiNpbmNsdWRlICJiYXNlNjQuaCIKI2luY2x1ZGUgPHRpbWUuaD4KI2lmbmRlZiBfV0lOMzIKI2luY2x1ZGUgPHN5cy91dHNuYW1lLmg+CiNlbmRpZgojaW5jbHVkZSA8ZXJybm8uaD4KI2lmZGVmIEhBVkVfRk5NQVRDSAojaW5jbHVkZSA8Zm5tYXRjaC5oPgojZW5kaWYKI2lmZGVmIEhBVkVfR0xPQgojaW5jbHVkZSA8Z2xvYi5oPgojaWZuZGVmIEdMT0JfTUFHQ0hBUgojZGVmaW5lIEdMT0JfTUFHQ0hBUiAyNTYKI2VuZGlmCiNpZm5kZWYgR0xPQl9BTFRESVJGVU5DCiNkZWZpbmUgR0xPQl9BTFRESVJGVU5DIDUxMgojZW5kaWYKI2lmbmRlZiBHTE9CX0JSQUNFCiNkZWZpbmUgR0xPQl9CUkFDRSAxMDI0CiNlbmRpZgojaWZuZGVmIEdMT0JfTk9NQUdJQwojZGVmaW5lIEdMT0JfTk9NQUdJQyAyMDQ4CiNlbmRpZgojaWZuZGVmIEdMT0JfVElMREUKI2RlZmluZSBHTE9CX1RJTERFIDQwOTYKI2VuZGlmCiNpZm5kZWYgR0xPQl9PTkxZRElSCiNkZWZpbmUgR0xPQl9PTkxZRElSIDgxOTIKI2VuZGlmCiNpZm5kZWYgR0xPQl9USUxERV9DSEVDSwojZGVmaW5lIEdMT0JfVElMREVfQ0hFQ0sgMTYzODQKI2VuZGlmCiNlbmRpZgojaWZkZWYgSEFWRV9XT1JERVhQCiNpbmNsdWRlICJ3b3JkZXhwLmgiCiNlbmRpZgojaWZkZWYgSEFWRV9JTk9USUZZCiNpbmNsdWRlIDxzeXMvaW5vdGlmeS5oPgojZW5kaWYKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKLyoqCiAqIFxhZGR0b2dyb3VwIHF1aWNranMtbWlzYwogKiBAewogKi8KCiNpZm5kZWYgSEFWRV9NRU1NRU0Kdm9pZCogbWVtbWVtKGNvbnN0IHZvaWQqLCBzaXplX3QsIGNvbnN0IHZvaWQqLCBzaXplX3QpOwojZW5kaWYKCmVudW0gewogIEZVTkNfR0VURVhFQ1VUQUJMRSA9IDAsCiAgRlVOQ19HRVRDV0QsCiAgRlVOQ19HRVRST09ULAogIEZVTkNfR0VURkQsCiAgRlVOQ19HRVRDT01NQU5ETElORSwKICBGVU5DX0dFVFBST0NNQVBTLAogIEZVTkNfR0VUUFJPQ01PVU5UUywKICBGVU5DX0dFVFBST0NTVEFULAogIEZVTkNfR0VUUElELAogIEZVTkNfR0VUUFBJRCwKICBGVU5DX0dFVFNJRCwKICBGVU5DX0dFVFVJRCwKICBGVU5DX0dFVEdJRCwKICBGVU5DX0dFVEVVSUQsCiAgRlVOQ19HRVRFR0lELAogIEZVTkNfU0VUVUlELAogIEZVTkNfU0VUR0lELAogIEZVTkNfU0VURVVJRCwKICBGVU5DX1NFVEVHSUQKfTsKCi8vIHN0YXRpYyB0aHJlYWRfbG9jYWwgaW50IGlub3RpZnlfZmQgPSAtMTsKCnR5cGVkZWYgc3RydWN0IHBjZ19zdGF0ZV9zZXRzZXFfNjQgewogIHVpbnQ2NF90IHN0YXRlLCBpbmM7Cn0gcGNnMzJfcmFuZG9tX3Q7CgpzdGF0aWMgcGNnMzJfcmFuZG9tX3QgcGNnMzJfZ2xvYmFsID0gezB4ODUzYzQ5ZTY3NDhmZWE5YlVMTCwgMHhkYTNlMzljYjk0Yjk1YmRiVUxMfTsKCnN0YXRpYyBpbmxpbmUgdWludDMyX3QKcGNnMzJfcmFuZG9tX3IocGNnMzJfcmFuZG9tX3QqIHJuZykgewogIHVpbnQ2NF90IG9sZHN0YXRlID0gcm5nLT5zdGF0ZTsKICBybmctPnN0YXRlID0gb2xkc3RhdGUgKiA2MzY0MTM2MjIzODQ2NzkzMDA1VUxMICsgcm5nLT5pbmM7CiAgdWludDMyX3QgeG9yc2hpZnRlZCA9ICh1aW50MzJfdCkoKChvbGRzdGF0ZSA+PiAxOHUpIF4gb2xkc3RhdGUpID4+IDI3dSk7CiAgdWludDMyX3Qgcm90ID0gb2xkc3RhdGUgPj4gNTl1OwogIHJldHVybiAoeG9yc2hpZnRlZCA+PiByb3QpIHwgKHhvcnNoaWZ0ZWQgPDwgKCgtcm90KSAmIDMxKSk7Cn0KCnN0YXRpYyB1aW50MzJfdApwY2czMl9yYW5kb20odm9pZCkgewogIHJldHVybiBwY2czMl9yYW5kb21fcigmcGNnMzJfZ2xvYmFsKTsKfQoKc3RhdGljIHZvaWQKcGNnMzJfaW5pdF9zdGF0ZSh1aW50MzJfdCBzdGF0ZSkgewogIHBjZzMyX2dsb2JhbC5zdGF0ZSA9IH4oKCh1aW50NjRfdClzdGF0ZSkgPDwgMzIpIHwgc3RhdGU7Cn0KCnN0YXRpYyB1aW50MzJfdApwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3ModWludDMyX3QgcmFuZ2UpIHsKICB1aW50NjRfdCByYW5kb20zMmJpdCwgbXVsdGlyZXN1bHQ7CiAgdWludDMyX3QgbGVmdG92ZXI7CiAgdWludDMyX3QgdGhyZXNob2xkOwogIHJhbmRvbTMyYml0ID0gcGNnMzJfcmFuZG9tKCk7CiAgbXVsdGlyZXN1bHQgPSByYW5kb20zMmJpdCAqIHJhbmdlOwogIGxlZnRvdmVyID0gKHVpbnQzMl90KW11bHRpcmVzdWx0OwogIGlmKGxlZnRvdmVyIDwgcmFuZ2UpIHsKICAgIHRocmVzaG9sZCA9IC1yYW5nZSAlIHJhbmdlOwogICAgd2hpbGUobGVmdG92ZXIgPCB0aHJlc2hvbGQpIHsKICAgICAgcmFuZG9tMzJiaXQgPSBwY2czMl9yYW5kb20oKTsKICAgICAgbXVsdGlyZXN1bHQgPSByYW5kb20zMmJpdCAqIHJhbmdlOwogICAgICBsZWZ0b3ZlciA9ICh1aW50MzJfdCltdWx0aXJlc3VsdDsKICAgIH0KICB9CiAgcmV0dXJuIG11bHRpcmVzdWx0ID4+IDMyOyAvLyBbMCwgcmFuZ2UpCn0KCnN0YXRpYyB2b2lkCmpzX3BvaW50ZXJfZnJlZV9mdW5jKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAganNfZnJlZV9ydChydCwgcHRyKTsKfQoKc3RhdGljIHZvaWQKanNfc3RyaW5nX2ZyZWVfZnVuYyhKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTVmFsdWUgdmFsdWUgPSBqc19jc3RyaW5nX3ZhbHVlKG9wYXF1ZSk7CgogIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWx1ZSk7Cn0KCnN0YXRpYyB2b2lkCmpzX2FycmF5YnVmZmVyX2ZyZWVfZnVuYyhKU1J1bnRpbWUqIHJ0LCB2b2lkKiBvcGFxdWUsIHZvaWQqIHB0cikgewogIEpTVmFsdWUgdmFsdWUgPSBKU19NS1BUUihKU19UQUdfT0JKRUNULCBvcGFxdWUpOwoKICBKU19GcmVlVmFsdWVSVChydCwgdmFsdWUpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3Rvc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgLy8gIEpTVmFsdWUgYXJyYXlidWZmZXJfY3RvciA9IGpzX2dsb2JhbF9nZXRfc3RyKGN0eCwgIkFycmF5QnVmZmVyIik7CgogIGlmKGpzX3ZhbHVlX2lzY2xhc3MoY3R4LCBhcmd2WzBdLCBKU19DTEFTU19BUlJBWV9CVUZGRVIpIHx8CiAgICAganNfaXNfYXJyYXlidWZmZXIoY3R4LCBhcmd2WzBdKSAvKiB8fCBKU19Jc0luc3RhbmNlT2YoY3R4LCBhcmd2WzBdLCBhcnJheWJ1ZmZlcl9jdG9yKSovKSB7CiAgICB1aW50OF90KiBkYXRhOwogICAgc2l6ZV90IGxlbjsKCiAgICBpZigoZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSkpKSB7CiAgICAgIE9mZnNldExlbmd0aCBvbDsKCiAgICAgIGpzX29mZnNldF9sZW5ndGgoY3R4LCBsZW4sIGFyZ2MgLSAxLCBhcmd2ICsgMSwgJm9sKTsKCiAgICAgIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKilkYXRhICsgb2wub2Zmc2V0LCBvbC5sZW5ndGgpOwogICAgfQogIH0gZWxzZSB7CiAgICByZXQgPSBqc192YWx1ZV90b3N0cmluZyhjdHgsICJPYmplY3QiLCBhcmdjID4gMCA/IGFyZ3ZbMF0gOiB0aGlzX3ZhbCk7CiAgfQoKICAvLyAgSlNfRnJlZVZhbHVlKGN0eCwgYXJyYXlidWZmZXJfY3Rvcik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfdG9wb2ludGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgdm9pZCogcHRyID0gMDsKICBjaGFyIGJ1ZlsxMjhdOwoKICBpZihqc192YWx1ZV9pc2NsYXNzKGN0eCwgYXJndlswXSwgSlNfQ0xBU1NfQVJSQVlfQlVGRkVSKSB8fCBqc19pc19hcnJheWJ1ZmZlcihjdHgsIGFyZ3ZbMF0pKSB7CiAgICBzaXplX3QgbGVuOwogICAgcHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmd2WzBdKTsKICB9IGVsc2UgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIHB0ciA9IGpzX2NzdHJpbmdfcHRyKGFyZ3ZbMF0pOwogIH0gZWxzZSB7CiAgICBzd2l0Y2goSlNfVkFMVUVfR0VUX1RBRyhhcmd2WzBdKSkgewogICAgICAgIC8qICBjYXNlIEpTX1RBR19CSUdfREVDSU1BTDoKICAgICAgICAgIGNhc2UgSlNfVEFHX0JJR19GTE9BVDoKICAgICAgICAgIGNhc2UgSlNfVEFHX0JJR19JTlQ6CiAgICAgICAgICBjYXNlIEpTX1RBR19GVU5DVElPTl9CWVRFQ09ERToKICAgICAgICAgIGNhc2UgSlNfVEFHX0lOVDoqLwogICAgICBjYXNlIEpTX1RBR19NT0RVTEU6CiAgICAgICAgLyogICAgICBjYXNlIEpTX1RBR19PQkpFQ1Q6CiAgICAgICAgICAgICAgIGNhc2UgSlNfVEFHX1NZTUJPTDoqLwogICAgICAgIHsKICAgICAgICAgIHB0ciA9IEpTX1ZBTFVFX0dFVF9QVFIoYXJndlswXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGRlZmF1bHQ6IHsKICAgICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAidG9Qb2ludGVyOiBpbnZhbGlkIHR5cGUgJXMiLCBqc192YWx1ZV90eXBlc3RyKGN0eCwgYXJndlswXSkpOwogICAgICB9CiAgICB9CiAgfQoKICBpZihwdHIpIHsKICAgIHNucHJpbnRmKGJ1Ziwgc2l6ZW9mKGJ1ZiksICIlcCIsIHB0cik7CiAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBidWYpOwogIH0gZWxzZSB7CiAgICByZXQgPSBKU19OVUxMOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY190b2FycmF5YnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgTWVtb3J5QmxvY2sgYjsKICBPZmZzZXRMZW5ndGggbzsKICBKU0ZyZWVBcnJheUJ1ZmZlckRhdGFGdW5jKiBmOwogIHZvaWQqIG9wYXF1ZTsKCiAgLyogIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICAgIEpTVmFsdWVDb25zdCB2YWx1ZSA9IGFyZ3ZbMF07IC8vIEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSk7CiAgICAgIGIuYmFzZSA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZiLnNpemUsIHZhbHVlKTsKICAgICAgZiA9ICZqc19zdHJpbmdfZnJlZV9mdW5jOwogICAgICBvcGFxdWUgPSBiLmJhc2U7CiAgICAgIHJldCA9CiAgICAgICAgICBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGIuYmFzZSArIG8ub2Zmc2V0LCBNSU5fTlVNKGIuc2l6ZSwgby5sZW5ndGgpLAogICAganNfc3RyaW5nX2ZyZWVfZnVuYywgKHZvaWQqKWIuYmFzZSwgRkFMU0UpOyB9IGVsc2UqLwoKICBJbnB1dEJ1ZmZlciBpbnB1dCA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAganNfb2Zmc2V0X2xlbmd0aChjdHgsIGlucHV0LnNpemUsIGFyZ2MgLSAxLCBhcmd2ICsgMSwgJm8pOwogIGIgPSBpbnB1dF9idWZmZXJfYmxvY2soJmlucHV0KTsKICAvLyAgICBiID0gYmxvY2tfcmFuZ2UoJmIsICZpbnB1dC5yYW5nZSk7CiAgYiA9IGJsb2NrX3JhbmdlKCZiLCAmbyk7CiAgcmV0ID0ganNfYXJyYXlidWZmZXJfZnJvbXZhbHVlKGN0eCwgYi5iYXNlLCBiLnNpemUsIGFyZ3ZbMF0pOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3NsaWNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgdWludDhfdCogZGF0YTsKICBzaXplX3QgbGVuOwoKICAvKiAgaWYoIWpzX2lzX2FycmF5YnVmZmVyKGN0eCwgYXJndlswXSkpCiAgICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsqLwoKICBpZigoZGF0YSA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSkpKSB7CgogICAgaW50NjRfdCBvZmZzZXQgPSAwLCBsZW5ndGggPSBsZW47CgogICAgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKQogICAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYXJndlsxXSk7CgogICAgaWYoYXJnYyA+PSAzICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMl0pKQogICAgICBKU19Ub0ludDY0KGN0eCwgJmxlbmd0aCwgYXJndlsyXSk7CgogICAgSlNWYWx1ZSB2YWx1ZSA9IEpTX0R1cFZhbHVlKGN0eCwgYXJndlswXSk7CiAgICBKU09iamVjdCogb2JqID0gSlNfVkFMVUVfR0VUX09CSih2YWx1ZSk7CiAgICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGRhdGEgKyBvZmZzZXQsIE1JTl9OVU0obGVuLCBsZW5ndGgpLCBqc19hcnJheWJ1ZmZlcl9mcmVlX2Z1bmMsICh2b2lkKilvYmosIEZBTFNFKTsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfcmVzaXplYXJyYXlidWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU09iamVjdCogb2JqOwogIEpTQXJyYXlCdWZmZXIqIGFycmF5YnVmOwogIHVpbnQ2NF90IG5ld2xlbjsKCiAgaWYoIWpzX2lzX2FycmF5YnVmZmVyKGN0eCwgYXJndlswXSkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIik7CgogIG9iaiA9IEpTX1ZBTFVFX0dFVF9PQkooYXJndlswXSk7CiAgYXJyYXlidWYgPSBvYmotPnUuYXJyYXlfYnVmZmVyOwogIEpTX1RvSW5kZXgoY3R4LCAmbmV3bGVuLCBhcmd2WzFdKTsKCiAgaWYoYXJyYXlidWYtPnNoYXJlZCkKICAgIHJldCA9IEpTX1Rocm93VHlwZUVycm9yKGN0eCwgIkFycmF5QnVmZmVyIG11c3Qgbm90IGJlIHNoYXJlZCIpOwogIGVsc2UgaWYoYXJyYXlidWYtPnNoYXJlZCkKICAgIHJldCA9IEpTX1Rocm93VHlwZUVycm9yKGN0eCwgIkFycmF5QnVmZmVyIG11c3QgaGF2ZSBvcGFxdWUgPT0gMCIpOwogIGVsc2UgewogICAgYXJyYXlidWYtPmRhdGEgPSBqc19yZWFsbG9jKGN0eCwgYXJyYXlidWYtPmRhdGEsIG5ld2xlbik7CiAgICBhcnJheWJ1Zi0+Ynl0ZV9sZW5ndGggPSBuZXdsZW47CgogICAgcmV0ID0gSlNfTUtQVFIoSlNfVEFHX09CSkVDVCwgb2JqKTsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfY29uY2F0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaW50IGk7CiAgc2l6ZV90IHRvdGFsX2xlbiA9IDAsIHBvcyA9IDA7CiAgdWludDhfdCogYnVmOwogIElucHV0QnVmZmVyKiBidWZmZXJzID0ganNfbWFsbG9jeihjdHgsIHNpemVvZihJbnB1dEJ1ZmZlcikgKiBhcmdjKTsKICBmb3IoaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIGJ1ZmZlcnNbaV0gPSBqc19pbnB1dF9idWZmZXIoY3R4LCBhcmd2W2ldKTsKICAgIGlmKCFidWZmZXJzW2ldLmRhdGEpIHsKICAgICAgcmV0ID0gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgaXMgbm90IEFycmF5QnVmZmVyIiwgaSArIDEpOwogICAgICBnb3RvIGZhaWw7CiAgICB9CiAgICB0b3RhbF9sZW4gKz0gYnVmZmVyc1tpXS5zaXplOwogIH0KICBidWYgPSBqc19tYWxsb2MoY3R4LCB0b3RhbF9sZW4pOwogIGZvcihpID0gMDsgaSA8IGFyZ2M7IGkrKykgewogICAgbWVtY3B5KCZidWZbcG9zXSwgYnVmZmVyc1tpXS5kYXRhLCBidWZmZXJzW2ldLnNpemUpOwogICAgcG9zICs9IGJ1ZmZlcnNbaV0uc2l6ZTsKICB9CiAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBidWYsIHRvdGFsX2xlbiwganNfcG9pbnRlcl9mcmVlX2Z1bmMsIDAsIEZBTFNFKTsKZmFpbDoKICBmb3IoaSA9IDA7IGkgPCBhcmdjOyBpKyspCiAgICBpZihidWZmZXJzW2ldLmRhdGEpCiAgICAgIGlucHV0X2J1ZmZlcl9mcmVlKCZidWZmZXJzW2ldLCBjdHgpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfc2VhcmNoYXJyYXlidWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBNZW1vcnlCbG9jayBoYXlzdGFjaywgbmVlZGxlLCBtYXNrOwogIHNpemVfdCBuX3NpemUsIGhfZW5kOwoKICBpZighYmxvY2tfYXJyYXlidWZmZXIoJmhheXN0YWNrLCBhcmd2WzBdLCBjdHgpKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgKGhheXN0YWNrKSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIik7CiAgaWYoIWJsb2NrX2FycmF5YnVmZmVyKCZuZWVkbGUsIGFyZ3ZbMV0sIGN0eCkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMiAoaGF5c3RhY2spIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKICBpZihhcmdjIDwgMykgewogICAgdWludDhfdCogcHRyOwogICAgcHRyZGlmZl90IG9mczsKCiAgICBpZihuZWVkbGUuc2l6ZSA8PSBoYXlzdGFjay5zaXplICYmIChwdHIgPSBtZW1tZW0oaGF5c3RhY2suYmFzZSwgaGF5c3RhY2suc2l6ZSwgbmVlZGxlLmJhc2UsIG5lZWRsZS5zaXplKSkpIHsKICAgICAgb2ZzID0gcHRyIC0gaGF5c3RhY2suYmFzZTsKICAgICAgcmV0dXJuIEpTX05ld0ludDY0KGN0eCwgb2ZzKTsKICAgIH0KCiAgICByZXR1cm4gSlNfTlVMTDsKICB9CgogIGlmKCFibG9ja19hcnJheWJ1ZmZlcigmbWFzaywgYXJndlsyXSwgY3R4KSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAzIChtYXNrKSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIik7CgogIG5fc2l6ZSA9IE1JTl9OVU0obmVlZGxlLnNpemUsIG1hc2suc2l6ZSk7CiAgaF9lbmQgPSBoYXlzdGFjay5zaXplIC0gbl9zaXplOwoKICAvLyBuYWl2ZSBzZWFyY2hpbmcgYWxnb3JpdGhtIChzbG93KQogIGZvcihzaXplX3QgaSA9IDA7IGkgPCBoX2VuZDsgaSsrKSB7CiAgICBpbnQgZm91bmQgPSAxOwogICAgZm9yKHNpemVfdCBqID0gMDsgaiA8IG5fc2l6ZTsgaisrKSB7CiAgICAgIGlmKChoYXlzdGFjay5iYXNlW2kgKyBqXSBeIG5lZWRsZS5iYXNlW2pdKSAmIG1hc2suYmFzZVtqXSkgewogICAgICAgIGZvdW5kID0gMDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgaWYoZm91bmQpIHsKICAgICAgLypmb3Ioc2l6ZV90IGogPSAwOyBqIDwgbl9zaXplOyBqKyspIHsKICAgICAgICB1aW50OF90IHhvcnZhbCA9IGhheXN0YWNrLmJhc2VbaSArIGpdIF4gbmVlZGxlLmJhc2Vbal07CiAgICAgICAgcHJpbnRmKCJAKCV6dSArICV6dSk7ICIsIGksIGopOwogICAgICAgIHByaW50ZigiJTAyeCBYT1IgJTAyeCA9ICUwMng7ICIsIGhheXN0YWNrLmJhc2VbaSArIGpdLCBuZWVkbGUuYmFzZVtqXSwgeG9ydmFsKTsKICAgICAgICBwcmludGYoIiUwMnggQU5EICUwMnggPSAlMDJ4XG4iLCB4b3J2YWwsIG1hc2suYmFzZVtqXSwgeG9ydmFsICYgbWFzay5iYXNlW2pdKTsKICAgICAgfSovCgogICAgICByZXR1cm4gSlNfTmV3SW50NjQoY3R4LCAoaW50NjRfdClpKTsKICAgIH0KICB9CgogIHJldHVybiBKU19OVUxMOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX21lbWNweShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIE1lbW9yeUJsb2NrIGRzdCA9IHswLCAwfSwgc3JjID0gezAsIDB9OwogIE9mZnNldExlbmd0aCBzX29mZnMsIGRfb2ZmczsKCiAgaW50IGkgPSAwOwoKICBpZighYmxvY2tfYXJyYXlidWZmZXIoJmRzdCwgYXJndlswXSwgY3R4KSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIChkc3QpIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIiKTsKCiAgaSsrOwoKICBpICs9IGpzX29mZnNldF9sZW5ndGgoY3R4LCBkc3Quc2l6ZSwgYXJnYyAtIGksIGFyZ3YgKyBpLCAmc19vZmZzKTsKCiAgLyogZHN0LmJhc2UgKz0gc19vZmZzLm9mZnNldDsKICAgZHN0LnNpemUgLT0gc19vZmZzLm9mZnNldDsKICAgZHN0LnNpemUgPSBNSU5fTlVNKGRzdC5zaXplLCBzX29mZnMubGVuZ3RoKTsqLwoKICBpZihpID09IGFyZ2MgfHwgIWJsb2NrX2FycmF5YnVmZmVyKCZzcmMsIGFyZ3ZbaV0sIGN0eCkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgJWQgKHNyYykgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIsIGkgKyAxKTsKCiAgaSsrOwoKICBpICs9IGpzX29mZnNldF9sZW5ndGgoY3R4LCBkc3Quc2l6ZSwgYXJnYyAtIGksIGFyZ3YgKyBpLCAmZF9vZmZzKTsKCiAgLyogc3JjLmJhc2UgKz0gZF9vZmZzLm9mZnNldDsKICAgc3JjLnNpemUgLT0gZF9vZmZzLm9mZnNldDsKICAgc3JjLnNpemUgPSBNSU5fTlVNKHNyYy5zaXplLCBkX29mZnMubGVuZ3RoKTsqLwoKICB7CiAgICBzaXplX3QgbiA9IE1JTl9OVU0ob2Zmc2V0X3NpemUoJmRfb2ZmcywgYmxvY2tfbGVuZ3RoKCZkc3QpKSwgb2Zmc2V0X3NpemUoJnNfb2ZmcywgYmxvY2tfbGVuZ3RoKCZzcmMpKSk7CgogICAgaWYobikKICAgICAgbWVtY3B5KG9mZnNldF9kYXRhKCZkX29mZnMsIGJsb2NrX2RhdGEoJmRzdCkpLCBvZmZzZXRfZGF0YSgmc19vZmZzLCBibG9ja19kYXRhKCZzcmMpKSwgbik7CgogICAgcmV0dXJuIEpTX05ld0ludDY0KGN0eCwgbik7CiAgfQp9CgojaWZkZWYgSEFWRV9GTUVNT1BFTgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2ZtZW1vcGVuKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgdWludDhfdCogcHRyOwogIHNpemVfdCBsZW47CiAgaW50IGkgPSAwOwogIGNvbnN0IGNoYXIqIG1vZGU7CgogIGlmKCEocHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmbGVuLCBhcmd2WzBdKSkpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSAoZHN0KSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIik7CgogIGkrKzsKCiAgaWYoaSArIDEgPCBhcmdjICYmIEpTX0lzTnVtYmVyKGFyZ3ZbaV0pKSB7CiAgICBpbnQ2NF90IG9mZnNldCA9IDA7CiAgICBKU19Ub0ludDY0KGN0eCwgJm9mZnNldCwgYXJndltpKytdKTsKICAgIG9mZnNldCA9IE1JTl9OVU0obGVuLCBvZmZzZXQpOwoKICAgIHB0ciArPSBvZmZzZXQ7CiAgICBsZW4gLT0gb2Zmc2V0OwogIH0KCiAgaWYoaSArIDEgPCBhcmdjICYmIEpTX0lzTnVtYmVyKGFyZ3ZbaV0pKSB7CiAgICBpbnQ2NF90IGxlbmd0aCA9IDA7CiAgICBpZighSlNfVG9JbnQ2NChjdHgsICZsZW5ndGgsIGFyZ3ZbaSsrXSkpCiAgICAgIGxlbiA9IE1JTl9OVU0obGVuLCBsZW5ndGgpOwogIH0KCiAgewogICAgSlNDbGFzc0lEIGNsYXNzX2lkID0ganNfY2xhc3NfZmluZChjdHgsICJGSUxFIik7CiAgICBKU1ZhbHVlIG9iaiwgcHJvdG8gPSBKU19HZXRDbGFzc1Byb3RvKGN0eCwgY2xhc3NfaWQpOwogICAgRklMRSogZnA7CiAgICBKU1NUREZpbGUqIGZpbGU7CiAgICBtb2RlID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CgogICAgZmlsZSA9IGpzX21hbGxvYyhjdHgsIHNpemVvZihKU1NUREZpbGUpKTsKICAgICpmaWxlID0gKEpTU1RERmlsZSl7MCwgVFJVRSwgRkFMU0V9OwoKICAgIGZpbGUtPmYgPSBmbWVtb3BlbihwdHIsIGxlbiwgbW9kZSk7CgogICAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBjbGFzc19pZCk7CgogICAgSlNfU2V0T3BhcXVlKG9iaiwgZmlsZSk7CgogICAgcmV0dXJuIG9iajsKICB9Cn0KI2VuZGlmCgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2dldHBlcmZvcm1hbmNlY291bnRlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIHN0cnVjdCB0aW1lc3BlYyB0czsKCiAgY2xvY2tfZ2V0dGltZShDTE9DS19NT05PVE9OSUMsICZ0cyk7CgogIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgKGRvdWJsZSl0cy50dl9zZWMgKiAxMDAwICsgKChkb3VibGUpdHMudHZfbnNlYyAvIDFlMDYpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19wcm9jbGluayhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgRHluQnVmIGRidWYgPSB7MH07CiAgY29uc3QgY2hhciogbGluazsKICBjaGFyIHBhdGhbMjU2XTsKICBzaXplX3QgbjsKICBzc2l6ZV90IHI7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBGVU5DX0dFVEVYRUNVVEFCTEU6IGxpbmsgPSAiZXhlIjsgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VUQ1dEOiBsaW5rID0gImN3ZCI7IGJyZWFrOwogICAgY2FzZSBGVU5DX0dFVFJPT1Q6IGxpbmsgPSAicm9vdCI7IGJyZWFrOwogICAgY2FzZSBGVU5DX0dFVEZEOiBsaW5rID0gImZkLyI7IGJyZWFrOwogIH0KCiAgbiA9IHNucHJpbnRmKHBhdGgsIHNpemVvZihwYXRoKSwgIi9wcm9jL3NlbGYvJXMiLCBsaW5rKTsKCiAgaWYobWFnaWMgPT0gRlVOQ19HRVRGRCkgewogICAgaW50MzJfdCBmZDsKICAgIGlmKGFyZ2MgPCAxIHx8ICFKU19Jc051bWJlcihhcmd2WzBdKSkKICAgICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDEgbXVzdCBiZSBOdW1iZXIiKTsKCiAgICBKU19Ub0ludDMyKGN0eCwgJmZkLCBhcmd2WzBdKTsKICAgIHNucHJpbnRmKCZwYXRoW25dLCBzaXplb2YocGF0aCkgLSBuLCAiJWQiLCBmZCk7CiAgfQoKICBqc19kYnVmX2luaXQoY3R4LCAmZGJ1Zik7CgogIGlmKChyID0gcGF0aF9yZWFkbGluayhwYXRoLCAmZGJ1ZikpID4gMCkgewogICAgcmV0ID0gZGJ1Zl90b3N0cmluZ19mcmVlKCZkYnVmLCBjdHgpOwogIH0gZWxzZSBpZihyIDwgMCkgewogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19wcm9jcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgRHluQnVmIGRidWYgPSB7MH07CiAgc3NpemVfdCBpLCBqID0gMCwgc2l6ZSwgbjsKICBjb25zdCBjaGFyKiBmaWxlOwogIGNoYXIgc2VwID0gJ1xuJzsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIEZVTkNfR0VUQ09NTUFORExJTkU6CiAgICAgIGZpbGUgPSAiL3Byb2Mvc2VsZi9jbWRsaW5lIjsKICAgICAgc2VwID0gJ1wwJzsKICAgICAgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VUUFJPQ01BUFM6CiAgICAgIGZpbGUgPSAiL3Byb2Mvc2VsZi9tYXBzIjsKICAgICAgc2VwID0gJ1xuJzsKICAgICAgYnJlYWs7CiAgICBjYXNlIEZVTkNfR0VUUFJPQ01PVU5UUzoKICAgICAgZmlsZSA9ICIvcHJvYy9zZWxmL21vdW50cyI7CiAgICAgIHNlcCA9ICdcbic7CiAgICAgIGJyZWFrOwogICAgY2FzZSBGVU5DX0dFVFBST0NTVEFUOgogICAgICBmaWxlID0gIi9wcm9jL3NlbGYvc3RhdCI7CiAgICAgIHNlcCA9ICcgJzsKICAgICAgYnJlYWs7CiAgfQoKICBqc19kYnVmX2luaXQoY3R4LCAmZGJ1Zik7CgogIGlmKChzaXplID0gZGJ1Zl9sb2FkKCZkYnVmLCBmaWxlKSkgPiAwKSB7CgogICAgd2hpbGUoc2l6ZSA+IDAgJiYgZGJ1Zi5idWZbc2l6ZSAtIDFdID09ICdcbicpIHNpemUtLTsKCiAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwogICAgZm9yKGkgPSAwOyBpIDwgc2l6ZTsgaSArPSBuICsgMSkgewogICAgICBzaXplX3QgbGVuOwogICAgICBsZW4gPSBuID0gYnl0ZV9jaHIoJmRidWYuYnVmW2ldLCBzaXplIC0gaSwgc2VwKTsKICAgICAgd2hpbGUobGVuID4gMCAmJiBpc193aGl0ZXNwYWNlX2NoYXIoZGJ1Zi5idWZbaSArIGxlbiAtIDFdKSkgbGVuLS07CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBqKyssIEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKikmZGJ1Zi5idWZbaV0sIGxlbikpOwogICAgfQogIH0KCiAgZGJ1Zl9mcmVlKCZkYnVmKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19nZXRwcm90b3R5cGVjaGFpbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcHJvdG8sIHJldDsKICBzaXplX3QgaiA9IDA7CgogIGlmKGFyZ2MgPCAxIHx8ICFKU19Jc09iamVjdChhcmd2WzBdKSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIG9iamVjdCBleGNlcHRlZCIpOwoKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBmb3IocHJvdG8gPSBhcmd2WzBdOyAhSlNfSXNFeGNlcHRpb24ocHJvdG8pOyBwcm90byA9IEpTX0dldFByb3RvdHlwZShjdHgsIHByb3RvKSkgewoKICAgIGlmKGogPiAwKQogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaiAtIDEsIHByb3RvKTsKICAgIGorKzsKICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfaHJ0aW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgc3RydWN0IHRpbWVzcGVjIHRzOwogIEpTVmFsdWUgcmV0OwoKICBjbG9ja19nZXR0aW1lKENMT0NLX01PTk9UT05JQywgJnRzKTsKCiAgaWYoYXJnYyA+PSAxICYmIEpTX0lzQXJyYXkoY3R4LCBhcmd2WzBdKSkgewogICAgaW50NjRfdCBzZWMsIG5zZWM7CiAgICBKU1ZhbHVlIHBzZWMsIHBuc2VjOwoKICAgIHBzZWMgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbMF0sIDApOwogICAgcG5zZWMgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbMF0sIDEpOwoKICAgIEpTX1RvSW50NjQoY3R4LCAmc2VjLCBwc2VjKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmbnNlYywgcG5zZWMpOwogICAgSlNfRnJlZVZhbHVlKGN0eCwgcHNlYyk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBwbnNlYyk7CgogICAgaWYobnNlYyA+IHRzLnR2X25zZWMpIHsKICAgICAgdHMudHZfc2VjIC09IDE7CiAgICAgIHRzLnR2X25zZWMgKz0gMTAwMDAwMDAwMDsKICAgIH0KCiAgICB0cy50dl9zZWMgLT0gc2VjOwogICAgdHMudHZfbnNlYyAtPSBuc2VjOwogIH0KCiAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMCwgSlNfTmV3SW50NjQoY3R4LCB0cy50dl9zZWMpKTsKICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMSwgSlNfTmV3SW50NjQoY3R4LCB0cy50dl9uc2VjKSk7CgogIHJldHVybiByZXQ7Cn0KCi8qc3RhdGljIEpTVmFsdWUKanNfbWlzY19yZWFscGF0aChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIGNoYXIgcmVzb2x2ZWRbUEFUSF9NQVhdOwogIGNvbnN0IGNoYXIqIHBhdGggPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICBjaGFyKiByZXN1bHQ7CgojaWZuZGVmIF9fd2FzaV9fCiAgaWYoKHJlc3VsdCA9IHJlYWxwYXRoKHBhdGgsIHJlc29sdmVkKSkpCiNlbmRpZgogICAgcmV0dXJuIEpTX05ld1N0cmluZyhjdHgsIHJlc3VsdCk7CiAgcmV0dXJuIEpTX05VTEw7Cn0qLwoKI2lmZGVmIEhBVkVfRk5NQVRDSApzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2ZubWF0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzaXplX3QgcGxlbiwgc2xlbjsKICBpbnQzMl90IGZsYWdzID0gMCwgcmV0OwoKICBjb25zdCBjaGFyKiBwYXR0ZXJuID0gSlNfVG9DU3RyaW5nTGVuKGN0eCwgJnBsZW4sIGFyZ3ZbMF0pOwogIGNvbnN0IGNoYXIqIHN0cmluZyA9IEpTX1RvQ1N0cmluZ0xlbihjdHgsICZzbGVuLCBhcmd2WzFdKTsKCiAgaWYoYXJnYyA+PSAzKQogICAgSlNfVG9JbnQzMihjdHgsICZmbGFncywgYXJndlsyXSk7CgogIHJldCA9IHBhdGhfZm5tYXRjaChwYXR0ZXJuLCBwbGVuLCBzdHJpbmcsIHNsZW4sIGZsYWdzKTsKICBKU19GcmVlQ1N0cmluZyhjdHgsIHBhdHRlcm4pOwogIEpTX0ZyZWVDU3RyaW5nKGN0eCwgc3RyaW5nKTsKICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsICFyZXQpOwp9CiNlbmRpZgoKI2lmZGVmIEhBVkVfR0xPQgpzdGF0aWMgSlNDb250ZXh0KiBqc19taXNjX2dsb2JfZXJyZnVuY19jdHg7CnN0YXRpYyBKU1ZhbHVlQ29uc3QganNfbWlzY19nbG9iX2VycmZ1bmNfZm47CgpzdGF0aWMgaW50CmpzX21pc2NfZ2xvYl9lcnJmdW5jKGNvbnN0IGNoYXIqIGVwYXRoLCBpbnQgZWVycm5vKSB7CiAgSlNDb250ZXh0KiBjdHg7CgogIGlmKChjdHggPSBqc19taXNjX2dsb2JfZXJyZnVuY19jdHgpKSB7CiAgICBKU1ZhbHVlQ29uc3QgYXJndlsyXSA9IHtKU19OZXdTdHJpbmcoY3R4LCBlcGF0aCksIEpTX05ld0ludDMyKGN0eCwgZWVycm5vKX07CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgSlNfQ2FsbChjdHgsIGpzX21pc2NfZ2xvYl9lcnJmdW5jX2ZuLCBKU19OVUxMLCAyLCBhcmd2KSk7CgogICAgSlNfRnJlZVZhbHVlKGN0eCwgYXJndlswXSk7CiAgICBKU19GcmVlVmFsdWUoY3R4LCBhcmd2WzFdKTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZ2xvYihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIHNpemVfdCBzdGFydCA9IDAsIGk7CiAgaW50MzJfdCBmbGFncyA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgZ2xvYl90IGcgPSB7MCwgMCwgMH07CiAgaW50IHJlc3VsdDsKICBCT09MIGFycmF5X2FyZyA9IEZBTFNFOwogIGNvbnN0IGNoYXIqIHBhdHRlcm4gPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgaWYoYXJnYyA+PSAyKQogICAgSlNfVG9JbnQzMihjdHgsICZmbGFncywgYXJndlsxXSk7CgogIGlmKChhcnJheV9hcmcgPSAoYXJnYyA+PSA0ICYmIEpTX0lzQXJyYXkoY3R4LCBhcmd2WzNdKSkpKSB7CiAgICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbM10pOwoKICAgIGlmKGZsYWdzICYgR0xPQl9BUFBFTkQpCiAgICAgIHN0YXJ0ID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgcmV0KTsKICB9IGVsc2UgewogICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICB9CgogIGpzX21pc2NfZ2xvYl9lcnJmdW5jX2N0eCA9IGN0eDsKICBqc19taXNjX2dsb2JfZXJyZnVuY19mbiA9IGFyZ2MgPj0gMyA/IGFyZ3ZbMl0gOiBKU19VTkRFRklORUQ7CgogIGlmKChyZXN1bHQgPSBnbG9iKHBhdHRlcm4sIGZsYWdzICYgKH4oR0xPQl9BUFBFTkQgfCBHTE9CX0RPT0ZGUykpLCBqc19taXNjX2dsb2JfZXJyZnVuYywgJmcpKSA9PSAwKSB7CiAgICBmb3IoaSA9IDA7IGkgPCBnLmdsX3BhdGhjOyBpKyspIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpICsgc3RhcnQsIEpTX05ld1N0cmluZyhjdHgsIGcuZ2xfcGF0aHZbaV0pKTsKCiAgICBnbG9iZnJlZSgmZyk7CiAgfQoKICBpZihhcnJheV9hcmcgfHwgcmVzdWx0KSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCByZXN1bHQpOwogIH0KCiAgSlNfRnJlZVZhbHVlKGN0eCwganNfbWlzY19nbG9iX2VycmZ1bmNfZm4pOwogIGpzX21pc2NfZ2xvYl9lcnJmdW5jX2N0eCA9IDA7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBwYXR0ZXJuKTsKICByZXR1cm4gcmV0Owp9CiNlbmRpZgoKI2lmZGVmIEhBVkVfV09SREVYUApzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3dvcmRleHAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBzaXplX3Qgc3RhcnQgPSAwLCBpOwogIGludDMyX3QgZmxhZ3MgPSAwOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIHdvcmRleHBfdCB3ZSA9IHswLCAwLCAwfTsKICBpbnQgcmVzdWx0OwogIEJPT0wgYXJyYXlfYXJnID0gRkFMU0U7CiAgY29uc3QgY2hhciogcyA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwoKICBpZihhcmdjID49IDMpCiAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzJdKTsKCiAgaWYoKGFycmF5X2FyZyA9IChhcmdjID49IDIgJiYgSlNfSXNBcnJheShjdHgsIGFyZ3ZbMV0pKSkpIHsKICAgIHJldCA9IEpTX0R1cFZhbHVlKGN0eCwgYXJndlsxXSk7CgogICAgaWYoZmxhZ3MgJiBXUkRFX0FQUEVORCkKICAgICAgc3RhcnQgPSBqc19hcnJheV9sZW5ndGgoY3R4LCByZXQpOwogIH0gZWxzZSB7CiAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwogIH0KCiAgaWYoKHJlc3VsdCA9IHdvcmRleHAocywgJndlLCBmbGFncyAmICh+KFdSREVfQVBQRU5EIHwgV1JERV9ET09GRlMgfCBXUkRFX1JFVVNFKSkpKSA9PSAwKSB7CiAgICBmb3IoaSA9IDA7IGkgPCB3ZS53ZV93b3JkYzsgaSsrKSBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSArIHN0YXJ0LCBKU19OZXdTdHJpbmcoY3R4LCB3ZS53ZV93b3JkdltpXSkpOwoKICAgIHdvcmRmcmVlKCZ3ZSk7CiAgfQoKICBpZihhcnJheV9hcmcgfHwgcmVzdWx0KSB7CiAgICBKU19GcmVlVmFsdWUoY3R4LCByZXQpOwogICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCByZXN1bHQpOwogIH0KCiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzKTsKICByZXR1cm4gcmV0Owp9CiNlbmRpZgoKI2lmbmRlZiBfV0lOMzIKc3RhdGljIEpTVmFsdWUKanNfbWlzY191bmFtZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIHN0cnVjdCB1dHNuYW1lIHVuOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZih1bmFtZSgmdW4pICE9IC0xKSB7CiAgICByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgInN5c25hbWUiLCBKU19OZXdTdHJpbmcoY3R4LCB1bi5zeXNuYW1lKSk7CiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgIm5vZGVuYW1lIiwgSlNfTmV3U3RyaW5nKGN0eCwgdW4ubm9kZW5hbWUpKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAicmVsZWFzZSIsIEpTX05ld1N0cmluZyhjdHgsIHVuLnJlbGVhc2UpKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAidmVyc2lvbiIsIEpTX05ld1N0cmluZyhjdHgsIHVuLnZlcnNpb24pKTsKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibWFjaGluZSIsIEpTX05ld1N0cmluZyhjdHgsIHVuLm1hY2hpbmUpKTsKICB9CgogIHJldHVybiByZXQ7Cn0KI2VuZGlmCgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2J0b2EoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldDsKICBJbnB1dEJ1ZmZlciBpbnB1dCA9IGpzX2lucHV0X2NoYXJzKGN0eCwgYXJndlswXSk7CiAgc2l6ZV90IGVuY2xlbiA9IGI2NF9nZXRfZW5jb2RlZF9idWZmZXJfc2l6ZShpbnB1dC5zaXplKTsKICB1aW50OF90KiBlbmNidWYgPSBqc19tYWxsb2MoY3R4LCBlbmNsZW4pOwoKICBiNjRfZW5jb2RlKGlucHV0LmRhdGEsIGlucHV0LnNpemUsIGVuY2J1Zik7CgogIHJldCA9IEpTX05ld1N0cmluZ0xlbihjdHgsIChjb25zdCBjaGFyKillbmNidWYsIGVuY2xlbik7CiAganNfZnJlZShjdHgsIGVuY2J1Zik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19hdG9iKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIHNpemVfdCBkZWNsZW4gPSBiNjRfZ2V0X2RlY29kZWRfYnVmZmVyX3NpemUoaW5wdXQuc2l6ZSk7CiAgdWludDhfdCogZGVjYnVmID0ganNfbWFsbG9jKGN0eCwgZGVjbGVuKTsKCiAgYjY0X2RlY29kZShpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBkZWNidWYpOwoKICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCAoY29uc3QgdWludDhfdCopZGVjYnVmLCBkZWNsZW4pOwogIGpzX2ZyZWUoY3R4LCBkZWNidWYpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfY29tcGlsZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgY29uc3QgY2hhciogZmlsZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogIEJPT0wgaXNfbW9kID0gRkFMU0U7CiAgdWludDhfdCogYnVmOwogIHNpemVfdCBsZW47CiAgaW50MzJfdCBmbGFncyA9IEpTX0VWQUxfVFlQRV9HTE9CQUw7CgogIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkgewogICAgSlNfVG9JbnQzMihjdHgsICZmbGFncywgYXJndlsxXSk7CiAgfSBlbHNlIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc0Jvb2woYXJndlsxXSkpIHsKICAgIGlmKEpTX1RvQm9vbChjdHgsIGFyZ3ZbMV0pKQogICAgICBmbGFncyB8PSBKU19FVkFMX1RZUEVfTU9EVUxFOwogIH0KICBpc19tb2QgPSAhIShmbGFncyAmIEpTX0VWQUxfVFlQRV9NT0RVTEUpOwogIGlmKHN0cl9lbmRzKGZpbGUsICIuanNtIikpCiAgICBpc19tb2QgPSBUUlVFOwogIGlmKChidWYgPSBqc19sb2FkX2ZpbGUoY3R4LCAmbGVuLCBmaWxlKSkpIHsKICAgIGlmKCFpc19tb2QgJiYgSlNfRGV0ZWN0TW9kdWxlKChjb25zdCBjaGFyKilidWYsIGxlbikpCiAgICAgIGlzX21vZCA9IFRSVUU7CiAgICBmbGFncyB8PSAoaXNfbW9kID8gSlNfRVZBTF9UWVBFX01PRFVMRSA6IEpTX0VWQUxfVFlQRV9HTE9CQUwpOwogICAgcmV0ID0gSlNfRXZhbChjdHgsIChjb25zdCBjaGFyKilidWYsIGxlbiwgZmlsZSwgZmxhZ3MgfCAoaXNfbW9kID8gSlNfRVZBTF9GTEFHX0NPTVBJTEVfT05MWSA6IDApKTsKCiAgICBpZihpc19tb2QgJiYgIShmbGFncyAmIEpTX0VWQUxfRkxBR19DT01QSUxFX09OTFkpKSB7CiAgICAgIHJldCA9IEpTX0V2YWxGdW5jdGlvbihjdHgsIHJldCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIHJldCA9IEpTX1Rocm93UmVmZXJlbmNlRXJyb3IoY3R4LCAiY291bGQgbm90IGxvYWQgJyVzJzogJXMiLCBmaWxlLCBzdHJlcnJvcihlcnJubykpOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX3dyaXRlX29iamVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIHNpemVfdCBzaXplOwogIHVpbnQ4X3QqIGJ5dGVjb2RlOwoKICBpZigoYnl0ZWNvZGUgPSBKU19Xcml0ZU9iamVjdChjdHgsICZzaXplLCBhcmd2WzBdLCBKU19XUklURV9PQkpfQllURUNPREUpKSkgewogICAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBieXRlY29kZSwgc2l6ZSwganNfcG9pbnRlcl9mcmVlX2Z1bmMsIDAsIEZBTFNFKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19yZWFkX29iamVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIElucHV0QnVmZmVyIGlucHV0ID0ganNfaW5wdXRfY2hhcnMoY3R4LCBhcmd2WzBdKTsKCiAgcmV0dXJuIEpTX1JlYWRPYmplY3QoY3R4LCBpbnB1dC5kYXRhLCBpbnB1dC5zaXplLCBKU19SRUFEX09CSl9CWVRFQ09ERSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfZ2V0eChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CgogIGludDMyX3QgcmV0ID0gMDsKCiAgc3dpdGNoKG1hZ2ljKSB7CiNpZm5kZWYgX193YXNpX18KICAgIGNhc2UgRlVOQ19HRVRQSUQ6IHsKICAgICAgcmV0ID0gZ2V0cGlkKCk7CiAgICAgIGJyZWFrOwogICAgfQojZW5kaWYKI2lmICFkZWZpbmVkKF9fd2FzaV9fKSAmJiAhZGVmaW5lZChfV0lOMzIpCiAgICBjYXNlIEZVTkNfR0VUUFBJRDogewogICAgICByZXQgPSBnZXRwcGlkKCk7CiAgICAgIGJyZWFrOwogICAgfQojZW5kaWYKICAgIGNhc2UgRlVOQ19HRVRTSUQ6IHsKICAgICAgLy8gc3JldCA9IGdldHNpZCgpOwogICAgICBicmVhazsKICAgIH0KI2lmICFkZWZpbmVkKF9fd2FzaV9fKSAmJiAhZGVmaW5lZChfV0lOMzIpCiAgICBjYXNlIEZVTkNfR0VUVUlEOiB7CiAgICAgIHJldCA9IGdldHVpZCgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19HRVRHSUQ6IHsKICAgICAgcmV0ID0gZ2V0Z2lkKCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX0dFVEVVSUQ6IHsKICAgICAgcmV0ID0gZ2V0ZXVpZCgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19HRVRFR0lEOiB7CiAgICAgIHJldCA9IGdldGVnaWQoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEZVTkNfU0VUVUlEOiB7CiAgICAgIGludDMyX3QgdWlkOwogICAgICBKU19Ub0ludDMyKGN0eCwgJnVpZCwgYXJndlswXSk7CiAgICAgIHJldCA9IHNldHVpZCh1aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19TRVRHSUQ6IHsKICAgICAgaW50MzJfdCBnaWQ7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmZ2lkLCBhcmd2WzBdKTsKICAgICAgcmV0ID0gc2V0Z2lkKGdpZCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX1NFVEVVSUQ6IHsKICAgICAgaW50MzJfdCBldWlkOwogICAgICBKU19Ub0ludDMyKGN0eCwgJmV1aWQsIGFyZ3ZbMF0pOwogICAgICByZXQgPSBzZXRldWlkKGV1aWQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19TRVRFR0lEOiB7CiAgICAgIGludDMyX3QgZWdpZDsKICAgICAgSlNfVG9JbnQzMihjdHgsICZlZ2lkLCBhcmd2WzBdKTsKICAgICAgcmV0ID0gc2V0ZWdpZChlZ2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiNlbmRpZgogIH0KICBpZihyZXQgPT0gLTEpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiVzKCkgZmFpbGVkOiAlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoY29uc3QgY2hhciogY29uc3RbXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2V0cGlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRwcGlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRzaWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImdldHVpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZ2V0Z2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRldWlkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJnZXRlZ2lkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZXR1aWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNldGdpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2V0ZXVpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2V0ZWdpZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pW21hZ2ljIC0gRlVOQ19HRVRQSURdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlcnJvcihlcnJubykpOwoKICByZXR1cm4gSlNfTmV3SW50MzIoY3R4LCByZXQpOwp9CgplbnVtIHsKICBWQUxVRV9UWVBFID0gMCwKICBWQUxVRV9UQUcsCiAgVkFMVUVfUFRSLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfbWlzY192YWx1ZXR5cGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgVkFMVUVfVFlQRTogewogICAgICBjb25zdCBjaGFyKiB0eXBlc3RyID0ganNfdmFsdWVfdHlwZXN0cihjdHgsIGFyZ3ZbMF0pOwogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCB0eXBlc3RyKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFZBTFVFX1RBRzogewogICAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIEpTX1ZBTFVFX0dFVF9UQUcoYXJndlswXSkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgVkFMVUVfUFRSOiB7CiAgICAgIHZvaWQqIHB0ciA9IEpTX1ZBTFVFX0dFVF9QVFIoYXJndlswXSk7CiAgICAgIGNoYXIgYnVmWzEyOF07CgogICAgICBzbnByaW50ZihidWYsIHNpemVvZihidWYpLCAiJXAiLCBwdHIpOwogICAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBidWYpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19ldmFsYmluYXJ5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgQk9PTCBsb2FkX29ubHkgPSBGQUxTRTsKICBKU1ZhbHVlQ29uc3Qgb2JqOwogIGludCB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKGFyZ3ZbMF0pOwogIGlmKGFyZ2MgPj0gMikKICAgIGxvYWRfb25seSA9IEpTX1RvQm9vbChjdHgsIGFyZ3ZbMV0pOwoKICBpZih0YWcgIT0gSlNfVEFHX01PRFVMRSAmJiB0YWcgIT0gSlNfVEFHX0ZVTkNUSU9OX0JZVEVDT0RFKQogICAgb2JqID0ganNfbWlzY19yZWFkX29iamVjdChjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2KTsKICBlbHNlCiAgICBvYmogPSBhcmd2WzBdOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICByZXR1cm4gb2JqOwoKICB0YWcgPSBKU19WQUxVRV9HRVRfVEFHKG9iaik7CgogIGlmKHRhZyAhPSBKU19UQUdfTU9EVUxFICYmIHRhZyAhPSBKU19UQUdfRlVOQ1RJT05fQllURUNPREUpCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAib2JqIGlzIG5vdCBNT0RVTEUgbm9yIEJZVEVDT0RFIik7CgogIGlmKGxvYWRfb25seSkgewogICAgaWYodGFnID09IEpTX1RBR19NT0RVTEUpCiAgICAgIGpzX21vZHVsZV9zZXRfaW1wb3J0X21ldGEoY3R4LCBvYmosIEZBTFNFLCBGQUxTRSk7CiAgfSBlbHNlIHsKICAgIGlmKHRhZyA9PSBKU19UQUdfTU9EVUxFKSB7CiAgICAgIGlmKEpTX1Jlc29sdmVNb2R1bGUoY3R4LCBvYmopIDwgMCkgewogICAgICAgIEpTTW9kdWxlRGVmKiBtID0gSlNfVkFMVUVfR0VUX1BUUihvYmopOwogICAgICAgIGNvbnN0IGNoYXIqIG5hbWUgPSBKU19BdG9tVG9DU3RyaW5nKGN0eCwgbS0+bW9kdWxlX25hbWUpOwogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJGYWlsZWQgcmVzb2x2aW5nIG1vZHVsZSAnJXMnIiwgbmFtZSk7CiAgICAgICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBuYW1lKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0KICAgICAganNfbW9kdWxlX3NldF9pbXBvcnRfbWV0YShjdHgsIG9iaiwgRkFMU0UsIFRSVUUpOwogICAgfQogICAgcmV0ID0gSlNfRXZhbEZ1bmN0aW9uKGN0eCwgb2JqKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19vcGNvZGVfYXJyYXkoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTT3BDb2RlKiBvcGNvZGUpIHsKICBKU1ZhbHVlIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+c2l6ZSkpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdVaW50MzIoY3R4LCBvcGNvZGUtPm5fcG9wKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wdXNoKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDMsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+Zm10KSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDQsIEpTX05ld1N0cmluZyhjdHgsIG9wY29kZS0+bmFtZSkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfb3Bjb2RlX29iamVjdChKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNPcENvZGUqIG9wY29kZSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJzaXplIiwgSlNfTmV3VWludDMyKGN0eCwgb3Bjb2RlLT5zaXplKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJuX3BvcCIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wb3ApKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgIm5fcHVzaCIsIEpTX05ld1VpbnQzMihjdHgsIG9wY29kZS0+bl9wdXNoKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJmbXQiLCBKU19OZXdVaW50MzIoY3R4LCBvcGNvZGUtPmZtdCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibmFtZSIsIEpTX05ld1N0cmluZyhjdHgsIG9wY29kZS0+bmFtZSkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfb3Bjb2RlcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICBzaXplX3QgaSwgaiwgbGVuID0gY291bnRvZihqc19vcGNvZGVzKTsKICBCT09MIGFzX29iamVjdCA9IEZBTFNFOwoKICBpZihhcmdjID49IDEpCiAgICBhc19vYmplY3QgPSBKU19Ub0Jvb2woY3R4LCBhcmd2WzBdKTsKCiAgZm9yKGkgPSAwLCBqID0gMDsgaSA8IGxlbjsgaSsrKSB7CgogICAgaWYoaSA+PSBPUF9URU1QX1NUQVJUICYmIGkgPCBPUF9URU1QX0VORCkKICAgICAgY29udGludWU7CgogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGorKywgKGFzX29iamVjdCA/IGpzX21pc2Nfb3Bjb2RlX29iamVjdCA6IGpzX21pc2Nfb3Bjb2RlX2FycmF5KShjdHgsICZqc19vcGNvZGVzW2ldKSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19taXNjX2dldF9ieXRlY29kZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSkgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgYXJndlswXSkpIHsKICAgIEpTT2JqZWN0KiBvYmogPSBKU19WQUxVRV9HRVRfT0JKKGFyZ3ZbMF0pOwogICAgSlNGdW5jdGlvbkJ5dGVjb2RlKiBmbmJjOwoKICAgIGlmKChmbmJjID0gb2JqLT51LmZ1bmMuZnVuY3Rpb25fYnl0ZWNvZGUpKSB7CiAgICAgIHJldCA9IEpTX05ld0FycmF5QnVmZmVyQ29weShjdHgsIGZuYmMtPmJ5dGVfY29kZV9idWYsIGZuYmMtPmJ5dGVfY29kZV9sZW4pOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKZW51bSB7CiAgQVRPTV9UT19TVFJJTkcgPSAwLAogIEFUT01fVE9fVkFMVUUsCiAgVkFMVUVfVE9fQVRPTSwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfYXRvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBBVE9NX1RPX1NUUklORzogewogICAgICBpbnQzMl90IGF0b207CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmYXRvbSwgYXJndlswXSk7CiAgICAgIHJldCA9IEpTX0F0b21Ub1N0cmluZyhjdHgsIGF0b20pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgQVRPTV9UT19WQUxVRTogewogICAgICBpbnQzMl90IGF0b207CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmYXRvbSwgYXJndlswXSk7CiAgICAgIHJldCA9IEpTX0F0b21Ub1ZhbHVlKGN0eCwgYXRvbSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBWQUxVRV9UT19BVE9NOiB7CiAgICAgIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCBhcmd2WzBdKTsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgYXRvbSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBHRVRfQ0xBU1NfSUQgPSAwLAogIEdFVF9DTEFTU19OQU1FLAogIEdFVF9DTEFTU19BVE9NLAogIEdFVF9DTEFTU19DT1VOVCwKICBHRVRfQ0xBU1NfUFJPVE8sCiAgR0VUX0NMQVNTX0NPTlNUUlVDVE9SLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19jbGFzc2lkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU09iamVjdCogb2JqOwogIGludDMyX3QgY2xhc3NfaWQgPSAwOwoKICBpZihhcmdjID49IDEpIHsKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgICBKU19Ub0ludDMyKGN0eCwgJmNsYXNzX2lkLCBhcmd2WzBdKTsKICAgIGVsc2UgaWYoKG9iaiA9IGpzX3ZhbHVlX29iaihhcmd2WzBdKSkpCiAgICAgIGNsYXNzX2lkID0gb2JqLT5jbGFzc19pZDsKICB9CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBHRVRfQ0xBU1NfSUQ6IHsKICAgICAgaWYoY2xhc3NfaWQgPiAwKQogICAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIGNsYXNzX2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19OQU1FOiB7CiAgICAgIGlmKGNsYXNzX2lkID4gMCkgewogICAgICAgIEpTQXRvbSBhdG9tOwogICAgICAgIGlmKChhdG9tID0ganNfY2xhc3NfYXRvbShjdHgsIGNsYXNzX2lkKSkpCiAgICAgICAgICByZXQgPSBKU19BdG9tVG9WYWx1ZShjdHgsIGF0b20pOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBHRVRfQ0xBU1NfQVRPTTogewogICAgICBpZihjbGFzc19pZCA+IDApIHsKICAgICAgICBKU0F0b20gYXRvbTsKICAgICAgICBpZigoYXRvbSA9IGpzX2NsYXNzX2F0b20oY3R4LCBjbGFzc19pZCkpKQogICAgICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBhdG9tKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgR0VUX0NMQVNTX0NPVU5UOiB7CiAgICAgIHVpbnQzMl90IGksIGNsYXNzX2NvdW50ID0gY3R4LT5ydC0+Y2xhc3NfY291bnQ7CiAgICAgIGZvcihpID0gMTsgaSA8IGNsYXNzX2NvdW50OyBpKyspCiAgICAgICAgaWYoIUpTX0lzUmVnaXN0ZXJlZENsYXNzKGN0eC0+cnQsIGkpKQogICAgICAgICAgYnJlYWs7CgogICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCBpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19QUk9UTzogewogICAgICBpZihjbGFzc19pZCA+IDApCiAgICAgICAgcmV0ID0gSlNfR2V0Q2xhc3NQcm90byhjdHgsIGNsYXNzX2lkKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEdFVF9DTEFTU19DT05TVFJVQ1RPUjogewogICAgICBpZihjbGFzc19pZCA+IDApIHsKICAgICAgICBKU1ZhbHVlIHByb3RvID0gSlNfR2V0Q2xhc3NQcm90byhjdHgsIGNsYXNzX2lkKTsKICAgICAgICBpZihKU19Jc09iamVjdChwcm90bykpCiAgICAgICAgICByZXQgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHByb3RvLCAiY29uc3RydWN0b3IiKTsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBwcm90byk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCmVudW0gewogIEJJVEZJRUxEX1NFVCwKICBCSVRGSUVMRF9CSVRTLAogIEJJVEZJRUxEX0ZST01BUlJBWSwKICBCSVRGSUVMRF9UT0FSUkFZLAp9OwoKc3RhdGljIEpTVmFsdWUKanNfbWlzY19iaXRmaWVsZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgc2l6ZV90IGxlbjsKICBpbnQ2NF90IG9mZnNldCA9IDA7CiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIEJJVEZJRUxEX1NFVDogewogICAgICBjb25zdCB1aW50OF90KiBidWY7CgogICAgICBpZihhcmdjID49IDIpCiAgICAgICAgSlNfVG9JbnQ2NChjdHgsICZvZmZzZXQsIGFyZ3ZbMV0pOwoKICAgICAgaWYoKGJ1ZiA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgYXJndlswXSkpKSB7CiAgICAgICAgc2l6ZV90IGksIGogPSAwLCBiaXRzID0gbGVuICogODsKICAgICAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICAgICAgICBmb3IoaSA9IDA7IGkgPCBiaXRzOyBpKyspIHsKICAgICAgICAgIGlmKGJ1ZltpID4+IDNdICYgKDF1IDw8IChpICYgMHg3KSkpIHsKICAgICAgICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGorKywgSlNfTmV3SW50NjQoY3R4LCBpICsgb2Zmc2V0KSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQoKICAgIGNhc2UgQklURklFTERfQklUUzogewogICAgICBjb25zdCB1aW50OF90KiBidWY7CgogICAgICBpZihhcmdjID49IDIpCiAgICAgICAgSlNfVG9JbnQ2NChjdHgsICZvZmZzZXQsIGFyZ3ZbMV0pOwoKICAgICAgaWYoYXJnYyA+PSAxICYmIChidWYgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkgewogICAgICAgIHNpemVfdCBpLCBqID0gMCwgYml0cyA9IGxlbiAqIDg7CiAgICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICAgICAgZm9yKGkgPSAwOyBpIDwgYml0czsgaSsrKSB7CiAgICAgICAgICBCT09MIHZhbHVlID0gISEoYnVmW2kgPj4gM10gJiAoMXUgPDwgKGkgJiAweDcpKSk7CiAgICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaisrLCBKU19OZXdJbnQzMihjdHgsIHZhbHVlKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYoYXJnYyA+PSAxICYmIEpTX0lzQXJyYXkoY3R4LCBhcmd2WzBdKSkgewoKICAgICAgICBzaXplX3QgaSwgbGVuID0ganNfYXJyYXlfbGVuZ3RoKGN0eCwgYXJndlswXSk7CiAgICAgICAgdWludDhfdCogYnVmcHRyOwogICAgICAgIHNpemVfdCBidWZzaXplID0gKGxlbiArIDcpID4+IDM7CgogICAgICAgIGlmKChidWZwdHIgPSBqc19tYWxsb2N6KGN0eCwgYnVmc2l6ZSkpID09IDApCiAgICAgICAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAgICAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgSlNWYWx1ZSBlbGVtZW50ID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzBdLCBpKTsKICAgICAgICAgIEJPT0wgdmFsdWUgPSBKU19Ub0Jvb2woY3R4LCBlbGVtZW50KTsKICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGVsZW1lbnQpOwoKICAgICAgICAgIGlmKHZhbHVlKQogICAgICAgICAgICBidWZwdHJbaSA+PiAzXSB8PSAxdSA8PCAoaSAmIDB4Nyk7CiAgICAgICAgfQogICAgICAgIHJldCA9IEpTX05ld0FycmF5QnVmZmVyKGN0eCwgYnVmcHRyLCBidWZzaXplLCBqc19wb2ludGVyX2ZyZWVfZnVuYywgYnVmcHRyLCBGQUxTRSk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEJJVEZJRUxEX1RPQVJSQVk6IHsKICAgICAgY29uc3QgdWludDhfdCogYnVmOwoKICAgICAgaWYoYXJnYyA+PSAyKQogICAgICAgIEpTX1RvSW50NjQoY3R4LCAmb2Zmc2V0LCBhcmd2WzFdKTsKCiAgICAgIGlmKChidWYgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZsZW4sIGFyZ3ZbMF0pKSkgewogICAgICAgIHNpemVfdCBpLCBqID0gMCwgYml0cyA9IGxlbiAqIDg7CiAgICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICAgICAgZm9yKGkgPSAwOyBpIDwgYml0czsgaSsrKSB7CiAgICAgICAgICBCT09MIHZhbHVlID0gYnVmW2kgPj4gM10gJiAoMXUgPDwgKGkgJiAweDcpKTsKCiAgICAgICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgaSwgSlNfTmV3Qm9vbChjdHgsIHZhbHVlKSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBCSVRGSUVMRF9GUk9NQVJSQVk6IHsKICAgICAgSlNWYWx1ZSBwcm9wOwogICAgICBpZihhcmdjID49IDIpCiAgICAgICAgSlNfVG9JbnQ2NChjdHgsICZvZmZzZXQsIGFyZ3ZbMV0pOwoKICAgICAgaWYoIUpTX0lzQXJyYXkoY3R4LCBhcmd2WzBdKSkKICAgICAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgbXVzdCBiZSBhbiBhcnJheSIpOwoKICAgICAgcHJvcCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlswXSwgMCk7CiAgICAgIGxlbiA9IGpzX2FycmF5X2xlbmd0aChjdHgsIGFyZ3ZbMF0pOwogICAgICBpZihsZW4pIHsKICAgICAgICB1aW50OF90KiBidWZwdHI7CiAgICAgICAgc2l6ZV90IGJ1ZnNpemU7CgogICAgICAgIGlmKEpTX0lzQm9vbChwcm9wKSkgewogICAgICAgICAgc2l6ZV90IGk7CiAgICAgICAgICBidWZzaXplID0gKGxlbiArIDcpID4+IDM7CiAgICAgICAgICBpZigoYnVmcHRyID0ganNfbWFsbG9jeihjdHgsIGJ1ZnNpemUpKSA9PSAwKQogICAgICAgICAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAgICAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbMF0sIGkpOwogICAgICAgICAgICBCT09MIGIgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgICAgICAgICAgIGJ1ZnB0cltpID4+IDNdIHw9IChiID8gMSA6IDApIDw8IChpICYgMHg3KTsKICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICBzaXplX3QgaTsKICAgICAgICAgIGludDY0X3QgbWF4ID0gLTE7CgogICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgSlNWYWx1ZSB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlswXSwgaSk7CiAgICAgICAgICAgIHVpbnQzMl90IG51bWJlcjsKICAgICAgICAgICAgSlNfVG9VaW50MzIoY3R4LCAmbnVtYmVyLCB2YWx1ZSk7CiAgICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHZhbHVlKTsKCiAgICAgICAgICAgIGlmKG1heCA8IG51bWJlcikKICAgICAgICAgICAgICBtYXggPSBudW1iZXI7CiAgICAgICAgICB9CiAgICAgICAgICBidWZzaXplID0gKChtYXggKyAxKSArIDcpID4+IDM7CiAgICAgICAgICBpZigoYnVmcHRyID0ganNfbWFsbG9jeihjdHgsIGJ1ZnNpemUpKSA9PSAwKQogICAgICAgICAgICByZXR1cm4gSlNfVGhyb3dPdXRPZk1lbW9yeShjdHgpOwoKICAgICAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbMF0sIGkpOwogICAgICAgICAgICB1aW50MzJfdCBudW1iZXI7CiAgICAgICAgICAgIEpTX1RvVWludDMyKGN0eCwgJm51bWJlciwgdmFsdWUpOwogICAgICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCB2YWx1ZSk7CgogICAgICAgICAgICBudW1iZXIgLT0gb2Zmc2V0OwoKICAgICAgICAgICAgYnVmcHRyW251bWJlciA+PiAzXSB8PSAxdSA8PCAobnVtYmVyICYgMHg3KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0ID0gSlNfTmV3QXJyYXlCdWZmZXIoY3R4LCBidWZwdHIsIGJ1ZnNpemUsIGpzX3BvaW50ZXJfZnJlZV9mdW5jLCBidWZwdHIsIEZBTFNFKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQplbnVtIHsKICBCSVRPUF9OT1QsCiAgQklUT1BfWE9SLAogIEJJVE9QX0FORCwKICBCSVRPUF9PUiwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfYml0b3AoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIHNpemVfdCBpOwogIHN0cnVjdCB7CiAgICB1aW50OF90KiBidWY7CiAgICBzaXplX3QgbGVuOwogIH0gYWJbMl0gPSB7ezAsIDB9LCB7MCwgMH19OwoKICBpZihhcmdjID49IDEpIHsKICAgIGFiWzBdLmJ1ZiA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmFiWzBdLmxlbiwgYXJndlswXSk7CgogICAgaWYoYXJnYyA+PSAyKQogICAgICBhYlsxXS5idWYgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZhYlsxXS5sZW4sIGFyZ3ZbMV0pOwogIH0KCiAgaWYoYWJbMF0uYnVmID09IDApCiAgICByZXR1cm4gSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBtdXN0IGJlIGFuIEFycmF5QnVmZmVyIik7CgogIGlmKG1hZ2ljID4gQklUT1BfTk9UICYmIGFiWzFdLmJ1ZiA9PSAwKQogICAgcmV0dXJuIEpTX1Rocm93VHlwZUVycm9yKGN0eCwgImFyZ3VtZW50IDIgbXVzdCBiZSBhbiBBcnJheUJ1ZmZlciIpOwoKICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIGFyZ3ZbMF0pOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgQklUT1BfTk9UOiB7CiAgICAgIGZvcihpID0gMDsgaSA8IGFiWzBdLmxlbjsgaSsrKSBhYlswXS5idWZbaV0gXj0gMHhmZnU7CgogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgQklUT1BfWE9SOiB7CgogICAgICBmb3IoaSA9IDA7IGkgPCBhYlswXS5sZW47IGkrKykgYWJbMF0uYnVmW2ldIF49IGFiWzFdLmJ1ZltpICUgYWJbMV0ubGVuXTsKCiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBCSVRPUF9BTkQ6IHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEJJVE9QX09SOiB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgplbnVtIHsKICBSQU5ET01fUkFORCwKICBSQU5ET01fUkFOREksCiAgUkFORE9NX1JBTkRGLAogIFJBTkRPTV9TUkFORCwKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2NfcmFuZG9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdLCBpbnQgbWFnaWMpIHsKICB1aW50MzJfdCBib3VuZCA9IDA7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKGFyZ2MgPiAwICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKQogICAgSlNfVG9VaW50MzIoY3R4LCAmYm91bmQsIGFyZ3ZbMF0pOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUkFORE9NX1JBTkQ6IHsKICAgICAgdWludDMyX3QgbnVtID0gYXJnYyA+IDAgPyBwY2czMl9yYW5kb21fYm91bmRlZF9kaXZpc2lvbmxlc3MoYm91bmQpIDogcGNnMzJfcmFuZG9tKCk7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIG51bSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBSQU5ET01fUkFOREk6IHsKICAgICAgaW50MzJfdCBudW0gPSBhcmdjID4gMCA/IHBjZzMyX3JhbmRvbV9ib3VuZGVkX2RpdmlzaW9ubGVzcyhib3VuZCAqIDIpIC0gYm91bmQgOiBwY2czMl9yYW5kb20oKTsKICAgICAgcmV0ID0gSlNfTmV3SW50MzIoY3R4LCBudW0pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUkFORE9NX1JBTkRGOiB7CiAgICAgIHVpbnQzMl90IG51bSA9IHBjZzMyX3JhbmRvbSgpOwogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgKGRvdWJsZSludW0gLyBVSU5UMzJfTUFYKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFJBTkRPTV9TUkFORDogewogICAgICB1aW50MzJfdCBzdCA9IDA7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJnN0LCBhcmd2WzBdKTsKICAgICAgcGNnMzJfaW5pdF9zdGF0ZShzdCk7CiAgICAgIHJldCA9IEpTX1VOREVGSU5FRDsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX21pc2NfZXNjYXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIGlmKGlucHV0LmRhdGEpIHsKICAgIER5bkJ1ZiBvdXRwdXQ7CiAgICBqc19kYnVmX2luaXQoY3R4LCAmb3V0cHV0KTsKICAgIGRidWZfcHV0X2VzY2FwZWQoJm91dHB1dCwgKGNvbnN0IGNoYXIqKWlucHV0LmRhdGEsIGlucHV0LnNpemUpOwogICAgcmV0dXJuIGRidWZfdG9zdHJpbmdfZnJlZSgmb3V0cHV0LCBjdHgpOwogIH0KICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzBdKTsKfQoKSlNWYWx1ZQpqc19taXNjX3F1b3RlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgSW5wdXRCdWZmZXIgaW5wdXQgPSBqc19pbnB1dF9jaGFycyhjdHgsIGFyZ3ZbMF0pOwogIER5bkJ1ZiBvdXRwdXQ7CiAgY2hhciBxdW90ZSA9ICciJywKICAgICAgIHRhYmxlWzI1Nl0gPSB7CiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgJ2InLCAgJ3QnLCAgJ24nLCAgJ3YnLCAgJ2YnLCAgJ3InLCAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAnXFwnLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLAogICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsCiAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwKICAgICAgIH07CgogIGpzX2RidWZfaW5pdChjdHgsICZvdXRwdXQpOwogIGlmKGFyZ2MgPj0gMikgewogICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CiAgICBpZihzdHJbMF0pCiAgICAgIHF1b3RlID0gc3RyWzBdOwogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogIH0KCiAgdGFibGVbKHVuc2lnbmVkKXF1b3RlXSA9IHF1b3RlOwoKICBpZihxdW90ZSA9PSAnYCcpIHsKICAgIHRhYmxlWyh1bnNpZ25lZCknXHInXSA9IDA7CiAgICB0YWJsZVsodW5zaWduZWQpJ1xuJ10gPSAwOwogICAgdGFibGVbKHVuc2lnbmVkKSckJ10gPSAnJCc7CiAgfQoKICBkYnVmX3B1dGMoJm91dHB1dCwgcXVvdGUpOwogIGRidWZfcHV0X2VzY2FwZWRfdGFibGUoJm91dHB1dCwgKGNvbnN0IGNoYXIqKWlucHV0LmRhdGEsIGlucHV0LnNpemUsIHRhYmxlKTsKICBkYnVmX3B1dGMoJm91dHB1dCwgcXVvdGUpOwogIHJldHVybiBkYnVmX3Rvc3RyaW5nX2ZyZWUoJm91dHB1dCwgY3R4KTsKfQoKSlNWYWx1ZQpqc19taXNjX2Vycm9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QgYXJndltdKSB7CiAgaW50MzJfdCBlcnJudW0gPSBlcnJubzsKICBjb25zdCBjaGFyKiBzeXNjYWxsID0gMDsKICBKU1ZhbHVlIGVycjsKICBpZihhcmdjID49IDEpCiAgICBKU19Ub0ludDMyKGN0eCwgJmVycm51bSwgYXJndlswXSk7CiAgaWYoYXJnYyA+PSAyKQogICAgc3lzY2FsbCA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwoKICBlcnIgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJlcnJubyIsIEpTX05ld0ludDMyKGN0eCwgZXJybnVtKSk7CiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBlcnIsICJzeXNjYWxsIiwgSlNfTmV3U3RyaW5nKGN0eCwgc3lzY2FsbCkpOwoKICBpZihzeXNjYWxsKQogICAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzeXNjYWxsKTsKCiAgcmV0dXJuIGVycjsKfQplbnVtIHsKICBJU19BUlJBWSwKICBJU19CSUdERUNJTUFMLAogIElTX0JJR0ZMT0FULAogIElTX0JJR0lOVCwKICBJU19CT09MLAogIElTX0NGVU5DVElPTiwKICBJU19DT05TVFJVQ1RPUiwKICBJU19FTVBUWVNUUklORywKICBJU19FUlJPUiwKICBJU19FWENFUFRJT04sCiAgSVNfRVhURU5TSUJMRSwKICBJU19GVU5DVElPTiwKICBJU19IVE1MRERBLAogIElTX0lOU1RBTkNFT0YsCiAgSVNfSU5URUdFUiwKICBJU19KT0JQRU5ESU5HLAogIElTX0xJVkVPQkpFQ1QsCiAgSVNfTlVMTCwKICBJU19OVU1CRVIsCiAgSVNfT0JKRUNULAogIElTX1JFR0lTVEVSRURDTEFTUywKICBJU19TVFJJTkcsCiAgSVNfU1lNQk9MLAogIElTX1VOQ0FUQ0hBQkxFRVJST1IsCiAgSVNfVU5ERUZJTkVELAogIElTX1VOSU5JVElBTElaRUQsCiAgSVNfQVJSQVlCVUZGRVIsCn07CgpKU1ZhbHVlCmpzX21pc2NfaXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10sIGludCBtYWdpYykgewogIGludDMyX3QgciA9IC0xOwogIEpTVmFsdWVDb25zdCBhcmcgPSBhcmd2WzBdOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgSVNfQVJSQVk6IHIgPSBKU19Jc0FycmF5KGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0JJR0RFQ0lNQUw6IHIgPSBKU19Jc0JpZ0RlY2ltYWwoYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0JJR0ZMT0FUOiByID0gSlNfSXNCaWdGbG9hdChhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfQklHSU5UOiByID0gSlNfSXNCaWdJbnQoY3R4LCBhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfQk9PTDogciA9IEpTX0lzQm9vbChhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfQ0ZVTkNUSU9OOiByID0gSlNfR2V0Q2xhc3NJRChhcmcpID09IEpTX0NMQVNTX0NfRlVOQ1RJT047IGJyZWFrOwogICAgY2FzZSBJU19DT05TVFJVQ1RPUjogciA9IEpTX0lzQ29uc3RydWN0b3IoY3R4LCBhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfRU1QVFlTVFJJTkc6IHIgPSBKU19WQUxVRV9HRVRfVEFHKGFyZykgPT0gSlNfVEFHX1NUUklORyAmJiBKU19WQUxVRV9HRVRfU1RSSU5HKGFyZyktPmxlbiA9PSAwOyBicmVhazsKICAgIGNhc2UgSVNfRVJST1I6IHIgPSBKU19Jc0Vycm9yKGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0VYQ0VQVElPTjogciA9IEpTX0lzRXhjZXB0aW9uKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19FWFRFTlNJQkxFOiByID0gSlNfSXNFeHRlbnNpYmxlKGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX0ZVTkNUSU9OOiByID0gSlNfSXNGdW5jdGlvbihjdHgsIGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19IVE1MRERBOiByID0gSlNfVkFMVUVfR0VUX1RBRyhhcmcpID09IEpTX1RBR19PQkpFQ1QgJiYgSlNfVkFMVUVfR0VUX09CSihhcmcpLT5pc19IVE1MRERBOyBicmVhazsKICAgIGNhc2UgSVNfSU5TVEFOQ0VPRjogciA9IEpTX0lzSW5zdGFuY2VPZihjdHgsIGFyZywgYXJndlsxXSk7IGJyZWFrOwogICAgY2FzZSBJU19JTlRFR0VSOiByID0gSlNfSXNOdW1iZXIoYXJnKSAmJiBKU19WQUxVRV9HRVRfVEFHKGFyZykgIT0gSlNfVEFHX0ZMT0FUNjQ7IGJyZWFrOwogICAgY2FzZSBJU19KT0JQRU5ESU5HOiByID0gSlNfSXNKb2JQZW5kaW5nKEpTX0dldFJ1bnRpbWUoY3R4KSk7IGJyZWFrOwogICAgY2FzZSBJU19MSVZFT0JKRUNUOiByID0gSlNfSXNMaXZlT2JqZWN0KEpTX0dldFJ1bnRpbWUoY3R4KSwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX05VTEw6IHIgPSBKU19Jc051bGwoYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX05VTUJFUjogciA9IEpTX0lzTnVtYmVyKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19PQkpFQ1Q6IHIgPSBKU19Jc09iamVjdChhcmcpOyBicmVhazsKICAgIGNhc2UgSVNfUkVHSVNURVJFRENMQVNTOiByID0gIUpTX1RvSW50MzIoY3R4LCAmciwgYXJnKSAmJiBKU19Jc1JlZ2lzdGVyZWRDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIHIpOyBicmVhazsKICAgIGNhc2UgSVNfU1RSSU5HOiByID0gSlNfSXNTdHJpbmcoYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX1NZTUJPTDogciA9IEpTX0lzU3ltYm9sKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19VTkNBVENIQUJMRUVSUk9SOiByID0gSlNfSXNVbmNhdGNoYWJsZUVycm9yKGN0eCwgYXJnKTsgYnJlYWs7CiAgICBjYXNlIElTX1VOREVGSU5FRDogciA9IEpTX0lzVW5kZWZpbmVkKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19VTklOSVRJQUxJWkVEOiByID0gSlNfSXNVbmluaXRpYWxpemVkKGFyZyk7IGJyZWFrOwogICAgY2FzZSBJU19BUlJBWUJVRkZFUjogciA9IGpzX2lzX2FycmF5YnVmZmVyKGN0eCwgYXJnKTsgYnJlYWs7CiAgfQogIGlmKHIgPT0gLTEpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImpzX21pc2NfaXMgJWQiLCBtYWdpYyk7CiAgcmV0dXJuIEpTX05ld0Jvb2woY3R4LCByID49IDEpOwp9CgojaWZkZWYgSEFWRV9JTk9USUZZCnN0YXRpYyBKU1ZhbHVlCmpzX21pc2Nfd2F0Y2goSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCBhcmd2W10pIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBpbnQzMl90IGZkID0gLTE7CgogIGlmKGFyZ2MgPj0gMSkgewogICAgSlNfVG9JbnQzMihjdHgsICZmZCwgYXJndlswXSk7CiAgfQoKICBpZihhcmdjID49IDIgJiYgSlNfSXNTdHJpbmcoYXJndlsxXSkpIHsKICAgIGludCB3ZDsKICAgIGludDMyX3QgZmxhZ3MgPSBJTl9BTExfRVZFTlRTOwogICAgY29uc3QgY2hhciogZmlsZW5hbWU7CgogICAgZmlsZW5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKICAgIGlmKGFyZ2MgPj0gMykKICAgICAgSlNfVG9JbnQzMihjdHgsICZmbGFncywgYXJndlsyXSk7CgogICAgaWYoKHdkID0gaW5vdGlmeV9hZGRfd2F0Y2goZmQsIGZpbGVuYW1lLCBmbGFncykpID09IC0xKQogICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImlub3RpZnlfYWRkX3dhdGNoKCVkLCAlcywgJTA4eCkgPSAlZCAoJXMpIiwgZmQsIGZpbGVuYW1lLCBmbGFncywgd2QsIHN0cmVycm9yKGVycm5vKSk7CgogICAgcHJpbnRmKCJpbm90aWZ5X2FkZF93YXRjaCglZCwgJXMsICUwOHgpID0gJWRcbiIsIGZkLCBmaWxlbmFtZSwgZmxhZ3MsIHdkKTsKCiAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHdkKTsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVsbChhcmd2WzFdKSkgewogICAgaW50IHI7CiAgICBpbnQzMl90IHdkID0gLTE7CgogICAgSlNfVG9JbnQzMihjdHgsICZ3ZCwgYXJndlswXSk7CgogICAgaWYoKHIgPSBpbm90aWZ5X3JtX3dhdGNoKGZkLCB3ZCkpID09IC0xKQogICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImlub3RpZnlfcm1fd2F0Y2goJWQsICVkKSA9ICVkICglcykiLCBmZCwgd2QsIHIsIHN0cmVycm9yKGVycm5vKSk7CiAgICBwcmludGYoImlub3RpZnlfYWRkX3dhdGNoKCVkLCAlZCkgPSAlZFxuIiwgZmQsIHdkLCByKTsKCiAgICByZXQgPSBKU19OZXdJbnQzMihjdHgsIHIpOwogIH0gZWxzZSB7CiAgICBpbnQgZmQ7CiAgICBpZigoZmQgPSBpbm90aWZ5X2luaXQxKElOX05PTkJMT0NLKSkgPT0gLTEpCiAgICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiaW5vdGlmeV9pbml0MShJTl9OT05CTE9DSykgZmFpbGVkICglcykiLCBzdHJlcnJvcihlcnJubykpOwoKICAgIHByaW50ZigiaW5vdGlmeV9pbml0MSgpID0gJWRcbiIsIGZkKTsKICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgZmQpOwogIH0KCiAgcmV0dXJuIHJldDsKfQojZW5kaWYKCnN0YXRpYyBjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19taXNjX2Z1bmNzW10gPSB7CiNpZm5kZWYgX193YXNpX18KLy8gSlNfQ0ZVTkNfREVGKCJyZWFscGF0aCIsIDEsIGpzX21pc2NfcmVhbHBhdGgpLAojZW5kaWYKI2lmZGVmIEhBVkVfRk5NQVRDSAogICAgSlNfQ0ZVTkNfREVGKCJmbm1hdGNoIiwgMywganNfbWlzY19mbm1hdGNoKSwKI2VuZGlmCiNpZmRlZiBIQVZFX0dMT0IKICAgIEpTX0NGVU5DX0RFRigiZ2xvYiIsIDIsIGpzX21pc2NfZ2xvYiksCiNlbmRpZgojaWZkZWYgSEFWRV9XT1JERVhQCiAgICBKU19DRlVOQ19ERUYoIndvcmRleHAiLCAyLCBqc19taXNjX3dvcmRleHApLAojZW5kaWYKI2lmZGVmIEhBVkVfSU5PVElGWQogICAgSlNfQ0ZVTkNfREVGKCJ3YXRjaCIsIDIsIGpzX21pc2Nfd2F0Y2gpLAojZW5kaWYKICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAxLCBqc19taXNjX3Rvc3RyaW5nKSwKICAgIEpTX0NGVU5DX0RFRigidG9Qb2ludGVyIiwgMSwganNfbWlzY190b3BvaW50ZXIpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b0FycmF5QnVmZmVyIiwgMSwganNfbWlzY190b2FycmF5YnVmZmVyKSwKICAgIEpTX0NGVU5DX0RFRigiZHVwQXJyYXlCdWZmZXIiLCAxLCBqc19taXNjX3NsaWNlKSwKICAgIEpTX0NGVU5DX0RFRigicmVzaXplQXJyYXlCdWZmZXIiLCAxLCBqc19taXNjX3Jlc2l6ZWFycmF5YnVmZmVyKSwKICAgIEpTX0NGVU5DX0RFRigiY29uY2F0IiwgMSwganNfbWlzY19jb25jYXQpLAogICAgSlNfQ0ZVTkNfREVGKCJzZWFyY2hBcnJheUJ1ZmZlciIsIDIsIGpzX21pc2Nfc2VhcmNoYXJyYXlidWZmZXIpLAogICAgSlNfQ0ZVTkNfREVGKCJtZW1jcHkiLCAyLCBqc19taXNjX21lbWNweSksCiNpZmRlZiBIQVZFX0ZNRU1PUEVOCiAgICBKU19DRlVOQ19ERUYoImZtZW1vcGVuIiwgMiwganNfbWlzY19mbWVtb3BlbiksCiNlbmRpZgogICAgSlNfQ0ZVTkNfREVGKCJnZXRQZXJmb3JtYW5jZUNvdW50ZXIiLCAwLCBqc19taXNjX2dldHBlcmZvcm1hbmNlY291bnRlciksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldEV4ZWN1dGFibGUiLCAwLCBqc19taXNjX3Byb2NsaW5rLCBGVU5DX0dFVEVYRUNVVEFCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeSIsIDAsIGpzX21pc2NfcHJvY2xpbmssIEZVTkNfR0VUQ1dEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Um9vdERpcmVjdG9yeSIsIDAsIGpzX21pc2NfcHJvY2xpbmssIEZVTkNfR0VUUk9PVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldEZpbGVEZXNjcmlwdG9yIiwgMCwganNfbWlzY19wcm9jbGluaywgRlVOQ19HRVRGRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldENvbW1hbmRMaW5lIiwgMCwganNfbWlzY19wcm9jcmVhZCwgRlVOQ19HRVRDT01NQU5ETElORSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFByb2NNYXBzIiwgMCwganNfbWlzY19wcm9jcmVhZCwgRlVOQ19HRVRQUk9DTUFQUyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFByb2NNb3VudHMiLCAwLCBqc19taXNjX3Byb2NyZWFkLCBGVU5DX0dFVFBST0NNT1VOVFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRQcm9jU3RhdCIsIDAsIGpzX21pc2NfcHJvY3JlYWQsIEZVTkNfR0VUUFJPQ1NUQVQpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRQcm90b3R5cGVDaGFpbiIsIDAsIGpzX21pc2NfZ2V0cHJvdG90eXBlY2hhaW4pLAojaWZuZGVmIF9fd2FzaV9fCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldHBpZCIsIDAsIGpzX21pc2NfZ2V0eCwgRlVOQ19HRVRQSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRwcGlkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVFBQSUQpLAojZW5kaWYKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0c2lkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVFNJRCksCiNpZiAhZGVmaW5lZChfX3dhc2lfXykgJiYgIWRlZmluZWQoX1dJTjMyKQogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXR1aWQiLCAwLCBqc19taXNjX2dldHgsIEZVTkNfR0VUVUlEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Z2lkIiwgMCwganNfbWlzY19nZXR4LCBGVU5DX0dFVEdJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldGV1aWQiLCAwLCBqc19taXNjX2dldHgsIEZVTkNfR0VURVVJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldGVnaWQiLCAwLCBqc19taXNjX2dldHgsIEZVTkNfR0VURUdJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldHVpZCIsIDEsIGpzX21pc2NfZ2V0eCwgRlVOQ19TRVRVSUQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZXRnaWQiLCAxLCBqc19taXNjX2dldHgsIEZVTkNfU0VUR0lEKSwKI2VuZGlmCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldGV1aWQiLCAxLCBqc19taXNjX2dldHgsIEZVTkNfU0VURVVJRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldGVnaWQiLCAxLCBqc19taXNjX2dldHgsIEZVTkNfU0VURUdJRCksCiAgICBKU19DRlVOQ19ERUYoImhydGltZSIsIDAsIGpzX21pc2NfaHJ0aW1lKSwKI2lmbmRlZiBfV0lOMzIKICAgIEpTX0NGVU5DX0RFRigidW5hbWUiLCAwLCBqc19taXNjX3VuYW1lKSwKI2VuZGlmCiAgICBKU19DRlVOQ19ERUYoImJ0b2EiLCAxLCBqc19taXNjX2J0b2EpLAogICAgSlNfQ0ZVTkNfREVGKCJhdG9iIiwgMSwganNfbWlzY19hdG9iKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigibm90IiwgMSwganNfbWlzY19iaXRvcCwgQklUT1BfTk9UKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigieG9yIiwgMiwganNfbWlzY19iaXRvcCwgQklUT1BfWE9SKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYW5kIiwgMiwganNfbWlzY19iaXRvcCwgQklUT1BfQU5EKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigib3IiLCAyLCBqc19taXNjX2JpdG9wLCBCSVRPUF9PUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImJpdGZpZWxkU2V0IiwgMSwganNfbWlzY19iaXRmaWVsZCwgQklURklFTERfU0VUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYml0cyIsIDEsIGpzX21pc2NfYml0ZmllbGQsIEJJVEZJRUxEX0JJVFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJiaXRmaWVsZFRvQXJyYXkiLCAxLCBqc19taXNjX2JpdGZpZWxkLCBCSVRGSUVMRF9UT0FSUkFZKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYXJyYXlUb0JpdGZpZWxkIiwgMSwganNfbWlzY19iaXRmaWVsZCwgQklURklFTERfRlJPTUFSUkFZKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiY29tcGlsZVNjcmlwdCIsIDEsIGpzX21pc2NfY29tcGlsZSwgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImV2YWxTY3JpcHQiLCAxLCBqc19taXNjX2NvbXBpbGUsIDEpLAogICAgSlNfQ0ZVTkNfREVGKCJ3cml0ZU9iamVjdCIsIDEsIGpzX21pc2Nfd3JpdGVfb2JqZWN0KSwKICAgIEpTX0NGVU5DX0RFRigicmVhZE9iamVjdCIsIDEsIGpzX21pc2NfcmVhZF9vYmplY3QpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRPcENvZGVzIiwgMCwganNfbWlzY19vcGNvZGVzKSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0Qnl0ZUNvZGUiLCAxLCBqc19taXNjX2dldF9ieXRlY29kZSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlVHlwZSIsIDEsIGpzX21pc2NfdmFsdWV0eXBlLCBWQUxVRV9UWVBFKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidmFsdWVUYWciLCAxLCBqc19taXNjX3ZhbHVldHlwZSwgVkFMVUVfVEFHKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidmFsdWVQdHIiLCAxLCBqc19taXNjX3ZhbHVldHlwZSwgVkFMVUVfUFRSKSwKICAgIEpTX0NGVU5DX0RFRigiZXZhbEJpbmFyeSIsIDEsIGpzX21pc2NfZXZhbGJpbmFyeSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImF0b21Ub1N0cmluZyIsIDEsIGpzX21pc2NfYXRvbSwgQVRPTV9UT19TVFJJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhdG9tVG9WYWx1ZSIsIDEsIGpzX21pc2NfYXRvbSwgQVRPTV9UT19WQUxVRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZhbHVlVG9BdG9tIiwgMSwganNfbWlzY19hdG9tLCBWQUxVRV9UT19BVE9NKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Q2xhc3NJRCIsIDEsIGpzX21pc2NfY2xhc3NpZCwgR0VUX0NMQVNTX0lEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Q2xhc3NOYW1lIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfTkFNRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldENsYXNzQXRvbSIsIDEsIGpzX21pc2NfY2xhc3NpZCwgR0VUX0NMQVNTX0FUT00pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc0NvdW50IiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfQ09VTlQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc1Byb3RvIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfUFJPVE8pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJnZXRDbGFzc0NvbnN0cnVjdG9yIiwgMSwganNfbWlzY19jbGFzc2lkLCBHRVRfQ0xBU1NfQ09OU1RSVUNUT1IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyYW5kIiwgMCwganNfbWlzY19yYW5kb20sIFJBTkRPTV9SQU5EKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicmFuZGkiLCAwLCBqc19taXNjX3JhbmRvbSwgUkFORE9NX1JBTkRJKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicmFuZGYiLCAwLCBqc19taXNjX3JhbmRvbSwgUkFORE9NX1JBTkRGKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3JhbmQiLCAxLCBqc19taXNjX3JhbmRvbSwgUkFORE9NX1NSQU5EKSwKICAgIEpTX0NGVU5DX0RFRigiZXNjYXBlIiwgMSwganNfbWlzY19lc2NhcGUpLAogICAgSlNfQ0ZVTkNfREVGKCJxdW90ZSIsIDEsIGpzX21pc2NfcXVvdGUpLAogICAgSlNfQ0ZVTkNfREVGKCJlcnJvciIsIDAsIGpzX21pc2NfZXJyb3IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0FycmF5IiwgMSwganNfbWlzY19pcywgSVNfQVJSQVkpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0JpZ0RlY2ltYWwiLCAxLCBqc19taXNjX2lzLCBJU19CSUdERUNJTUFMKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNCaWdGbG9hdCIsIDEsIGpzX21pc2NfaXMsIElTX0JJR0ZMT0FUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNCaWdJbnQiLCAxLCBqc19taXNjX2lzLCBJU19CSUdJTlQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0Jvb2wiLCAxLCBqc19taXNjX2lzLCBJU19CT09MKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNDRnVuY3Rpb24iLCAxLCBqc19taXNjX2lzLCBJU19DRlVOQ1RJT04pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0NvbnN0cnVjdG9yIiwgMSwganNfbWlzY19pcywgSVNfQ09OU1RSVUNUT1IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0VtcHR5U3RyaW5nIiwgMSwganNfbWlzY19pcywgSVNfRU1QVFlTVFJJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0Vycm9yIiwgMSwganNfbWlzY19pcywgSVNfRVJST1IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0V4Y2VwdGlvbiIsIDEsIGpzX21pc2NfaXMsIElTX0VYQ0VQVElPTiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzRXh0ZW5zaWJsZSIsIDEsIGpzX21pc2NfaXMsIElTX0VYVEVOU0lCTEUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0Z1bmN0aW9uIiwgMSwganNfbWlzY19pcywgSVNfRlVOQ1RJT04pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0hUTUxEREEiLCAxLCBqc19taXNjX2lzLCBJU19IVE1MRERBKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNJbnN0YW5jZU9mIiwgMSwganNfbWlzY19pcywgSVNfSU5TVEFOQ0VPRiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzSW50ZWdlciIsIDEsIGpzX21pc2NfaXMsIElTX0lOVEVHRVIpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc0pvYlBlbmRpbmciLCAxLCBqc19taXNjX2lzLCBJU19KT0JQRU5ESU5HKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNMaXZlT2JqZWN0IiwgMSwganNfbWlzY19pcywgSVNfTElWRU9CSkVDVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzTnVsbCIsIDEsIGpzX21pc2NfaXMsIElTX05VTEwpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc051bWJlciIsIDEsIGpzX21pc2NfaXMsIElTX05VTUJFUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzT2JqZWN0IiwgMSwganNfbWlzY19pcywgSVNfT0JKRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNSZWdpc3RlcmVkQ2xhc3MiLCAxLCBqc19taXNjX2lzLCBJU19SRUdJU1RFUkVEQ0xBU1MpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJpc1N0cmluZyIsIDEsIGpzX21pc2NfaXMsIElTX1NUUklORyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzU3ltYm9sIiwgMSwganNfbWlzY19pcywgSVNfU1lNQk9MKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNVbmNhdGNoYWJsZUVycm9yIiwgMSwganNfbWlzY19pcywgSVNfVU5DQVRDSEFCTEVFUlJPUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzVW5kZWZpbmVkIiwgMSwganNfbWlzY19pcywgSVNfVU5ERUZJTkVEKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaXNVbmluaXRpYWxpemVkIiwgMSwganNfbWlzY19pcywgSVNfVU5JTklUSUFMSVpFRCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImlzQXJyYXlCdWZmZXIiLCAxLCBqc19taXNjX2lzLCBJU19BUlJBWUJVRkZFUiksCgogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9UWVBFX0dMT0JBTCksCiAgICBKU19DT05TVEFOVChKU19FVkFMX1RZUEVfTU9EVUxFKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfVFlQRV9ESVJFQ1QpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9UWVBFX0lORElSRUNUKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfVFlQRV9NQVNLKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfRkxBR19TVFJJQ1QpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9GTEFHX1NUUklQKSwKICAgIEpTX0NPTlNUQU5UKEpTX0VWQUxfRkxBR19DT01QSUxFX09OTFkpLAogICAgSlNfQ09OU1RBTlQoSlNfRVZBTF9GTEFHX0JBQ0tUUkFDRV9CQVJSSUVSKSwKI2lmZGVmIEhBVkVfRk5NQVRDSAogICAgSlNfQ09OU1RBTlQoRk5NX0NBU0VGT0xEKSwKI2lmZGVmIEZOTV9FWFRNQVRDSAogICAgSlNfQ09OU1RBTlQoRk5NX0VYVE1BVENIKSwKI2VuZGlmCiAgICBKU19DT05TVEFOVChGTk1fRklMRV9OQU1FKSwKICAgIEpTX0NPTlNUQU5UKEZOTV9MRUFESU5HX0RJUiksCiAgICBKU19DT05TVEFOVChGTk1fTk9FU0NBUEUpLAogICAgSlNfQ09OU1RBTlQoRk5NX05PTUFUQ0gpLAogICAgSlNfQ09OU1RBTlQoRk5NX1BBVEhOQU1FKSwKICAgIEpTX0NPTlNUQU5UKEZOTV9QRVJJT0QpLAojZW5kaWYKI2lmZGVmIEhBVkVfR0xPQgogICAgSlNfQ09OU1RBTlQoR0xPQl9FUlIpLAogICAgSlNfQ09OU1RBTlQoR0xPQl9NQVJLKSwKICAgIEpTX0NPTlNUQU5UKEdMT0JfTk9TT1JUKSwKICAgIEpTX0NPTlNUQU5UKEdMT0JfTk9DSEVDSyksCiAgICBKU19DT05TVEFOVChHTE9CX05PTUFUQ0gpLAogICAgSlNfQ09OU1RBTlQoR0xPQl9OT0VTQ0FQRSksCiAgICAvLyBKU19DT05TVEFOVChHTE9CX1BFUklPRCksCiAgICBKU19DT05TVEFOVChHTE9CX0FMVERJUkZVTkMpLAogICAgSlNfQ09OU1RBTlQoR0xPQl9CUkFDRSksCiAgICBKU19DT05TVEFOVChHTE9CX05PTUFHSUMpLAogICAgSlNfQ09OU1RBTlQoR0xPQl9USUxERSksCiAgICAvLyBKU19DT05TVEFOVChHTE9CX1RJTERFX0NIRUNLKSwKICAgIC8vIEpTX0NPTlNUQU5UKEdMT0JfT05MWURJUiksCiAgICBKU19DT05TVEFOVChHTE9CX01BR0NIQVIpLAogICAgSlNfQ09OU1RBTlQoR0xPQl9OT1NQQUNFKSwKICAgIEpTX0NPTlNUQU5UKEdMT0JfQUJPUlRFRCksCiNlbmRpZgojaWZkZWYgSEFWRV9XT1JERVhQCiAgICBKU19DT05TVEFOVChXUkRFX1NIT1dFUlIpLAogICAgSlNfQ09OU1RBTlQoV1JERV9VTkRFRiksCiAgICBKU19DT05TVEFOVChXUkRFX0JBRENIQVIpLAogICAgSlNfQ09OU1RBTlQoV1JERV9CQURWQUwpLAogICAgSlNfQ09OU1RBTlQoV1JERV9DTURTVUIpLAogICAgSlNfQ09OU1RBTlQoV1JERV9OT0NNRCksCiAgICBKU19DT05TVEFOVChXUkRFX05PU1BBQ0UpLAogICAgSlNfQ09OU1RBTlQoV1JERV9TWU5UQVgpLAojZW5kaWYKI2lmZGVmIEhBVkVfSU5PVElGWQogICAgSlNfQ09OU1RBTlQoSU5fQUNDRVNTKSwKICAgIEpTX0NPTlNUQU5UKElOX01PRElGWSksCiAgICBKU19DT05TVEFOVChJTl9BVFRSSUIpLAogICAgSlNfQ09OU1RBTlQoSU5fQ0xPU0VfV1JJVEUpLAogICAgSlNfQ09OU1RBTlQoSU5fQ0xPU0VfTk9XUklURSksCiAgICBKU19DT05TVEFOVChJTl9DTE9TRSksCiAgICBKU19DT05TVEFOVChJTl9PUEVOKSwKICAgIEpTX0NPTlNUQU5UKElOX01PVkVEX0ZST00pLAogICAgSlNfQ09OU1RBTlQoSU5fTU9WRURfVE8pLAogICAgSlNfQ09OU1RBTlQoSU5fTU9WRSksCiAgICBKU19DT05TVEFOVChJTl9DUkVBVEUpLAogICAgSlNfQ09OU1RBTlQoSU5fREVMRVRFKSwKICAgIEpTX0NPTlNUQU5UKElOX0RFTEVURV9TRUxGKSwKICAgIEpTX0NPTlNUQU5UKElOX01PVkVfU0VMRiksCiAgICBKU19DT05TVEFOVChJTl9VTk1PVU5UKSwKICAgIEpTX0NPTlNUQU5UKElOX1FfT1ZFUkZMT1cpLAogICAgSlNfQ09OU1RBTlQoSU5fSUdOT1JFRCksCiAgICBKU19DT05TVEFOVChJTl9PTkxZRElSKSwKICAgIEpTX0NPTlNUQU5UKElOX0RPTlRfRk9MTE9XKSwKICAgIEpTX0NPTlNUQU5UKElOX0VYQ0xfVU5MSU5LKSwKICAgIEpTX0NPTlNUQU5UKElOX01BU0tfQUREKSwKICAgIEpTX0NPTlNUQU5UKElOX0lTRElSKSwKICAgIEpTX0NPTlNUQU5UKElOX09ORVNIT1QpLAogICAgSlNfQ09OU1RBTlQoSU5fQUxMX0VWRU5UUyksCiNlbmRpZgp9OwoKc3RhdGljIGludApqc19taXNjX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKCFqc19sb2NhdGlvbl9jbGFzc19pZCkKICAgIGpzX2xvY2F0aW9uX2luaXQoY3R4LCAwKTsKCiAgaWYobSkgewogICAgSlNfU2V0TW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX21pc2NfZnVuY3MsIGNvdW50b2YoanNfbWlzY19mdW5jcykpOwogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIkxvY2F0aW9uIiwgbG9jYXRpb25fY3Rvcik7CiAgfQogIHJldHVybiAwOwp9CgojaWYgZGVmaW5lZChKU19TSEFSRURfTElCUkFSWSkgJiYgZGVmaW5lZChKU19NSVNDX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX21pc2MKI2VuZGlmCgpWSVNJQkxFIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKCiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwganNfbWlzY19pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIEpTX0FkZE1vZHVsZUV4cG9ydExpc3QoY3R4LCBtLCBqc19taXNjX2Z1bmNzLCBjb3VudG9mKGpzX21pc2NfZnVuY3MpKTsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiTG9jYXRpb24iKTsKICByZXR1cm4gbTsKfQoKLyoqCiAqIEB9CiAqLwoAAAAAAAAAAGTQAAAAAAAAAAAAAAAAAAAAAAAAZNAAAAAAAAAAAAAAAAAAAAAAAABk0AAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEh/AAAAAAAASH8AAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "vector.h",
			"settings":
			{
				"buffer_size": 6117,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAADlFwAAI2lmbmRlZiBWRUNUT1JfSAojZGVmaW5lIFZFQ1RPUl9ICgojaW5jbHVkZSA8cXVpY2tqcy5oPgojaW5jbHVkZSA8Y3V0aWxzLmg+CgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgojaW5jbHVkZSA8c3lzL3R5cGVzLmg+CgovKioKICogXGRlZmdyb3VwIHZlY3RvciBWZWN0b3IgaW1wbGVtZW50YXRpb24KICogQHsKICovCiNkZWZpbmUgcm91bmR0byhuLCBtb2QpICgoKG4pID0gKCgobikgKyAobW9kKS0xKSkpLCBuID0gKG4pIC0gKCh1aW50NjRfdCkobikgJSAodWludDY0X3QpKG1vZCkpKQoKdHlwZWRlZiB1bmlvbiBWZWN0b3IgewogIER5bkJ1ZiBkYnVmOwogIHN0cnVjdCB7CiAgICBjaGFyKiBkYXRhOwogICAgc2l6ZV90IHNpemU7CiAgICBzaXplX3QgY2FwYWNpdHk7CiAgICBCT09MIGVycm9yOwogICAgRHluQnVmUmVhbGxvY0Z1bmMqIHJlYWxsb2NfZnVuYzsKICAgIHZvaWQqIG9wYXF1ZTsKICB9Owp9IFZlY3RvcjsKCiNkZWZpbmUgVkVDVE9SX0lOSVQoKSBcCiAgeyBcCiAgICB7IDAsIDAsIDAsIDAsICZ2ZWN0b3JfZGVmYXVsdF9yZWFsbG9jLCAwIH0gXAogIH0KCiNkZWZpbmUgdmVjdG9yX2luaXQodmVjLCBjdHgpIGpzX2RidWZfaW5pdChjdHgsICYoKHZlYyktPmRidWYpKQojZGVmaW5lIHZlY3Rvcl9pbml0X3J0KHZlYywgcnQpIGpzX2RidWZfaW5pdF9ydChydCwgJigodmVjKS0+ZGJ1ZikpCiNkZWZpbmUgVkVDVE9SKGN0eCkgXAogIChWZWN0b3IpIHsgXAogICAgeyAwLCAwLCAwLCAwLCAoRHluQnVmUmVhbGxvY0Z1bmMqKSZqc19yZWFsbG9jLCBjdHggfSBcCiAgfQojZGVmaW5lIFZFQ1RPUl9SVChydCkgXAogIChWZWN0b3IpIHsgXAogICAgeyAwLCAwLCAwLCAwLCAoRHluQnVmUmVhbGxvY0Z1bmMqKSZqc19yZWFsbG9jX3J0LCBydCB9IFwKICB9CiNkZWZpbmUgdmVjdG9yX2JlZ2luKHZlYykgKCh2b2lkKikoKHZlYyktPmRhdGEpKQojZGVmaW5lIHZlY3Rvcl9lbmQodmVjKSAoKHZvaWQqKSgodmVjKS0+ZGF0YSArICh2ZWMpLT5zaXplKSkKCiNkZWZpbmUgdmVjdG9yX2ZvcmVhY2hfdChhLCBwKSBmb3IoKHApID0gdmVjdG9yX2JlZ2luKGEpOyAocCkgIT0gdmVjdG9yX2VuZChhKTsgKysocCkpCiNkZWZpbmUgdmVjdG9yX2ZvcmVhY2goYSwgbXN6LCBwKSBmb3IoKHApID0gdmVjdG9yX2JlZ2luKGEpOyAoY2hhciopKHApICE9IChjaGFyKil2ZWN0b3JfZW5kKGEpOyAocCkgPSAodm9pZCopKCgoY2hhciopcCkgKyBtc3opKQoKI2lmKGRlZmluZWQoX19HTlVDX18pICYmIChfX0dOVUNfXyA+PSA1KSkgfHwgZGVmaW5lZChIQVZFX19CVUlMVElOX01VTF9PVkVSRkxPVykKc3RhdGljIGlubGluZSBpbnQKdW11bHQ2NCh1aW50NjRfdCBhLCB1aW50NjRfdCBiLCB1aW50NjRfdCogYykgewogIHJldHVybiAhX19idWlsdGluX211bF9vdmVyZmxvdyhhLCBiLCBjKTsKfQojZWxpZiBkZWZpbmVkKEhBVkVfVUlOVDEyOCkKc3RhdGljIGlubGluZSBpbnQKdW11bHQ2NCh1aW50NjRfdCBhLCB1aW50NjRfdCBiLCB1aW50NjRfdCogYykgewogIF9fdWludDEyOF90IHggPSAoKF9fdWludDEyOF90KWEpICogYjsKICBpZigoKmMgPSAodWludDY0X3QpeCkgIT0geCkKICAgIHJldHVybiAwOwogIHJldHVybiAxOwp9CiNlbHNlCmV4dGVybiBpbnQgdW11bHQ2NCh1aW50NjRfdCBhLCB1aW50NjRfdCBiLCB1aW50NjRfdCogYyk7CiNlbmRpZgoKaW50MzJfdCB2ZWN0b3JfaW5kZXhvZihjb25zdCBWZWN0b3IqIHZlYywgc2l6ZV90IGVsc3osIHZvaWQqIHB0cik7CmludDMyX3QgdmVjdG9yX2ZpbmQoY29uc3QgVmVjdG9yKiB2ZWMsIHNpemVfdCBlbHN6LCB2b2lkKiBwdHIpOwppbnQzMl90IHZlY3Rvcl9maW5kcyhjb25zdCBWZWN0b3IqIHZlYywgY29uc3QgY2hhciogc3RyKTsKaW50IHZlY3Rvcl9jb3VudHMoY29uc3QgVmVjdG9yKiB2ZWMsIGNvbnN0IGNoYXIqIHN0cik7CnZvaWQqIHZlY3Rvcl9wdXQoVmVjdG9yKiB2ZWMsIGNvbnN0IHZvaWQqIGJ5dGVzLCBzaXplX3QgbGVuKTsKdm9pZCB2ZWN0b3JfZnJlZShWZWN0b3IqIHZlYyk7CnZvaWQgdmVjdG9yX3ByaW50ZihWZWN0b3IqIHZlYywgY29uc3QgY2hhciosIC4uLik7CnZvaWQgdmVjdG9yX2ludGVyc2VjdGlvbih2b2lkKiwgc2l6ZV90LCB2b2lkKiwgc2l6ZV90LCBzaXplX3QsIFZlY3RvciopOwp2b2lkIHZlY3Rvcl9kaWZmKHZvaWQqLCBzaXplX3QsIHZvaWQqLCBzaXplX3QsIHNpemVfdCwgVmVjdG9yKik7CnZvaWQgdmVjdG9yX3N5bW1ldHJpY2RpZmYodm9pZCosIHNpemVfdCwgdm9pZCosIHNpemVfdCwgc2l6ZV90LCBWZWN0b3IqLCBWZWN0b3IqKTsKaW50IHZlY3Rvcl9jb3B5KFZlY3RvciogZHN0LCBjb25zdCBWZWN0b3IqIHNyYyk7CnZvaWQgdmVjdG9yX2Z3cml0ZShjb25zdCBWZWN0b3IqLCBzaXplX3QsIEZJTEUqIG91dCk7CgojZGVmaW5lIHZlY3Rvcl9wdXNoKHZlYywgZWxlbSkgdmVjdG9yX3B1dCgodmVjKSwgJihlbGVtKSwgc2l6ZW9mKChlbGVtKSkpCgpzdGF0aWMgaW5saW5lIHZvaWQqCnZlY3Rvcl9hbGxvY2F0ZShWZWN0b3IqIHZlYywgc2l6ZV90IGVsc3osIGludDMyX3QgcG9zKSB7CiAgdWludDY0X3QgbmVlZDsKICBzaXplX3QgY2FwYWNpdHk7CiAgaWYocG9zIDwgMCkKICAgIHJldHVybiAwOwogIGlmKCF1bXVsdDY0KGVsc3osIHBvcyArIDEsICZuZWVkKSkKICAgIHJldHVybiAwOwogIGlmKG5lZWQgPiB2ZWMtPnNpemUpIHsKICAgIGNhcGFjaXR5ID0gdmVjLT5jYXBhY2l0eTsKICAgIGlmKG5lZWQgPiBjYXBhY2l0eSkgewogICAgICBpZihlbHN6IDwgOCkKICAgICAgICByb3VuZHRvKG5lZWQsIDEwMDApOwogICAgICBlbHNlCiAgICAgICAgcm91bmR0byhuZWVkLCA4MDAwKTsKICAgICAgYXNzZXJ0KG5lZWQgPj0gMTAwMCk7CiAgICAgIGlmKGRidWZfcmVhbGxvYygmdmVjLT5kYnVmLCBuZWVkKSkKICAgICAgICByZXR1cm4gMDsKICAgICAgaWYodmVjLT5jYXBhY2l0eSA+IGNhcGFjaXR5KQogICAgICAgIG1lbXNldCh2ZWMtPmRhdGEgKyBjYXBhY2l0eSwgMCwgdmVjLT5jYXBhY2l0eSAtIGNhcGFjaXR5KTsKICAgIH0KICAgIHZlYy0+c2l6ZSA9ICgodWludDMyX3QpcG9zICsgMSkgKiBlbHN6OwogIH0KICByZXR1cm4gdmVjLT5kYXRhICsgKHVpbnQzMl90KXBvcyAqIGVsc3o7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTAp2ZWN0b3Jfc2hyaW5rKFZlY3RvciogdmVjLCBzaXplX3QgZWxzeiwgaW50MzJfdCBsZW4pIHsKICB1aW50NjRfdCBuZWVkOwogIGlmKGxlbiA8IDApCiAgICByZXR1cm4gRkFMU0U7CiAgaWYoIXVtdWx0NjQoZWxzeiwgbGVuLCAmbmVlZCkpCiAgICByZXR1cm4gRkFMU0U7CiAgaWYobmVlZCA+IHZlYy0+c2l6ZSkKICAgIHJldHVybiBGQUxTRTsKICB2ZWMtPnNpemUgPSBuZWVkOwogIHJldHVybiBUUlVFOwp9CgpzdGF0aWMgaW5saW5lIEJPT0wKdmVjdG9yX2dyb3coVmVjdG9yKiB2ZWMsIHNpemVfdCBlbHN6LCBpbnQzMl90IGxlbikgewogIHVpbnQ2NF90IG5lZWQ7CiAgaWYobGVuIDwgMCkKICAgIHJldHVybiBGQUxTRTsKICBpZighdW11bHQ2NChlbHN6LCBsZW4sICZuZWVkKSkKICAgIHJldHVybiBGQUxTRTsKICBpZihuZWVkIDw9IHZlYy0+c2l6ZSkKICAgIHJldHVybiBGQUxTRTsKICB2ZWMtPmRhdGEgPSByZWFsbG9jKHZlYy0+ZGF0YSwgbmVlZCk7CiAgdmVjLT5zaXplID0gbmVlZDsKICByZXR1cm4gVFJVRTsKfQoKc3RhdGljIGlubGluZSB2b2lkKgp2ZWN0b3JfYXQoY29uc3QgVmVjdG9yKiB2ZWMsIHNpemVfdCBlbHN6LCBpbnQzMl90IHBvcykgewogIHVpbnQ2NF90IG9mZnM7CiAgaWYocG9zIDwgMCkKICAgIHJldHVybiAwOwogIGlmKCF1bXVsdDY0KGVsc3osIHBvcywgJm9mZnMpKQogICAgcmV0dXJuIDA7CiAgaWYob2ZmcyA+PSB2ZWMtPnNpemUpCiAgICByZXR1cm4gMDsKICByZXR1cm4gdmVjLT5kYXRhICsgb2ZmczsKfQoKc3RhdGljIGlubGluZSB2b2lkKgp2ZWN0b3JfZGVmYXVsdF9yZWFsbG9jKHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyLCBzaXplX3Qgc2l6ZSkgewogIGlmKHNpemUgPT0gMCkgewogICAgZnJlZShwdHIpOwogICAgcmV0dXJuIDA7CiAgfQogIHJldHVybiByZWFsbG9jKHB0ciwgc2l6ZSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDMyX3QKdmVjdG9yX3NpemUoY29uc3QgVmVjdG9yKiB2ZWMsIHNpemVfdCBlbHN6KSB7CiAgcmV0dXJuIHZlYy0+c2l6ZSAvIGVsc3o7Cn0KCnN0YXRpYyBpbmxpbmUgaW50CnZlY3Rvcl9lbXB0eShjb25zdCBWZWN0b3IqIHZlYykgewogIHJldHVybiB2ZWMtPnNpemUgPT0gMDsKfQoKc3RhdGljIGlubGluZSB2b2lkKgp2ZWN0b3JfZnJvbnQoY29uc3QgVmVjdG9yKiB2ZWMsIHNpemVfdCBlbHN6KSB7CiAgYXNzZXJ0KHZlYy0+c2l6ZSA+PSBlbHN6KTsKICByZXR1cm4gdmVjLT5kYXRhOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQqCnZlY3Rvcl9iYWNrKGNvbnN0IFZlY3RvciogdmVjLCBzaXplX3QgZWxzeikgewogIHVpbnQzMl90IG4gPSB2ZWN0b3Jfc2l6ZSh2ZWMsIGVsc3opOwogIGFzc2VydChuKTsKICByZXR1cm4gdmVjdG9yX2F0KHZlYywgZWxzeiwgbiAtIDEpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdmVjdG9yX2NsZWFyKFZlY3RvciogdmVjKSB7CiAgdmVjLT5zaXplID0gMDsKfQoKc3RhdGljIGlubGluZSB2b2lkKgp2ZWN0b3JfZW1wbGFjZShWZWN0b3IqIHZlYywgc2l6ZV90IGVsc3opIHsKICB1aW50MzJfdCBuID0gdmVjdG9yX3NpemUodmVjLCBlbHN6KTsKICByZXR1cm4gdmVjdG9yX2FsbG9jYXRlKHZlYywgZWxzeiwgbik7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZCoKdmVjdG9yX3BvcChWZWN0b3IqIHZlYywgc2l6ZV90IGVsc3opIHsKICB1aW50MzJfdCBuID0gdmVjdG9yX3NpemUodmVjLCBlbHN6KTsKICBhc3NlcnQobik7CiAgdmVjdG9yX3Nocmluayh2ZWMsIGVsc3osIG4gLSAxKTsKICByZXR1cm4gdmVjdG9yX2VuZCh2ZWMpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdmVjdG9yX3B1dHMoVmVjdG9yKiB2ZWMsIGNvbnN0IGNoYXIqIHN0cikgewogIHZlY3Rvcl9wdXQodmVjLCBzdHIsIHN0cmxlbihzdHIpKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCnZlY3Rvcl9wdXRjKFZlY3RvciogdmVjLCBjaGFyIGMpIHsKICB2ZWN0b3JfcHV0KHZlYywgJmMsIDEpOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKdmVjdG9yX3B1dDAoVmVjdG9yKiB2ZWMpIHsKICB2ZWN0b3JfcHV0KHZlYywgIlwwIiwgMSk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZAp2ZWN0b3JfcHV0bG9uZyhWZWN0b3IqIHZlYywgbG9uZyBsLCBpbnQgcmFkaXgpIHsKICBjaGFyIGJ1Zls2NF07CiAgc2l6ZV90IGxlbiA9IHNucHJpbnRmKGJ1Ziwgc2l6ZW9mKGJ1ZiksIHJhZGl4ID09IDE2ID8gIiVseCIgOiByYWRpeCA9PSA4ID8gIiVsbyIgOiAiJWx1IiwgbCk7CiAgdmVjdG9yX3B1dCh2ZWMsIGJ1ZiwgbGVuKTsKfQoKc3RhdGljIGlubGluZSB2b2lkCnZlY3Rvcl9wdXRwdHIoVmVjdG9yKiB2ZWMsIHZvaWQqIHApIHsKICB2ZWN0b3JfcHV0KHZlYywgJnAsIHNpemVvZihwKSk7Cn0KCnZvaWQgcXVpY2tzb3J0X3Iodm9pZCogYmFzZSwgc2l6ZV90IG5tZW1iLCBzaXplX3Qgc2l6ZSwgaW50ICgqY29tcGFyKShjb25zdCB2b2lkKiwgY29uc3Qgdm9pZCosIHZvaWQqKSwgdm9pZCogcHRyKTsKCnN0YXRpYyBpbmxpbmUgdm9pZAp2ZWN0b3Jfc29ydChWZWN0b3IqIHZlYywgc2l6ZV90IGVsc3osIGludCAoKmNvbXBhcikoY29uc3Qgdm9pZCosIGNvbnN0IHZvaWQqLCB2b2lkKiksIHZvaWQqIGFyZykgewogIHF1aWNrc29ydF9yKHZlY3Rvcl9iZWdpbih2ZWMpLCB2ZWN0b3Jfc2l6ZSh2ZWMsIGVsc3opLCBlbHN6LCBjb21wYXIsIGFyZyk7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZAp2ZWN0b3JfY2F0bG9uZyhWZWN0b3IqIHZlYywgbG9uZyBsLCBpbnQgcmFkaXgpIHsKICBjaGFyIGJ1Zls2NF07CiAgc2l6ZV90IGxlbiA9IHNucHJpbnRmKGJ1Ziwgc2l6ZW9mKGJ1ZiksIHJhZGl4ID09IDE2ID8gIiVseCIgOiByYWRpeCA9PSA4ID8gIiVsbyIgOiAiJWx1IiwgbCk7CiAgdmVjdG9yX3B1dCh2ZWMsIGJ1ZiwgbGVuKTsKfQoKLyoqCiAqIEB9CiAqLwojZW5kaWYgLyogZGVmaW5lZChWRUNUT1JfSCkgKi8KAAAAAAAAAADlFwAAAAAAAAAAAAAAAAAAAAAAAOUXAAAAAAAAAAAAAAAAAAAAAAAA5RcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJsJAAAAAAAA5QkAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "vector.c",
			"settings":
			{
				"buffer_size": 4311,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAADXEAAAI2luY2x1ZGUgInZlY3Rvci5oIgojaW5jbHVkZSAiYnVmZmVyLXV0aWxzLmgiCiNpbmNsdWRlICJ1dGlscy5oIgojaW5jbHVkZSA8YXNzZXJ0Lmg+CiNpbmNsdWRlIDxzdGRhcmcuaD4KI2luY2x1ZGUgPHN0ZGludC5oPgojaW5jbHVkZSA8c3RkbGliLmg+CiNpbmNsdWRlIDxzdHJpbmcuaD4KCiNkZWZpbmUgSEFWRV9VSU5UMTI4CgojaWYoZGVmaW5lZChfX0dOVUNfXykgJiYgKF9fR05VQ19fID49IDUpKSB8fCBkZWZpbmVkKEhBVkVfX0JVSUxUSU5fTVVMX09WRVJGTE9XKQoKLyojZWxpZiBkZWZpbmVkKEhBVkVfVUlOVDEyOCkKI3dhcm5pbmcgTm8gdW11bHQ2NCBpbXBsZW1lbnRhdGlvbiovCiNlbHNlCmludAp1bXVsdDY0KHVpbnQ2NF90IGEsIHVpbnQ2NF90IGIsIHVpbnQ2NF90KiBjKSB7CiAgdWludDMyX3QgYWhpID0gYSA+PiAzMjsKICB1aW50MzJfdCBhbG8gPSAoYSAmIDB4ZmZmZmZmZmYpOwogIHVpbnQzMl90IGJoaSA9IGIgPj4gMzI7CiAgdWludDMyX3QgYmxvID0gKGIgJiAweGZmZmZmZmZmKTsKCiAgaWYoYWhpICYmIGJoaSkKICAgIHJldHVybiAwOwoKICBhID0gKHVpbnQ2NF90KShhaGkpKmJsbyArICh1aW50NjRfdCkoYWxvKSpiaGk7CiAgaWYoYSA+IDB4ZmZmZmZmZmYpCiAgICByZXR1cm4gMDsKICB7CiAgICB1aW50NjRfdCB4ID0gKHVpbnQ2NF90KShhbG8pKmJsbzsKICAgIGlmKHggKyAoYSA8PCAzMikgPCB4KQogICAgICByZXR1cm4gMDsKICAgICpjID0geCArIChhIDw8IDMyKTsKICB9CiAgcmV0dXJuIDE7Cn0KI2VuZGlmCgp2b2lkCnZlY3Rvcl9mcmVlKFZlY3RvciogdmVjKSB7CiAgaWYodmVjLT5kYXRhKQogICAgdmVjLT5yZWFsbG9jX2Z1bmModmVjLT5vcGFxdWUsIHZlYy0+ZGF0YSwgMCk7CiAgdmVjLT5kYXRhID0gMDsKICB2ZWMtPmNhcGFjaXR5ID0gdmVjLT5zaXplID0gMDsKfQoKaW50MzJfdAp2ZWN0b3JfaW5kZXhvZihjb25zdCBWZWN0b3IqIHZlYywgc2l6ZV90IGVsc3osIHZvaWQqIHB0cikgewogIGlmKHB0ciA8IHZlY3Rvcl9iZWdpbih2ZWMpIHx8IHB0ciA+IHZlY3Rvcl9iYWNrKHZlYywgZWxzeikpCiAgICByZXR1cm4gLTE7CgogIHJldHVybiAoKHNpemVfdCl2ZWN0b3JfYmVnaW4odmVjKSAtIChzaXplX3QpcHRyKSAvIGVsc3o7Cn0KCmludDMyX3QKdmVjdG9yX2ZpbmQoY29uc3QgVmVjdG9yKiB2ZWMsIHNpemVfdCBlbHN6LCB2b2lkKiBwdHIpIHsKICB2b2lkKiB4OwogIGludDMyX3QgaSA9IDA7CiAgaWYodmVjdG9yX2VtcHR5KHZlYykpCiAgICByZXR1cm4gLTE7CgogIHZlY3Rvcl9mb3JlYWNoKHZlYywgZWxzeiwgeCkgewogICAgaWYoIW1lbWNtcCh4LCBwdHIsIGVsc3opKQogICAgICByZXR1cm4gaTsKICAgIGkrKzsKICB9CiAgcmV0dXJuIC0xOwp9CgppbnQzMl90CnZlY3Rvcl9maW5kcyhjb25zdCBWZWN0b3IqIHZlYywgY29uc3QgY2hhciogc3RyKSB7CiAgY2hhcioqIHg7CiAgaW50MzJfdCBpID0gMDsKICBpZih2ZWN0b3JfZW1wdHkodmVjKSkKICAgIHJldHVybiAtMTsKCiAgdmVjdG9yX2ZvcmVhY2hfdCh2ZWMsIHgpIHsKICAgIGlmKCFzdHJjbXAoKngsIHN0cikpCiAgICAgIHJldHVybiBpOwogICAgaSsrOwogIH0KICByZXR1cm4gLTE7Cn0KCmludAp2ZWN0b3JfY291bnRzKGNvbnN0IFZlY3RvciogdmVjLCBjb25zdCBjaGFyKiBzdHIpIHsKICBjaGFyKiogeDsKICBpbnQgY291bnQgPSAwOwoKICBpZih2ZWN0b3JfZW1wdHkodmVjKSkKICAgIHJldHVybiAwOwoKICB2ZWN0b3JfZm9yZWFjaF90KHZlYywgeCkgewogICAgaWYoIXN0cmNtcCgqeCwgc3RyKSkKICAgICAgKytjb3VudDsKICB9CiAgcmV0dXJuIGNvdW50Owp9Cgp2b2lkKgp2ZWN0b3JfcHV0KFZlY3RvciogdmVjLCBjb25zdCB2b2lkKiBieXRlcywgc2l6ZV90IGxlbikgewogIHNpemVfdCBwb3M7CiAgaWYoIWxlbikKICAgIHJldHVybiAwOwogIHBvcyA9IHZlYy0+c2l6ZTsKICBpZighdmVjdG9yX2FsbG9jYXRlKHZlYywgMSwgdmVjLT5zaXplICsgbGVuIC0gMSkpCiAgICByZXR1cm4gMDsKICBtZW1jcHkodmVjLT5kYXRhICsgcG9zLCBieXRlcywgbGVuKTsKICByZXR1cm4gdmVjLT5kYXRhICsgcG9zOwp9Cgp2b2lkIF9fYXR0cmlidXRlX18oKGZvcm1hdChwcmludGYsIDIsIDMpKSkgdmVjdG9yX3ByaW50ZihWZWN0b3IqIHZlYywgY29uc3QgY2hhciogZm10LCAuLi4pIHsKICB2YV9saXN0IGFwOwogIGNoYXIgYnVmWzEyOF07CiAgc2l6ZV90IGxlbjsKICB2YV9zdGFydChhcCwgZm10KTsKICBsZW4gPSB2c25wcmludGYoYnVmLCBzaXplb2YoYnVmKSwgZm10LCBhcCk7CiAgdmFfZW5kKGFwKTsKICBpZihsZW4gPCBzaXplb2YoYnVmKSkgewogICAgdmVjdG9yX3B1dCh2ZWMsIGJ1ZiwgbGVuKTsKICB9IGVsc2UgewogICAgc2l6ZV90IHBvcyA9IHZlYy0+c2l6ZTsKICAgIGlmKCF2ZWN0b3JfYWxsb2NhdGUodmVjLCAxLCB2ZWMtPnNpemUgKyBsZW4pKQogICAgICByZXR1cm47CiAgICB2YV9zdGFydChhcCwgZm10KTsKICAgIGxlbiA9IHZzbnByaW50ZigoY2hhciopKHZlYy0+ZGF0YSArIHBvcyksIGxlbiwgZm10LCBhcCk7CiAgICB2YV9lbmQoYXApOwogICAgdmVjLT5zaXplICs9IGxlbjsKICB9Cn0KCnZvaWQKdmVjdG9yX2RpZmYodm9pZCogYSwgc2l6ZV90IG0sIHZvaWQqIGIsIHNpemVfdCBuLCBzaXplX3QgZWxzeiwgVmVjdG9yKiBvdXQpIHsKICBjaGFyKiBwdHIgPSBhOwogIHNpemVfdCBpOwogIGZvcihpID0gMDsgaSA8IG07IGkrKykgewogICAgaWYoYXJyYXlfY29udGFpbnMoYiwgbiwgZWxzeiwgcHRyKSkKICAgICAgdmVjdG9yX3B1dChvdXQsIHB0ciwgZWxzeik7CiAgICBwdHIgKz0gZWxzejsKICB9Cn0KCnZvaWQKdmVjdG9yX3N5bW1ldHJpY2RpZmYodm9pZCogYSwgc2l6ZV90IG0sIHZvaWQqIGIsIHNpemVfdCBuLCBzaXplX3QgZWxzeiwgVmVjdG9yKiBvdXRfYSwgVmVjdG9yKiBvdXRfYikgewogIHZlY3Rvcl9kaWZmKGEsIG0sIGIsIG4sIGVsc3osIG91dF9hKTsKICB2ZWN0b3JfZGlmZihiLCBuLCBhLCBtLCBlbHN6LCBvdXRfYik7Cn0KCnZvaWQKdmVjdG9yX2ludGVyc2VjdGlvbih2b2lkKiBhLCBzaXplX3QgbSwgdm9pZCogYiwgc2l6ZV90IG4sIHNpemVfdCBlbHN6LCBWZWN0b3IqIG91dCkgewogIHNpemVfdCBpLCBqID0gMCwgayA9IDA7CiAgZm9yKGkgPSAwOyBpIDwgbSArIG47IGkrKykgewogICAgdm9pZCogYXB0ciA9IChjaGFyKilhICsgaiAqIGVsc3o7CiAgICB2b2lkKiBicHRyID0gKGNoYXIqKWIgKyBrICogZWxzejsKICAgIGludCByID0gbWVtY21wKGFwdHIsIGJwdHIsIGVsc3opOwogICAgaWYociA8IDAgJiYgaiA8IG0pIHsKICAgICAgaisrOwogICAgfSBlbHNlIGlmKHIgPiAwICYmIGsgPCBuKSB7CiAgICAgIGsrKzsKICAgIH0gZWxzZSBpZihyID09IDAgJiYgaiA8IG0gJiYgayA8IG4pIHsKICAgICAgdmVjdG9yX3B1dChvdXQsIGFwdHIsIGVsc3opOwogICAgICBqKys7CiAgICAgIGsrKzsKICAgIH0KICB9Cn0KLyoKc3NpemVfdAp2ZWN0b3JfZmluZChWZWN0b3IqIHZlYywgc2l6ZV90IGVsc3osIGNvbnN0IHZvaWQqIHB0cikgewogIHNpemVfdCBpLCBqOwogIGZvcihpID0gMCwgaiA9IDA7IGkgPCB2ZWMtPnNpemU7IGkgKz0gZWxzeikgewogICAgaWYoIW1lbWNtcCgmdmVjLT5kYXRhW2ldLCBwdHIsIGVsc3opKQogICAgICByZXR1cm4gajsKCiAgICBqKys7CiAgfQogIHJldHVybiAtMTsKfQoqLwppbnQKdmVjdG9yX2NvcHkoVmVjdG9yKiBkc3QsIGNvbnN0IFZlY3Rvciogc3JjKSB7CiAgZHN0LT5yZWFsbG9jX2Z1bmMgPSBzcmMtPnJlYWxsb2NfZnVuYzsKICBkc3QtPm9wYXF1ZSA9IHNyYy0+b3BhcXVlOwogIGRzdC0+ZGF0YSA9IDA7CiAgZHN0LT5jYXBhY2l0eSA9IDA7CiAgaWYoIWRidWZfcmVhbGxvYygmZHN0LT5kYnVmLCBzcmMtPnNpemUpKSB7CiAgICBtZW1jcHkoZHN0LT5kYXRhLCBzcmMtPmRhdGEsIHNyYy0+c2l6ZSk7CiAgICByZXR1cm4gMTsKICB9CiAgcmV0dXJuIDA7Cn0KCnZvaWQKdmVjdG9yX2Z3cml0ZShjb25zdCBWZWN0b3IqIHZlYywgc2l6ZV90IHN0YXJ0LCBGSUxFKiBvdXQpIHsKICBzaXplX3QgaSwgbGVuID0gdmVjdG9yX3NpemUodmVjLCBzaXplb2YoY2hhciopKTsKICBmb3IoaSA9IHN0YXJ0OyBpIDwgbGVuOyBpKyspIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9ICooY2hhcioqKXZlY3Rvcl9hdCh2ZWMsIHNpemVvZihjaGFyKiksIGkpOwogICAgZnB1dHMoaSA+IHN0YXJ0ID8gIicsXG4gICciIDogIltcbiAgJyIsIG91dCk7CiAgICBmcHV0cyhzdHIsIG91dCk7CiAgICBpZihpICsgMSA9PSBsZW4pCiAgICAgIGZwdXRzKCInXG5dIiwgb3V0KTsKICB9CiAgZmZsdXNoKG91dCk7Cn0KAAAAAAAAAADXEAAAAAAAAAAAAAAAAAAAAAAAANcQAAAAAAAAAAAAAAAAAAAAAAAA1xAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPcHAAAAAAAA/QcAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "location.c",
			"settings":
			{
				"buffer_size": 2210,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAACiCAAAI2luY2x1ZGUgPHN0ZGRlZi5oPgojaW5jbHVkZSAibG9jYXRpb24uaCIKI2luY2x1ZGUgImJ1ZmZlci11dGlscy5oIgoKLyoqCiAqIFxhZGR0b2dyb3VwIGxvY2F0aW9uCiAqIEB7CiAqLwp2b2lkCmxvY2F0aW9uX3ByaW50KGNvbnN0IExvY2F0aW9uKiBsb2MsIER5bkJ1ZiogZGJ1ZikgewogIGlmKGxvYy0+ZmlsZSkgewogICAgZGJ1Zl9wdXRzdHIoZGJ1ZiwgbG9jLT5maWxlKTsKICAgIGRidWZfcHV0YyhkYnVmLCAnOicpOwogIH0KICBpZihsb2MtPmNvbHVtbiAhPSBVSU5UMzJfTUFYKQogICAgZGJ1Zl9wcmludGYoZGJ1ZiwgIiUiIFBSSWQzMiAiOiUiIFBSSWQzMiwgbG9jLT5saW5lICsgMSwgbG9jLT5jb2x1bW4gKyAxKTsKICBlbHNlCiAgICBkYnVmX3ByaW50ZihkYnVmLCAiJSIgUFJJZDMyLCBsb2MtPmxpbmUgKyAxKTsKfQoKY2hhcioKbG9jYXRpb25fdG9zdHJpbmcoY29uc3QgTG9jYXRpb24qIGxvYywgSlNDb250ZXh0KiBjdHgpIHsKICBEeW5CdWYgZGJ1ZjsKICBqc19kYnVmX2luaXQoY3R4LCAmZGJ1Zik7CgogIGxvY2F0aW9uX3ByaW50KGxvYywgJmRidWYpOwogIGRidWZfMCgmZGJ1Zik7CgogIHJldHVybiAoY2hhciopZGJ1Zi5idWY7Cn0KCkpTVmFsdWUKbG9jYXRpb25fdG92YWx1ZShjb25zdCBMb2NhdGlvbiogbG9jLCBKU0NvbnRleHQqIGN0eCkgewogIGNoYXIqIHN0ciA9IGxvY2F0aW9uX3Rvc3RyaW5nKGxvYywgY3R4KTsKICBKU1ZhbHVlIHJldCA9IEpTX05ld1N0cmluZyhjdHgsIHN0cik7CiAganNfZnJlZShjdHgsIHN0cik7CiAgcmV0dXJuIHJldDsKfQoKTG9jYXRpb24KbG9jYXRpb25fY2xvbmUoY29uc3QgTG9jYXRpb24qIGxvYywgSlNDb250ZXh0KiBjdHgpIHsKICBMb2NhdGlvbiByZXQgPSB7MCwgMCwgMCwgMCwgMH07CiAgaWYobG9jLT5maWxlKQogICAgcmV0LmZpbGUgPSBqc19zdHJkdXAoY3R4LCBsb2MtPmZpbGUpOwogIHJldC5saW5lID0gbG9jLT5saW5lOwogIHJldC5jb2x1bW4gPSBsb2MtPmNvbHVtbjsKICByZXQucG9zID0gbG9jLT5wb3M7CiAgcmV0dXJuIHJldDsKfQoKdm9pZApsb2NhdGlvbl9pbml0KExvY2F0aW9uKiBsb2MpIHsKICBsb2MtPmZpbGUgPSAwOwogIGxvYy0+c3RyID0gMDsKICBsb2NhdGlvbl96ZXJvKGxvYyk7Cn0KCnZvaWQKbG9jYXRpb25femVybyhMb2NhdGlvbiogbG9jKSB7CiAgbG9jLT5saW5lID0gMDsKICBsb2MtPmNvbHVtbiA9IDA7CiAgbG9jLT5wb3MgPSAwOwp9Cgp2b2lkCmxvY2F0aW9uX2FkZChMb2NhdGlvbiogbG9jLCBjb25zdCBMb2NhdGlvbiogb3RoZXIpIHsKICBsb2MtPmxpbmUgKz0gb3RoZXItPmxpbmU7CiAgbG9jLT5jb2x1bW4gKz0gb3RoZXItPmNvbHVtbjsKICBsb2MtPnBvcyArPSBvdGhlci0+cG9zOwp9CnZvaWQKbG9jYXRpb25fc3ViKExvY2F0aW9uKiBsb2MsIGNvbnN0IExvY2F0aW9uKiBvdGhlcikgewogIGxvYy0+bGluZSAtPSBvdGhlci0+bGluZTsKICBsb2MtPmNvbHVtbiAtPSBvdGhlci0+Y29sdW1uOwogIGxvYy0+cG9zIC09IG90aGVyLT5wb3M7Cn0KCi8qdm9pZApsb2NhdGlvbl9jb3VudChMb2NhdGlvbiogbG9jLCBjb25zdCBjaGFyKiB4LCBzaXplX3QgbikgewogIHNpemVfdCBpOwogIGZvcihpID0gMDsgaSA8IG47KSB7CiAgICBzaXplX3QgYnl0ZXMgPSBieXRlX2NoYXJsZW4oJnhbaV0sIG4gLSBpKTsKCiAgICBpZih4W2ldID09ICdcbicpIHsKICAgICAgbG9jLT5saW5lKys7CiAgICAgIGxvYy0+Y29sdW1uID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGxvYy0+Y29sdW1uKys7CiAgICB9CgogICAgbG9jLT5wb3MrKzsKICAgIGkgKz0gYnl0ZXM7CiAgfQp9Ki8KCnZvaWQKbG9jYXRpb25fZnJlZShMb2NhdGlvbiogbG9jLCBKU0NvbnRleHQqIGN0eCkgewogIGlmKGxvYy0+ZmlsZSkKICAgIGpzX2ZyZWUoY3R4LCAoY2hhciopbG9jLT5maWxlKTsKICBpZihsb2MtPnN0cikKICAgIGpzX2ZyZWUoY3R4LCAoY2hhciopbG9jLT5zdHIpOwogIG1lbXNldChsb2MsIDAsIHNpemVvZihMb2NhdGlvbikpOwp9Cgp2b2lkCmxvY2F0aW9uX2ZyZWVfcnQoTG9jYXRpb24qIGxvYywgSlNSdW50aW1lKiBydCkgewogIGlmKGxvYy0+ZmlsZSkKICAgIGpzX2ZyZWVfcnQocnQsIChjaGFyKilsb2MtPmZpbGUpOwogIGlmKGxvYy0+c3RyKQogICAganNfZnJlZV9ydChydCwgKGNoYXIqKWxvYy0+c3RyKTsKICBtZW1zZXQobG9jLCAwLCBzaXplb2YoTG9jYXRpb24pKTsKfQoKLyoqCiAqIEB9CiAqLwoAAAAAAAAAAKIIAAAAAAAAAAAAAAAAAAAAAAAAoggAAAAAAAAAAAAAAAAAAAAAAACiCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKYBAAAAAAAApgEAAAAAAAAAAAAAAADwvw"
				]
			]
		},
		{
			"file": "location.h",
			"settings":
			{
				"buffer_size": 1292,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"BAAAAAAAAAAAAAAAAAAAAAAAAAAMBQAAI2lmbmRlZiBMT0NBVElPTl9ICiNkZWZpbmUgTE9DQVRJT05fSAoKI2luY2x1ZGUgInV0aWxzLmgiCiNpbmNsdWRlICJjaGFyLXV0aWxzLmgiCgovKioKICogXGRlZmdyb3VwIGxvY2F0aW9uIFNvdXJjZSB0ZXh0IGxvY2F0aW9uCiAqIEB7CiAqLwp0eXBlZGVmIHN0cnVjdCBzb3VyY2VfbG9jYXRpb24gewogIGNoYXIqIGZpbGU7CiAgdWludDMyX3QgbGluZTsKICB1aW50MzJfdCBjb2x1bW47CiAgaW50NjRfdCBwb3M7CiAgY2hhciogc3RyOwp9IExvY2F0aW9uOwoKdm9pZCBsb2NhdGlvbl9wcmludChjb25zdCBMb2NhdGlvbiosIER5bkJ1ZiogZGJ1Zik7CmNoYXIqIGxvY2F0aW9uX3Rvc3RyaW5nKGNvbnN0IExvY2F0aW9uKiwgSlNDb250ZXh0KiBjdHgpOwpKU1ZhbHVlIGxvY2F0aW9uX3RvdmFsdWUoY29uc3QgTG9jYXRpb24qLCBKU0NvbnRleHQqIGN0eCk7CkxvY2F0aW9uIGxvY2F0aW9uX2Nsb25lKGNvbnN0IExvY2F0aW9uKiwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIGxvY2F0aW9uX2luaXQoTG9jYXRpb24qKTsKdm9pZCBsb2NhdGlvbl96ZXJvKExvY2F0aW9uKik7CnZvaWQgbG9jYXRpb25fYWRkKExvY2F0aW9uKiwgY29uc3QgTG9jYXRpb24qIG90aGVyKTsKdm9pZCBsb2NhdGlvbl9zdWIoTG9jYXRpb24qLCBjb25zdCBMb2NhdGlvbiogb3RoZXIpOwovKnZvaWQgbG9jYXRpb25fY291bnQoTG9jYXRpb24qLCBjb25zdCBjaGFyKiB4LCBzaXplX3Qgbik7Ki8Kdm9pZCBsb2NhdGlvbl9mcmVlKExvY2F0aW9uKiwgSlNDb250ZXh0KiBjdHgpOwp2b2lkIGxvY2F0aW9uX2ZyZWVfcnQoTG9jYXRpb24qLCBKU1J1bnRpbWUqIHJ0KTsKCnN0YXRpYyBpbmxpbmUgaW50CmxvY2F0aW9uX2lzbnVsbChjb25zdCBMb2NhdGlvbiogbG9jKSB7CiAgcmV0dXJuICFsb2MtPmZpbGUgJiYgIWxvYy0+bGluZSAmJiAhbG9jLT5jb2x1bW4gJiYgIWxvYy0+cG9zOwp9CgpzdGF0aWMgaW5saW5lIHZvaWQKbG9jYXRpb25fY291bnQoTG9jYXRpb24qIGxvYywgY29uc3QgY2hhciogeCwgc2l6ZV90IG4pIHsKICBzaXplX3QgaTsKICBmb3IoaSA9IDA7IGkgPCBuOykgewogICAgc2l6ZV90IGJ5dGVzID0gYnl0ZV9jaGFybGVuKCZ4W2ldLCBuIC0gaSk7CgogICAgaWYoeFtpXSA9PSAnXG4nKSB7CiAgICAgIGxvYy0+bGluZSsrOwogICAgICBsb2MtPmNvbHVtbiA9IDA7CiAgICB9IGVsc2UgewogICAgICBsb2MtPmNvbHVtbisrOwogICAgfQoKICAgIGxvYy0+cG9zKys7CiAgICBpICs9IGJ5dGVzOwogIH0KfQoKLyoqCiAqIEB9CiAqLwojZW5kaWYgLyogZGVmaW5lZChMT0NBVElPTl9IKSAqLwoAAAAAAAAAAAwFAAAAAAAAAAAAAAAAAAAAAAAADAUAAAAAAAAAAAAAAAAAAAAAAAAMBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOQDAAAAAAAA6AMAAAAAAAAAAAAAAADwvw"
				]
			]
		}
	],
	"build_system": "Packages/Makefile/Make.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Build all",
					""
				],
				[
					"Build tests",
					""
				],
				[
					"List",
					""
				],
				[
					"Rebuild CTags",
					""
				],
				[
					"clang-format",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				]
			],
			[
				"Packages/Makefile/Make.sublime-build",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"debugger",
				"Preferences: Debugger Settings"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"add re",
				"Package Control: Add Repository"
			],
			[
				"scheme",
				"Color Scheme Editor: Edit current color scheme"
			],
			[
				"outli",
				"Browse Mode: Outline (Right)"
			],
			[
				"outline",
				"Browse Mode: Outline (Right)"
			],
			[
				"outlin",
				"Browse Mode: Outline (Right)"
			],
			[
				"INSTALL",
				"Package Control: Install Package"
			],
			[
				"edit",
				"SchemeEditor: Edit Current Scheme"
			],
			[
				"",
				"Arithmetic"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: disable",
				"Package Control: Disable Package"
			],
			[
				"Package Control: ",
				"Package Control: Disable Package"
			],
			[
				"adap",
				"Debugger: Install Adapters"
			],
			[
				"install ada",
				"Debugger: Install Adapters"
			],
			[
				"adapter",
				"Debugger: Install Adapters"
			],
			[
				"debug",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: remove",
				"Package Control: Remove Package"
			],
			[
				"debu",
				"Debugger: Install Adapters"
			],
			[
				"instal",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 289.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib"
	],
	"file_history":
	[
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/util.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/buffer-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-archive.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-stringdecoder.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-path.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-repeater.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.c",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/qjsm.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/child-process.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_misc.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_location.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/debugger.xml",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tmp.xml",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/property-enumeration.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-xml.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_xml.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/child-process.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/functions.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/check-flags.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-misc.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/TODO",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-location.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/fs.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/jslexer.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/events.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_watch.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-internal.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/console.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/require.js",
		"/home/roman/Projects/plot-cv/quickjs/list.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/char-utils.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/vector.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/path.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/pointer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/path.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/location.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/clock_gettime.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-debug/modules/require.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/FindQuickJS.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/char-utils.c",
		"/home/roman/Dokumente/bookmarks_10_26_21.html",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tmp.html",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/buffer-utils.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-inspect.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_repeater.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-pointer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_sockets.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/virtual-properties.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/virtual-properties.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/base64.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/base64.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/Doxyfile",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-pointer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-predicate.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-stringdecoder.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-sockets.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-lexer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-location.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-predicate.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/property-enumeration.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/predicate.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/pointer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lexer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lexer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/iteration.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/gpio.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/gpio.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-syscallerror.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-syscallerror.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/ringbuffer.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/ringbuffer.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-tree-walker.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-mmap.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-deep.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-child-process.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-blob.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-bjson.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-gpio.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-archive.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/quickjs-gpio.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/.clang-format",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-debug/modules/fs.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/repl.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/parser.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-debug/modules/util.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-debug/modules/repl.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-gnu/modules/qjscalc.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/build/x86_64-linux-gnu/modules/repl.c",
		"/home/roman/.config/sublime-text/Packages/User/ExtendedSwitcher.sublime-settings",
		"/home/roman/.config/sublime-text/Packages/ExtendedSwitcher/ExtendedSwitcher.sublime-settings",
		"/home/roman/Projects/plot-cv/lib/jslexer.js",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/tests/test_lexer.js",
		"/home/roman/.config/sublime-text/Packages/User/LiveReload.sublime-settings",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/socketpair_win32.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/extendArray.js",
		"/home/roman/.config/sublime-text/Packages/LiveReload/LiveReload.sublime-settings",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/qsort_r.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/cmake/QuickJSModule.cmake",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/vector.c",
		"/home/roman/Projects/coreutils/gnulib/lib/execute.c",
		"/home/roman/Projects/coreutils/gnulib/lib/windows-spawn.h",
		"/home/roman/Projects/coreutils/gnulib/lib/spawn-pipe.c",
		"/tmp/spawn/pcs_exec.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/modules.project",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/mmap-win32.c",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/mmap-win32.h",
		"/home/roman/Projects/plot-cv/quickjs/qjs-modules/lib/process.js",
		"/tmp/spawn/process.2.c",
		"/tmp/spawn/process.c",
		"/tmp/spawn/systemimpl.1.c",
		"/tmp/spawn/systemimpl.c",
		"/tmp/spawnvpe/fgvsys_d.c",
		"/tmp/spawnvpe/posixmodule.1.c",
		"/tmp/spawnvpe/posixmodule.c",
		"/tmp/spawnvpe/process.c",
		"/tmp/spawnvpe/redirect.c",
		"/home/roman/.config/sublime-text/Packages/Search in Project/README.md",
		"/home/roman/Sources/plot-cv/quickjs/qjs-modules/lib/repl.js"
	],
	"find":
	{
		"height": 28.0
	},
	"find_in_files":
	{
		"height": 130.0,
		"where_history":
		[
			"/home/roman/Projects/plot-cv/quickjs/qjs-modules,*.c,*.h,*.js,-*/build/*,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/qjs-modules,*.c,*.h,*.js,-*/build/*,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js,-*/build/*,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js,*.cmake,CMakeLists.txt",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js",
			"/home/roman/Sources/plot-cv/quickjs,*.c,*.h,*.js",
			"/home/roman/Sources/plot-cv/quickjs/modules,*.c,*.h,*.js"
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"element =",
			"POP",
			"POP\\(",
			"push",
			"FROMARRAY",
			"BITFIELD_FROMARRAY",
			"BITFIELD_SET",
			"js_misc_bitfield",
			"BITFIELD_FROMARRAY",
			"JS_GetOwnPropertyNames",
			"isIterator",
			"Util\\.",
			"getOpt",
			"getPrototype",
			"js_misc_is",
			"isObject",
			"function isObject",
			"isFunction",
			";\n",
			"^\\s*printf",
			"continue",
			"vector_push",
			"'\\?'",
			"SPECIAL",
			"'\\?'",
			"\"xml",
			"printf",
			"tack.depth",
			"\"children",
			"JSCFunction",
			"js_repeater_push",
			"js_archive_version",
			"NewCFunc",
			"js_repeater_push",
			"malloc_usable_size",
			"usable.size",
			"WIFCONF",
			"POSIX_SPAWN",
			")\n",
			"check_func",
			"fork",
			"POSIX_SPAWN",
			"HAVE_INOTIFY",
			"inotify_ini",
			"inotify_",
			"xml_write_text",
			"xml_write_indent",
			"dbuf_",
			"xml_num_children",
			"1",
			"result",
			"utils_SOU",
			"archive_",
			"dump_err",
			"pigpio",
			"has_property",
			"_property",
			"types\\.",
			"types",
			"js_bytecode_free_func",
			"js_arraybuffer_free_func",
			"BITFIELD_TOARRAY",
			"js_misc_bitfield",
			"js_misc_bitfield_to_array",
			"watch ",
			"inotify_fd",
			"IN_",
			"watch",
			"js_[^ ]*handler",
			"js_io_readhandler_fn",
			"io.*handler",
			"inotify_initialized",
			"ThrowInternal",
			"wfd",
			"rfd",
			"\\.then",
			"success path:",
			"loadDSO\\(",
			"loadDSO",
			"loadDS",
			"loadModule",
			"main",
			"init_mod",
			"jsm_modules",
			"jsm_load_script",
			"include_list",
			"'I'",
			"packagePaths",
			"getPack",
			"memoize",
			"getPack",
			"packagePaths",
			"lookupModule",
			"LOAD_MODULE:",
			"\"loadMo",
			"loader_func",
			"ModuleLoad",
			"js_module_find",
			"typedef",
			"JS_Set",
			"import.meta",
			"js_module_find",
			"eval_buf",
			"imp",
			"QUICKJS_C_MODULE_DIR",
			"utils_SOU",
			"inspect_",
			"inspect",
			"rdynamic",
			"wordexp",
			"glob",
			"js_repeater_execute",
			"\"async",
			"JSValueConst\\*",
			"^js_array_",
			"^js_array",
			"js_array_to",
			"asyncIterat",
			"STATIC_MERGE",
			"ArrayBufferToString",
			"JSValue([),])",
			"js_error_print",
			"Ctx",
			"JS_Throw",
			"vector_back",
			"byte_chr",
			"vector_",
			"out->obj"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			"js_pointer_free_func",
			"BITFIELD_SET",
			"fd",
			"misc.IN_",
			"fd",
			"wd",
			"JSValueConst\\1",
			"s",
			"queue_alloc(",
			"queue_alloc",
			"rpt",
			"js_return_",
			"tmp",
			"repeater_execute",
			"queue_item",
			"linked_item",
			"queue_",
			"rpt",
			"Repeater",
			"resolvable_item",
			"resolvable_",
			"js_resolvable_",
			"repeater_push",
			"COLOR_NONE",
			"COLOR_CYAN",
			"COLOR_RED",
			"COLOR_LIGHTRED",
			"\" BACKGROUND_RED \"",
			"BACKGROUND_BLUE \"",
			"BACKGROUND_GREEN \"",
			"BACKGROUND_YELLOW \"",
			"\" COLOR_NONE \"",
			"js_inspect_print_map",
			"js_inspect_print_set",
			"js_inspect_print_arraybuffer",
			"js_inspect_print_regexp",
			"js_inspect_print_number",
			"js_inspect_print_string",
			"js_inspect_print_atom",
			"js_inspect_print_module",
			"js_inspect_print_value",
			"imp",
			"INC",
			"format",
			"\\1//\\2",
			"ctx",
			"sel",
			"console.log",
			"cmd",
			"js_socket_async_wait",
			"utils_SOURCES",
			"${util_SOURCES}",
			"${vector_SOURCES}",
			"socketpair",
			"",
			"#",
			"",
			"HAVE_MEMMEM",
			"log",
			"class_key",
			"}\\n\\nsize_t",
			"# ",
			"#",
			"HAVE_REALPATH",
			"",
			"HAVE_TERMIOS_H",
			"HAVE_MMAP",
			"HAVE_SYS_MMAN_H",
			"HAVE_SYS_WAIT_H",
			"length",
			"loc->",
			"ret->",
			"arg",
			" ",
			"",
			"\"\\\\t",
			"\"\\t",
			"imp.",
			"ctx,",
			"",
			"JSValueConst)",
			"",
			"jsm_module_loader",
			"js_module_loader_so",
			"js_eval_file",
			"js_eval_buf",
			"js_load_script",
			"jsm_eval_script",
			"js_eval_file",
			"js_load_module",
			"js_eval_str",
			"js_module_get",
			"JSValueConst)",
			"js_module_search",
			"jsm_module_find",
			"js_module_find",
			"js_load_",
			"js_load_module",
			"js_eval_buf",
			"js_load_script",
			"js_std_dump_error",
			"js_module_exports",
			"fdset",
			" ",
			"js_input_buffer",
			"\\1(\\2, sock",
			"\\1(",
			"",
			"JS_CGETSET_MAGIC_DEF",
			"off.",
			"} else if(",
			"port",
			".buf",
			"'",
			"",
			"socket_send",
			"0x00",
			" 0x00,",
			"0x78,",
			"0x78",
			" 0x00,",
			"0x78",
			"JS_CGETSET_MAGIC_DEF",
			"socket_syscalls_size",
			"js_syscallerror_get, js_syscallerror_set,",
			"js_socket_get, js_socket_set, ",
			"e",
			"js_syscallerror_proto_funcs"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 269,
						"regions":
						{
						},
						"selection":
						[
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"current_file": null,
							"function_name_status_row": 10,
							"outline_rename_mode": false,
							"symkeys":
							[
								[
									53,
									81
								],
								[
									148,
									166
								],
								[
									1041,
									1064
								],
								[
									1354,
									1362
								],
								[
									1607,
									1616
								],
								[
									1661,
									1675
								],
								[
									2012,
									2028
								],
								[
									2314,
									2326
								],
								[
									2381,
									2396
								],
								[
									2534,
									2558
								],
								[
									2560,
									2636
								],
								[
									2637,
									2683
								]
							],
							"symlist":
							[
								"A sample Markdown document",
								"Text Formatting",
								"Links and References",
								"Lists",
								"Tables",
								"Code Blocks",
								"  fibo(n)",
								"-89,6 +89,12",
								"CriticMarkup",
								"Reference Definitions",
								"[^1]: This is a footnote definition [links]: https://example.com/index.html",
								"[sample image]: https://example.com/sample.png"
							],
							"syntax": "Packages/Outline/outline.hidden-tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639875744.14,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 1,
					"file": "quickjs-xml.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16982,
						"regions":
						{
						},
						"selection":
						[
							[
								1572,
								1572
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 78,
							"rulers":
							[
							],
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639877102.53,
							"tabs_extra_last_activated_sheet_index": 0,
							"translate_tabs_to_spaces": false,
							"word_wrap": false,
							"wrap_width": 0
						},
						"translation.x": 0.0,
						"translation.y": 913.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2684,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"color_scheme": "Packages/User/Themes/PlayroomBedtime.tmTheme",
							"function_name_status_row": 0,
							"syntax": "Packages/MarkdownEditing/syntaxes/Markdown.sublime-syntax",
							"tab_size": 4,
							"tabs_extra_last_activated": 1639883320.67,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "utils.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 60223,
						"regions":
						{
						},
						"selection":
						[
							[
								42692,
								42692
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639875425.76,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 31533.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "path.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 12614,
						"regions":
						{
						},
						"selection":
						[
							[
								7015,
								7015
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 0,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639875485.56,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6187.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "quickjs-tree-walker.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16033,
						"regions":
						{
						},
						"selection":
						[
							[
								8636,
								8636
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 337,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639875722.09,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6282.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "char-utils.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8860,
						"regions":
						{
						},
						"selection":
						[
							[
								4908,
								4908
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 139,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639875357.15,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2482.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "quickjs-inspect.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 38342,
						"regions":
						{
						},
						"selection":
						[
							[
								9530,
								9554
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 305,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639855514.66,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6091.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "lib/util.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 25389,
						"regions":
						{
						},
						"selection":
						[
							[
								23290,
								23300
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 789,
							"syntax": "Packages/JavaScriptNext - ES6 Syntax/JavaScriptNext.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639874809.06,
							"tabs_extra_last_activated_sheet_index": 2,
							"tabs_extra_moving":
							[
								5,
								1
							],
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 14371.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1438,
						"regions":
						{
							"match":
							{
								"flags": 112,
								"regions":
								[
									[
										216,
										238
									],
									[
										374,
										396
									],
									[
										661,
										683
									],
									[
										1011,
										1033
									],
									[
										1263,
										1285
									]
								],
								"scope": ""
							}
						},
						"selection":
						[
							[
								1026,
								1026
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"detect_indentation": false,
							"function_name_status_row": 21,
							"line_numbers": false,
							"output_tag": 1,
							"result_base_dir": "",
							"result_file_regex": "^([^ \t].*):$",
							"result_line_regex": "^ +([0-9]+):",
							"scroll_past_end": true,
							"syntax": "Packages/Default/Find Results.hidden-tmLanguage",
							"tabs_extra_last_activated": 1639861824.66,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "quickjs-misc.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 53348,
						"regions":
						{
						},
						"selection":
						[
							[
								32584,
								32584
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 1244,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639863485.29,
							"tabs_extra_last_activated_sheet_index": 4,
							"tabs_extra_moving":
							[
								5,
								1
							],
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 23053.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "vector.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6117,
						"regions":
						{
						},
						"selection":
						[
							[
								2459,
								2533
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 82,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639425637.32,
							"tabs_extra_last_activated_sheet_index": 1,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1139.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "vector.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4311,
						"regions":
						{
						},
						"selection":
						[
							[
								2039,
								2045
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 109,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639425638.68,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1292.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 13,
					"file": "location.c",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2210,
						"regions":
						{
						},
						"selection":
						[
							[
								422,
								422
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 20,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639425552.55,
							"tabs_extra_last_activated_sheet_index": 3,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "location.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1292,
						"regions":
						{
						},
						"selection":
						[
							[
								996,
								1000
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "./",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"function_name_status_row": 36,
							"syntax": "Packages/C Improved/C Improved.tmLanguage",
							"tab_size": 2,
							"tabs_extra_last_activated": 1639423982.23,
							"tabs_extra_last_activated_sheet_index": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 28.0
	},
	"input":
	{
		"height": 42.0
	},
	"layout":
	{
		"cells":
		[
			[
				2,
				0,
				3,
				2
			],
			[
				0,
				0,
				2,
				2
			]
		],
		"cols":
		[
			0.0,
			0.2,
			0.746948301807,
			1.0
		],
		"rows":
		[
			0.0,
			0.5,
			1.0
		]
	},
	"menu_visible": true,
	"output.Debugger":
	{
		"height": 139.0
	},
	"output.Debugger: Console":
	{
		"height": 0.0
	},
	"output.Debugger: Protocol":
	{
		"height": 0.0
	},
	"output.exec":
	{
		"height": 120.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.unsaved_changes":
	{
		"height": 108.0
	},
	"pinned_build_system": "",
	"project": "modules.sublime-project",
	"replace":
	{
		"height": 52.0
	},
	"save_all_on_build": false,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"tree-wa",
				"quickjs-tree-walker.c"
			],
			[
				"path.c",
				"path.c"
			],
			[
				"utils.c",
				"utils.c"
			],
			[
				"util.js",
				"lib/util.js"
			],
			[
				"quick",
				"quickjs-xml.c"
			],
			[
				"misc.c",
				"quickjs-misc.c"
			],
			[
				"qjsm.c",
				"qjsm.c"
			],
			[
				"predi",
				"predicate.c"
			],
			[
				"cmakelis",
				"CMakeLists.txt"
			],
			[
				"qjsm",
				"qjsm.c"
			],
			[
				"utils.h",
				"utils.h"
			],
			[
				"char-u",
				"char-utils.h"
			],
			[
				"quickjs-xml",
				"quickjs-xml.c"
			],
			[
				"test_xml",
				"tests/test_xml.js"
			],
			[
				"",
				"tests/test_xml.js"
			],
			[
				"quickjs-in",
				"quickjs-internal.h"
			],
			[
				"clang-fo",
				".clang-format"
			],
			[
				"doxy",
				"Doxyfile"
			],
			[
				"Doxyfile",
				"Doxyfile"
			],
			[
				"interna",
				"quickjs-internal.h"
			],
			[
				"vector.h",
				"vector.h"
			],
			[
				"console.js",
				"lib/console.js"
			],
			[
				"quickjs-lex",
				"quickjs-lexer.c"
			],
			[
				"test_lexer",
				"tests/test_lexer.js"
			],
			[
				"exten",
				"lib/extendArray.js"
			],
			[
				"console",
				"lib/console.js"
			],
			[
				"child",
				"child-process.c"
			],
			[
				"fs.js",
				"lib/fs.js"
			],
			[
				"qsort_r",
				"qsort_r.c"
			],
			[
				"quickjs-misc",
				"quickjs-misc.c"
			],
			[
				"quickjs-ins",
				"quickjs-inspect.c"
			],
			[
				"quicksj-misc",
				"quickjs-misc.c"
			],
			[
				"process.js",
				"lib/process.js"
			],
			[
				"quickjs-mm",
				"quickjs-mmap.c"
			],
			[
				"quickjs.h",
				"~/Projects/plot-cv/quickjs/quickjs.h"
			],
			[
				"sockets.c",
				"quickjs-sockets.c"
			],
			[
				"quickjs-m",
				"quickjs-misc.c"
			],
			[
				"redicate.c",
				"predicate.c"
			],
			[
				"sockets.h",
				"quickjs-sockets.h"
			],
			[
				"quickjs-pat",
				"quickjs-path.c"
			],
			[
				"test_sock",
				"tests/test_sockets.js"
			],
			[
				"buffer-u",
				"buffer-utils.c"
			],
			[
				"buffer-",
				"buffer-utils.h"
			],
			[
				"parser.js",
				"lib/parser.js"
			],
			[
				"char-",
				"char-utils.h"
			],
			[
				"test_par",
				"tests/test_parser.js"
			],
			[
				"test_misc",
				"tests/test_misc.js"
			],
			[
				"conso",
				"lib/console.js"
			],
			[
				"clang-f",
				".clang-format"
			],
			[
				"util",
				"lib/util.js"
			],
			[
				"test_mi",
				"tests/test_misc.js"
			],
			[
				"ockets.",
				"quickjs-sockets.h"
			],
			[
				"quickjs-ar",
				"quickjs-archive.c"
			],
			[
				"fd_set",
				"lib/fd_set.js"
			],
			[
				"buffer-ut",
				"buffer-utils.c"
			],
			[
				"misc.",
				"quickjs-misc.h"
			],
			[
				"qjsm.",
				"qjsm.c"
			],
			[
				"cmakelists",
				"CMakeLists.txt"
			],
			[
				"quickjs-mi",
				"quickjs-misc.c"
			],
			[
				"socklen_t.js",
				"lib/socklen_t.js"
			],
			[
				"str.h",
				"quickjs-stringdecoder.h"
			],
			[
				"quickjs-libc",
				"~/Sources/plot-cv/quickjs/quickjs-libc.h"
			],
			[
				"quickjs-sock",
				"quickjs-sockets.c"
			],
			[
				"sockets",
				"quickjs-sockets.c"
			],
			[
				"test_so",
				"tests/test_sockets.js"
			],
			[
				"test_loca",
				"tests/test_location.js"
			],
			[
				"inspect.c",
				"quickjs-inspect.c"
			],
			[
				".clang-fo",
				".clang-format"
			],
			[
				"buff",
				"buffer-utils.c"
			],
			[
				"buffer-util",
				"buffer-utils.c"
			],
			[
				"buffer-utils.c",
				"buffer-utils.c"
			],
			[
				"quickjs-so",
				"quickjs-sockets.c"
			],
			[
				"quickjs-socket",
				"quickjs-sockets.c"
			],
			[
				"quickjs-insp",
				"quickjs-inspect.c"
			],
			[
				"test_soc",
				"tests/test_sockets.js"
			],
			[
				"test_qjsm",
				"tests/test_qjsm.js"
			],
			[
				"buffer-tu",
				"buffer-utils.c"
			],
			[
				"repl.",
				"lib/repl.js"
			],
			[
				"quickjs-blo",
				"quickjs-blob.c"
			],
			[
				"cmake",
				"CMakeLists.txt"
			],
			[
				"test_mis",
				"tests/test_misc.js"
			],
			[
				"test_blob",
				"tests/test_blob.js"
			],
			[
				"test_string",
				"tests/test_stringdecoder.js"
			],
			[
				"test_str",
				"tests/test_stringdecoder.js"
			],
			[
				"quickjs-blb",
				"quickjs-blob.h"
			],
			[
				"ringbuffer.h",
				"ringbuffer.h"
			],
			[
				"repl.js",
				"lib/repl.js"
			],
			[
				"quickjsmo",
				"cmake/QuickJSModule.cmake"
			],
			[
				"inspe",
				"quickjs-inspect.c"
			],
			[
				"misc",
				"quickjs-misc.c"
			],
			[
				"deep",
				"quickjs-deep.c"
			],
			[
				"terminal.",
				"lib/terminal.js"
			],
			[
				"tty.js",
				"lib/tty.js"
			],
			[
				"intern",
				"quickjs-internal.h"
			],
			[
				"test_chil",
				"tests/test_childprocess.js"
			],
			[
				"pointer.h",
				"pointer.h"
			],
			[
				"stack",
				"lib/stack.js"
			],
			[
				"test_lex",
				"tests/test_lexer.js"
			],
			[
				"quickjs.c",
				"~/Projects/plot-cv/quickjs/quickjs.c"
			],
			[
				"pointer.c",
				"pointer.c"
			],
			[
				"-insp",
				"quickjs-inspect.c"
			],
			[
				"test_op",
				"tests/test_op_overloading.js"
			],
			[
				"lexer.c",
				"lexer.c"
			],
			[
				"quickjs-lexer",
				"quickjs-lexer.c"
			],
			[
				"test_qjs",
				"tests/test_qjsm.js"
			],
			[
				"quickjs-pre",
				"quickjs-predicate.c"
			],
			[
				"pred",
				"predicate.c"
			],
			[
				"dee",
				"quickjs-deep.c"
			],
			[
				"test_qj",
				"tests/test_qjsm.js"
			],
			[
				"quicksj-in",
				"quickjs-internal.h"
			],
			[
				"property",
				"property-enumeration.c"
			],
			[
				"pointer.",
				"pointer.c"
			],
			[
				"quickjs",
				"quickjs-inspect.c"
			],
			[
				"util.j",
				"lib/util.js"
			],
			[
				"jsm.c",
				"qjsm.c"
			],
			[
				"test_point",
				"tests/test_pointer.js"
			],
			[
				"bnflex",
				"lib/bnflexer.js"
			],
			[
				"bnf.y",
				"~/Projects/plot-cv/lib/grammars/bnf.y"
			],
			[
				"grammar.ki",
				"grammar.kison"
			],
			[
				"test_pat",
				"tests/test_path.js"
			],
			[
				"test_parse",
				"tests/test_parser.js"
			],
			[
				"test_path",
				"tests/test_path.js"
			],
			[
				"lexer.h",
				"lexer.h"
			],
			[
				"test_tree",
				"tests/test_treewalker.js"
			],
			[
				"tree.h",
				"src/tree.h"
			],
			[
				"scan_ulongn",
				"lib/scan/scan_ulongn.c"
			],
			[
				"term_rest",
				"src/term/term_restore.c"
			],
			[
				"parse.h",
				"src/parse.h"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"~/Projects/plot-cv/plot-cv.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 370.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"WS"
			]
		],
		"width": 970.0
	},
	"selected_group": 1,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 282.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
